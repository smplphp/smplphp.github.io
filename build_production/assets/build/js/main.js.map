{"version":3,"file":"/js/main.js","mappings":";4DAAAA,EAAOC,QAAUC,EAEjB,IAAIC,EAAS,EAAQ,MACjBC,EAAc,EAAQ,MACtBC,EAAY,EAAQ,MACpBC,EAAQ,EAAQ,MAMhBC,EACFC,EAAQC,IAAIF,sBAAwBG,SAASF,EAAQC,IAAIF,qBAAsB,KAC/E,KA0BF,SAASL,EAAkBS,EAAeC,EAAQC,GAChD,IAAIC,EAAQ,EAAQ,KAAR,CAAiB,iBAEzBC,EAAQ,EAAQ,MAChBC,EAAU,EAAQ,MAClBC,EAAM,EAAQ,MAEdC,EAAQ,oDAEZ,IAAoC,IAAhCL,EAAKM,yBAAoCR,EAC3C,MAAM,IAAIR,EAAOiB,mBAAmB,qCAAuCF,GAG7E,IAAoC,IAAhCL,EAAKM,yBAAoCP,EAC3C,MAAM,IAAIT,EAAOiB,mBAAmB,8BAAgCF,GAGtEG,KAAKV,cAAgBA,EACrBU,KAAKT,OAASA,EAEdS,KAAKC,MAAQ,CACXC,KAAM,GACNC,MAAO,IAGTX,EAAOA,GAAQ,GAEfQ,KAAKI,UAAYZ,EAAKa,UAAY,CAChCC,QAAS,IACTJ,KAAM,IACNC,MAAO,KAILX,EAAKe,UACPP,KAAKI,UAAUE,QAAUN,KAAKI,UAAUF,KAAOF,KAAKI,UAAUD,MAAQX,EAAKe,SAG7E,IAAIC,EAAWhB,EAAKgB,UAAY,SAOhC,GAJK,KAAKC,KAAKD,KACbA,GAAsB,KAGP,UAAbA,GAAqC,WAAbA,EAC1B,MAAM,IAAI1B,EAAOiB,mBAAmB,8CAAgDP,EAAKgB,SAAW,MAKtG,GAFAR,KAAKU,kBAEAlB,EAAKS,MASCN,EAAQH,EAAKS,QAGtBD,KAAKC,MAAMC,KAAOR,EAAMF,EAAKS,OAC7BD,KAAKC,MAAME,MAAQT,EAAMF,EAAKS,SAE9BD,KAAKC,MAAMC,KAAOR,EAAMF,EAAKS,MAAMC,MACnCF,KAAKC,MAAME,MAAQT,EAAMF,EAAKS,MAAME,YAhBrB,CACf,IAAIQ,EAAef,EAAII,KAAKY,gBAAgB,SAASC,GACnD,OAAOvB,EAAgB,IAAMuB,EAAa,qBAIxCC,IAA2B,IAAbtB,EAAKuB,IAAgB,GAAK,QAAU,eACtDf,KAAKC,MAAMC,KAAO,CAACF,KAAKV,cAAgBwB,GAAYE,OAAOL,GAC3DX,KAAKC,MAAME,MAAQ,CAACH,KAAKV,cAAgB,gBAAgB0B,OAAOL,GAYlEX,KAAKC,MAAMC,KAAON,EAAII,KAAKC,MAAMC,KAAMe,EAAYT,IACnDR,KAAKC,MAAME,MAAQP,EAAII,KAAKC,MAAME,MAAOc,EAAYT,IAErDR,KAAKkB,aAAe,GAGpBlB,KAAKmB,MAAQ3B,EAAK4B,QAAU,GAE5BpB,KAAKqB,IAAM7B,EAAK6B,IAChBrB,KAAKsB,iBAA+BC,IAAnB/B,EAAK8B,YAA2B9B,EAAK4B,SAAgB5B,EAAK8B,UAC3EtB,KAAKwB,iBAAmBxB,KAAKsB,WAAa9B,EAAKgC,iBAC/CxB,KAAKyB,kBAAoCF,IAArB/B,EAAKkC,aAAmClC,EAAKkC,YAEjE1B,KAAK2B,YAAcnC,EAAKmC,YAExBlC,EAAM,gBAAiBO,MAwwBzB,SAASiB,EAAYT,GACnB,OAAO,SAAiBoB,GACtB,OAAOpB,EAAW,KAAOoB,EAAKC,eAWlC,SAASC,EAAkBC,GAGzB,QAA+BR,IAA3BS,MAAMC,UAAUC,OAClB,OAAOC,KAAKC,UAAUL,GAGxB,IAAIG,EAASF,MAAMC,UAAUC,cACtBF,MAAMC,UAAUC,OACvB,IAAIG,EAAMF,KAAKC,UAAUL,GAGzB,OAFAC,MAAMC,UAAUC,OAASA,EAElBG,EAuBT,SAASC,EAAkBC,GACzB,IAAIC,EAAa,GAEjB,IAAK,IAAIC,KAAcF,EAAS,CAE5B,IAAIG,EADN,GAAIC,OAAOV,UAAUW,eAAeC,KAAKN,EAASE,GAI9CC,EADiB,sBAAfD,GAAqD,6BAAfA,EAChC,mCAEAF,EAAQE,GAGlBD,EAAWC,GAAcC,EAI7B,OAAOF,EAh0BT3D,EAAkBoD,UAAUa,UAAY,SAASC,GAC/C,OAAO,IAAI/D,EAAUgB,KAAM+C,IAS7BlE,EAAkBoD,UAAUe,eAAiB,SAASC,EAAMP,GAC1D1C,KAAKkB,aAAa+B,EAAKpB,eAAiBa,GAQ1C7D,EAAkBoD,UAAUiB,eAAiB,SAASD,GACpD,OAAOjD,KAAKkB,aAAa+B,EAAKpB,gBAQhChD,EAAkBoD,UAAUkB,iBAAmB,SAASF,UAC/CjD,KAAKkB,aAAa+B,EAAKpB,gBAShChD,EAAkBoD,UAAUmB,gBAAkB,SAASC,GACrD,IAAIC,EAA4B,KAAOD,GAEc,IAAjDrD,KAAKqB,IAAIkC,QAAQD,KACnBtD,KAAKqB,KAAOiC,IAOhBzE,EAAkBoD,UAAUuB,aAAe,SAASC,GAClDzD,KAAKU,kBAEL,IAGIgD,EACAC,EAOApB,EAXAqB,EAAe,EAAQ,KAAR,CAAiB,iBAAmBH,EAAYI,KAK/DC,EAAeL,EAAYK,cAAgB,GAC3C3C,EAAQsC,EAAYtC,MACpB4C,EAAS/D,KACTgE,EAAQ,EACRC,GAAgB,EAChBC,EAAcH,EAAOtC,cAAgBsC,EAAOI,SAASC,UAAYX,EAAYW,SAI/EpE,KAAKT,OAAO8E,OA9LS,UA+LA9C,IAArBkC,EAAYC,YACiBnC,IAA5BkC,EAAYC,KAAKY,aACY/C,IAA9BkC,EAAYC,KAAKa,WAEjBd,EAAYC,KAAKnE,OAASS,KAAKT,OAC/BgD,EAAUvC,KAAKwE,uBAAuB,CACpCV,aAAcA,EACdW,YAAY,EACZlC,QAASkB,EAAYlB,WAGvBA,EAAUvC,KAAKwE,uBAAuB,CACpCV,aAAcA,EACdvB,QAASkB,EAAYlB,eAIAhB,IAArBkC,EAAYC,OACdA,EAAO5B,EAAkB2B,EAAYC,OAGvCE,EAAa,iBACb,IAAIc,EAAY,GAyOhB,SAASC,EACPC,EACAC,EACAC,GAEA,OACEf,EAAOzC,WACPsD,GACAC,QACiCtD,IAAjCsD,EAAaC,GAKjB,SAASC,EAAsBC,EAASC,GAQtC,GAPIN,EAA0BZ,EAAOvC,iBAAkBL,EAAOwC,IAC5DqB,EAAQE,OAAM,kBAEL/D,EAAMwC,MAImB,mBAAzBF,EAAYwB,SAarB,OAAOD,EAAQG,KAAKF,GAXpBD,EAAQG,MAAK,SAAcC,GACzBrG,GAAY,WACV0E,EAAYwB,SAAS,KAAMA,EAASG,MACnCrB,EAAOpC,aAAe0D,eACxB,SAAgBC,GACjBvG,GAAY,WACV0E,EAAYwB,SAASK,KACpBvB,EAAOpC,aAAe0D,eAkB/B,GAVItB,EAAOzC,WAAayC,EAAOvC,mBAC7BmC,EAAUF,EAAYI,KAKpBE,EAAOzC,WAAayC,EAAOvC,kBAAoBkC,IACjDC,GAAW,SAAWD,GAGpBiB,EAA0BZ,EAAOvC,iBAAkBL,EAAOwC,GAAU,CACtEC,EAAa,8BAEb,IAAI2B,EAAuBpE,EAAMwC,GAOjC,OAAOoB,EAJoD,mBAA9BQ,EAAqBJ,KAC9CpB,EAAOyB,SAASC,QAAQ,CAACC,aAAcH,IACvCA,GAE0C,SAASH,GAErD,OAAOjD,KAAKwD,MAAMP,EAAQM,iBAI9B,IAAIV,EAvSJ,SAASY,EAAUC,EAAWC,GAC5B/B,EAAOrD,kBAEP,IAAIqF,EAAY,IAAIC,KAapB,GAXIjC,EAAOzC,YAAcyC,EAAOvC,mBAC9BmC,EAAUF,EAAYI,KAKpBE,EAAOzC,YAAcyC,EAAOvC,kBAAoBkC,IAClDC,GAAW,SAAWmC,EAAQpC,MAI5BiB,GAA2BZ,EAAOvC,iBAAkBL,EAAOwC,GAAU,CACvEC,EAAa,+BAEb,IAAI8B,EAAevE,EAAMwC,GAGzB,OAAOI,EAAOyB,SAASC,QAAQ,CAC7B/B,KAAMvB,KAAKwD,MAAMD,GACjBA,aAAcA,IAKlB,GAAI1B,GAASD,EAAO9D,MAAMwD,EAAYwC,UAAU5B,OAC9C,OAAKH,GAAeD,GAClBL,EAAa,8BAENG,EAAOyB,SAASU,OAAO,IAAIpH,EAAOiB,mBACvC,sIAE0BgE,EAAOzE,cAAe,CAACoF,UAAWA,OAIhEd,EAAa,yBAGbI,EAAQ,EAGR8B,EAAQK,OAAS1C,EAAYW,SAAS+B,OACtCL,EAAQjC,IAAMJ,EAAYW,SAASP,IACnCiC,EAAQM,SAAW3C,EAAYW,SAASV,KACpCoC,EAAQM,WACVN,EAAQpC,KAAO5B,EAAkBgE,EAAQM,WAG3C7D,EAAUwB,EAAOS,uBAAuB,CACtCV,aAAcA,EACdvB,QAASkB,EAAYlB,UAGvBuD,EAAQzF,SAAW0D,EAAOsC,uBAAuB5C,EAAYwC,UAC7DlC,EAAOuC,oBAAoB,EAAG7C,EAAYwC,UAC1ChC,GAAgB,EACT2B,EAAU7B,EAAOI,SAASC,SAAU0B,IAG7C,IAAIS,EAAcxC,EAAOyC,eAAe/C,EAAYwC,UAEhDpC,EAAM0C,EAAcT,EAAQjC,IAC5B4C,EAAU,CACZ/C,KAAMoC,EAAQpC,KACd0C,SAAUN,EAAQM,SAClBD,OAAQL,EAAQK,OAChB5D,QAASA,EACTlC,SAAUyF,EAAQzF,SAClBZ,MAAOmE,EACP8C,iBAAkBZ,EAAQY,kBAY5B,OATA9C,EAAa,iDACX6C,EAAQN,OAAQtC,EAAK4C,EAAQlE,QAASkE,EAAQpG,UAE5CwF,IAAc9B,EAAOI,SAASC,UAChCR,EAAa,kBAKRiC,EAAUhD,KAAKkB,EAAQF,EAAK4C,GAAStB,MAE5C,SAAiBwB,GASf,IAAIC,EAASD,GAAgBA,EAAajD,MAAQiD,EAAajD,KAAKmD,SAAWF,EAAajD,KAAKkD,QAK/FD,EAAaG,YAKbH,GAAgBA,EAAajD,MAAQ,IAEvCE,EAAa,0EACX+C,EAAaG,WAAYF,EAAQD,EAAapE,SAEhD,IAAIwE,EAA8C,IAA7BC,KAAKC,MAAML,EAAS,KAErCM,EAAU,IAAIlB,KAelB,GAdAtB,EAAUyC,KAAK,CACbZ,YAAaA,EACbhE,QAASD,EAAkBC,GAC3B6C,QAAS1B,GAAQ,KACjB0D,mBAAwB7F,IAATmC,EAAqBA,EAAKW,OAAS,KAClD8B,OAAQL,EAAQK,OAChB9F,SAAUyF,EAAQzF,SAClBwD,IAAKiC,EAAQjC,IACbkC,UAAWA,EACXmB,QAASA,EACTG,SAAUH,EAAUnB,EACpBe,WAAYF,IAGVG,EAKF,OAJIhD,EAAOzC,YAAcyC,EAAOvC,kBAAoBL,IAClDA,EAAMwC,GAAWgD,EAAajB,cAGzB,CACLA,aAAciB,EAAajB,aAC3BhC,KAAMiD,EAAajD,MAMvB,GAF+C,IAA7BsD,KAAKC,MAAML,EAAS,KAIpC,OADA5C,GAAS,EACFsD,IAGT1D,EAAa,uBAGb,IAAI2D,EAAqB,IAAIzI,EAAOiB,mBAClC4G,EAAajD,MAAQiD,EAAajD,KAAKmD,QAAS,CAACnC,UAAWA,EAAWoC,WAAYF,IAGrF,OAAO7C,EAAOyB,SAASU,OAAOqB,MAGhC,SAAqBjC,GAWnB1B,EAAa,uBAAwB0B,EAAIuB,QAASvB,EAAIkC,OAEtD,IAAIN,EAAU,IAAIlB,KAClBtB,EAAUyC,KAAK,CACbZ,YAAaA,EACbhE,QAASD,EAAkBC,GAC3B6C,QAAS1B,GAAQ,KACjB0D,mBAAwB7F,IAATmC,EAAqBA,EAAKW,OAAS,KAClD8B,OAAQL,EAAQK,OAChB9F,SAAUyF,EAAQzF,SAClBwD,IAAKiC,EAAQjC,IACbkC,UAAWA,EACXmB,QAASA,EACTG,SAAUH,EAAUnB,IAGhBT,aAAexG,EAAOiB,qBAC1BuF,EAAM,IAAIxG,EAAO2I,QAAQnC,GAAOA,EAAIuB,QAASvB,IAM/C,GAHAtB,GAAS,EAMPsB,aAAexG,EAAO2I,SAGtBnC,aAAexG,EAAO4I,gBAGtB1D,GAASD,EAAO9D,MAAMwD,EAAYwC,UAAU5B,SAC3CJ,IAAkBC,GAGnB,OADAoB,EAAIZ,UAAYA,EACTX,EAAOyB,SAASU,OAAOZ,GAIhC,GAAIA,aAAexG,EAAO6I,eACxB,OAaF/D,EAAa,wCACbG,EAAO6D,oBAAoBnE,EAAYwC,UACvClC,EAAO8D,6BACP/B,EAAQzF,SAAW0D,EAAOsC,uBAAuB5C,EAAYwC,UACtDL,EAAUC,EAAWC,GAd5B,OAAOwB,OAGT,SAASA,IAGP,OAFA1D,EAAa,oBACbG,EAAO6D,oBAAoBnE,EAAYwC,UAChCL,EAAUC,EAAWC,IA6ElBF,CACZ7B,EAAOI,SAAU,CACfN,IAAKJ,EAAYI,IACjBsC,OAAQ1C,EAAY0C,OACpBzC,KAAMA,EACN0C,SAAU3C,EAAYC,KACtBrD,SAAU0D,EAAOsC,uBAAuB5C,EAAYwC,UACpDS,iBAAkBjD,EAAYiD,mBAQlC,OAJI3C,EAAOzC,WAAayC,EAAOvC,kBAAoBL,IACjDA,EAAMwC,GAAWqB,GAGZD,EAAsBC,GAAS,SAASI,GAE7C,OAAOA,EAAQ1B,SAUnB7E,EAAkBoD,UAAU6F,iBAAmB,SAASC,EAAMzD,GAC5D,GAAIyD,MAAAA,EACF,OAAOzD,EAET,IAAK,IAAI0D,KAAOD,EACF,OAARC,QAA8BzG,IAAdwG,EAAKC,IAAsBD,EAAKnF,eAAeoF,KACjE1D,GAAqB,KAAXA,EAAgB,GAAK,IAC/BA,GAAU0D,EAAM,IAAMC,mBAAiE,mBAA9CtF,OAAOV,UAAUiG,SAASrF,KAAKkF,EAAKC,IAA6BlG,EAAkBiG,EAAKC,IAAQD,EAAKC,KAGlJ,OAAO1D,GAUTzF,EAAkBoD,UAAUuC,uBAAyB,SAASiC,GAC5D,IAAI0B,EAAU,EAAQ,MAMlBC,EAAiB,CACnB,kBALO3B,EAAQ3C,aACf9D,KAAKqB,IAAM,KAAOoF,EAAQ3C,aAC1B9D,KAAKqB,IAIL,2BAA4BrB,KAAKV,eA6BnC,OAtB2B,IAAvBmH,EAAQhC,aACV2D,EAAe,qBAAuBpI,KAAKT,QAGzCS,KAAKqI,YACPD,EAAe,uBAAyBpI,KAAKqI,WAG3CrI,KAAKsI,eACPF,EAAe,wBAA0BpI,KAAKsI,cAGhDH,EAAQnI,KAAKkB,cAAc,SAA6BwB,EAAOsF,GAC7DI,EAAeJ,GAAOtF,KAGpB+D,EAAQlE,SACV4F,EAAQ1B,EAAQlE,SAAS,SAA6BG,EAAOsF,GAC3DI,EAAeJ,GAAOtF,KAInB0F,GAYTvJ,EAAkBoD,UAAUsG,OAAS,SAASC,EAAShJ,EAAMyF,GAC3D,IAAItF,EAAU,EAAQ,MAClBC,EAAM,EAAQ,MAIlB,IAAKD,EAAQ6I,GACX,MAAM,IAAIC,MAHA,oDAMQ,mBAATjJ,GACTyF,EAAWzF,EACXA,EAAO,SACW+B,IAAT/B,IACTA,EAAO,IAGT,IAAIuE,EAAS/D,KAET0I,EAAU,CACZnE,SAAU3E,EAAI4I,GAAS,SAAwBG,GAC7C,IAAIrE,EAAS,GASb,YAJoB/C,IAAhBoH,EAAMA,QACRrE,GAAU,SAAW2D,mBAAmBU,EAAMA,QAGzC,CACL5F,UAAW4F,EAAM5F,UACjBuB,OAAQP,EAAO+D,iBAAiBa,EAAMrE,OAAQA,QAKhDsE,EAAchJ,EAAI8I,EAAQnE,UAAU,SAA4BS,EAAS6D,GAC3E,OAAOA,EAAY,IACjBZ,mBACE,cAAgBA,mBAAmBjD,EAAQjC,WAAa,IACxDiC,EAAQV,WAEXwE,KAAK,KAQR,YAJsBvH,IAAlB/B,EAAKuJ,WACPL,EAAQK,SAAWvJ,EAAKuJ,UAGnB/I,KAAKwD,aAAa,CACvBrC,MAAOnB,KAAKmB,MACZgF,OAAQ,OACRtC,IATQ,uBAURH,KAAMgF,EACNzC,SAAU,OACV7B,SAAU,CACR+B,OAAQ,MACRtC,IAAK,eACLH,KAAM,CACJY,OAAQsE,IAGZ3D,SAAUA,KAmBdpG,EAAkBoD,UAAU+G,qBAAuB,SAASR,GAC1D,IAAI7I,EAAU,EAAQ,MAClBC,EAAM,EAAQ,MAEdC,EAAQ,4GAEZ,IAAKF,EAAQ6I,GACX,MAAM,IAAIC,MAAM5I,GAGlB,IAAIkE,EAAS/D,KAEb,OAAO+D,EAAOyB,SAASyD,IAAIrJ,EAAI4I,GAAS,SAAsBG,GAC5D,IACGA,QACmBpH,IAApBoH,EAAM5F,gBACqBxB,IAA3BoH,EAAMrE,OAAO4E,gBACe3H,IAA5BoH,EAAMrE,OAAO6E,WAEb,MAAM,IAAIV,MAAM5I,GAGlB,IAAIH,EAAQ,EAAQ,MAChB0J,EAAO,EAAQ,MAEfrG,EAAY4F,EAAM5F,UAClBuB,EAASqE,EAAMrE,OAEf4E,EAAY5E,EAAO4E,UACnBG,EAAiBD,EAAK1J,EAAM4E,IAAS,SAASgF,GAChD,MAAmB,cAAZA,KAELC,EAAmBxF,EAAO+D,iBAAiBuB,EAAgB,IAE/D,OAAOtF,EAAOP,aAAa,CACzBrC,MAAO4C,EAAO5C,MACdgF,OAAQ,OACRtC,IACE,cACAoE,mBAAmBlF,GACnB,WACAkF,mBAAmBiB,GACnB,SACFjD,SAAU,OACVvC,KAAM,CAACY,OAAQiF,UASrB1K,EAAkBoD,UAAUuH,gBAAkB,SAASC,GACrD,GAA6C,mBAAzC9G,OAAOV,UAAUiG,SAASrF,KAAK4G,GAA4B,CAE7D,IADA,IAAIC,EAAU,GACLC,EAAI,EAAGA,EAAIF,EAAKpF,SAAUsF,EACjC,GAAgD,mBAA5ChH,OAAOV,UAAUiG,SAASrF,KAAK4G,EAAKE,IAA0B,CAEhE,IADA,IAAIC,EAAW,GACNC,EAAI,EAAGA,EAAIJ,EAAKE,GAAGtF,SAAUwF,EACpCD,EAASzC,KAAKsC,EAAKE,GAAGE,IAExBH,EAAQvC,KAAK,IAAMyC,EAASd,KAAK,KAAO,UAExCY,EAAQvC,KAAKsC,EAAKE,IAGtBF,EAAOC,EAAQZ,KAAK,KAGtB9I,KAAKsI,aAAemB,GAOtB5K,EAAkBoD,UAAU6H,aAAe,SAASzB,GAClDrI,KAAKqI,UAAYA,GAOnBxJ,EAAkBoD,UAAU8H,WAAa,WACvC/J,KAAKmB,MAAQ,IAQftC,EAAkBoD,UAAU+H,kBAAoB,SAASC,GACnDA,IACFjK,KAAKI,UAAUE,QAAUN,KAAKI,UAAUF,KAAOF,KAAKI,UAAUD,MAAQ8J,IAQ1EpL,EAAkBoD,UAAUiI,YAAc,SAAS7J,GACjDL,KAAKI,UAAYC,GAOnBxB,EAAkBoD,UAAUkI,YAAc,WACxC,OAAOnK,KAAKI,WAGdvB,EAAkBoD,UAAUmI,cAAgB,WAC1C,IAAIC,EAAOpL,EAAMqL,IAAItK,KAAKV,eAE1B,OADa,OAAT+K,GAAerK,KAAKuK,gBAAgBF,GACjCA,GAGTxL,EAAkBoD,UAAUuI,cAAgB,SAASH,GAGnD,OAFAA,EAAKI,YAAa,IAAKzE,MAAQ0E,UAC/B1K,KAAKuK,gBAAgBF,GACdpL,EAAM0L,IAAI3K,KAAKV,cAAe+K,IAGvCxL,EAAkBoD,UAAUvB,gBAAkB,WAC5C,IAAI2J,EAAOrK,KAAKoK,gBACZQ,GAAM,IAAK5E,MAAQ0E,UACvB,OAAa,OAATL,GAAiBO,EAAMP,EAAKI,WAAavL,EACpCc,KAAK6K,uBAAuBR,GAG9BA,GAGTxL,EAAkBoD,UAAU4I,uBAAyB,SAASR,GAC5D,IAAIS,EAAUT,GAAQ,GAItB,OAHAS,EAAQC,YAAc,CAAC7K,KAAM,EAAGC,MAAO,GACvC2K,EAAQE,kBAAoB,EAC5BF,EAAQG,cAAgBH,EAAQG,eAsFlC,SAAiBC,GACf,IACIC,EACAC,EAFAC,EAAeH,EAAM7G,OAKzB,KAAwB,IAAjBgH,GAELD,EAAcpE,KAAKC,MAAMD,KAAKsE,SAAWD,GAIzCF,EAAiBD,EAHjBG,GAAgB,GAIhBH,EAAMG,GAAgBH,EAAME,GAC5BF,EAAME,GAAeD,EAGvB,OAAOD,EAvG0CK,CAAQ,CAAC,EAAG,EAAG,IACzDvL,KAAKwK,cAAcM,IAG5BjM,EAAkBoD,UAAUsI,gBAAkB,SAASF,GACrDrK,KAAKwL,aAAenB,EAAKU,YACzB/K,KAAKyL,mBAAqBpB,EAAKW,kBAC/BhL,KAAKY,eAAiByJ,EAAKY,eAG7BpM,EAAkBoD,UAAUyJ,wBAA0B,SAASZ,GAC7D,IAAIa,EAAU,EAAQ,MAClBC,EAAc5L,KAAKoK,gBAKvB,OAJAuB,EAAQb,GAAS,SAASpI,EAAOsF,GAC/B4D,EAAY5D,GAAOtF,KAGd1C,KAAKwK,cAAcoB,IAG5B/M,EAAkBoD,UAAUuE,eAAiB,SAASP,GACpD,OAAOjG,KAAKC,MAAMgG,GAAUjG,KAAK6L,oBAAoB5F,KAGvDpH,EAAkBoD,UAAU6J,sBAAwB,WAClD,OAAO9L,KAAKyL,oBAGd5M,EAAkBoD,UAAU4J,oBAAsB,SAAS5F,GACzD,OAAOjG,KAAKwL,aAAavF,IAG3BpH,EAAkBoD,UAAUqE,oBAAsB,SAASyF,EAAW9F,GACpE,IACI+F,EADQ,EAAQ,KACCtM,CAAMM,KAAKwL,cAGhC,OAFAQ,EAAe/F,GAAY8F,EAC3B/L,KAAK0L,wBAAwB,CAACX,YAAaiB,IACpCD,GAGTlN,EAAkBoD,UAAU2F,oBAAsB,SAAS3B,GACzD,OAAOjG,KAAKsG,qBACTtG,KAAK6L,oBAAoB5F,GAAY,GAAKjG,KAAKC,MAAMgG,GAAU5B,OAAQ4B,IAI5EpH,EAAkBoD,UAAU4F,2BAA6B,WACvD,IAAImD,EAAoBhE,KAAKiF,IAAIjM,KAAKyL,mBAAqB,EAAG,GAC9D,OAAOzL,KAAK0L,wBAAwB,CAACV,kBAAmBA,KAG1DnM,EAAkBoD,UAAUoE,uBAAyB,SAASJ,GAC5D,MAAO,CACL3F,QAASN,KAAKI,UAAUE,QAAUN,KAAKyL,mBACvCS,SAAUlM,KAAKI,UAAU6F,GAAYjG,KAAKyL,qCCj4B9C,IAAIU,EAAoB,EAAQ,KAC5BC,EAAY,EAAQ,MACpBC,EAAoB,EAAQ,KAQhC,SAASrN,EAAUsN,EAAevJ,GAChC/C,KAAK+C,UAAYA,EACjB/C,KAAKuM,GAAKD,EACVtM,KAAKwM,cAAgB,KACrBxM,KAAKyM,qBAAuB,KAG5BzM,KAAKmB,MAAQ,GAbfxC,EAAOC,QAAUI,EAmBjBA,EAAUiD,UAAU8H,WAAa,WAC/B/J,KAAKmB,MAAQ,IAkGfnC,EAAUiD,UAAUsG,OAAS4D,EAAkB,SAY/CnN,EAAUiD,UAAUyK,cAAgBN,EAClCD,EAAkB,gBAClBE,EACE,yCACA,sDAqBJrN,EAAUiD,UAAU0K,OAAS,SAAShE,EAAOiE,EAAiB3H,GAC5D,IAII4H,EACAC,EALAC,EAAQ,EAAQ,MAEhBC,EAAWhN,KAQU,IAArBiN,UAAU5I,QAAqC,IAArB4I,UAAU5I,QAAwC,mBAAjB4I,UAAU,IACvEJ,EAAO,EACP5H,EAAWgI,UAAU,GACrBtE,OAAQpH,GACyB,iBAAjB0L,UAAU,IAE1BJ,EAAOI,UAAU,GACW,iBAAjBA,UAAU,GACnBH,EAAcG,UAAU,GACS,mBAAjBA,UAAU,KAC1BhI,EAAWgI,UAAU,GACrBH,OAAcvL,GAEhBoH,OAAQpH,EACRqL,OAAkBrL,GACe,iBAAjB0L,UAAU,IAEE,mBAAjBA,UAAU,KACnBhI,EAAWgI,UAAU,IAEvBL,EAAkBK,UAAU,GAC5BtE,OAAQpH,GACyB,iBAAjB0L,UAAU,IAA2C,mBAAjBA,UAAU,KAE9DhI,EAAWgI,UAAU,GACrBL,OAAkBrL,GAOpBqL,EAAkBG,EAAM,GAAIH,GAAmB,GAAI,CACjDC,KAAMA,EACNC,YAAaA,EACbnE,MAAOA,IAGT,IAAIrE,EAAStE,KAAKuM,GAAGzE,iBAAiB8E,EAAiB,IAEvD,OAAO5M,KAAKuM,GAAG/I,aAAa,CAC1B2C,OAAQ,OACRtC,IAAK,cAAgBoE,mBAAmB+E,EAASjK,WAAa,UAC9DW,KAAM,CAACY,OAAQA,GACf2B,SAAU,OACVhB,SAAUA,KAiBdjG,EAAUiD,UAAUiL,WAAa,SAASC,EAAQlI,GAChD,OAAOjF,KAAKuM,GAAG/I,aAAa,CAC1B2C,OAAQ,OACRtC,IAAK,cAAgBoE,mBAAmBjI,KAAK+C,WAAa,UAC1DW,KAAM,CAACyJ,OAAQA,GACflH,SAAU,OACVhB,SAAUA,KAgBdjG,EAAUiD,UAAU+G,qBAAuB,SAAS1E,EAAQW,GAC1D,IAAIvF,EAAQ,EAAQ,MAChB0J,EAAO,EAAQ,MAGnB,QAAyB7H,IAArB+C,EAAO4E,gBAAiD3H,IAAtB+C,EAAO6E,WAC3C,MAAM,IAAIV,MAHA,qFAMZ,IAAIS,EAAY5E,EAAO4E,UACnBG,EAAiBD,EAAK1J,EAAM4E,IAAS,SAASgF,GAChD,MAAmB,cAAZA,KAELC,EAAmBvJ,KAAKuM,GAAGzE,iBAAiBuB,EAAgB,IAEhE,OAAOrJ,KAAKuM,GAAG/I,aAAa,CAC1B2C,OAAQ,OACRtC,IAAK,cACHoE,mBAAmBjI,KAAK+C,WAAa,WAAakF,mBAAmBiB,GAAa,SACpFjD,SAAU,OACVvC,KAAM,CAACY,OAAQiF,GACftE,SAAUA,KAIdjG,EAAUiD,UAAUmL,YAAchB,GAAU,SAAS9H,EAAQW,GAC3D,OAAOjF,KAAKgJ,qBAAqB1E,EAAQW,KACxCoH,EACD,wCACA,mDAGFrN,EAAUiD,UAAUoL,QAAU,SAAS/I,EAAQT,EAAKoB,EAAUnB,GAC5D,OAAO9D,KAAKuM,GAAG/I,aAAa,CAC1BrC,MAAOnB,KAAKmB,MACZgF,OAAQ,OACRtC,IAAKA,GAAO,cAAgBoE,mBAAmBjI,KAAK+C,WAAa,SACjEW,KAAM,CAACY,OAAQA,GACf2B,SAAU,OACV7B,SAAU,CACR+B,OAAQ,MACRtC,IAAK,cAAgBoE,mBAAmBjI,KAAK+C,WAC7CW,KAAM,CAACY,OAAQA,IAEjBW,SAAUA,EACVnB,aAAcA,KAalB9E,EAAUiD,UAAUqL,UAAY,SAASC,EAAUC,EAAOvI,GACxD,IAAI+H,EAAWhN,KAEU,IAArBiN,UAAU5I,QAAiC,mBAAVmJ,IACnCvI,EAAWuI,EACXA,OAAQjM,GAGV,IAAI+C,EAAS,GACb,QAAc/C,IAAViM,EAAqB,CACvBlJ,EAAS,eACT,IAAK,IAAIqF,EAAI,EAAGA,EAAI6D,EAAMnJ,SAAUsF,EACxB,IAANA,IACFrF,GAAU,KAEZA,GAAUkJ,EAAM7D,GAIpB,OAAO3J,KAAKuM,GAAG/I,aAAa,CAC1B2C,OAAQ,MACRtC,IAAK,cAAgBoE,mBAAmB+E,EAASjK,WAAa,IAAMkF,mBAAmBsF,GAAYjJ,EACnG2B,SAAU,OACVhB,SAAUA,KASdjG,EAAUiD,UAAUwL,WAAa,SAASC,EAAWC,EAAsB1I,GACzE,IAAItF,EAAU,EAAQ,MAClBC,EAAM,EAAQ,MAEdC,EAAQ,wDAEZ,IAAKF,EAAQ+N,GACX,MAAM,IAAIjF,MAAM5I,GAGlB,IAAImN,EAAWhN,KAEU,IAArBiN,UAAU5I,QAAgD,mBAAzBsJ,IACnC1I,EAAW0I,EACXA,OAAuBpM,GAGzB,IAAImC,EAAO,CACTa,SAAU3E,EAAI8N,GAAW,SAAwBH,GAC/C,IAAIvI,EAAU,CACZjC,UAAWiK,EAASjK,UACpBwK,SAAUA,GAOZ,OAJII,IACF3I,EAAQ2I,qBAAuBA,EAAqB7E,KAAK,MAGpD9D,MAIX,OAAOhF,KAAKuM,GAAG/I,aAAa,CAC1B2C,OAAQ,OACRtC,IAAK,uBACLoC,SAAU,OACVvC,KAAMA,EACNuB,SAAUA,KAIdjG,EAAUiD,UAAUsK,GAAK,KACzBvN,EAAUiD,UAAUc,UAAY,KAChC/D,EAAUiD,UAAUuK,cAAgB,KACpCxN,EAAUiD,UAAUwK,qBAAuB,kCClY3C,IAAI5N,EAAoB,EAAQ,MAC5B+O,EAAsB,EAAQ,MAElCjP,EAAOC,QAAUgP,EAAoB/O,EAAmB,+CCHxD,IAAIgP,EAAS,EAAQ,MACjBC,EAAUD,EAAOC,SAAW,gBAKhCnP,EAAOC,QAAU,SAA6BmP,EAAeC,GAC3D,IAAIC,EAAW,EAAQ,MACnBnP,EAAS,EAAQ,MACjBoP,EAAgB,EAAQ,KACxBC,EAAe,EAAQ,MACvBC,EAAS,EAAQ,MAOrB,SAAS9B,EAAchN,EAAeC,EAAQC,GAO5C,OAJAA,EAFgB,EAAQ,KAEjB6O,CAAU7O,GAAQ,KAEpB6B,IAAM7B,EAAK6B,KAAOiL,EAAcgC,GAE9B,IAAIC,EAAqBjP,EAAeC,EAAQC,GAbzDwO,EAAWA,GAAY,GAgBvB1B,EAAckC,QAAU,EAAQ,MAEhClC,EAAcgC,GACZ,2BAA6BhC,EAAckC,QAAU,MAAQR,EAE/D1B,EAAcmC,WAAaL,EAAO9B,GAIlCuB,EAAOa,UAAY,CACjBjP,MAAO,EAAQ,MACf6M,cAAeA,GAGjB,IAAIqC,EAAU,CACZC,kBAAmB,mBAAoBf,EACvCgB,kBAAmB,mBAAoBhB,GAOzC,SAASU,IAEPR,EAAce,MAAM9O,KAAMiN,WAmL5B,OAzLI0B,EAAQC,oBACVD,EAAQI,KAAO,oBAAqB,IAAIC,gBAQ1Cf,EAASM,EAAsBR,GAE/BQ,EAAqBtM,UAAUkC,SAAW,SAAiBN,EAAKrE,GAC9D,OAAO,IAAIsO,GAAQ,SAAqBrI,EAASS,GAE/C,GAAKyI,EAAQI,MAASJ,EAAQE,kBAA9B,CAMAhL,EAAMqK,EAAcrK,EAAKrE,EAAK+C,SAE9B,IAEI0M,EACAC,EAHAxL,EAAOlE,EAAKkE,KACZyL,EAAMR,EAAQI,KAAO,IAAIC,eAAmB,IAAII,eAGhDC,GAAY,EAEhBJ,EAAa5J,WAAWiK,EAAW9P,EAAKa,SAASC,SAMjD6O,EAAII,WA6GJ,WACOF,GAAWG,KA7Gd,uBAAwBL,IAAKA,EAAIM,mBAgHrC,YACOJ,GAAaF,EAAIO,WAAa,GAAGF,MAhHxCL,EAAIQ,OA6CJ,WAGE,GAAIT,EACF,OAKF,IAAI7M,EAFJuN,aAAaX,GAIb,IACE5M,EAAM,CACJqB,KAAMvB,KAAKwD,MAAMwJ,EAAIzJ,cACrBA,aAAcyJ,EAAIzJ,aAClBoB,WAAYqI,EAAIvI,OAEhBrE,QAAS4M,EAAIU,uBAAyBV,EAAIU,yBAA2B,IAEvE,MAAOC,GACPzN,EAAM,IAAIvD,EAAO4I,eAAe,CAC9BqI,KAAMZ,EAAIzJ,eAIVrD,aAAevD,EAAO4I,eACxBxB,EAAO7D,GAEPoD,EAAQpD,IAxEZ8M,EAAIa,QA4EJ,SAAiBC,GACf,GAAIf,EACF,OAGFU,aAAaX,GAKb/I,EACE,IAAIpH,EAAOoR,QAAQ,CACjBH,KAAME,MApFRd,aAAeH,gBACjBG,EAAIgB,KAAK3Q,EAAK2G,OAAQtC,GAAK,GAIvBrE,EAAKkH,mBACPyI,EAAIiB,iBACF,2BACA5Q,EAAK+C,QAAQ,6BAEf4M,EAAIiB,iBACF,oBACA5Q,EAAK+C,QAAQ,wBAIjB4M,EAAIgB,KAAK3Q,EAAK2G,OAAQtC,GAIpB8K,EAAQI,OACNrL,IACkB,SAAhBlE,EAAK2G,OAEPgJ,EAAIiB,iBAAiB,eAAgB,qCAErCjB,EAAIiB,iBAAiB,eAAgB,qBAGzCjB,EAAIiB,iBAAiB,SAAU,qBAG7B1M,EACFyL,EAAIkB,KAAK3M,GAETyL,EAAIkB,YA5DJnK,EAAO,IAAIpH,EAAOoR,QAAQ,uBAkH5B,SAASZ,IACPJ,GAAW,EACXC,EAAImB,QAEJpK,EAAO,IAAIpH,EAAO6I,gBAGpB,SAAS6H,IACPH,GAAY,EACZO,aAAaX,GACbA,EAAa5J,WAAWiK,EAAW9P,EAAKa,SAAS6L,eAavDqC,EAAqBtM,UAAUkC,SAASC,SAAW,SAAyBP,EAAKrE,GAG/E,OAFAqE,EAAMqK,EAAcrK,EAAKrE,EAAK+C,SAEvB,IAAIuL,GAAQ,SAA0BrI,EAASS,GACpDiI,EAAatK,EAAKrE,GAAM,SAA0B8F,EAAKF,GACjDE,EACFY,EAAOZ,GAITG,EAAQL,UAKdmJ,EAAqBtM,UAAUuD,SAAW,CACxCU,OAAQ,SAAuBqK,GAC7B,OAAOzC,EAAQ5H,OAAOqK,IAExB9K,QAAS,SAAwB8K,GAC/B,OAAOzC,EAAQrI,QAAQ8K,IAEzBC,MAAO,SAAsBC,GAC3B,OAAO,IAAI3C,GAAQ,SAA0BrI,GAC3CJ,WAAWI,EAASgL,OAGxBxH,IAAK,SAAayH,GAChB,OAAO5C,EAAQ7E,IAAIyH,KAIhBpE,+BCxOT3N,EAAOC,QAIP,SAAuBiF,EAAKtB,GACtB,KAAK9B,KAAKoD,GACZA,GAAO,IAEPA,GAAO,IAGT,OAAOA,EAAM8M,EAAOpO,IATtB,IAAIoO,EAAS,EAAQ,mCCFrBhS,EAAOC,QAMP,SAAsBiF,EAAKrE,EAAMoR,GAC/B,GAAoB,QAAhBpR,EAAK2G,OAEP,YADAyK,EAAG,IAAInI,MAAM,UAAYjJ,EAAK2G,OAAS,IAAMtC,EAAM,gCAIrDrE,EAAKC,MAAM,gBAEX,IAAIoR,GAAW,EACX3B,GAAW,EAEf4B,GAAgB,EAChB,IAAIC,EAAOC,SAASC,qBAAqB,QAAQ,GAC7CC,EAASF,SAASG,cAAc,UAChCC,EAAS,gBAAkBN,EAC3BO,GAAO,EAEXC,OAAOF,GAAU,SAAS/G,IA0E1B,WACE,WACSiH,OAAOF,UACPE,OAAOF,EAAS,WACvB,MAAOtB,GACPwB,OAAOF,GAAUE,OAAOF,EAAS,gBAAa7P,GA9EhDgQ,GAEIrC,EACF1P,EAAKC,MAAM,iCAIboR,GAAW,EAEXW,IAEAZ,EAAG,KAAM,CACPlN,KAAM2G,EACN3E,aAAcvD,KAAKC,UAAUiI,OAQjCxG,GAAO,aAAeuN,EAGlB5R,EAAK4G,UAAY5G,EAAK4G,SAAS9B,SACjCT,GAAO,IAAMrE,EAAK4G,SAAS9B,QAG7B,IAAImN,EAAYpM,YAsDhB,WACE7F,EAAKC,MAAM,yBACXyP,GAAW,EACXsC,IACAZ,EAAG,IAAI9R,EAAO6I,kBA1DoBnI,EAAKa,SAAS6L,UAclD,SAASwF,IACPlS,EAAKC,MAAM,kBAEP4R,GAAQnC,IAIZmC,GAAO,EAGFR,IACHrR,EAAKC,MAAM,4DACX+R,IACAZ,EAAG,IAAI9R,EAAO6S,mBAUlB,SAASH,IACP5B,aAAa6B,GACbP,EAAOvB,OAAS,KAChBuB,EAAOzB,mBAAqB,KAC5ByB,EAAOlB,QAAU,KACjBe,EAAKa,YAAYV,GArCnBA,EAAOzB,mBA0BP,WAC0B,WAApBzP,KAAK0P,YAA+C,aAApB1P,KAAK0P,YACvCgC,KA3BJR,EAAOvB,OAAS+B,EAChBR,EAAOlB,QAsDP,WACExQ,EAAKC,MAAM,uBAEP4R,GAAQnC,IAIZsC,IACAZ,EAAG,IAAI9R,EAAO+S,oBA5DhBX,EAAOY,OAAQ,EACfZ,EAAOa,OAAQ,EACfb,EAAOc,IAAMnO,EACbkN,EAAKkB,YAAYf,IA9DnB,IAAIpS,EAAS,EAAQ,MAEjBgS,EAAe,iBCNnBnS,EAAOC,QAUP,SAA2BsT,EAAYrO,GAQrC,OAAO,SAAgB8E,EAAOZ,EAAM9C,GAElC,GAAqB,mBAAV0D,GAAwC,iBAATZ,GACpB,iBAAb9C,EAGP,MAAM,IAAInG,EAAOiB,mBAAmB,yDAIb,IAArBkN,UAAU5I,QAAiC,mBAAVsE,GAEnC1D,EAAW0D,EACXA,EAAQ,IACsB,IAArBsE,UAAU5I,QAAgC,mBAAT0D,IAE1C9C,EAAW8C,EACXA,OAAOxG,GAKY,iBAAVoH,GAAgC,OAAVA,GAC/BZ,EAAOY,EACPA,OAAQpH,GACCoH,MAAAA,IACTA,EAAQ,IAGV,IAMI7E,EANAQ,EAAS,GAiBb,YAfc/C,IAAVoH,IACFrE,GAAU4N,EAAa,IAAMjK,mBAAmBU,SAIrCpH,IAATwG,IACEA,EAAKjE,eACPA,EAAeiE,EAAKjE,oBACbiE,EAAKjE,cAGdQ,EAAStE,KAAKuM,GAAGzE,iBAAiBC,EAAMzD,IAInCtE,KAAKqN,QAAQ/I,EAAQT,EAAKoB,EAAUnB,KA9D/C,IAAIhF,EAAS,EAAQ,gBCFrBH,EAAOC,QAAU,SAAemD,GAC9B,OAAOI,KAAKwD,MAAMxD,KAAKC,UAAUL,eCDnCpD,EAAOC,QAAU,SAAmBuT,EAAItL,GACtC,IAAIuL,GAAS,EAYb,OAVA,WAOE,OANKA,IAEHC,QAAQC,KAAKzL,GACbuL,GAAS,GAGJD,EAAGrD,MAAM9O,KAAMiN,sBCV1BtO,EAAOC,QAAU,SAA2B2T,EAAeC,GACzD,IAAIC,EAAmBF,EAAc1Q,cAClC6Q,QAAQ,YAAa,IAExB,MAAO,mBAAqBH,EAAgB,sBAAwBC,EAClE,4FAA8FC,gCCClG,IAAIxE,EAAW,EAAQ,MAEvB,SAASlO,EAAmB8G,EAAS8L,GACnC,IAAIxK,EAAU,EAAQ,MAElByK,EAAQ5S,KAG2B,mBAA5ByI,MAAMoK,kBACfpK,MAAMoK,kBAAkB7S,KAAMA,KAAK8S,aAEnCF,EAAMpL,OAAQ,IAAKiB,OAASjB,OAAS,8CAGvCxH,KAAKiD,KAAO,qBACZjD,KAAK6G,QAAUA,GAAW,gBAEtB8L,GACFxK,EAAQwK,GAAiB,SAA0BjQ,EAAOsF,GACxD4K,EAAM5K,GAAOtF,KAOnB,SAASqQ,EAAkB9P,EAAM4D,GAC/B,SAASmM,IACP,IAAIjL,EAAO/F,MAAMC,UAAUgR,MAAMpQ,KAAKoK,UAAW,GAG1B,iBAAZlF,EAAK,IACdA,EAAKmL,QAAQrM,GAGf9G,EAAmB+O,MAAM9O,KAAM+H,GAC/B/H,KAAKiD,KAAO,gBAAkBA,EAAO,QAKvC,OAFAgL,EAAS+E,EAA0BjT,GAE5BiT,EAjBT/E,EAASlO,EAAoB0I,OAqB7B9J,EAAOC,QAAU,CACfmB,mBAAoBA,EACpB2H,eAAgBqL,EACd,iBACA,2EAEFpL,eAAgBoL,EACd,iBACA,+CAEF7C,QAAS6C,EACP,UACA,2CAEFpB,gBAAiBoB,EACf,kBACA,8DAEFI,mBAAoBJ,EAClB,qBACA,2DAEFlB,iBAAkBkB,EAChB,mBACA,yDAEFK,eAAgBL,EACd,iBACA,oBAEFtL,QAASsL,EACP,UACA,oCC/EJpU,EAAOC,QAAU,SAAqBuT,EAAIxQ,GACxCA,EAAYwQ,EAAI,oBCLlB,IAAIxG,EAAU,EAAQ,MAEtBhN,EAAOC,QAAU,SAAayU,EAAKlB,GACjC,IAAImB,EAAS,GAIb,OAHA3H,EAAQ0H,GAAK,SAASE,EAAMC,GAC1BF,EAAOnM,KAAKgL,EAAGoB,EAAMC,EAAWH,OAE3BC,mBCPT,IAAI3H,EAAU,EAAQ,MAEtBhN,EAAOC,QAAU,SAASmO,EAAM0G,GAC9B,IAAIC,EAAU1R,MAAMC,UAAUgR,MAAMpQ,KAAKoK,WAczC,OAZAtB,EAAQ+H,GAAS,SAASC,GACxB,IAAK,IAAIrK,KAAWqK,EACdA,EAAO/Q,eAAe0G,KACY,iBAAzBmK,EAAYnK,IAAoD,iBAApBqK,EAAOrK,GAC5DmK,EAAYnK,GAAWyD,EAAM,GAAI0G,EAAYnK,GAAUqK,EAAOrK,SACjC/H,IAApBoS,EAAOrK,KAChBmK,EAAYnK,GAAWqK,EAAOrK,QAM/BmK,mBCjBT9U,EAAOC,QAAU,SAAcmD,EAAKtB,GAClC,IAAImT,EAAO,EAAQ,MACfjI,EAAU,EAAQ,MAElBkI,EAAW,GAQf,OANAlI,EAAQiI,EAAK7R,IAAM,SAAkBuH,IACb,IAAlB7I,EAAK6I,KACPuK,EAASvK,GAAWvH,EAAIuH,OAIrBuK,mBCZTlV,EAAOC,QAKP,SAA4B0N,GAC1B,OAAO,SAAgBwH,EAAOvU,EAAQC,GACpC,IAAI6O,EAAY,EAAQ,OAExB7O,EAAOA,GAAQ6O,EAAU7O,IAAS,IAC7BS,MAAQT,EAAKS,OAAS,CACzB,yBACA,0BACA,0BACA,2BAIuB,IAArBgN,UAAU5I,QAAiC,iBAAVyP,QAAgCvS,IAAVuS,IACzDA,EAAQ,GACRvU,EAAS,GACTC,EAAKM,wBAAyB,GAGhC,IAAIiE,EAASuI,EAAcwH,EAAOvU,EAAQC,GACtCuU,EAAQhQ,EAAOjB,UAAU,UAqB7B,OApBAiR,EAAMxL,OAAS4D,EAAkB,QAAS,mBAC1C4H,EAAMC,QAAU,SAASvN,EAASxB,GAChC,IAAIgP,EAAUC,EAAIvD,OAAOlK,GAEzB,OAAOzG,KAAKuM,GAAG/I,aAAa,CAC1B2C,OAAQ,MACRtC,IAAK,qBAAuBoQ,EAC5BhO,SAAU,OACVhB,SAAUA,KAId8O,EAAMzG,UAAY,SAASC,EAAUtI,GACnC,OAAOjF,KAAKuM,GAAG/I,aAAa,CAC1B2C,OAAQ,MACRtC,IAAK,aAAeoE,mBAAmBsF,GACvCtH,SAAU,OACVhB,SAAUA,KAGP8O,IA5CX,IAAIG,EAAM,EAAQ,MACd/H,EAAoB,EAAQ,qBCHhC,IAGIlN,EAHAQ,EAAQ,EAAQ,KAAR,CAAiB,uCACzB0U,EAAwB,0BAGxBC,EAAc,CAChBC,MAAO,GACP1J,IAAK,SAAS3C,EAAKqC,GAEjB,OADArK,KAAKqU,MAAMrM,GAAOqC,EACXrK,KAAKqU,MAAMrM,IAEpBsC,IAAK,SAAStC,GACZ,OAAOhI,KAAKqU,MAAMrM,IAAQ,OAI1BsM,EAAoB,CACtB3J,IAAK,SAAS3C,EAAKqC,GACjB+J,EAAYzJ,IAAI3C,EAAKqC,GAErB,IACE,IAAIkK,EAAYpS,KAAKwD,MAAM,EAAA6O,EAAOC,aAAaN,IAG/C,OAFAI,EAAUvM,GAAOqC,EACjB,EAAAmK,EAAOC,aAAaN,GAAyBhS,KAAKC,UAAUmS,GACrDA,EAAUvM,GACjB,MAAO8H,GACP,OAAO4E,EAAoB1M,EAAK8H,KAGpCxF,IAAK,SAAStC,GACZ,IACE,OAAO7F,KAAKwD,MAAM,EAAA6O,EAAOC,aAAaN,IAAwBnM,IAAQ,KACtE,MAAO8H,GACP,OAAO4E,EAAoB1M,EAAK8H,MAKtC,SAAS4E,EAAoB1M,EAAK8H,GAIhC,OAHArQ,EAAM,2BAA4BqQ,GAyCpC,WACE,IACE,EAAA0E,EAAOC,aAAaE,WAAWR,GAC/B,MAAOS,KA3CTC,IACA5V,EAAQmV,GACK9J,IAAItC,GAWnB,SAAS8M,EAAS9M,EAAKqC,GACrB,OAAyB,IAArB4C,UAAU5I,OACLpF,EAAMqL,IAAItC,GAGZ/I,EAAM0L,IAAI3C,EAAKqC,GAGxB,SAAS0K,IACP,IACE,MAAI,iBAAkB,EAAAP,GACI,OAAxB,EAAAA,EAAOC,eACF,EAAAD,EAAOC,aAAaN,IAEvB,EAAAK,EAAOC,aAAaO,QAAQb,EAAuBhS,KAAKC,UAAU,MAE7D,GAIT,MAAOwS,GACP,OAAO,GA7BX3V,EAAQ8V,IAAyBT,EAAoBF,EAErDzV,EAAOC,QAAU,CACf0L,IAAKwK,EACLnK,IAAKmK,EACLC,qBAAsBA,0BC/CxBpW,EAAOC,QAAU,sCCAjBD,EAAOC,QAAU,EAAjB,mCCAA,IAAIgW,EAAI,EAAQ,MAEZK,EAAM,CACRC,QAAS,CACPC,SAAU,WACVC,QAAS,gBAEXC,KAAM,CACJF,SAAU,WACVG,IAAK,IACLC,KAAM,IACNC,YAAa,cACbC,UAAW,OAEXC,QAAS,KAEXC,MAAO,CACLR,SAAU,WACVS,cAAe,MACfC,gBAAiB,eAEnBC,gBAAiB,CACfX,SAAU,WACVS,cAAe,OAEjBG,SAAU,CACRZ,SAAU,WACVG,IAAK,OACLC,KAAM,IACNS,OAAQ,MACRZ,QAAS,QAEXa,YAAa,CACXb,QAAS,SAEXc,WAAY,CACVC,WAAY,SACZhJ,OAAQ,WAEViJ,gBAAiB,CACfD,WAAY,UAEdE,IAAK,CACHd,KAAM,IACNe,MAAO,QAETC,IAAK,CACHhB,KAAM,OACNe,MAAO,KAETE,eAAgB,CACdC,KAAM,uBACNC,OAAQ,KACRC,UAAU,EACVC,aAAc,gBACdjB,MAAO,QACPN,KAAM,OACNY,YAAa,cACbC,WAAY,aACZ/I,OAAQ,SACR0J,QAAS,UACTC,MAAO,SAGTC,SAAU,CACR7B,QAAS,CACPC,SAAU,WACVa,OAAQ,MACRZ,QAAS,QAEXO,MAAO,GACPG,gBAAiB,GACjBC,SAAU,CACRX,QAAS,WAMXR,EAAEoC,UAGJpC,EAAEqC,MAAMhC,EAAIU,MAAO,CACjBuB,gBAAiB,wFAKjBtC,EAAEoC,UAAYpC,EAAEoC,UAAY,GAG9BpC,EAAEqC,MAAMhC,EAAIU,MAAO,CAACwB,UAAW,SAGjCxY,EAAOC,QAAUqW,+BC9FjB,IAAImC,EAAa,YACbC,EAAW,UACXC,EAAW,UAEX1C,EAAI,EAAQ,MACZ2C,EAAM,EAAQ,MACdC,EAAO,EAAQ,MACfvC,EAAM,EAAQ,MACdwC,EAAe,EAAQ,MAK3B,SAASC,EAAQC,GA4RjB,IAAqBC,GA3RnBD,EAAIA,GAAK,IACPE,UAAYF,EAAEE,WAAa,GAExBF,EAAEhE,QACLiB,EAAEhC,MAAM,kBAGN+E,EAAE1U,OAoRa2U,EApRQD,EAAE1U,MAsRtB,mBAAqBxC,KAAKmX,KArR/BhD,EAAEhC,MAAM,yBAA2B+E,EAAE1U,MAIvCjD,KAAK2I,MAAQ,KACb3I,KAAK8X,UAAW,EAEhB9X,KAAK+X,YAAcJ,EAAEI,UACrB/X,KAAKiD,UAAyB,IAAX0U,EAAE1U,MAAmC,OAAX0U,EAAE1U,KAAgB2R,EAAEoD,cAAgBL,EAAE1U,KAEnFjD,KAAK2T,OAASgE,EAAEhE,OAChB3T,KAAKiY,UAiPP,SAAsB7C,GAGpB,OAFAA,EAAUA,GAAW,QAEdR,EAAEsD,WAAW9C,GAAWA,EAAU6C,EAEzC,SAASA,EAAUlW,GACjB,OAAOA,EAAIqT,IAvPI+C,CAAaR,EAAEvC,SAAWuC,EAAES,YAE7CpY,KAAKqY,SAAWV,EAAEU,SAElBrY,KAAKmB,OAAoB,IAAZwW,EAAExW,MAEfnB,KAAK6X,UAqPP,SAAsBA,EAAWI,GAC/B,MAAO,CACLnB,MAAOe,EAAUf,OAASlC,EAAE0D,WAAWT,EAAUf,OACjDyB,OAAQV,EAAUU,QAAU3D,EAAE0D,WAAWT,EAAUU,QACnDC,OAAQX,EAAUW,QAAU5D,EAAE0D,WAAWT,EAAUW,QACnDtC,WAAY2B,EAAU3B,YAAcuC,GAGtC,SAASA,EAAmBC,GAC1B,MAAO,MAAQT,EAAUS,GAAW,QA9PrBC,CAAahB,EAAEE,UAAW7X,KAAKiY,WAEhDjY,KAAKiV,IAAML,EAAEqC,MAAM,GAAIhC,EAAK0C,EAAEZ,SAAW9B,EAAI8B,SAAW,IACxD/W,KAAK4Y,WAAajB,EAAEiB,WAAahE,EAAEqC,MAAM,GAAIhC,EAAIuB,eAAgBmB,EAAEiB,YAAc,IACjF5Y,KAAK4Y,WAAWlC,OACdiB,EAAEiB,WAAWC,iBAAmBjE,EAAEkE,aAAa9Y,KAAK4Y,WAAWlC,OAAQ1W,KAAK4Y,WAAWjC,UAEzF,IAAIoC,EAAQnE,EAAEoE,UAAUhZ,KAAK4Y,WAAWlC,OAAQ1W,KAAK4Y,WAAW/B,SAChE7W,KAAKiZ,IAAMtB,EAAEuB,OAASvB,EAAEuB,MAAMC,KAAKJ,EAAQ,IAAM/Y,KAAKiD,MAAMoB,OAAS,EACnEkT,EAAI6B,QAAQzB,EAAEuB,MAAMC,KAAKJ,EAAQ,IAAM/Y,KAAKiD,MAAM,IAClDsU,EAAI6B,QACF5B,EAAKX,QAAQnE,QAAQ,UAAW1S,KAAKiD,MAClCyP,QAAQ,WAAY1S,KAAK4Y,WAAWlC,QACpChE,QAAQ,YAAa1S,KAAK4Y,WAAW/B,UAG5C7W,KAAKkZ,MAAQvB,EAAEuB,MACflZ,KAAKqZ,yBAMP3B,EAAQ4B,mBAAqB,SAA4BC,GACvD,OAAOhC,EAAI6B,QAAQG,GAAIlP,KAAK+M,IAG9BM,EAAQ8B,aAAe,SAAsBD,GAC3C,OAAOhC,EAAI6B,QAAQG,GAAIlP,KAAKgN,IAG9BK,EAAQ+B,aAAe,SAAsBF,GAC3C,IAAIG,EAAQnC,EAAI6B,QAAQG,GAAIlP,KAAKiN,GAMjC,MALqB,iBAAVoC,IAGTA,EAAQvX,KAAKwD,MAAM+T,IAEdA,GAMT9E,EAAEqC,MAAMS,EAAQzV,UAAWwV,EAAc,CAIvCkC,QAAS,SAAgBhR,EAAOsN,GAC9B,GAAKjW,KAAKiZ,IAAV,CAGA,IAEIW,EAFAC,EAAO7Z,KAGP8Z,EAAa,GAAG7G,MAAMpQ,KAAKoK,UAAW,GAM1C,GALAjN,KAAKiZ,IAAInC,QAET8C,EAAiB3D,GAAeA,EAAY5R,OAC5CrE,KAAK8X,UAAY8B,GAEZA,GAAkB5Z,KAAK6X,UAAUf,MACpC9W,KAAKiZ,IACFzB,KAAKuC,EAAajL,MAAM9O,KAAM8Z,IAC9BE,QAAQH,EAAKhC,UAAUU,OAAS0B,EAAcnL,MAAM9O,KAAM8Z,GAAc,MACxEI,OAAOL,EAAKhC,UAAUW,OAAS2B,EAAcrL,MAAM9O,KAAM8Z,GAAc,WACrE,GAAIF,EACT5Z,KAAKiZ,IACFzB,KAAK4C,EAAmBtL,MAAM9O,KAAM8Z,IACpCE,QAAQH,EAAKhC,UAAUU,OAAS0B,EAAcnL,MAAM9O,KAAM8Z,GAAc,MACxEI,OAAOL,EAAKhC,UAAUW,OAAS2B,EAAcrL,MAAM9O,KAAM8Z,GAAc,WACrE,GAAI7D,IAAgBjU,MAAMrC,QAAQsW,GACvC,MAAM,IAAIoE,UAAU,gCAGlBra,KAAKkZ,OACPlZ,KAAKkZ,MAAMoB,SACTta,KAAK4Y,WAAWlC,QAAUkD,EAAiB,OAAS,WAAa,IAAM5Z,KAAKiD,MAC5EsX,YACAva,KAAK4Y,WAAWlC,QAAUkD,EAAiB,UAAY,QAAU,IAAM5Z,KAAKiD,MAIhFjD,KAAKwa,QAAQ,WAAY7R,GAEzB,SAASoR,IACP,IAAIhS,EAAO,GAAGkL,MAAMpQ,KAAKoK,UAAW,GAEpC,OADAlF,EAAO,CAAC,CAACY,MAAOA,EAAO8R,SAAS,IAAOzZ,OAAO+G,GACvC8R,EAAKhC,UAAUf,MAAMhI,MAAM9O,KAAM+H,GAG1C,SAASqS,IACP,IACIM,EACAC,EAFA5S,EAAO,GAAGkL,MAAMpQ,KAAKoK,UAAW,GAGhC2N,EAAO5a,KAEP6a,EAAkBrD,EAAKvB,YACzBvD,QAAQ,WAAY1S,KAAK4Y,WAAWlC,QACpChE,QAAQ,gBAAiB1S,KAAK4Y,WAAW3C,aAU3C,OATAyE,EAAenD,EACZ6B,QAAQyB,GACR5F,IAAIjV,KAAKiV,IAAIgB,aAIhB0E,EAAQ/F,EAAEhV,IAAIqW,EAAa6E,GAC3BJ,EAAaR,OAAOpL,MAAM4L,EAAcC,GAEjCD,EAEP,SAASI,EAAkB5E,GACzB,IAAI+C,EAEA8B,EAAiBvD,EAAKtB,WACxBxD,QAAQ,WAAYkI,EAAKhC,WAAWlC,QACpChE,QAAQ,eAAgBkI,EAAKhC,WAAW1C,YAa1C,OAZA+C,EAAM1B,EAAI6B,QAAQ2B,GACfC,KAAK,CACJC,KAAM,SACNC,GAAI,CAAC,SAAUlU,KAAKC,MAAsB,IAAhBD,KAAKsE,WAAuBxC,KAAK,OAE5DoR,OAAOL,EAAKhC,UAAU3B,WAAWpH,MAAM9O,KAAM,CAACkW,GAAYlV,OAAO+G,MAEhEsC,KAAK+M,EAAYyC,EAAK5W,MAC1BgW,EAAI5O,KAAKgN,EAAUwC,EAAK5B,UAAU/B,SAAe3U,GACjD0X,EAAI5O,KAAKiN,EAAUnV,KAAKC,UAAU8T,IAClC+C,EAAIkC,WAAWC,MAAK,WAAa7D,EAAI6B,QAAQpZ,MAAMiV,IAAI2F,EAAK3F,IAAImB,oBAEzD6C,GAIX,SAASgB,IACP,IAAIlS,EAAO,GAAGkL,MAAMpQ,KAAKoK,UAAW,GAEpC,OADAlF,EAAO,CAAC,CAACY,MAAOA,EAAO8R,SAAUb,IAAiB5Y,OAAO+G,GAClD8R,EAAKhC,UAAUU,OAAOzJ,MAAM9O,KAAM+H,GAG3C,SAASoS,IACP,IAAIpS,EAAO,GAAGkL,MAAMpQ,KAAKoK,UAAW,GAEpC,OADAlF,EAAO,CAAC,CAACY,MAAOA,EAAO8R,SAAUb,IAAiB5Y,OAAO+G,GAClD8R,EAAKhC,UAAUW,OAAO1J,MAAM9O,KAAM+H,KAM7CsT,QAAS,WACP,OAAOrb,KAAKiZ,KAGdqC,OAAQ,SAAgB3S,GACtB,SAAS4S,EAAkBtF,GAGzB,IAAKjW,KAAKwb,UAAY7S,IAAU3I,KAAK2I,MAAO,CAG1C,IAAI8S,EAAY,GAAGxI,MAAMpQ,KAAKoK,UAAW,GACzCjN,KAAK0b,iBAAiB/S,EAAOsN,EAAawF,GAC1Czb,KAAK2Z,QAAQ7K,MAAM9O,KAAM,CAAC2I,EAAOsN,GAAajV,OAAOya,KAOzD,GAHAzb,KAAK2I,MAAQA,EACb3I,KAAKwb,UAAW,EAEZxb,KAAK2b,qBAAqBhT,GAC5B4S,EAAkBzM,MAAM9O,KAAM,CAACA,KAAK4b,mBAAmB5a,OAAOhB,KAAK6b,4BAC9D,CACL,IAAIhC,EAAO7Z,KACP8b,EAAa,WAGVjC,EAAK2B,UACR3B,EAAKlG,OAAOhL,EAAO4S,EAAkBQ,KAAKlC,KAI9C,GAAI7Z,KAAKqY,SAAU,CAKjBzI,aAAa5P,KAAKgc,iBAClBhc,KAAKgc,gBAAkB3W,YALX,WACVwU,EAAKmC,gBAAkB,KACvBF,MAGuC9b,KAAKqY,eAE9CyD,MAKNJ,iBAAkB,SAA0B/S,EAAOsN,EAAawF,GAC9Dzb,KAAKic,YAActT,EACnB3I,KAAK4b,kBAAoB3F,EACzBjW,KAAK6b,sBAAwBJ,GAG/BE,qBAAsB,SAA8BhT,GAClD,OAAO3I,KAAKmB,OACVnB,KAAKic,cAAgBtT,GACrB3I,KAAK4b,mBACL5b,KAAK4b,kBAAkBvX,QAG3BgV,uBAAwB,kBACfrZ,KAAKic,mBACLjc,KAAK4b,yBACL5b,KAAK6b,uBAGdK,OAAQ,WACNlc,KAAKwb,UAAW,GAGlBW,MAAO,WACLnc,KAAKkc,SACLlc,KAAKiZ,IAAInC,QACT9W,KAAKwa,QAAQ,WAAY,KAG3BC,QAAS,WACP,OAAOza,KAAK8X,UAGdsE,QAAS,WACPpc,KAAKqZ,yBACLrZ,KAAKiZ,IAAM,QAmCfta,EAAOC,QAAU8Y,+BC9SjB,IAAI9C,EAAI,EAAQ,MACZ2C,EAAM,EAAQ,MACdE,EAAe,EAAQ,MACvBC,EAAU,EAAQ,MAClBzC,EAAM,EAAQ,MAKlB,SAASoH,EAAS1E,GAChB,IACI2E,EACAC,EACAC,EAHA3C,EAAO7Z,MAKX2X,EAAIA,GAAK,IAEF8E,MACL7H,EAAEhC,MAAM,oBAGLgC,EAAEjV,QAAQgY,EAAE+E,WAAc9H,EAAE+H,SAAShF,EAAE+E,WAC1C9H,EAAEhC,MAAM,+BAEL+E,EAAE+E,UACL9H,EAAEhC,MAAM,wBAGV5S,KAAK4c,QAAS,EACd5c,KAAKya,SAAU,EACfza,KAAK6c,UAAYlF,EAAEkF,WAAa,EAChC7c,KAAK6X,UAAY,GACjB7X,KAAK+W,SAAWY,EAAEZ,WAAY,EAC9B/W,KAAKiV,IAAML,EAAEqC,MAAM,GAAIhC,EAAK0C,EAAEZ,SAAW9B,EAAI8B,SAAW,IACxD/W,KAAK4Y,WAAajB,EAAEiB,WAAahE,EAAEqC,MAAM,GAAIhC,EAAIuB,eAAgBmB,EAAEiB,YAAc,IACjF5Y,KAAK4Y,WAAWlC,OACdiB,EAAEiB,WAAWC,iBAAmBjE,EAAEkE,aAAa9Y,KAAK4Y,WAAWlC,OAAQ1W,KAAK4Y,WAAWjC,UAGzF2F,EAAoB1H,EAAEmH,KAAK/b,KAAK8c,mBAAoB9c,MACpDuc,EAAyB3H,EAAEmH,KAAK/b,KAAK+c,wBAAyB/c,MAC9Dwc,EAAyB5H,EAAEmH,KAAK/b,KAAKgd,wBAAyBhd,MAE9D,IAAIid,EAAWrI,EAAEoE,UAAUhZ,KAAK4Y,WAAWlC,OAAQ1W,KAAK4Y,WAAW1C,YACnElW,KAAKkZ,MAAQ3B,EAAI6B,QAAQzB,EAAE8E,MACxBS,GAAG,gBAAiBD,EAAUV,GAC9BW,GAAG,gBAAiBD,EAAUT,GAC9BU,GAAG,WAAYD,EAAUX,GAE5Btc,KAAKmd,WAAaxF,EAAEZ,SAAWY,EAAEzC,QAAUlV,KAAKkZ,MAE5CvB,EAAEE,WAAaF,EAAEE,UAAUU,SAC7BvY,KAAK6X,UAAUU,OAAS3D,EAAE0D,WAAWX,EAAEE,UAAUU,QACjDvY,KAAKkZ,MAAMc,QAAQha,KAAK6X,UAAUU,WAGhCZ,EAAEE,WAAaF,EAAEE,UAAUf,QAC7B9W,KAAK6X,UAAUf,MAAQlC,EAAE0D,WAAWX,EAAEE,UAAUf,OAChD9W,KAAKod,OAAS7F,EAAI6B,QAAQ,eACxBxE,EAAEoE,UAAUhZ,KAAK4Y,WAAWlC,OAAQ1W,KAAK4Y,WAAW9B,OAAO,GADnC,YAG1B9W,KAAKkZ,MAAMgB,OAAOla,KAAKod,QACvBpd,KAAKod,OAAOC,QAGdrd,KAAK0c,SAAW9H,EAAEhV,IAAI+X,EAAE+E,UAAU,SAASY,GACzC,OAiUJ,SAA2BpE,EAAOoE,EAAU1E,GAC1C,OAAO,IAAIyD,EAAS3E,QAAQ9C,EAAEqC,MAAM,CAACiC,MAAOA,EAAON,WAAYA,GAAa0E,IAlUnEC,CAAkB1D,EAAKX,MAAOoE,EAAU3F,EAAEiB,eAEnDhE,EAAEwG,KAAKpb,KAAK0c,UAAU,SAAS7F,GAC7B,IAAIJ,EAAOI,EAAQwE,UACf5E,GAAiC,IAAzBA,EAAK+G,SAASnZ,QACxBwV,EAAKX,MAAMgB,OAAOzD,GAEpBI,EAAQ4G,OAAO,WAAY5D,EAAK6D,YAAa7D,MAG3ClC,EAAEE,WAAaF,EAAEE,UAAUW,SAC7BxY,KAAK6X,UAAUW,OAAS5D,EAAE0D,WAAWX,EAAEE,UAAUW,QACjDxY,KAAKkZ,MAAMgB,OAAOla,KAAK6X,UAAUW,WAGnC,IAAIoC,EAAO5a,KACXuX,EAAI6B,QAAQ9H,QAAQqM,QAAO,WACzB/C,EAAKgD,aAOThJ,EAAEqC,MAAMoF,EAASpa,UAAWwV,EAAc,CAIxCqF,mBAAoB,SAA2Be,GAC7C7d,KAAKwa,QAAQ,oBAAqBjD,EAAI6B,QAAQyE,EAAGC,iBAGnDf,wBAAyB,SAAgCc,GACvD,IAAIE,EAAMxG,EAAI6B,QAAQyE,EAAGC,eACzB,IAAIC,EAAIC,SAASpJ,EAAEoE,UAAUhZ,KAAK4Y,WAAWlC,OAAQ1W,KAAK4Y,WAAWzL,QAAQ,IAA7E,CAKAnN,KAAKie,gBAML,IAAI/H,EAAalW,KACjBqF,YAAW,WAGT6Q,EAAWgI,WAAWH,GAAK,KAC1B,KAGLf,wBAAyB,SAAgCa,GAEvD,GAAIA,EAAGM,eACK5G,EAAI6B,QAAQyE,EAAGM,eACjBC,QAAQ,IAAMxJ,EAAEoE,UAAUhZ,KAAK4Y,WAAWlC,OAAQ1W,KAAK4Y,WAAWzL,QAAQ,IAAO9I,OAAS,EAGhG,OAGJrE,KAAKie,gBACLje,KAAKwa,QAAQ,kBAGfkD,YAAa,SAAoB5N,EAAGnH,GAGlC,GAFA3I,KAAKya,QAAU7F,EAAEyJ,MAAMre,KAAK0c,UA0C5B,SAAwB7F,GACtB,OAAOA,EAAQ4D,aAzCbza,KAAKya,QAKP,GAJI9R,EAAMtE,QAAUrE,KAAK6c,WACvB7c,KAAKwa,QAAQ,SAGXxa,KAAKod,OACP,GAAIzU,EAAMtE,OAASrE,KAAK6c,UACtB7c,KAAKse,YACA,CACL,IAAI9G,EAAOxX,KAAK6X,UAAUf,MAAM,CAC9BnO,MAAO3I,KAAK0c,SAAS,IAAM1c,KAAK0c,SAAS,GAAG/T,QAE9C3I,KAAKod,OAAO5F,KAAKA,GACjBxX,KAAKod,OAAOmB,OACZve,KAAKwe,aAEE5J,EAAE6J,IAAIze,KAAK0c,UA4BxB,SAA0B7F,GACxB,OAAOA,EAAQgB,WAAahB,EAAQgB,UAAUf,SA5BxCnO,EAAMtE,OAASrE,KAAK6c,UACtB7c,KAAKse,QAELte,KAAKwe,QAGPxe,KAAKse,aAEEte,KAAK4c,SACV5c,KAAKod,SACPpd,KAAKod,OAAOtG,QACZ9W,KAAKod,OAAOC,QAGV1U,EAAMtE,QAAUrE,KAAK6c,UACvB7c,KAAKwe,QAELxe,KAAKse,SAITte,KAAKwa,QAAQ,oBAWf8D,MAAO,WACLte,KAAKmd,WAAWE,QAGlBmB,MAAO,WAGLxe,KAAKmd,WAAWlI,IAAI,UAAW,SAE/BjV,KAAK4d,UAEL5d,KAAKwa,QAAQ,UAGfoD,QAAS,WACF5d,KAAK4c,QAAW5c,KAAK+W,UAE1B/W,KAAKwa,QAAQ,YAGfkE,gBAAiB,WACf,OAAO1e,KAAKkZ,MAAMC,KAAKvE,EAAEoE,UAAUhZ,KAAK4Y,WAAWlC,OAAQ1W,KAAK4Y,WAAW1C,cAG7EyI,WAAY,WACV,OAAO3e,KAAKkZ,MAAMC,KAAKvE,EAAEoE,UAAUhZ,KAAK4Y,WAAWlC,OAAQ1W,KAAK4Y,WAAWzL,SAASyR,SAGtFV,WAAY,SAAmBjF,EAAK4F,GAClC5F,EAAI2F,QACDtE,SAAS1F,EAAEoE,UAAUhZ,KAAK4Y,WAAWlC,OAAQ1W,KAAK4Y,WAAWzL,QAAQ,IACrE6N,KAAK,gBAAiB,QACzBhb,KAAKwa,QAAQ,cAAeqE,IAG9BZ,cAAe,WACbje,KAAK2e,aACFpE,YAAY3F,EAAEoE,UAAUhZ,KAAK4Y,WAAWlC,OAAQ1W,KAAK4Y,WAAWzL,QAAQ,IACxE2R,WAAW,kBAGhBC,YAAa,SAAoBC,GAC/B,IAAItE,EACAuE,EACAC,EACAC,EAECnf,KAAK4c,SAIVqC,EAAajf,KAAK2e,aAClBjE,EAAe1a,KAAK0e,kBAEpB1e,KAAKie,iBAMmB,KAFxBiB,IADAA,EAAiBxE,EAAa3G,MAAMkL,GAAcD,GACf,IAAMtE,EAAarW,OAAS,GAAK,IAMzD6a,GAAkB,IAC3BA,EAAiBxE,EAAarW,OAAS,GAGzCrE,KAAKke,WAAWiB,EAAazE,EAAa0E,GAAGF,IAAiB,GAI9Dlf,KAAKqf,eAAeF,IAXlBnf,KAAKwa,QAAQ,mBAcjB6E,eAAgB,SAAuBpG,GACrC,IAAIqG,EACAC,EACAC,EACAC,EAGJF,GADAD,EAAQrG,EAAI9D,WAAWG,KACJ2D,EAAIyG,SACrBrgB,SAAS4Z,EAAIhE,IAAI,cAAe,IAChC5V,SAAS4Z,EAAIhE,IAAI,iBAAkB,IACrCuK,EAAgBxf,KAAKkZ,MAAMyG,YAC3BF,EAAazf,KAAKkZ,MAAMwG,SACtBrgB,SAASW,KAAKkZ,MAAMjE,IAAI,eAAgB,IACxC5V,SAASW,KAAKkZ,MAAMjE,IAAI,kBAAmB,IAEzCqK,EAAQ,EACVtf,KAAKkZ,MAAMyG,UAAUH,EAAgBF,GAC5BG,EAAaF,GACtBvf,KAAKkZ,MAAMyG,UAAUH,GAAiBD,EAAWE,KAMrDG,MAAO,WACD5f,KAAK4c,SACP5c,KAAK4c,QAAS,EAEd5c,KAAKie,gBACLje,KAAKse,QAELte,KAAKwa,QAAQ,YAIjBrK,KAAM,WACCnQ,KAAK4c,SACR5c,KAAK4c,QAAS,EAET5c,KAAKya,SACRza,KAAKwe,QAGPxe,KAAKwa,QAAQ,YAIjBqF,qBAAsB,SAA8BC,GAClD9f,KAAKkZ,MAAMjE,IAAY,QAAR6K,EAAgB9f,KAAKiV,IAAIoB,IAAMrW,KAAKiV,IAAIsB,MAGzDwJ,aAAc,WACZ/f,KAAK+e,aAAa,IAGpBiB,eAAgB,WACdhgB,KAAK+e,YAAY,IAGnBkB,sBAAuB,SAA+BhH,GACpD,IAAIS,EAAQ,KAUZ,OARIT,EAAI5U,SACNqV,EAAQ,CACNwG,IAAKxI,EAAQ+B,aAAaR,GAC1BvW,MAAOgV,EAAQ8B,aAAaP,GAC5BkH,YAAazI,EAAQ4B,mBAAmBL,KAIrCS,GAGT0G,iBAAkB,WAChB,OAAOpgB,KAAK2e,aAAaC,SAG3ByB,kBAAmB,WACjB,OAAOrgB,KAAKigB,sBAAsBjgB,KAAK2e,aAAaC,UAGtD0B,yBAA0B,WACxB,OAAOtgB,KAAKigB,sBAAsBjgB,KAAK0e,kBAAkBE,UAG3D2B,oBAAqB,WACnBvgB,KAAKke,WAAWle,KAAK0e,kBAAkBE,SAAS,IAGlDtD,OAAQ,SAAgB3S,GACtBiM,EAAEwG,KAAKpb,KAAK0c,UAEZ,SAAuB7F,GACrBA,EAAQyE,OAAO3S,OAInBmO,MAAO,WACLlC,EAAEwG,KAAKpb,KAAK0c,UAGZ,SAAsB7F,GACpBA,EAAQsF,WAHVnc,KAAKya,SAAU,GAOjB+F,UAAW,WACT,OAAOxgB,KAAK4c,SAAW5c,KAAKya,SAG9B2B,QAAS,WACPpc,KAAKkZ,MAAMuH,IAAI,OAEfzgB,KAAKkZ,MAAQ,KAEbtE,EAAEwG,KAAKpb,KAAK0c,UAEZ,SAAwB7F,GACtBA,EAAQuF,gBAOdC,EAAS3E,QAAUA,EAMnB/Y,EAAOC,QAAUyd,+BCvYjB,IAEIzH,EAAI,EAAQ,MACZ2C,EAAM,EAAQ,MAKlB,SAASmJ,EAAS/I,GACXA,GAAMA,EAAE4B,IACX3E,EAAEhC,MAAM,mCAGV5S,KAAKiZ,IAAM1B,EAAI6B,QAAQzB,EAAE4B,IAM3B3E,EAAEqC,MAAMyJ,EAASze,UAAW,CAI1BuY,QAAS,SAASmG,EAAMzK,EAAYW,EAAS6B,GAC3C,IAAIzI,EAAQ2E,EAAEgM,MAxBF,gBAwBoBD,GAEhC,OADA3gB,KAAKiZ,IAAIuB,QAAQvK,EAAO,CAACiG,EAAYW,EAAS6B,IACvCzI,KAIXtR,EAAOC,QAAU8hB,+BC9BjB,IAAIG,EAAY,EAAQ,KACpBC,EAAW,MASf,SAAS5D,EAAG/W,EAAQ4a,EAAOnQ,EAAI8H,GAC7B,IAAIiI,EAEJ,IAAK/P,EACH,OAAO5Q,KAQT,IALA+gB,EAAQA,EAAMC,MAAMF,GACpBlQ,EAAK8H,EA6EP,SAAqBvG,EAAIuG,GACvB,OAAOvG,EAAG4J,KACR5J,EAAG4J,KAAKrD,GACR,WAAavG,EAAGrD,MAAM4J,EAAS,GAAGzF,MAAMpQ,KAAKoK,UAAW,KAhF3CgU,CAAYrQ,EAAI8H,GAAW9H,EAE1C5Q,KAAKkhB,WAAalhB,KAAKkhB,YAAc,GAE9BP,EAAOI,EAAMI,SAClBnhB,KAAKkhB,WAAWP,GAAQ3gB,KAAKkhB,WAAWP,IAAS,CAACS,KAAM,GAAItP,MAAO,IACnE9R,KAAKkhB,WAAWP,GAAMxa,GAAQgB,KAAKyJ,GAGrC,OAAO5Q,KAqDT,SAASqhB,EAASC,EAAW5I,EAAS3Q,GACpC,OAEA,WAGE,IAFA,IAAIwZ,EAEK5X,EAAI,EAAG6X,EAAMF,EAAUjd,QAASkd,GAAa5X,EAAI6X,EAAK7X,GAAK,EAElE4X,GAAkD,IAAtCD,EAAU3X,GAAGmF,MAAM4J,EAAS3Q,GAG1C,OAAQwZ,GAxFZ5iB,EAAOC,QAAU,CACf6e,OA8BF,SAAgBsD,EAAOnQ,EAAI8H,GACzB,OAAOwE,EAAGra,KAAK7C,KAAM,OAAQ+gB,EAAOnQ,EAAI8H,IA9BxC+I,QAyBF,SAAiBV,EAAOnQ,EAAI8H,GAC1B,OAAOwE,EAAGra,KAAK7C,KAAM,QAAS+gB,EAAOnQ,EAAI8H,IAzBzC+H,IAgCF,SAAaM,GACX,IAAIJ,EAEJ,IAAK3gB,KAAKkhB,WACR,OAAOlhB,KAGT+gB,EAAQA,EAAMC,MAAMF,GAEpB,KAAOH,EAAOI,EAAMI,gBACXnhB,KAAKkhB,WAAWP,GAGzB,OAAO3gB,MA5CPwa,QA+CF,SAAiBuG,GACf,IAAIJ,EACAW,EACAvZ,EACA2Z,EACAC,EAEJ,IAAK3hB,KAAKkhB,WACR,OAAOlhB,KAGT+gB,EAAQA,EAAMC,MAAMF,GACpB/Y,EAAO,GAAGkL,MAAMpQ,KAAKoK,UAAW,GAEhC,MAAQ0T,EAAOI,EAAMI,WAAaG,EAAYthB,KAAKkhB,WAAWP,KAC5De,EAAYL,EAASC,EAAUF,KAAMphB,KAAM,CAAC2gB,GAAM3f,OAAO+G,IACzD4Z,EAAaN,EAASC,EAAUxP,MAAO9R,KAAM,CAAC2gB,GAAM3f,OAAO+G,IAEvD2Z,KACFb,EAAUc,GAId,OAAO3hB,8BC7ETrB,EAAOC,QAAU,CACfsW,QAAS,+BACTa,SAAU,gDACVc,QAAS,gDACTZ,YAAa,8CACbC,WAAY,yECLd,IAAI0L,EAEJA,EAAoB,CAClB,EAAG,MACH,GAAI,MACJ,GAAI,OACJ,GAAI,QACJ,GAAI,QACJ,GAAI,KACJ,GAAI,QAGN,IAAIhN,EAAI,EAAQ,MACZ2C,EAAM,EAAQ,MACdE,EAAe,EAAQ,MAK3B,SAASoK,EAAMlK,GACb,IACImK,EACAC,EACAC,EACAC,EA2RuBC,EA/RvBrI,EAAO7Z,MAMX2X,EAAIA,GAAK,IAEFhC,OACLf,EAAEhC,MAAM,oBAIVkP,EAASlN,EAAEmH,KAAK/b,KAAKmiB,QAASniB,MAC9B+hB,EAAUnN,EAAEmH,KAAK/b,KAAKoiB,SAAUpiB,MAChCgiB,EAAYpN,EAAEmH,KAAK/b,KAAKqiB,WAAYriB,MACpCiiB,EAAUrN,EAAEmH,KAAK/b,KAAKsiB,SAAUtiB,MAEhCA,KAAKuiB,MAAQhL,EAAI6B,QAAQzB,EAAEtC,MAC3BrV,KAAKkiB,OAAS3K,EAAI6B,QAAQzB,EAAEhC,OACzBuH,GAAG,UAAW4E,GACd5E,GAAG,WAAY6E,GACf7E,GAAG,aAAc8E,GAGM,IAAtBhiB,KAAKuiB,MAAMle,SACbrE,KAAKwiB,QAAUxiB,KAAKyiB,QAAUziB,KAAK0iB,UAAY1iB,KAAK2iB,mBAAqB/N,EAAEgO,MAMxEhO,EAAEoC,SAGLhX,KAAKkiB,OAAOhF,GAAG,0CAA0C,SAASW,GAE5D+D,EAAkB/D,EAAGgF,OAAShF,EAAGiF,UAMrClO,EAAE7C,MAAM6C,EAAEmH,KAAKlC,EAAKyI,SAAUzI,EAAMgE,OAVtC7d,KAAKkiB,OAAOhF,GAAG,WAAY+E,GAgB7BjiB,KAAK2I,MAAQ3I,KAAKkiB,OAAO3R,MAGzBvQ,KAAK+iB,iBA2OsBb,EA3OgBliB,KAAKkiB,OA4OzC3K,EAAI6B,QAAQ,kCAChBnE,IAAI,CAEHE,SAAU,WACV6N,WAAY,SAEZ7M,WAAY,MAEZ8M,WAAYf,EAAOjN,IAAI,eACvBiO,SAAUhB,EAAOjN,IAAI,aACrBkO,UAAWjB,EAAOjN,IAAI,cACtBmO,YAAalB,EAAOjN,IAAI,gBACxBoO,WAAYnB,EAAOjN,IAAI,eACvBqO,YAAapB,EAAOjN,IAAI,gBACxBsO,cAAerB,EAAOjN,IAAI,kBAC1BuO,WAAYtB,EAAOjN,IAAI,eACvBwO,cAAevB,EAAOjN,IAAI,kBAC1ByO,cAAexB,EAAOjN,IAAI,oBAE3B0O,YAAYzB,IAOjB,SAAS0B,EAAa/F,GACpB,OAAOA,EAAGgG,QAAUhG,EAAGiG,SAAWjG,EAAGkG,SAAWlG,EAAGmG,SAjQrDnC,EAAMoC,eAAiB,SAASrM,GAE9B,OAAQA,GAAO,IAAIlF,QAAQ,QAAS,IAAIA,QAAQ,UAAW,MAM7DkC,EAAEqC,MAAM4K,EAAM5f,UAAWwV,EAAc,CAIrC0K,QAAS,WACPniB,KAAKkkB,kBACLlkB,KAAKkiB,OAAOpD,WAAW,yBACvB9e,KAAKwa,QAAQ,YAGf4H,SAAU,WACRpiB,KAAKwa,QAAQ,YAGf6H,WAAY,SAAmBxE,GAE7B,IAAIvU,EAAUsY,EAAkB/D,EAAGgF,OAAShF,EAAGiF,SAE/C9iB,KAAKmkB,sBAAsB7a,EAASuU,GAChCvU,GAAWtJ,KAAKokB,eAAe9a,EAASuU,IAC1C7d,KAAKwa,QAAQlR,EAAU,QAASuU,IAIpCyE,SAAU,WACRtiB,KAAKqkB,oBAGPF,sBAAuB,SAA8B7a,EAASuU,GAC5D,IAAIyG,EACAC,EACAC,EAEJ,OAAQlb,GACR,IAAK,MACHib,EAAYvkB,KAAKyiB,UACjB+B,EAAaxkB,KAAKykB,gBAElBH,EAAiBC,GACfA,IAAcC,IACbZ,EAAa/F,GAChB,MAEF,IAAK,KACL,IAAK,OACHyG,GAAkBV,EAAa/F,GAC/B,MAEF,QACEyG,GAAiB,EAGfA,GACFzG,EAAGyG,kBAIPF,eAAgB,SAAuB9a,EAASuU,GAC9C,IAAIrD,EAEJ,GACK,QADGlR,EAENkR,GAAWoJ,EAAa/F,QAIxBrD,GAAU,EAGZ,OAAOA,GAGT6J,iBAAkB,WAChB,IAAIG,EACAE,EACAC,EAyKsBC,EAAGC,EAvK7BL,EAAaxkB,KAAKykB,gBAuKQG,EAtKWJ,EAsKRK,EAtKoB7kB,KAAK2I,MACtDgc,MADAD,EAuKK7C,EAAMoC,eAAeW,KAAO/C,EAAMoC,eAAeY,MAtKZ7kB,KAAK2I,QAC7C3I,KAAK2I,MAAMtE,SAAWmgB,EAAWngB,OAEnCrE,KAAK2I,MAAQ6b,EAERE,EAEMC,GACT3kB,KAAKwa,QAAQ,oBAAqBxa,KAAK2I,OAFvC3I,KAAKwa,QAAQ,eAAgBxa,KAAK2I,QAQtCmc,MAAO,WACL9kB,KAAKkiB,OAAO4C,SAGdC,KAAM,WACJ/kB,KAAKkiB,OAAO6C,QAGdC,SAAU,WACR,OAAOhlB,KAAK2I,OAGdsc,SAAU,SAAkBtc,GAC1B3I,KAAK2I,MAAQA,GAGf8b,cAAe,WACb,OAAOzkB,KAAKkiB,OAAO3R,OAGrB2U,cAAe,SAAuBxiB,EAAOyiB,QACtB,IAAVziB,IACTA,EAAQ1C,KAAK2I,OAEf3I,KAAKkiB,OAAO3R,IAAI7N,GAGZyiB,EACFnlB,KAAK0iB,YAEL1iB,KAAKqkB,oBAITe,OAAQ,WACNplB,KAAKkiB,OAAOlH,KAAK,gBAAiB,SAGpCqK,SAAU,WACRrlB,KAAKkiB,OAAOlH,KAAK,gBAAiB,UAGpCsK,oBAAqB,SAA6BC,GAChDvlB,KAAKkiB,OAAOlH,KAAK,wBAAyBuK,IAG5CC,uBAAwB,WACtBxlB,KAAKkiB,OAAOpD,WAAW,0BAGzBoF,gBAAiB,WACflkB,KAAKklB,cAAcllB,KAAK2I,OAAO,IAGjC8Z,QAAS,WACP,OAAOziB,KAAKuiB,MAAMhS,OAGpBiS,QAAS,SAAiB9f,GACxB1C,KAAKuiB,MAAMhS,IAAI7N,IAGjBggB,UAAW,WACT1iB,KAAKwiB,QAAQ,KAGfG,mBAAoB,WAClB,IAAIpS,EACA8E,EACAoQ,EAKJA,GAFAlV,EAAMvQ,KAAKykB,oBACXpP,EAAOrV,KAAKyiB,YAC8C,IAAtBpN,EAAK9R,QAAQgN,GAC/B,KAARA,GAAckV,IAAsBzlB,KAAK0lB,eAGjD1lB,KAAK0iB,aAITiD,qBAAsB,WACpB,OAAQ3lB,KAAKkiB,OAAOjN,IAAI,cAAgB,OAAOpT,eAGjD6jB,YAAa,WAEX,IAAIE,EAAa5lB,KAAKkiB,OAAO2D,QAAU,EAIvC,OAFA7lB,KAAK+iB,gBAAgB+C,KAAK9lB,KAAKykB,iBAExBzkB,KAAK+iB,gBAAgB8C,SAAWD,GAGzCG,cAAe,WACb,IAAIC,EACAC,EACAC,EAKJ,OAHAF,EAAchmB,KAAKkiB,OAAO3R,MAAMlM,OAChC4hB,EAAiBjmB,KAAKkiB,OAAO,GAAG+D,eAE5BrR,EAAEuR,SAASF,GACNA,IAAmBD,GACjBhV,SAASoV,aAGlBF,EAAQlV,SAASoV,UAAUC,eACrBC,UAAU,aAAcN,GAEvBA,IAAgBE,EAAMJ,KAAKzhB,SAMtC+X,QAAS,WACPpc,KAAKuiB,MAAM9B,IAAI,OACfzgB,KAAKkiB,OAAOzB,IAAI,OAEhBzgB,KAAKuiB,MAAQviB,KAAKkiB,OAASliB,KAAK+iB,gBAAkB,QAsCtDpkB,EAAOC,QAAUijB,+BClVjB,IAAI0E,EAAW,UAEX3R,EAAI,EAAQ,MACZ2C,EAAM,EAAQ,MACdmJ,EAAW,EAAQ,MACnBmB,EAAQ,EAAQ,MAChBxF,EAAW,EAAQ,MACnB7E,EAAO,EAAQ,MACfvC,EAAM,EAAQ,MAMlB,SAASuR,EAAU7O,GACjB,IAAIuB,EACAqJ,EAoBJ,IAlBA5K,EAAIA,GAAK,IAEFhC,OACLf,EAAEhC,MAAM,iBAGV5S,KAAKymB,aAAc,EACnBzmB,KAAKP,QAAUkY,EAAElY,MACjBO,KAAK0mB,aAAe/O,EAAE+O,WACtB1mB,KAAK2mB,mBAAqBhP,EAAEgP,iBAC5B3mB,KAAK4mB,cAAgBjP,EAAEiP,YACvB5mB,KAAK6c,UAAYjI,EAAEuR,SAASxO,EAAEkF,WAAalF,EAAEkF,UAAY,EACzD7c,KAAK6mB,eAA6BtlB,IAAhBoW,EAAEkP,aAAoClP,EAAEkP,UAC1D7mB,KAAK8mB,kBAAoBnP,EAAEmP,gBAC3B9mB,KAAK+mB,qBAAyCxlB,IAAtBoW,EAAEoP,mBAA0CpP,EAAEoP,gBAEtEpP,EAAEtC,OAASsC,EAAEtC,KAETsC,EAAEtC,MAAQsC,EAAEZ,SACd,MAAM,IAAItO,MAAM,8EAGlBzI,KAAKiV,IAAM0C,EAAE1C,IAAML,EAAEqC,MAAM,GAAIhC,EAAK0C,EAAEZ,SAAW9B,EAAI8B,SAAW,IAChE/W,KAAK4Y,WAAajB,EAAEiB,WAAahE,EAAEqC,MAAM,GAAIhC,EAAIuB,eAAgBmB,EAAEiB,YAAc,IACjF5Y,KAAK4Y,WAAWlC,OACdiB,EAAEiB,WAAWC,gBAAkBjE,EAAEkE,aAAa9Y,KAAK4Y,WAAWlC,OAAQ1W,KAAK4Y,WAAWjC,UACxF3W,KAAKgnB,UAAYrP,EAAEqP,UAAY,CAAChnB,KAAK4Y,WAAWnC,KAAM,UAAW7B,EAAEoD,eAAelP,KAAK,KAEvF,IAAIme,EAscN,SAAkBxgB,GAChB,IAAIyb,EACAgF,EACAC,EACA5E,EAEJL,EAAS3K,EAAI6B,QAAQ3S,EAAQkP,OAC7BuR,EAAW3P,EACR6B,QAAQ5B,EAAKtC,QAAQxC,QAAQ,SAAUjM,EAAQmS,WAAWnC,OAC1DxB,IAAIxO,EAAQwO,IAAIC,SAKdzO,EAAQsQ,UAAsC,UAA1BmL,EAAOjN,IAAI,YAA6D,UAAnCiN,EAAO1E,SAASvI,IAAI,YAChFiS,EAASjS,IAAI,UAAW,cAE1B,IAAImS,EAAe5P,EAAKzB,SACtBrD,QAAQ,WAAYjM,EAAQmS,WAAWlC,QACvChE,QAAQ,kBAAmBjM,EAAQmS,WAAWhC,cAChDuQ,EAAY5P,EAAI6B,QAAQgO,GACrBnS,IAAIxO,EAAQwO,IAAIc,UAChBiF,KAAK,CACJC,KAAM,UACNC,GAAIzU,EAAQugB,YAEZvgB,EAAQoR,WAAapR,EAAQoR,UAAUjB,cACzCuQ,EAAU3P,KAAK5C,EAAE0D,WAAW7R,EAAQoR,UAAUjB,aAA/BhC,KAEjB2N,EAAQL,EAAOxiB,QAAQuV,IAAIxO,EAAQwO,IAAII,MAAMJ,IAiF/C,SAA6BgE,GAC3B,MAAO,CACLoO,qBAAsBpO,EAAIhE,IAAI,yBAC9BqS,eAAgBrO,EAAIhE,IAAI,mBACxBY,gBAAiBoD,EAAIhE,IAAI,oBACzBiC,gBAAiB+B,EAAIhE,IAAI,oBACzBsS,iBAAkBtO,EAAIhE,IAAI,qBAC1BuS,mBAAoBvO,EAAIhE,IAAI,uBAC5BwS,iBAAkBxO,EAAIhE,IAAI,qBAC1ByS,eAAgBzO,EAAIhE,IAAI,oBA1FuB0S,CAAoBzF,KAGlE3R,IAAI,IACJ+J,SAAS1F,EAAEoE,UAAUvS,EAAQmS,WAAWlC,OAAQjQ,EAAQmS,WAAWvD,MAAM,IACzEyJ,WAAW,gCACX8I,KAAK,YAAY,GACjB5M,KAAK,CACJ,cAAe,OACf6M,aAAc,MACdC,WAAY,QACZC,UAAW,IAEXxF,EAAMyF,YACRzF,EAAMyF,aAKR9F,EAAO7X,KAAKkc,EAAU,CACpB,oBAAqBrE,EAAOlH,KAAK,qBACjC,gBAAiBkH,EAAOlH,KAAK,iBAC7B,YAAakH,EAAOlH,KAAK,aACzB6M,aAAc3F,EAAOlH,KAAK,gBAC1B8E,IAAKoC,EAAOlH,KAAK,OACjBC,KAAMiH,EAAOlH,KAAK,QAClB8M,WAAY5F,EAAOlH,KAAK,cACxBiN,MAAO/F,EAAOlH,KAAK,SACnB2F,KAAMuB,EAAOlH,KAAK,UAGpBkH,EACG5H,SAAS1F,EAAEoE,UAAUvS,EAAQmS,WAAWlC,OAAQjQ,EAAQmS,WAAWjD,OAAO,IAC1EqF,KAAK,CACJ6M,aAAc,MACdC,YAAY,EAOZ7M,KAAM,WAGN,oBAAsBxU,EAAQiW,UAC5BjW,EAAQiW,SAAS,IAAMjW,EAAQiW,SAAS,GAAGtE,WAAa,OAAS,OAEnE,gBAAiB,QACjB,aAAc3R,EAAQyhB,UAGtB,YAAazhB,EAAQugB,YAEtB/R,IAAIxO,EAAQ4O,KAAO5O,EAAQwO,IAAIU,MAAQlP,EAAQwO,IAAIa,iBAGtD,IACOoM,EAAOlH,KAAK,QACfkH,EAAOlH,KAAK,MAAO,QAErB,MAAOlL,IAYT,OARAoX,EAAWzgB,EAAQsQ,SACfmQ,EAASnQ,SAASQ,EAAI6B,QAAQ3S,EAAQsQ,UAAUqI,GAAG,IAAIA,GAAG,GAC1D8C,EAAOiG,KAAKjB,GAAU1J,UAGvBxD,QAAQvT,EAAQ4O,KAAOkN,EAAQ,MAC/BrI,OAAOiN,GAEH,CACLjS,QAASgS,EACTvR,MAAOuM,EACP7M,KAAMkN,EACN9F,KAAM0K,GAhjBMiB,CAASzQ,GAEvB3X,KAAKqoB,MAAQpB,EAAQ/R,QACrB,IAAIgN,EAASliB,KAAKkiB,OAAS+E,EAAQtR,MACnCuD,EAAQ+N,EAAQxK,KAChB8F,EAAQ0E,EAAQ5R,KAEZsC,EAAE2Q,uBACJ/Q,EAAI6B,QAAQzB,EAAE2Q,uBACXrT,IAAI,WAAY,YAChBiF,OAAOhB,EAAMjE,IAAI,MAAO,MAO7BiN,EAAOhF,GAAG,WAAW,SAASW,GAC5B,IAAI0K,EAASvX,SAASwX,cAClB5T,EAAEoC,WAAakC,EAAM,KAAOqP,GAAUrP,EAAM,GAAGuP,SAASF,MAC1D1K,EAAGyG,iBAGHzG,EAAG6K,2BACH9T,EAAE7C,OAAM,WAAamQ,EAAO4C,eAKhC5L,EAAMgE,GAAG,gBAAgB,SAASW,GAAMA,EAAGyG,oBAE3CtkB,KAAK2oB,SAAWhR,EAAEgR,UAAY,IAAIjI,EAAS,CAACnH,GAAI2I,IAEhDliB,KAAK+V,SAAW,IAAIyQ,EAAUnK,SAAS,CACrCtF,SAAUY,EAAEZ,SACZ7B,QAASlV,KAAKqoB,MACd5L,KAAMvD,EACNwD,SAAU/E,EAAE+E,SACZ7E,UAAWF,EAAEE,UACbe,WAAYjB,EAAEiB,WACdiE,UAAW7c,KAAK6c,YAEfY,OAAO,oBAAqBzd,KAAK4oB,qBAAsB5oB,MACvDyd,OAAO,cAAezd,KAAK6oB,eAAgB7oB,MAC3Cyd,OAAO,gBAAiBzd,KAAK8oB,iBAAkB9oB,MAC/Cyd,OAAO,SAAUzd,KAAK+oB,UAAW/oB,MACjCyd,OAAO,SAAUzd,KAAKgpB,UAAWhpB,MACjCyd,OAAO,QAASzd,KAAKipB,SAAUjpB,MAC/Byd,OAAO,QAASzd,KAAKkpB,SAAUlpB,MAC/Byd,OAAO,UAAWzd,KAAKmpB,WAAYnpB,MACnCyhB,QAAQ,kBAAmBzhB,KAAKopB,mBAAoBppB,MAEvDA,KAAK2V,MAAQ,IAAI6Q,EAAU3E,MAAM,CAAClM,MAAOuM,EAAQ7M,KAAMkN,IACpD9E,OAAO,UAAWzd,KAAKqpB,WAAYrpB,MACnCyd,OAAO,UAAWzd,KAAKspB,WAAYtpB,MACnCyd,OAAO,aAAczd,KAAKupB,cAAevpB,MACzCyd,OAAO,WAAYzd,KAAKwpB,YAAaxpB,MACrCyd,OAAO,WAAYzd,KAAKypB,YAAazpB,MACrCyd,OAAO,UAAWzd,KAAK0pB,WAAY1pB,MACnCyd,OAAO,YAAazd,KAAK2pB,aAAc3pB,MACvCyd,OAAO,YAAazd,KAAK4pB,aAAc5pB,MACvCyd,OAAO,aAAczd,KAAK6pB,cAAe7pB,MACzCyd,OAAO,eAAgBzd,KAAK8pB,gBAAiB9pB,MAC7Cyd,OAAO,oBAAqBzd,KAAK+pB,qBAAsB/pB,MAE1DA,KAAKgqB,uBAAuBrS,GAE5B3X,KAAKiqB,wBAMPrV,EAAEqC,MAAMuP,EAAUvkB,UAAW,CAG3B+nB,uBAAwB,SAASvjB,GAC/B,GAAKA,EAAQyjB,kBAAb,CAGA,IAAIhI,EAASliB,KAAKkiB,OACdgI,EAAoB,GACxBtV,EAAEwG,KAAK3U,EAAQyjB,mBAAmB,SAASliB,GACtB,iBAARA,IACTA,EAAMA,EAAImiB,cAAcC,WAAW,IAErCF,EAAkB/iB,KAAKa,MAEzBuP,EAAI6B,QAAQpI,UAAUqZ,SAAQ,SAASpa,GACrC,IAAI8N,EAAO9N,EAAMqa,QAAUra,EAAMsa,WAC7BC,EAAUzM,EAAIyM,QAClB,IAAIzM,EAAI0M,mBAAiC,UAAZD,GAAmC,WAAZA,GAAoC,aAAZA,EAA5E,CAKA,IAAI3H,EAAQ5S,EAAM4S,OAAS5S,EAAM6S,SACS,IAAtCoH,EAAkB3mB,QAAQsf,KAK9BX,EAAO4C,QACP7U,EAAMya,kBACNza,EAAMqU,wBAIVsE,qBAAsB,SAA6BjI,EAAM1H,GACvD,IAAIS,GAGAA,EAAQ1Z,KAAK+V,SAASkK,sBAAsBhH,KAC9CjZ,KAAK2qB,QAAQjR,EAHD,CAACkR,gBAAiB,WAOlC/B,eAAgB,SAAuB5Y,EAAO4O,GAC5C,IAAInF,EAAQ1Z,KAAK+V,SAASsK,oBACtBwK,EAAkB7qB,KAAK+V,SAASqK,mBAAmBpF,KAAK,MAC5Dhb,KAAK2V,MAAM2P,oBAAoBuF,GAE3BnR,IACEmF,GACF7e,KAAK2V,MAAMuP,cAAcxL,EAAMhX,OAAO,GAGxC1C,KAAK2oB,SAASnO,QAAQ,gBAAiBd,EAAMwG,IAAKxG,EAAMyG,eAI5D2I,iBAAkB,WAChB9oB,KAAK2V,MAAMuO,kBACXlkB,KAAK8qB,cACL9qB,KAAK2oB,SAASnO,QAAQ,kBAGxB4O,mBAAoB,WAClBppB,KAAK8qB,cAEL9qB,KAAK2oB,SAASnO,QAAQ,YAGxBuO,UAAW,WACT/oB,KAAK8qB,cACL9qB,KAAK2V,MAAMyP,SAEXplB,KAAK2oB,SAASnO,QAAQ,WAGxB0O,SAAU,WACRlpB,KAAK2oB,SAASnO,QAAQ,UAGxB2O,WAAY,WACVnpB,KAAKqoB,MAAMpT,IAAI,MAAO,OACtBjV,KAAKqoB,MAAMpT,IAAI,OAAQ,OAEvB,IAAI8V,EAAY/qB,KAAKkiB,OAAO,GAAG8I,wBAE3BhrB,KAAK6mB,WACP7mB,KAAKqoB,MAAMpT,IAAI,QAAS8V,EAAUlF,MAAQ,MAG5C,IAAIoF,EAAcjrB,KAAKqoB,MAAM,GAAG2C,wBAE5B1V,EAAMyV,EAAUG,OAASD,EAAY3V,IACzCtV,KAAKqoB,MAAMpT,IAAI,MAAOK,EAAM,MAC5B,IAAIC,EAAOwV,EAAUxV,KAAO0V,EAAY1V,KACxCvV,KAAKqoB,MAAMpT,IAAI,OAAQM,EAAO,MAE9BvV,KAAK2oB,SAASnO,QAAQ,YAGxByO,SAAU,WACRjpB,KAAK2oB,SAASnO,QAAQ,SAClBxa,KAAK0mB,YACP1mB,KAAK+V,SAASwK,uBAIlByI,UAAW,WACThpB,KAAK2V,MAAM+M,YACX1iB,KAAK2V,MAAM6P,yBACXxlB,KAAK2V,MAAM0P,WAEXrlB,KAAK2oB,SAASnO,QAAQ,WAGxB6O,WAAY,WAGV,GAFArpB,KAAKymB,aAAc,EAEfzmB,KAAK4mB,YAAa,CACpB,IAAIje,EAAQ3I,KAAK2V,MAAMqP,WACnBrc,EAAMtE,QAAUrE,KAAK6c,UACvB7c,KAAK+V,SAASuF,OAAO3S,GAErB3I,KAAK+V,SAASe,QAGhB9W,KAAK+V,SAAS5F,SAIlBmZ,WAAY,WACV,IAAI6B,EACAC,EAEJD,EAAcnrB,KAAK+V,SAASsK,oBAC5B+K,EAAqBprB,KAAK+V,SAASuK,2BACnC,IAAI5H,EAAU,CAACkS,gBAAiB,QAE3B5qB,KAAKP,QACJO,KAAK2mB,kBAAoBwE,EAC3BnrB,KAAK2qB,QAAQQ,EAAazS,GACjB1Y,KAAK2mB,kBAAoByE,EAClCprB,KAAK2qB,QAAQS,EAAoB1S,IAEjC1Y,KAAKymB,aAAc,EACnBzmB,KAAK+V,SAASe,QACd9W,KAAK+V,SAAS6J,WAKpB2J,cAAe,SAAsB5I,EAAM9C,GACzC,IAAIsN,EACAC,EAEJD,EAAcnrB,KAAK+V,SAASsK,oBAC5B+K,EAAqBprB,KAAK+V,SAASuK,2BACnC,IAAI5H,EAAU,CAACkS,gBAAiB,YAE5BO,GACFnrB,KAAK2qB,QAAQQ,EAAazS,GAC1BmF,EAAGyG,kBACMtkB,KAAK0mB,YAAc0E,IAC5BprB,KAAK2qB,QAAQS,EAAoB1S,GACjCmF,EAAGyG,mBAIPkF,YAAa,SAAoB7I,EAAM9C,GACrC,GAAK7d,KAAK+mB,gBAAV,CAMA,IAAIrN,GAGAA,EAAQ1Z,KAAK+V,SAASsK,sBACxBrgB,KAAK2qB,QAAQjR,EAHD,CAACkR,gBAAiB,WAI9B/M,EAAGyG,kBAEHtkB,KAAKqrB,eAAc,QAXnBrrB,KAAK+V,SAAS6J,SAelB6J,YAAa,WACXzpB,KAAK+V,SAAS6J,QACd5f,KAAK2V,MAAMuO,mBAGbwF,WAAY,WACV,IAAI/gB,EAAQ3I,KAAK2V,MAAMqP,WAEnBhlB,KAAK+V,SAAS0E,SAAW9R,EAAMtE,QAAUrE,KAAK6c,UAChD7c,KAAK+V,SAASuF,OAAO3S,GAErB3I,KAAK+V,SAASgK,eAGhB/f,KAAK+V,SAAS5F,QAGhBwZ,aAAc,WACZ,IAAIhhB,EAAQ3I,KAAK2V,MAAMqP,WAEnBhlB,KAAK+V,SAAS0E,SAAW9R,EAAMtE,QAAUrE,KAAK6c,UAChD7c,KAAK+V,SAASuF,OAAO3S,GAErB3I,KAAK+V,SAASiK,iBAGhBhgB,KAAK+V,SAAS5F,QAGhByZ,aAAc,WACK,QAAb5pB,KAAK8f,KACP9f,KAAKqrB,iBAITxB,cAAe,WACI,QAAb7pB,KAAK8f,KACP9f,KAAKqrB,iBAITvB,gBAAiB,SAAwBha,EAAGnH,GAC1C3I,KAAK2V,MAAMgN,qBAEPha,EAAMtE,QAAUrE,KAAK6c,UACvB7c,KAAK+V,SAASuF,OAAO3S,GAErB3I,KAAK+V,SAASe,QAGhB9W,KAAK+V,SAAS5F,OACdnQ,KAAKiqB,yBAGPF,qBAAsB,WACpB/pB,KAAK8qB,cACL9qB,KAAK+V,SAAS5F,QAGhB8Z,sBAAuB,WACrB,IAAInK,EAAM9f,KAAK2V,MAAMgQ,uBAEjB3lB,KAAK8f,MAAQA,IACf9f,KAAK8f,IAAMA,EACX9f,KAAKqoB,MAAMpT,IAAI,YAAa6K,GAC5B9f,KAAK+V,SAAS8J,qBAAqBC,KAIvCgL,YAAa,WACX,IAAIpR,EACAnJ,EACA5H,EACA2iB,EAEAC,GAEJ7R,EAAQ1Z,KAAK+V,SAASuK,6BAETtgB,KAAK+V,SAASyK,cAAgBxgB,KAAK2V,MAAM+P,eACpDnV,EAAMvQ,KAAK2V,MAAM8O,gBACjB9b,EAAQkZ,EAAMoC,eAAe1T,GAC7B+a,EAAe1W,EAAE4W,iBAAiB7iB,IAIlC4iB,EADkB,IAAIE,OAAO,OAASH,EAAe,SAAU,KACvCI,KAAKhS,EAAMhX,QAIjC1C,KAAK2V,MAAM6M,QAAQjS,EAAMgb,EAAM,IAE/BvrB,KAAK2V,MAAM+M,aAGb1iB,KAAK2V,MAAM+M,aAIf2I,cAAe,SAAsBM,GACnC,IAAItW,EACA1M,EACAod,EACArM,EAEJrE,EAAOrV,KAAK2V,MAAM8M,UAClB9Z,EAAQ3I,KAAK2V,MAAMqP,WACnBe,EAAgB4F,GAAa3rB,KAAK2V,MAAMoQ,gBAEpC1Q,GAAQ1M,IAAU0M,GAAQ0Q,KAC5BrM,EAAQ1Z,KAAK+V,SAASuK,6BAEpBtgB,KAAK2V,MAAMuP,cAAcxL,EAAMhX,OAGjC1C,KAAK2oB,SAASnO,QAAQ,gBAAiBd,EAAMwG,IAAKxG,EAAMyG,eAI5DwK,QAAS,SAAgBjR,EAAOhB,QACH,IAAhBgB,EAAMhX,OACf1C,KAAK2V,MAAMsP,SAASvL,EAAMhX,OAExB1C,KAAK8mB,gBACP9mB,KAAK4rB,OAAO,IAEZ5rB,KAAK2V,MAAMuP,cAAcxL,EAAMhX,OAAO,GAGxC1C,KAAKiqB,yBAG8B,IADvBjqB,KAAK2oB,SAASnO,QAAQ,WAAYd,EAAMwG,IAAKxG,EAAMyG,YAAazH,GAClEmT,uBACR7rB,KAAK+V,SAAS6J,QAIdhL,EAAE7C,MAAM6C,EAAEmH,KAAK/b,KAAK+V,SAASe,MAAO9W,KAAK+V,aAM7C5F,KAAM,WAIJ,IAAKnQ,KAAKymB,YAAa,CACrB,IAAI9d,EAAQ3I,KAAK2V,MAAM8O,gBACnB9b,EAAMtE,QAAUrE,KAAK6c,UACvB7c,KAAK+V,SAASuF,OAAO3S,GAErB3I,KAAK+V,SAASe,QAGlB9W,KAAK+V,SAAS5F,QAGhByP,MAAO,WACL5f,KAAK+V,SAAS6J,SAGhBgM,OAAQ,SAAgBrb,GAEtBA,EAAMqE,EAAEkX,MAAMvb,GAEVvQ,KAAKymB,YACPzmB,KAAK2V,MAAMuP,cAAc3U,IAEzBvQ,KAAK2V,MAAMsP,SAAS1U,GACpBvQ,KAAK2V,MAAMuP,cAAc3U,GAAK,IAGhCvQ,KAAKiqB,yBAGP8B,OAAQ,WACN,OAAO/rB,KAAK2V,MAAMqP,YAGpB5I,QAAS,WACPpc,KAAK2V,MAAMyG,UACXpc,KAAK+V,SAASqG,UAuIlB,SAA6BiM,EAAOzP,GAClC,IAAIsJ,EAASmG,EAAMlP,KAAKvE,EAAEoE,UAAUJ,EAAWlC,OAAQkC,EAAWjD,QAIlEf,EAAEwG,KAAK8G,EAAO7X,KAAKkc,IAAW,SAAShW,EAAKvI,QAC9BzG,IAARgP,EACF2R,EAAOpD,WAAW9W,GAElBka,EAAOlH,KAAKhT,EAAKuI,MAIrB2R,EACG8J,SACAzR,YAAY3F,EAAEoE,UAAUJ,EAAWlC,OAAQkC,EAAWjD,OAAO,IAC7DgO,YAAY0E,GACXnG,EAAO8F,YACT9F,EAAO8F,WAAWzB,GAGpB8B,EAAM4D,SA1JJC,CAAoBlsB,KAAKqoB,MAAOroB,KAAK4Y,YAErC5Y,KAAKqoB,MAAQ,MAGf8D,WAAY,WACV,OAAOnsB,KAAK+V,SAASoH,WAAW,MAuJpCqJ,EAAUnK,SAAWA,EACrBmK,EAAU3E,MAAQA,EAClB2E,EAAU9S,QAAU,EAAQ,MAE5B/U,EAAOC,QAAU4nB,yBC3oBjB7nB,EAAOC,QAAU,CACfwa,QAAS,6BCFXza,EAAOC,QAAU,SAAmCwtB,GAClD,IAAIC,EAASD,EAAMb,MAAM,sDACzB,GAAIc,EAAQ,MAAO,CAACA,EAAO,GAAIA,EAAO,GAAIA,EAAO,kCCDnD,IAsFQC,EAtFJ/U,EAAM,EAAQ,MAElB,SAASgV,EAAa3U,GACpB,OAAOA,EAAIlF,QAAQ,sCAAuC,QAG5D/T,EAAOC,QAAU,CAIfe,QAAS,KACTuY,WAAY,KACZyE,SAAU,KACVZ,KAAM,KACNX,KAAM,KACNxb,IAAK,KACLqX,MAAO,KAEPD,OAAQ,SAASwV,GAGf,QAFoBjrB,IAAhBirB,IAA6BA,EAAcC,UAAUC,WAErD,kBAAoBjsB,KAAK+rB,GAAc,CACzC,IAAIjB,EAAQiB,EAAYjB,MAAM,4BAC9B,GAAIA,EAAS,OAAOA,EAAM,GAE5B,OAAO,GAITC,iBAAkB,SAAS5T,GACzB,OAAOA,EAAIlF,QAAQ,sCAAuC,SAG5DyT,SAAU,SAASpkB,GAAO,MAAsB,iBAARA,GAExC+pB,MAAO,SAAea,GACpB,OAAOA,MAAAA,EAAgC,GAAKA,EAAI,IAGlDte,UAAW,SAAmBtM,GAC5B,IAAIrC,EAAQM,KAAKiX,MAAM,GAAIlV,GACvB6Y,EAAO5a,KAUX,OATAA,KAAKob,KAAK1b,GAAO,SAASgD,EAAOsF,GAC3BtF,IACEkY,EAAKjb,QAAQ+C,GACfhD,EAAMsI,GAAO,GAAGhH,OAAO0B,GACdkY,EAAK+B,SAASja,KACvBhD,EAAMsI,GAAO4S,EAAKvM,UAAU3L,QAI3BhD,GAGTkT,MAAO,SAASga,GACd,MAAM,IAAInkB,MAAMmkB,IAGlBvO,MAAO,SAAStc,EAAKtB,GACnB,IAAIosB,GAAS,EACb,OAAK9qB,GAGL/B,KAAKob,KAAKrZ,GAAK,SAASwO,EAAKvI,GACvB6kB,IACFA,EAASpsB,EAAKoC,KAAK,KAAM0N,EAAKvI,EAAKjG,IAAQ8qB,QAGtCA,GAPAA,GAUXpO,IAAK,SAAS1c,EAAKtB,GACjB,IAAIqsB,GAAQ,EACZ,OAAK/qB,GAGL/B,KAAKob,KAAKrZ,GAAK,SAASwO,EAAKvI,GAC3B,GAAIvH,EAAKoC,KAAK,KAAM0N,EAAKvI,EAAKjG,GAE5B,OADA+qB,GAAQ,GACD,KAGJA,GAREA,GAWX9U,aACMsU,EAAU,EACP,WAAa,OAAOA,MAG7BhU,WAAY,SAAoBvW,GAC9B,GAAI/B,KAAKkY,WAAWnW,GAClB,OAAOA,EAET,IAAIgrB,EAAYxV,EAAI6B,QAAQrX,GAC5B,MAAkC,WAA9BgrB,EAAUnF,KAAK,WACV,WAAsB,OAAOmF,EAAUjH,QAEzC,WAAsB,OAAOkH,OAAOjrB,KAG7CgQ,MAAO,SAASI,GAAM9M,WAAW8M,EAAI,IAErCyQ,KAAM,aAEN9J,aAAc,SAASpC,EAAQC,GAC7B,OAAOA,EAAW,GAAKD,EAAS,KAGlCsC,UAAW,SAAStC,EAAQqC,EAAOkU,GACjC,OAAQA,EAAU,GAAK,KAAOvW,EAASqC,GAGzCmU,wBAAyB,SAAStV,EAAKuV,EAAiBC,GACtDD,EAAkBA,GAAmB,OACrC,IAAIE,EAAMrc,SAASG,cAAc,OACjCkc,EAAIpb,YAAYjB,SAASsc,eAAeH,IAExCC,EAAmBA,GAAoB,QACvC,IAAIG,EAAOvc,SAASG,cAAc,OAClCoc,EAAKtb,YAAYjB,SAASsc,eAAeF,IAEzC,IAAII,EAAMxc,SAASG,cAAc,OAEjC,OADAqc,EAAIvb,YAAYjB,SAASsc,eAAe1V,IACjC4V,EAAIC,UACR/a,QAAQ+Y,OAAOc,EAAac,EAAII,WAAY,KAAMN,GAClDza,QAAQ+Y,OAAOc,EAAagB,EAAKE,WAAY,KAAML,kCC9H1D,IAAIxY,EAAI,EAAQ,MACZpG,EAAU,EAAQ,MAClBkf,EAA4B,EAAQ,MAExC/uB,EAAOC,QAAU,SAAgBmV,EAAOzP,GACtC,IAAIqpB,EAAiBD,EAA0B3Z,EAAMxH,GAAGlL,KAKxD,OAJIssB,GAAkBA,EAAe,IAAM,GAAKA,EAAe,GAAK,MAClErpB,EAASA,GAAU,IACZR,aAAe,mBAAqB0K,GAI7C,SAAkB7F,EAAOiI,GACvBmD,EAAMxL,OAAOI,EAAOrE,GAAQ,SAASsO,EAAOxN,GACtCwN,EACFgC,EAAEhC,MAAMA,EAAM/L,SAGhB+J,EAAGxL,EAAQwoB,KAAMxoB,qCClBvBzG,EAAOC,QAAU,CACfgvB,KAAM,EAAQ,MACdC,UAAW,EAAQ,oCCFrB,IAAIjZ,EAAI,EAAQ,MACZpG,EAAU,EAAQ,MAClBkf,EAA4B,EAAQ,MAExC/uB,EAAOC,QAAU,SAAmBmV,EAAOzP,EAAQwpB,EAASrnB,GAC1D,IAAIknB,EAAiBD,EAA0B3Z,EAAMxH,GAAGlL,KAKxD,GAJIssB,GAAkBA,EAAe,IAAM,GAAKA,EAAe,GAAK,MAClErpB,EAASA,GAAU,IACZR,aAAe,mBAAqB0K,IAExCsf,EAAQna,OACX,OAAOiB,EAAEhC,MAAM,wBAEjB,IAAIe,EAASiB,EAAEsD,WAAW4V,EAAQna,QAAUma,EAAQna,OAAS,SAASoa,GAAO,OAAOA,EAAID,EAAQna,SAEhG,IAAKma,EAAQ/Z,MACX,OAAOa,EAAEhC,MAAM,uBAEjB,IAAIob,EAAeF,EAAQ/Z,MAI3B,OAFAtN,EAAUA,GAAW,GAIrB,SAAkBkC,EAAOiI,GACvBmD,EAAMxL,OAAOI,EAAOrE,GAAQ,SAASsO,EAAOxN,GAC1C,GAAIwN,EACFgC,EAAEhC,MAAMA,EAAM/L,aADhB,CAKA,GAAIzB,EAAQwoB,KAAKvpB,OAAS,EAAG,CAC3B,IAAIua,EAAQxZ,EAAQwoB,KAAK,GAErBK,EAAgBrZ,EAAEqC,MAAM,CAACnK,YAAa,GAAIghB,UACvCG,EAActa,cACdsa,EAAcla,MAErB,IAAIma,EAAwBR,EAA0BM,EAAazhB,GAAGlL,KAsCtE,OArCI6sB,GAAyBA,EAAsB,IAAM,GAAKA,EAAsB,GAAK,KACvF5pB,EAAOR,aAAe,mBAAqB0K,QAG7Cwf,EAAazlB,OAAOoL,EAAOiL,GAAQqP,GAAe,SAASE,EAAQC,GACjE,GAAID,EACFvZ,EAAEhC,MAAMub,EAAOtnB,aADjB,CAKA,IAAIoP,EAAc,GAGlB,GAAIxP,EAAQ4nB,WAAY,CACtB,IAAIC,EAAQ7nB,EAAQ8nB,UAAY,kBAChCtY,EAAY9O,KAAKyN,EAAEqC,MAAM,CACvBuX,MAAO,CAAC9rB,MAAO4rB,EAAOG,MAAOL,EAASM,SACrC9Z,EAAEvG,UAAUuQ,KAIjBhK,EAAEwG,KAAKgT,EAASO,QAAQ,SAASC,EAAQJ,GACvC5Z,EAAEwG,KAAKwT,GAAQ,SAASH,EAAO/rB,GAC7BuT,EAAY9O,KAAKyN,EAAEqC,MAAM,CACvBuX,MAAO,CAACA,MAAOA,EAAO9rB,MAAOA,EAAO+rB,MAAOA,IAC1C7Z,EAAEvG,UAAUuQ,WAKnB,IAAK,IAAIjV,EAAI,EAAGA,EAAIvE,EAAQwoB,KAAKvpB,SAAUsF,EACzCsM,EAAY9O,KAAK/B,EAAQwoB,KAAKjkB,IAGhCiH,EAAGqF,EAAa7Q,OAMpBwL,EAAG,uCC9ET,IAAIie,EAAQ,EAAQ,MAGV,EAAQ,MACdzV,QAAUyV,EAGd,IAAIja,EAAI,EAAQ,MAChBA,EAAEjV,QAAUkvB,EAAMlvB,QAClBiV,EAAEsD,WAAa2W,EAAM3W,WACrBtD,EAAE+H,SAAWkS,EAAMC,cACnBla,EAAEmH,KAAO8S,EAAME,MACfna,EAAEwG,KAAO,SAAS4T,EAAYpe,GAE5Bie,EAAMzT,KAAK4T,GACX,SAAqBjb,EAAOrR,GAC1B,OAAOkO,EAAGlO,EAAOqR,OAGrBa,EAAEhV,IAAMivB,EAAMjvB,IACdgV,EAAEqC,MAAQ4X,EAAMI,OAChBra,EAAEgM,MAAQiO,EAAMjO,MAEhB,IAAIsO,EAAe,iBACf1I,EAAY,EAAQ,MACpB9F,EAAW,EAAQ,MAEvB,SAASmH,EAAasH,EAAU1oB,EAASiW,EAAU0S,GACjD1S,EAAW9H,EAAEjV,QAAQ+c,GAAYA,EAAW,GAAGzJ,MAAMpQ,KAAKoK,UAAW,GAErE,IAAIoiB,EAASR,EAAMM,GAAU/T,MAAK,SAASzR,EAAGgM,GAC5C,IAAIuM,EAAS2M,EAAMlZ,GACfgT,EAAW,IAAIjI,EAAS,CAACnH,GAAI2I,IAC7BoN,EAAYF,GAAmB,IAAI5I,EAAU,CAC/C7Q,MAAOuM,EACPyG,SAAUA,EACVL,sBAAuB7hB,EAAQ6hB,sBAC/BjT,UAAuB9T,IAAjBkF,EAAQ4O,QAA8B5O,EAAQ4O,KACpDwH,UAAWpW,EAAQoW,UACnB6J,WAAYjgB,EAAQigB,WACpBC,iBAAkBlgB,EAAQkgB,iBAC1BI,gBAAiBtgB,EAAQsgB,gBACzBH,YAAangB,EAAQmgB,YACrB/O,UAAWpR,EAAQoR,UACnBpY,MAAOgH,EAAQhH,MACfqnB,gBAAiBrgB,EAAQqgB,gBACzBlO,WAAYnS,EAAQmS,WACpB8D,SAAUA,EACVwN,kBAAmBzjB,EAAQyjB,kBAC3BnT,SAAUtQ,EAAQsQ,SAClB8P,UAAWpgB,EAAQogB,UACnBqB,UAAWzhB,EAAQyhB,WAAavS,EAAM4Z,aAAa,gBAErDrN,EAAO7X,KAAK6kB,EAAcI,MAiB5B,OAbAD,EAAOxH,aAAe,GACtBjT,EAAEwG,KAAK,CAAC,OAAQ,QAAS,SAAU,SAAU,UAAW,eAAe,SAASjV,GAC9EkpB,EAAOxH,aAAa1hB,GAAU,WAC5B,IACI0mB,EADA2C,EAAkBviB,UAMtB,OAJAoiB,EAAOjU,MAAK,SAASvR,EAAG8L,GACtB,IAAI2Z,EAAYT,EAAMlZ,GAAOtL,KAAK6kB,GAClCrC,EAASyC,EAAUnpB,GAAQ2I,MAAMwgB,EAAWE,MAEvC3C,MAIJwC,EAGTxH,EAAanU,QAAU8S,EAAU9S,QACjCmU,EAAaqF,wBAA0BtY,EAAEsY,wBAEzC,IAAIuC,EAAqB,iBAAkBne,OACvCoe,EAAkBpe,OAAOuW,aAC7BA,EAAa8H,WAAa,WAMxB,OALIF,EACFne,OAAOuW,aAAe6H,SAEfpe,OAAOuW,aAETA,GAGTlpB,EAAOC,QAAUipB,YC1FjBlpB,EAAOC,QAAU,mBCEhB,IAASiP,EAAAA,EAE4GyD,OADpH3S,EAAOC,QACqH,SAAS0S,GACrI,IA0rCgB/Q,EAAZY,EA1rCAyuB,EAAQ,WACZ,IAAIruB,EAAWyG,EAAK6nB,EAAGC,EA2BrBC,EAAUC,EA3BsBC,EAAa,GAAIjvB,EAASivB,EAAWjvB,OAAQkvB,EAASD,EAAWC,OAAQjd,EAAQgd,EAAWhd,MAC5HjC,EAAWM,EAAON,SAClBmf,EAAiB,GAAIC,EAAa,GAClCC,EAAY,CAAE,eAAgB,EAAG,QAAW,EAAG,cAAe,EAAG,cAAe,EAAE,QAAW,EAAG,UAAW,EAAG,KAAQ,GACtHC,EAAa,qBACbC,EAAc,6BACdC,EAAgB,0EAChBC,EAAa,mBACbC,EAAY,WAGZC,EAAmB,CAAC,MAAO,MAAO,OAAQ,OAAQ,OAAQ,QAAS,SAAU,UAE7EC,EAAqB,CAAE,QAAS,UAAW,SAAU,UACrDC,EAAQ7f,EAASG,cAAc,SAC/B2f,EAAW9f,EAASG,cAAc,MAClC4f,EAAa,CACX,GAAM/f,EAASG,cAAc,SAC7B,MAAS0f,EAAO,MAASA,EAAO,MAASA,EACzC,GAAMC,EAAU,GAAMA,EACtB,IAAK9f,EAASG,cAAc,QAE9B6f,EAAU,8BACVC,EAAmB,WACnBC,EAAa,GACbhpB,EAAWgpB,EAAWhpB,SACtB2mB,EAAQ,GAERsC,EAAangB,EAASG,cAAc,OACpCigB,EAAU,CACR,SAAY,WACZ,SAAY,WACZ,IAAO,UACP,MAAS,YACT,UAAa,YACb,YAAe,cACf,YAAe,cACf,QAAW,UACX,QAAW,UACX,OAAU,SACV,YAAe,cACf,gBAAmB,mBAErBzxB,EAAUqC,MAAMrC,SACd,SAAS0xB,GAAS,OAAOA,aAAkBrvB,OAgB/C,SAAS2e,EAAK5e,GACZ,OAAc,MAAPA,EAAcirB,OAAOjrB,GAC1BmvB,EAAWhpB,EAASrF,KAAKd,KAAS,SAGtC,SAASmW,EAAWxV,GAAS,MAAsB,YAAfie,EAAKje,GACzC,SAAS4uB,EAASvvB,GAAW,OAAc,MAAPA,GAAeA,GAAOA,EAAIuP,OAC9D,SAASigB,EAAWxvB,GAAS,OAAc,MAAPA,GAAeA,EAAIyvB,UAAYzvB,EAAI0vB,cACvE,SAAS9U,EAAS5a,GAAW,MAAoB,UAAb4e,EAAK5e,GACzC,SAAS+sB,EAAc/sB,GACrB,OAAO4a,EAAS5a,KAASuvB,EAASvvB,IAAQY,OAAO+uB,eAAe3vB,IAAQY,OAAOV,UAGjF,SAAS0vB,EAAU5vB,GACjB,IAAIsC,IAAWtC,GAAO,WAAYA,GAAOA,EAAIsC,OAC3Csc,EAAOkP,EAAElP,KAAK5e,GAEhB,MAAO,YAAc4e,IAAS2Q,EAASvvB,KACrC,SAAW4e,GAAmB,IAAXtc,GACC,iBAAVA,GAAsBA,EAAS,GAAMA,EAAS,KAAMtC,GAIlE,SAAS6vB,EAAQ1mB,GAAS,OAAOglB,EAAOrtB,KAAKqI,GAAO,SAASqI,GAAO,OAAe,MAARA,KAC3E,SAASse,EAAQ3mB,GAAS,OAAOA,EAAM7G,OAAS,EAAIwrB,EAAE1d,GAAGnR,OAAO8N,MAAM,GAAI5D,GAASA,EAEnF,SAAS4mB,EAAUla,GACjB,OAAOA,EAAIlF,QAAQ,MAAO,KAClBA,QAAQ,wBAAyB,SACjCA,QAAQ,oBAAqB,SAC7BA,QAAQ,KAAM,KACd7Q,cAIV,SAASkwB,EAAQ9uB,GACf,OAAOA,KAAQmtB,EACbA,EAAWntB,GAASmtB,EAAWntB,GAAQ,IAAIwoB,OAAO,UAAYxoB,EAAO,WAGzE,SAAS+uB,EAAW/uB,EAAMP,GACxB,MAAwB,iBAATA,GAAsB2tB,EAAUyB,EAAU7uB,IAAyBP,EAAfA,EAAQ,KAG7E,SAASuvB,EAAeC,GACtB,IAAI9Y,EAAShE,EASb,OARK+a,EAAe+B,KAClB9Y,EAAUpI,EAASG,cAAc+gB,GACjClhB,EAAStN,KAAKuO,YAAYmH,GAC1BhE,EAAU+c,iBAAiB/Y,EAAS,IAAIgZ,iBAAiB,WACzDhZ,EAAQiZ,WAAWzgB,YAAYwH,GACpB,QAAXhE,IAAsBA,EAAU,SAChC+a,EAAe+B,GAAY9c,GAEtB+a,EAAe+B,GAGxB,SAAS/W,EAAS/B,GAChB,MAAO,aAAcA,EACnBnG,EAAMpQ,KAAKuW,EAAQ+B,UACnB0U,EAAEjwB,IAAIwZ,EAAQkZ,YAAY,SAASC,GAAO,GAAqB,GAAjBA,EAAKf,SAAe,OAAOe,KAG7E,SAASC,EAAEC,EAAKtD,GACd,IAAIxlB,EAAG6X,EAAMiR,EAAMA,EAAIpuB,OAAS,EAChC,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,IAAK3J,KAAK2J,GAAK8oB,EAAI9oB,GACxC3J,KAAKqE,OAASmd,EACdxhB,KAAKmvB,SAAWA,GAAY,GAuG9B,SAASF,EAAO3E,EAAQ3W,EAAQ+e,GAC9B,IAAK1qB,KAAO2L,EACN+e,IAAS5D,EAAcnb,EAAO3L,KAASrI,EAAQgU,EAAO3L,MACpD8mB,EAAcnb,EAAO3L,MAAU8mB,EAAcxE,EAAOtiB,MACtDsiB,EAAOtiB,GAAO,IACZrI,EAAQgU,EAAO3L,MAAUrI,EAAQ2qB,EAAOtiB,MAC1CsiB,EAAOtiB,GAAO,IAChBinB,EAAO3E,EAAOtiB,GAAM2L,EAAO3L,GAAM0qB,IAE1B/e,EAAO3L,KAASzG,IAAW+oB,EAAOtiB,GAAO2L,EAAO3L,IAmC7D,SAAS6L,EAAS8G,EAAOwU,GACvB,OAAmB,MAAZA,EAAmBU,EAAElV,GAASkV,EAAElV,GAAOuV,OAAOf,GAavD,SAASwD,EAAQja,EAASka,EAAKC,EAAKC,GAClC,OAAO5a,EAAW0a,GAAOA,EAAI/vB,KAAK6V,EAASma,EAAKC,GAAWF,EAG7D,SAASG,EAAaR,EAAMtvB,EAAMP,GACvB,MAATA,EAAgB6vB,EAAKS,gBAAgB/vB,GAAQsvB,EAAKQ,aAAa9vB,EAAMP,GAIvE,SAASsW,EAAUuZ,EAAM7vB,GACvB,IAAIuwB,EAAQV,EAAKvZ,WAAa,GAC1Bka,EAAQD,GAASA,EAAME,UAAY5xB,EAEvC,GAAImB,IAAUnB,EAAW,OAAO2xB,EAAMD,EAAME,QAAUF,EACtDC,EAAOD,EAAME,QAAUzwB,EAAU6vB,EAAKvZ,UAAYtW,EAWpD,SAAS0wB,EAAiB1wB,GACxB,IACE,OAAOA,EACI,QAATA,GACW,SAATA,IACS,QAATA,EAAkB,MACjBA,EAAQ,IAAMA,GAASA,EACxB,UAAUjC,KAAKiC,GAASmtB,EAAEwD,UAAU3wB,GACpCA,GACAA,EACJ,MAAMoN,GACN,OAAOpN,GAmhBX,SAAS4wB,GAAaf,EAAMgB,GAC1BA,EAAIhB,GACJ,IAAK,IAAI5oB,EAAI,EAAG6X,EAAM+Q,EAAKD,WAAWjuB,OAAQsF,EAAI6X,EAAK7X,IACrD2pB,GAAaf,EAAKD,WAAW3oB,GAAI4pB,GAuErC,OAn3BA1E,EAAM2E,QAAU,SAASpa,EAAS+V,GAChC,IAAKA,IAAa/V,GAAgC,IAArBA,EAAQoY,SAAgB,OAAO,EAC5D,IAAIiC,EAAkBra,EAAQoa,SAAWpa,EAAQsa,uBAC3Bta,EAAQua,oBAAsBva,EAAQwa,kBACtCxa,EAAQqa,gBAC9B,GAAIA,EAAiB,OAAOA,EAAgB5wB,KAAKuW,EAAS+V,GAE1D,IAAI5D,EAAO/N,EAASpE,EAAQiZ,WAAYwB,GAAQrW,EAIhD,OAHIqW,IAAOrW,EAAS2T,GAAYlf,YAAYmH,GAC5CmS,GAASsD,EAAMiF,IAAItW,EAAQ2R,GAAU5rB,QAAQ6V,GAC7Cya,GAAQ1C,EAAWvf,YAAYwH,GACxBmS,GA4BTwE,EAAW,SAASnY,GAAM,OAAOA,EAAIlF,QAAQ,WAAW,SAAS6Y,EAAOwI,GAAM,OAAOA,EAAMA,EAAI5J,cAAgB,OAQ/G6F,EAAO,SAAS9kB,GAAQ,OAAOglB,EAAOrtB,KAAKqI,GAAO,SAASqI,EAAMsf,GAAM,OAAO3nB,EAAM3H,QAAQgQ,IAASsf,MA0CrGhE,EAAMmF,SAAW,SAASxc,EAAMvU,EAAMgxB,GACpC,IAAIxB,EAAK9X,EAAOuZ,EAyBhB,OAtBI3D,EAAY9vB,KAAK+W,KAAOib,EAAM5C,EAAE7e,EAASG,cAAcsa,OAAO0I,MAE7D1B,IACCjb,EAAK9E,UAAS8E,EAAOA,EAAK9E,QAAQ8d,EAAe,cACjDvtB,IAAS1B,IAAW0B,EAAOqtB,EAAW7vB,KAAK+W,IAASiU,OAAO0I,IACzDlxB,KAAQ8tB,IAAa9tB,EAAO,MAElCixB,EAAYnD,EAAW9tB,IACbwqB,UAAY,GAAKjW,EAC3Bib,EAAM5C,EAAEzU,KAAKnI,EAAMpQ,KAAKqxB,EAAU5B,aAAa,WAC7C4B,EAAUtiB,YAAY5R,UAItB8uB,EAAcmF,KAChBtZ,EAAQkV,EAAE4C,GACV5C,EAAEzU,KAAK6Y,GAAY,SAASjsB,EAAKtF,GAC3BiuB,EAAiBptB,QAAQyE,IAAQ,EAAG2S,EAAM3S,GAAKtF,GAC9CiY,EAAMK,KAAKhT,EAAKtF,OAIlB+vB,GAMT5D,EAAM2D,EAAI,SAASC,EAAKtD,GACtB,OAAO,IAAIqD,EAAEC,EAAKtD,IAKpBN,EAAMuF,IAAM,SAAS/C,GACnB,OAAOA,aAAkBxC,EAAM2D,GAOjC3D,EAAMwF,KAAO,SAASlF,EAAUzW,GAC9B,IAAI+Z,EAEJ,IAAKtD,EAAU,OAAON,EAAM2D,IAEvB,GAAuB,iBAAZrD,EAKd,GAAmB,MAJnBA,EAAWA,EAASmF,QAIP,IAAahE,EAAW7vB,KAAK0uB,GACxCsD,EAAM5D,EAAMmF,SAAS7E,EAAU1D,OAAO0I,GAAIzb,GAAUyW,EAAW,SAG5D,IAAIzW,IAAYnX,EAAW,OAAOsuB,EAAEnX,GAASS,KAAKgW,GAElDsD,EAAM5D,EAAMiF,IAAI9iB,EAAUme,OAG5B,IAAIjX,EAAWiX,GAAW,OAAOU,EAAE7e,GAAUujB,MAAMpF,GAEnD,GAAIN,EAAMuF,IAAIjF,GAAW,OAAOA,EAGnC,GAAIxvB,EAAQwvB,GAAWsD,EAAMb,EAAQzC,QAEhC,GAAIxS,EAASwS,GAChBsD,EAAM,CAACtD,GAAWA,EAAW,UAE1B,GAAImB,EAAW7vB,KAAK0uB,GACvBsD,EAAM5D,EAAMmF,SAAS7E,EAASmF,OAAQ7I,OAAO0I,GAAIzb,GAAUyW,EAAW,SAGnE,IAAIzW,IAAYnX,EAAW,OAAOsuB,EAAEnX,GAASS,KAAKgW,GAElDsD,EAAM5D,EAAMiF,IAAI9iB,EAAUme,IAGjC,OAAON,EAAM2D,EAAEC,EAAKtD,KAOtBU,EAAI,SAASV,EAAUzW,GACrB,OAAOmW,EAAMwF,KAAKlF,EAAUzW,KAiB5BuW,OAAS,SAAS3E,GAClB,IAAIoI,EAAM3qB,EAAOkL,EAAMpQ,KAAKoK,UAAW,GAMvC,MALqB,kBAAVqd,IACToI,EAAOpI,EACPA,EAASviB,EAAKoZ,SAEhBpZ,EAAKI,SAAQ,SAASyqB,GAAM3D,EAAO3E,EAAQsI,EAAKF,MACzCpI,GAMTuE,EAAMiF,IAAM,SAAS1a,EAAS+V,GAC5B,IAAIrC,EACA0H,EAAyB,KAAfrF,EAAS,GACnBsF,GAAcD,GAA0B,KAAfrF,EAAS,GAClCuF,EAAWF,GAAWC,EAAatF,EAASlc,MAAM,GAAKkc,EACvDwF,EAAW1D,EAAiBxwB,KAAKi0B,GACrC,OAAQtb,EAAQwb,gBAAkBD,GAAYH,GACzC1H,EAAQ1T,EAAQwb,eAAeF,IAAa,CAAC5H,GAAS,GACnC,IAArB1T,EAAQoY,UAAuC,IAArBpY,EAAQoY,UAAuC,KAArBpY,EAAQoY,SAAmB,GAChFve,EAAMpQ,KACJ8xB,IAAaH,GAAWpb,EAAQyb,uBAC9BJ,EAAarb,EAAQyb,uBAAuBH,GAC5Ctb,EAAQnI,qBAAqBke,GAC7B/V,EAAQ0b,iBAAiB3F,KAQjCU,EAAEpH,SAAWzX,EAAS+jB,gBAAgBtM,SACpC,SAASjL,EAAQ+U,GACf,OAAO/U,IAAW+U,GAAQ/U,EAAOiL,SAAS8J,IAE5C,SAAS/U,EAAQ+U,GACf,KAAOA,IAASA,EAAOA,EAAKF,gBACtBE,IAAS/U,EAAQ,OAAO,EAC9B,OAAO,GA2CXqS,EAAElP,KAAOA,EACTkP,EAAE3X,WAAaA,EACf2X,EAAEyB,SAAWA,EACbzB,EAAElwB,QAAUA,EACZkwB,EAAEf,cAAgBA,EAElBe,EAAEmF,cAAgB,SAASjzB,GACzB,IAAIkB,EACJ,IAAKA,KAAQlB,EAAK,OAAO,EACzB,OAAO,GAGT8tB,EAAEoF,UAAY,SAAS1kB,GACrB,IAAI2kB,EAAMC,OAAO5kB,GAAMoQ,SAAcpQ,EACrC,OAAc,MAAPA,GAAuB,WAARoQ,IACX,UAARA,GAAoBpQ,EAAIlM,UACxB+wB,MAAMF,IAAQG,SAASH,KAAQ,GAGpCrF,EAAEyF,QAAU,SAASC,EAAMrqB,EAAOvB,GAChC,OAAOsmB,EAAW1sB,QAAQV,KAAKqI,EAAOqqB,EAAM5rB,IAG9CkmB,EAAE2F,UAAYzF,EACdF,EAAEyE,KAAO,SAAS1c,GAChB,OAAc,MAAPA,EAAc,GAAKoV,OAAO/qB,UAAUqyB,KAAKzxB,KAAK+U,IAIvDiY,EAAE4F,KAAO,EACT5F,EAAElhB,QAAU,GACZkhB,EAAE6F,KAAO,GACT7F,EAAEjN,KAAO,aAETiN,EAAEjwB,IAAM,SAAS+1B,EAAU1wB,GACzB,IAAIvC,EAAoBiH,EAAG3B,EAAhB4mB,EAAS,GACpB,GAAI+C,EAAUgE,GACZ,IAAKhsB,EAAI,EAAGA,EAAIgsB,EAAStxB,OAAQsF,IAElB,OADbjH,EAAQuC,EAAS0wB,EAAShsB,GAAIA,KACXilB,EAAOznB,KAAKzE,QAGjC,IAAKsF,KAAO2tB,EAEG,OADbjzB,EAAQuC,EAAS0wB,EAAS3tB,GAAMA,KACb4mB,EAAOznB,KAAKzE,GAEnC,OAAOmvB,EAAQjD,IAGjBiB,EAAEzU,KAAO,SAASua,EAAU1wB,GAC1B,IAAI0E,EAAG3B,EACP,GAAI2pB,EAAUgE,IACZ,IAAKhsB,EAAI,EAAGA,EAAIgsB,EAAStxB,OAAQsF,IAC/B,IAAmD,IAA/C1E,EAASpC,KAAK8yB,EAAShsB,GAAIA,EAAGgsB,EAAShsB,IAAe,OAAOgsB,OAEnE,IAAK3tB,KAAO2tB,EACV,IAAyD,IAArD1wB,EAASpC,KAAK8yB,EAAS3tB,GAAMA,EAAK2tB,EAAS3tB,IAAiB,OAAO2tB,EAG3E,OAAOA,GAGT9F,EAAE+F,KAAO,SAASD,EAAU1wB,GAC1B,OAAOirB,EAAOrtB,KAAK8yB,EAAU1wB,IAG3BqM,EAAOnP,OAAM0tB,EAAEwD,UAAYlxB,KAAKwD,OAGpCkqB,EAAEzU,KAAK,gEAAgE4F,MAAM,MAAM,SAASrX,EAAG1G,GAC7FiuB,EAAY,WAAajuB,EAAO,KAAQA,EAAKpB,iBAK/CguB,EAAE1d,GAAK,CACLW,YAAa+b,EAAM2D,EACnBnuB,OAAQ,EAIR8D,QAAS8nB,EAAW9nB,QACpB0tB,OAAQ5F,EAAW4F,OACnB1uB,KAAM8oB,EAAW9oB,KACjB2uB,KAAM7F,EAAW6F,KACjBC,OAAQ9F,EAAW8F,OACnBxyB,QAAS0sB,EAAW1sB,QACpBvC,OAAQ,WACN,IAAI2I,EAAGjH,EAAOqF,EAAO,GACrB,IAAK4B,EAAI,EAAGA,EAAIsD,UAAU5I,OAAQsF,IAChCjH,EAAQuK,UAAUtD,GAClB5B,EAAK4B,GAAKklB,EAAMuF,IAAI1xB,GAASA,EAAMszB,UAAYtzB,EAEjD,OAAO1B,EAAO8N,MAAM+f,EAAMuF,IAAIp0B,MAAQA,KAAKg2B,UAAYh2B,KAAM+H,IAK/DnI,IAAK,SAASuS,GACZ,OAAO0d,EAAEA,EAAEjwB,IAAII,MAAM,SAASuZ,EAAI5P,GAAI,OAAOwI,EAAGtP,KAAK0W,EAAI5P,EAAG4P,QAE9DtG,MAAO,WACL,OAAO4c,EAAE5c,EAAMnE,MAAM9O,KAAMiN,aAG7BsnB,MAAO,SAAStvB,GAKd,OAFI+rB,EAAQvwB,KAAKuQ,EAAStB,aAAesB,EAAStN,KAAMuB,EAAS4qB,GAC5D7e,EAASilB,iBAAiB,oBAAoB,WAAYhxB,EAAS4qB,MAAM,GACvE7vB,MAETsK,IAAK,SAASuoB,GACZ,OAAOA,IAAQtxB,EAAY0R,EAAMpQ,KAAK7C,MAAQA,KAAK6yB,GAAO,EAAIA,EAAMA,EAAM7yB,KAAKqE,SAEjF2xB,QAAS,WAAY,OAAOh2B,KAAKsK,OACjC4rB,KAAM,WACJ,OAAOl2B,KAAKqE,QAEd4nB,OAAQ,WACN,OAAOjsB,KAAKob,MAAK,WACQ,MAAnBpb,KAAKqyB,YACPryB,KAAKqyB,WAAWzgB,YAAY5R,UAGlCob,KAAM,SAASnW,GAIb,OAHAgrB,EAAW5R,MAAMxb,KAAK7C,MAAM,SAASuZ,EAAIsZ,GACvC,OAAsC,IAA/B5tB,EAASpC,KAAK0W,EAAIsZ,EAAKtZ,MAEzBvZ,MAETkwB,OAAQ,SAASf,GACf,OAAIjX,EAAWiX,GAAkBnvB,KAAKm2B,IAAIn2B,KAAKm2B,IAAIhH,IAC5CU,EAAEK,EAAOrtB,KAAK7C,MAAM,SAASoZ,GAClC,OAAOyV,EAAM2E,QAAQpa,EAAS+V,QAGlCiH,IAAK,SAASjH,EAASzW,GACrB,OAAOmX,EAAEG,EAAKhwB,KAAKgB,OAAO6uB,EAAEV,EAASzW,OAEvC2d,GAAI,SAASlH,GACX,OAAOnvB,KAAKqE,OAAS,GAAKwqB,EAAM2E,QAAQxzB,KAAK,GAAImvB,IAEnDgH,IAAK,SAAShH,GACZ,IAAIxU,EAAM,GACV,GAAIzC,EAAWiX,IAAaA,EAAStsB,OAAStB,EAC5CvB,KAAKob,MAAK,SAASyX,GACZ1D,EAAStsB,KAAK7C,KAAK6yB,IAAMlY,EAAMxT,KAAKnH,aAExC,CACH,IAAIs2B,EAA8B,iBAAZnH,EAAuBnvB,KAAKkwB,OAAOf,GACtDwC,EAAUxC,IAAajX,EAAWiX,EAAS5b,MAASN,EAAMpQ,KAAKssB,GAAYU,EAAEV,GAChFnvB,KAAKmI,SAAQ,SAASoR,GAChB+c,EAAS/yB,QAAQgW,GAAM,GAAGoB,EAAMxT,KAAKoS,MAG7C,OAAOsW,EAAElV,IAEX4b,IAAK,SAASpH,GACZ,OAAOnvB,KAAKkwB,QAAO,WACjB,OAAOvT,EAASwS,GACdU,EAAEpH,SAASzoB,KAAMmvB,GACjBU,EAAE7vB,MAAMmZ,KAAKgW,GAAU+G,WAG7B9W,GAAI,SAASyT,GACX,OAAgB,IAATA,EAAa7yB,KAAKiT,MAAM4f,GAAO7yB,KAAKiT,MAAM4f,GAAOA,EAAM,IAEhEjU,MAAO,WACL,IAAIrF,EAAKvZ,KAAK,GACd,OAAOuZ,IAAOoD,EAASpD,GAAMA,EAAKsW,EAAEtW,IAEtCid,KAAM,WACJ,IAAIjd,EAAKvZ,KAAKA,KAAKqE,OAAS,GAC5B,OAAOkV,IAAOoD,EAASpD,GAAMA,EAAKsW,EAAEtW,IAEtCJ,KAAM,SAASgW,GACb,IAAYsH,EAAQz2B,KAWpB,OAVKmvB,EACuB,iBAAZA,EACLU,EAAEV,GAAUe,QAAO,WAC1B,IAAIqC,EAAOvyB,KACX,OAAOiwB,EAAWyG,KAAK7zB,KAAK4zB,GAAO,SAASjZ,GAC1C,OAAOqS,EAAEpH,SAASjL,EAAQ+U,SAGR,GAAfvyB,KAAKqE,OAAsBwrB,EAAEhB,EAAMiF,IAAI9zB,KAAK,GAAImvB,IAC3CnvB,KAAKJ,KAAI,WAAY,OAAOivB,EAAMiF,IAAI9zB,KAAMmvB,MATlCU,KAY1BzR,QAAS,SAAS+Q,EAAUzW,GAC1B,IAAIiC,EAAQ,GAAIqU,EAAgC,iBAAZG,GAAwBU,EAAEV,GAM9D,OALAnvB,KAAKob,MAAK,SAASxG,EAAG2d,GACpB,KAAOA,KAAUvD,EAAaA,EAAWzrB,QAAQgvB,IAAS,EAAI1D,EAAM2E,QAAQjB,EAAMpD,KAChFoD,EAAOA,IAAS7Z,IAAY6Y,EAAWgB,IAASA,EAAKF,WACnDE,GAAQ5X,EAAMpX,QAAQgvB,GAAQ,GAAG5X,EAAMxT,KAAKorB,MAE3C1C,EAAElV,IAEXgc,QAAS,SAASxH,GAEhB,IADA,IAAIyH,EAAY,GAAIjc,EAAQ3a,KACrB2a,EAAMtW,OAAS,GACpBsW,EAAQkV,EAAEjwB,IAAI+a,GAAO,SAAS4X,GAC5B,IAAKA,EAAOA,EAAKF,cAAgBd,EAAWgB,IAASqE,EAAUrzB,QAAQgvB,GAAQ,EAE7E,OADAqE,EAAUzvB,KAAKorB,GACRA,KAGb,OAAO1e,EAAS+iB,EAAWzH,IAE7B3R,OAAQ,SAAS2R,GACf,OAAOtb,EAASmc,EAAKhwB,KAAK62B,MAAM,eAAgB1H,IAElDhU,SAAU,SAASgU,GACjB,OAAOtb,EAAS7T,KAAKJ,KAAI,WAAY,OAAOub,EAASnb,SAAUmvB,IAEjE2H,SAAU,WACR,OAAO92B,KAAKJ,KAAI,WAAa,OAAOI,KAAK+2B,iBAAmB9jB,EAAMpQ,KAAK7C,KAAKsyB,gBAE9E0E,SAAU,SAAS7H,GACjB,OAAOtb,EAAS7T,KAAKJ,KAAI,SAAS+J,EAAG4P,GACnC,OAAO2W,EAAOrtB,KAAKsY,EAAS5B,EAAG8Y,aAAa,SAAS4E,GAAQ,OAAOA,IAAQ1d,QAC1E4V,IAENrY,MAAO,WACL,OAAO9W,KAAKob,MAAK,WAAYpb,KAAKytB,UAAY,OAGhDoJ,MAAO,SAASK,GACd,OAAOrH,EAAEjwB,IAAII,MAAM,SAASuZ,GAAK,OAAOA,EAAG2d,OAE7C3Y,KAAM,WACJ,OAAOve,KAAKob,MAAK,WACO,QAAtBpb,KAAKioB,MAAM7S,UAAsBpV,KAAKioB,MAAM7S,QAAU,IACQ,QAA1D+c,iBAAiBnyB,KAAM,IAAIoyB,iBAAiB,aAC9CpyB,KAAKioB,MAAM7S,QAAU6c,EAAejyB,KAAKkyB,eAG/CiF,YAAa,SAASC,GACpB,OAAOp3B,KAAKq3B,OAAOD,GAAYnL,UAEjC9D,KAAM,SAASmP,GACb,IAAIC,EAAOrf,EAAWof,GACtB,GAAIt3B,KAAK,KAAOu3B,EACd,IAAI9E,EAAQ5C,EAAEyH,GAAWhtB,IAAI,GACzB5K,EAAQ+yB,EAAIJ,YAAcryB,KAAKqE,OAAS,EAE9C,OAAOrE,KAAKob,MAAK,SAASrH,GACxB8b,EAAE7vB,MAAMw3B,QACND,EAAOD,EAAUz0B,KAAK7C,KAAM+T,GAC1BrU,EAAQ+yB,EAAIgF,WAAU,GAAQhF,OAItC+E,QAAS,SAASF,GAChB,GAAIt3B,KAAK,GAAI,CAEX,IAAImb,EAEJ,IAHA0U,EAAE7vB,KAAK,IAAIq3B,OAAOC,EAAYzH,EAAEyH,KAGxBnc,EAAWmc,EAAUnc,YAAY9W,QAAQizB,EAAYnc,EAASyD,QACtEiR,EAAEyH,GAAWpd,OAAOla,MAEtB,OAAOA,MAET03B,UAAW,SAASJ,GAClB,IAAIC,EAAOrf,EAAWof,GACtB,OAAOt3B,KAAKob,MAAK,SAASrH,GACxB,IAAI6G,EAAOiV,EAAE7vB,MAAO82B,EAAWlc,EAAKkc,WAChCrE,EAAO8E,EAAOD,EAAUz0B,KAAK7C,KAAM+T,GAASujB,EAChDR,EAASzyB,OAASyyB,EAASU,QAAQ/E,GAAO7X,EAAKV,OAAOuY,OAG1DkF,OAAQ,WAIN,OAHA33B,KAAKwd,SAASpC,MAAK,WACjByU,EAAE7vB,MAAMm3B,YAAYtH,EAAE7vB,MAAMmb,eAEvBnb,MAETN,MAAO,WACL,OAAOM,KAAKJ,KAAI,WAAY,OAAOI,KAAKy3B,WAAU,OAEpDpa,KAAM,WACJ,OAAOrd,KAAKiV,IAAI,UAAW,SAE7B2iB,OAAQ,SAASC,GACf,OAAO73B,KAAKob,MAAK,WACf,IAAI7B,EAAKsW,EAAE7vB,OACT63B,IAAYt2B,EAAiC,QAArBgY,EAAGtE,IAAI,WAAuB4iB,GAAWte,EAAGgF,OAAShF,EAAG8D,WAGtFya,KAAM,SAAS3I,GAAW,OAAOU,EAAE7vB,KAAK62B,MAAM,2BAA2B3G,OAAOf,GAAY,MAC5F4I,KAAM,SAAS5I,GAAW,OAAOU,EAAE7vB,KAAK62B,MAAM,uBAAuB3G,OAAOf,GAAY,MACxF3X,KAAM,SAASA,GACb,OAAO,KAAKvK,UACVjN,KAAKob,MAAK,SAASyX,GACjB,IAAImF,EAAah4B,KAAKytB,UACtBoC,EAAE7vB,MAAM8W,QAAQoD,OAAQyY,EAAQ3yB,KAAMwX,EAAMqb,EAAKmF,OAElD,KAAKh4B,KAAOA,KAAK,GAAGytB,UAAY,MAErC3H,KAAM,SAASA,GACb,OAAO,KAAK7Y,UACVjN,KAAKob,MAAK,SAASyX,GACjB,IAAIoF,EAAUtF,EAAQ3yB,KAAM8lB,EAAM+M,EAAK7yB,KAAKk4B,aAC5Cl4B,KAAKk4B,YAAyB,MAAXD,EAAkB,GAAK,GAAGA,KAE9C,KAAKj4B,KAAOA,KAAK62B,MAAM,eAAe/tB,KAAK,IAAM,MAEtDkS,KAAM,SAAS/X,EAAMP,GACnB,IAAImqB,EACJ,MAAuB,iBAAR5pB,GAAsB,KAAKgK,UAExCjN,KAAKob,MAAK,SAASyX,GACjB,GAAsB,IAAlB7yB,KAAKwxB,SACT,GAAI7U,EAAS1Z,GAAO,IAAK+E,KAAO/E,EAAM8vB,EAAa/yB,KAAMgI,EAAK/E,EAAK+E,SAC9D+qB,EAAa/yB,KAAMiD,EAAM0vB,EAAQ3yB,KAAM0C,EAAOmwB,EAAK7yB,KAAKuvB,aAAatsB,QAJ3E,KAAKjD,MAA4B,GAApBA,KAAK,GAAGwxB,UAA0D,OAAxC3E,EAAS7sB,KAAK,GAAGuvB,aAAatsB,IAAiB4pB,EAAStrB,GAOpGud,WAAY,SAAS7b,GACnB,OAAOjD,KAAKob,MAAK,WAA8B,IAAlBpb,KAAKwxB,UAAkBvuB,EAAK+d,MAAM,KAAK7Y,SAAQ,SAASgwB,GACnFpF,EAAa/yB,KAAMm4B,KAClBn4B,UAEL4nB,KAAM,SAAS3kB,EAAMP,GAEnB,OADAO,EAAOmuB,EAAQnuB,IAASA,EAChB,KAAKgK,UACXjN,KAAKob,MAAK,SAASyX,GACjB7yB,KAAKiD,GAAQ0vB,EAAQ3yB,KAAM0C,EAAOmwB,EAAK7yB,KAAKiD,OAE7CjD,KAAK,IAAMA,KAAK,GAAGiD,IAExBm1B,WAAY,SAASn1B,GAEnB,OADAA,EAAOmuB,EAAQnuB,IAASA,EACjBjD,KAAKob,MAAK,kBAAmBpb,KAAKiD,OAE3CoH,KAAM,SAASpH,EAAMP,GACnB,IAAI21B,EAAW,QAAUp1B,EAAKyP,QAAQge,EAAW,OAAO7uB,cAEpDwI,EAAQ,KAAK4C,UACfjN,KAAKgb,KAAKqd,EAAU31B,GACpB1C,KAAKgb,KAAKqd,GAEZ,OAAgB,OAAThuB,EAAgB+oB,EAAiB/oB,GAAQ9I,GAElDgP,IAAK,SAAS7N,GACZ,OAAI,KAAKuK,WACM,MAATvK,IAAeA,EAAQ,IACpB1C,KAAKob,MAAK,SAASyX,GACxB7yB,KAAK0C,MAAQiwB,EAAQ3yB,KAAM0C,EAAOmwB,EAAK7yB,KAAK0C,WAGvC1C,KAAK,KAAOA,KAAK,GAAGs4B,SACxBzI,EAAE7vB,KAAK,IAAImZ,KAAK,UAAU+W,QAAO,WAAY,OAAOlwB,KAAKu4B,YAAY1B,MAAM,SAC3E72B,KAAK,GAAG0C,QAGf81B,OAAQ,SAASC,GACf,GAAIA,EAAa,OAAOz4B,KAAKob,MAAK,SAASrH,GACzC,IAAI0iB,EAAQ5G,EAAE7vB,MACV04B,EAAS/F,EAAQ3yB,KAAMy4B,EAAa1kB,EAAO0iB,EAAM+B,UACjDG,EAAelC,EAAMmC,eAAeJ,SACpCK,EAAQ,CACNvjB,IAAMojB,EAAOpjB,IAAOqjB,EAAarjB,IACjCC,KAAMmjB,EAAOnjB,KAAOojB,EAAapjB,MAGV,UAAzBkhB,EAAMxhB,IAAI,cAAyB4jB,EAAgB,SAAI,YAC3DpC,EAAMxhB,IAAI4jB,MAEZ,IAAK74B,KAAKqE,OAAQ,OAAO,KACzB,GAAI2M,EAAS+jB,kBAAoB/0B,KAAK,KAAO6vB,EAAEpH,SAASzX,EAAS+jB,gBAAiB/0B,KAAK,IACrF,MAAO,CAACsV,IAAK,EAAGC,KAAM,GACxB,IAAIxT,EAAM/B,KAAK,GAAGgrB,wBAClB,MAAO,CACLzV,KAAMxT,EAAIwT,KAAOjE,EAAOwnB,YACxBxjB,IAAKvT,EAAIuT,IAAMhE,EAAOynB,YACtBlT,MAAO7e,KAAKgyB,MAAMj3B,EAAI8jB,OACtBnG,OAAQ1Y,KAAKgyB,MAAMj3B,EAAI2d,UAG3BzK,IAAK,SAASiiB,EAAUx0B,GACtB,GAAIuK,UAAU5I,OAAS,EAAG,CACxB,IAAI+U,EAAUpZ,KAAK,GACnB,GAAuB,iBAAZk3B,EAAsB,CAC/B,IAAK9d,EAAS,OACd,OAAOA,EAAQ6O,MAAM8H,EAASmH,KAAc/E,iBAAiB/Y,EAAS,IAAIgZ,iBAAiB8E,GACtF,GAAIv3B,EAAQu3B,GAAW,CAC5B,IAAK9d,EAAS,OACd,IAAIyf,EAAQ,GACRI,EAAgB9G,iBAAiB/Y,EAAS,IAI9C,OAHAyW,EAAEzU,KAAK8b,GAAU,SAAStiB,EAAGgT,GAC3BiR,EAAMjR,GAASxO,EAAQ6O,MAAM8H,EAASnI,KAAUqR,EAAc7G,iBAAiBxK,MAE1EiR,GAIX,IAAI5jB,EAAM,GACV,GAAsB,UAAlB0L,EAAKuW,GACFx0B,GAAmB,IAAVA,EAGZuS,EAAM6c,EAAUoF,GAAY,IAAMlF,EAAWkF,EAAUx0B,GAFvD1C,KAAKob,MAAK,WAAYpb,KAAKioB,MAAMiR,eAAepH,EAAUoF,YAI5D,IAAKlvB,KAAOkvB,EACLA,EAASlvB,IAA0B,IAAlBkvB,EAASlvB,GAG7BiN,GAAO6c,EAAU9pB,GAAO,IAAMgqB,EAAWhqB,EAAKkvB,EAASlvB,IAAQ,IAF/DhI,KAAKob,MAAK,WAAYpb,KAAKioB,MAAMiR,eAAepH,EAAU9pB,OAKhE,OAAOhI,KAAKob,MAAK,WAAYpb,KAAKioB,MAAMkR,SAAW,IAAMlkB,MAE3DlB,MAAO,SAASqF,GACd,OAAOA,EAAUpZ,KAAKuD,QAAQssB,EAAEzW,GAAS,IAAMpZ,KAAKwd,SAASrC,WAAW5X,QAAQvD,KAAK,KAEvFge,SAAU,SAAS/a,GACjB,QAAKA,GACEgtB,EAAWyG,KAAK7zB,KAAK7C,MAAM,SAASuZ,GACzC,OAAOvZ,KAAKS,KAAKuY,EAAUO,MAC1BwY,EAAQ9uB,KAEbqX,SAAU,SAASrX,GACjB,OAAKA,EACEjD,KAAKob,MAAK,SAASyX,GACxB,GAAM,cAAe7yB,KAArB,CACA8vB,EAAY,GACZ,IAAIsJ,EAAMpgB,EAAUhZ,MAAiB2yB,EAAQ3yB,KAAMiD,EAAM4vB,EAAKuG,GACtDpY,MAAM,QAAQ7Y,SAAQ,SAAS8qB,GAChCpD,EAAE7vB,MAAMge,SAASiV,IAAQnD,EAAU3oB,KAAK8rB,KAC5CjzB,MACH8vB,EAAUzrB,QAAU2U,EAAUhZ,KAAMo5B,GAAOA,EAAM,IAAM,IAAMtJ,EAAUhnB,KAAK,UAR5D9I,MAWpBua,YAAa,SAAStX,GACpB,OAAOjD,KAAKob,MAAK,SAASyX,GACxB,GAAM,cAAe7yB,KAArB,CACA,GAAIiD,IAAS1B,EAAW,OAAOyX,EAAUhZ,KAAM,IAC/C8vB,EAAY9W,EAAUhZ,MACtB2yB,EAAQ3yB,KAAMiD,EAAM4vB,EAAK/C,GAAW9O,MAAM,QAAQ7Y,SAAQ,SAAS8qB,GACjEnD,EAAYA,EAAUpd,QAAQqf,EAAQkB,GAAQ,QAEhDja,EAAUhZ,KAAM8vB,EAAUwE,aAG9B+E,YAAa,SAASp2B,EAAMq2B,GAC1B,OAAKr2B,EACEjD,KAAKob,MAAK,SAASyX,GACxB,IAAI4D,EAAQ5G,EAAE7vB,MAAe2yB,EAAQ3yB,KAAMiD,EAAM4vB,EAAK7Z,EAAUhZ,OAC1DghB,MAAM,QAAQ7Y,SAAQ,SAAS8qB,IAClCqG,IAAS/3B,GAAak1B,EAAMzY,SAASiV,GAASqG,GAC7C7C,EAAMnc,SAAS2Y,GAASwD,EAAMlc,YAAY0Y,SAL9BjzB,MASpB2f,UAAW,SAASjd,GAClB,GAAK1C,KAAKqE,OAAV,CACA,IAAIk1B,EAAe,cAAev5B,KAAK,GACvC,OAAI0C,IAAUnB,EAAkBg4B,EAAev5B,KAAK,GAAG2f,UAAY3f,KAAK,GAAG+4B,YACpE/4B,KAAKob,KAAKme,EACf,WAAYv5B,KAAK2f,UAAYjd,GAC7B,WAAY1C,KAAKw5B,SAASx5B,KAAKy5B,QAAS/2B,OAE5Cg3B,WAAY,SAASh3B,GACnB,GAAK1C,KAAKqE,OAAV,CACA,IAAIs1B,EAAgB,eAAgB35B,KAAK,GACzC,OAAI0C,IAAUnB,EAAkBo4B,EAAgB35B,KAAK,GAAG05B,WAAa15B,KAAK,GAAG84B,YACtE94B,KAAKob,KAAKue,EACf,WAAY35B,KAAK05B,WAAah3B,GAC9B,WAAY1C,KAAKw5B,SAAS92B,EAAO1C,KAAK45B,aAE1CzkB,SAAU,WACR,GAAKnV,KAAKqE,OAAV,CAEA,IAAIkxB,EAAOv1B,KAAK,GAEd44B,EAAe54B,KAAK44B,eAEpBJ,EAAex4B,KAAKw4B,SACpBG,EAAelI,EAAWhwB,KAAKm4B,EAAa,GAAG1G,UAAY,CAAE5c,IAAK,EAAGC,KAAM,GAAMqjB,EAAaJ,SAahG,OARAA,EAAOljB,KAAQukB,WAAYhK,EAAE0F,GAAMtgB,IAAI,gBAAmB,EAC1DujB,EAAOjjB,MAAQskB,WAAYhK,EAAE0F,GAAMtgB,IAAI,iBAAoB,EAG3D0jB,EAAarjB,KAAQukB,WAAYhK,EAAE+I,EAAa,IAAI3jB,IAAI,sBAAyB,EACjF0jB,EAAapjB,MAAQskB,WAAYhK,EAAE+I,EAAa,IAAI3jB,IAAI,uBAA0B,EAG3E,CACLK,IAAMkjB,EAAOljB,IAAOqjB,EAAarjB,IACjCC,KAAMijB,EAAOjjB,KAAOojB,EAAapjB,QAGrCqjB,aAAc,WACZ,OAAO54B,KAAKJ,KAAI,WAEd,IADA,IAAI4d,EAASxd,KAAK44B,cAAgB5nB,EAAStN,KACpC8Z,IAAWiT,EAAWhwB,KAAK+c,EAAO0U,WAA0C,UAA7BrC,EAAErS,GAAQvI,IAAI,aAClEuI,EAASA,EAAOob,aAClB,OAAOpb,OAMbqS,EAAE1d,GAAG6Z,OAAS6D,EAAE1d,GAAG8Z,OAGlB,CAAC,QAAS,UAAU9jB,SAAQ,SAAS2xB,GACpC,IAAIC,EACFD,EAAUpnB,QAAQ,KAAK,SAASsnB,GAAI,OAAOA,EAAE,GAAG7P,iBAElD0F,EAAE1d,GAAG2nB,GAAa,SAASp3B,GACzB,IAAI81B,EAAQjf,EAAKvZ,KAAK,GACtB,OAAI0C,IAAUnB,EAAkB+vB,EAAS/X,GAAMA,EAAG,QAAUwgB,GAC1DxI,EAAWhY,GAAMA,EAAGwb,gBAAgB,SAAWgF,IAC9CvB,EAASx4B,KAAKw4B,WAAaA,EAAOsB,GACzB95B,KAAKob,MAAK,SAASyX,IAC7BtZ,EAAKsW,EAAE7vB,OACJiV,IAAI6kB,EAAWnH,EAAQ3yB,KAAM0C,EAAOmwB,EAAKtZ,EAAGugB,cAarDlJ,EAAmBzoB,SAAQ,SAAS8xB,EAAUC,GAC5C,IAAIC,EAASD,EAAgB,EAE7BrK,EAAE1d,GAAG8nB,GAAY,WAEf,IAAIG,EAcA5c,EAdS7C,EAAQkV,EAAEjwB,IAAIqN,WAAW,SAAS2lB,GACzC,IAAIvf,EAAM,GAEV,MAAe,UADf+mB,EAAUzZ,EAAKiS,KAEbA,EAAIzqB,SAAQ,SAASoR,GACnB,OAAIA,EAAGiY,WAAajwB,EAAkB8R,EAAIlM,KAAKoS,GACtCsW,EAAEhB,MAAMuF,IAAI7a,GAAYlG,EAAMA,EAAIrS,OAAOuY,EAAGjP,YACrD+I,EAAMA,EAAIrS,OAAO6tB,EAAMmF,SAASza,QAE3BlG,GAES,UAAX+mB,GAA8B,MAAPxH,EAC5BA,EAAM/D,EAAMmF,SAASpB,MAEjByH,EAAcr6B,KAAKqE,OAAS,EACxC,OAAIsW,EAAMtW,OAAS,EAAUrE,KAEtBA,KAAKob,MAAK,SAASxG,EAAG0V,GAC3B9M,EAAS2c,EAAS7P,EAASA,EAAO+H,WAGlC/H,EAA0B,GAAjB4P,EAAqB5P,EAAOgQ,YACX,GAAjBJ,EAAqB5P,EAAOiQ,WACX,GAAjBL,EAAqB5P,EACrB,KAET,IAAIkQ,EAAmB3K,EAAEpH,SAASzX,EAAS+jB,gBAAiBvX,GAE5D7C,EAAMxS,SAAQ,SAASoqB,GACrB,GAAI8H,EAAa9H,EAAOA,EAAKkF,WAAU,QAClC,IAAKja,EAAQ,OAAOqS,EAAE0C,GAAMtG,SAEjCzO,EAAOid,aAAalI,EAAMjI,GACtBkQ,GAAkBlH,GAAaf,GAAM,SAAShZ,GAChD,KAAmB,MAAfA,EAAG2Y,UAAkD,WAA9B3Y,EAAG2Y,SAAS/H,eAClC5Q,EAAGoH,MAAoB,oBAAZpH,EAAGoH,MAAgCpH,EAAGvH,KAAI,CACxD,IAAIsY,EAAS/Q,EAAGmhB,cAAgBnhB,EAAGmhB,cAAcC,YAAcrpB,EAC/DgZ,EAAa,KAAEznB,KAAKynB,EAAQ/Q,EAAGkU,sBAWzCoC,EAAE1d,GAAGgoB,EAASF,EAAS,KAAO,UAAUC,EAAgB,SAAW,UAAY,SAAS1iB,GAEtF,OADAqY,EAAErY,GAAMyiB,GAAUj6B,MACXA,SAIX6uB,EAAM2D,EAAEvwB,UAAYuwB,EAAEvwB,UAAY4tB,EAAE1d,GAGpC0c,EAAMmB,KAAOA,EACbnB,EAAMuE,iBAAmBA,EACzBvD,EAAEhB,MAAQA,EAEHgB,EAl6BK,GA8xCZ,OAzXD,SAAUA,GACT,IAActuB,EAAVq5B,EAAO,EACP3nB,EAAQjR,MAAMC,UAAUgR,MACxBiF,EAAa2X,EAAE3X,WACf2iB,EAAW,SAAS94B,GAAM,MAAqB,iBAAPA,GACxC+4B,EAAW,GACXC,EAAc,GACdC,EAAmB,cAAe1pB,EAClCwT,EAAQ,CAAEA,MAAO,UAAWC,KAAM,YAClCkW,EAAQ,CAAEC,WAAY,YAAaC,WAAY,YAInD,SAASC,EAAIhiB,GACX,OAAOA,EAAQwhB,OAASxhB,EAAQwhB,KAAOA,KAEzC,SAASS,EAAajiB,EAASnJ,EAAOkC,EAAIgd,GAExC,IADAlf,EAAQtK,EAAMsK,IACJqrB,GAAI,IAAIC,EAAUC,EAAWvrB,EAAMqrB,IAC7C,OAAQR,EAASM,EAAIhiB,KAAa,IAAI8W,QAAO,SAASuL,GACpD,OAAOA,KACAxrB,EAAMH,GAAM2rB,EAAQ3rB,GAAKG,EAAMH,MAC/BG,EAAMqrB,IAAMC,EAAQ96B,KAAKg7B,EAAQH,QACjCnpB,GAAYipB,EAAIK,EAAQtpB,MAAQipB,EAAIjpB,OACpCgd,GAAYsM,EAAQC,KAAOvM,MAGtC,SAASxpB,EAAMsK,GACb,IAAI0rB,GAAS,GAAK1rB,GAAO+Q,MAAM,KAC/B,MAAO,CAAClR,EAAG6rB,EAAM,GAAIL,GAAIK,EAAM1oB,MAAM,GAAG6iB,OAAOhtB,KAAK,MAEtD,SAAS0yB,EAAWF,GAClB,OAAO,IAAI7P,OAAO,UAAY6P,EAAG5oB,QAAQ,IAAK,SAAW,WAG3D,SAASkpB,EAAaH,EAASI,GAC7B,OAAOJ,EAAQK,MACXd,GAAqBS,EAAQ3rB,KAAKgV,KAClC+W,EAGN,SAASE,EAAUpb,GACjB,OAAOsa,EAAMta,IAAUqa,GAAoBlW,EAAMnE,IAAUA,EAG7D,SAASyV,EAAIhd,EAAS4iB,EAAQ7pB,EAAI9H,EAAM8kB,EAAU8M,EAAWC,GAC3D,IAAIhhB,EAAKkgB,EAAIhiB,GAAUzO,EAAOmwB,EAAS5f,KAAQ4f,EAAS5f,GAAM,IAC9D8gB,EAAOhb,MAAM,MAAM7Y,SAAQ,SAAS8H,GAClC,GAAa,SAATA,EAAkB,OAAO4f,EAAE7e,UAAUujB,MAAMpiB,GAC/C,IAAIspB,EAAY91B,EAAMsK,GACtBwrB,EAAQtpB,GAAQA,EAChBspB,EAAQC,IAAQvM,EAEZsM,EAAQ3rB,KAAKmrB,IAAO9oB,EAAK,SAASrC,GACpC,IAAIqsB,EAAUrsB,EAAEqO,cAChB,IAAKge,GAAYA,IAAYn8B,OAAS6vB,EAAEpH,SAASzoB,KAAMm8B,GACrD,OAAOV,EAAQtpB,GAAGrD,MAAM9O,KAAMiN,aAElCwuB,EAAQK,IAAQG,EAChB,IAAIh3B,EAAYg3B,GAAa9pB,EAC7BspB,EAAQ1M,MAAQ,SAASjf,GAEvB,KADAA,EAAIssB,EAAWtsB,IACTusB,gCAAN,CACA,IACE,IAAIC,EAAqB35B,OAAO45B,yBAAyBzsB,EAAG,QACvDwsB,IAAsBA,EAAmBE,WAC5C1sB,EAAEzF,KAAOA,GACX,MAAOyF,IACT,IAAI+c,EAAS5nB,EAAS6J,MAAMsK,EAAStJ,EAAE2sB,OAASl7B,EAAY,CAACuO,GAAK,CAACA,GAAG9O,OAAO8O,EAAE2sB,QAE/E,OADe,IAAX5P,IAAkB/c,EAAEwU,iBAAkBxU,EAAE4a,mBACrCmC,IAET4O,EAAQ9xB,EAAIgB,EAAItG,OAChBsG,EAAIxD,KAAKs0B,GACL,qBAAsBriB,GACxBA,EAAQ6c,iBAAiB8F,EAAUN,EAAQ3rB,GAAI2rB,EAAQ1M,MAAO6M,EAAaH,EAASS,OAG1F,SAASjQ,EAAO7S,EAAS4iB,EAAQ7pB,EAAIgd,EAAU+M,GAC7C,IAAIhhB,EAAKkgB,EAAIhiB,IACX4iB,GAAU,IAAIhb,MAAM,MAAM7Y,SAAQ,SAAS8H,GAC3CorB,EAAajiB,EAASnJ,EAAOkC,EAAIgd,GAAUhnB,SAAQ,SAASszB,UACnDX,EAAS5f,GAAIugB,EAAQ9xB,GAC1B,wBAAyByP,GAC3BA,EAAQsjB,oBAAoBX,EAAUN,EAAQ3rB,GAAI2rB,EAAQ1M,MAAO6M,EAAaH,EAASS,UAzE7FnB,EAAc4B,MAAQ5B,EAAc6B,UAAY7B,EAAc8B,QAAU9B,EAAc+B,UAAY,cA8ElGjN,EAAE5f,MAAQ,CAAEmmB,IAAKA,EAAKnK,OAAQA,GAE9B4D,EAAEd,MAAQ,SAAS5c,EAAIuG,GACrB,IAAI3Q,EAAQ,KAAKkF,WAAcgG,EAAMpQ,KAAKoK,UAAW,GACrD,GAAIiL,EAAW/F,GAAK,CAClB,IAAI4qB,EAAU,WAAY,OAAO5qB,EAAGrD,MAAM4J,EAAS3Q,EAAOA,EAAK/G,OAAOiS,EAAMpQ,KAAKoK,YAAcA,YAE/F,OADA8vB,EAAQnC,KAAOQ,EAAIjpB,GACZ4qB,EACF,GAAIlC,EAASniB,GAClB,OAAI3Q,GACFA,EAAKmL,QAAQf,EAAGuG,GAAUvG,GACnB0d,EAAEd,MAAMjgB,MAAM,KAAM/G,IAEpB8nB,EAAEd,MAAM5c,EAAGuG,GAAUvG,GAG9B,MAAM,IAAIkI,UAAU,sBAIxBwV,EAAE1d,GAAG4J,KAAO,SAAS9L,EAAO5F,EAAMpF,GAChC,OAAOjF,KAAKkd,GAAGjN,EAAO5F,EAAMpF,IAE9B4qB,EAAE1d,GAAG6qB,OAAS,SAAS/sB,EAAOhL,GAC5B,OAAOjF,KAAKygB,IAAIxQ,EAAOhL,IAEzB4qB,EAAE1d,GAAG8qB,IAAM,SAAShtB,EAAOkf,EAAU9kB,EAAMpF,GACzC,OAAOjF,KAAKkd,GAAGjN,EAAOkf,EAAU9kB,EAAMpF,EAAU,IAGlD,IAAIi4B,EAAa,WAAW,OAAO,GAC/BC,EAAc,WAAW,OAAO,GAChCC,EAAmB,uDACnBC,EAAe,CACb/Y,eAAgB,qBAChBoE,yBAA0B,gCAC1BgC,gBAAiB,wBAGvB,SAAS0R,EAAWnsB,EAAO0D,GAoBzB,OAnBIA,GAAW1D,EAAM4b,qBACnBlY,IAAWA,EAAS1D,GAEpB4f,EAAEzU,KAAKiiB,GAAc,SAASp6B,EAAMq6B,GAClC,IAAIC,EAAe5pB,EAAO1Q,GAC1BgN,EAAMhN,GAAQ,WAEZ,OADAjD,KAAKs9B,GAAaJ,EACXK,GAAgBA,EAAazuB,MAAM6E,EAAQ1G,YAEpDgD,EAAMqtB,GAAaH,KAGrBltB,EAAMutB,YAAcvtB,EAAMutB,UAAYx3B,KAAK4E,QAEvC+I,EAAO8pB,mBAAqBl8B,EAAYoS,EAAO8pB,iBAC/C,gBAAiB9pB,GAAgC,IAAvBA,EAAO+pB,YACjC/pB,EAAOgqB,mBAAqBhqB,EAAOgqB,uBACrC1tB,EAAM4b,mBAAqBqR,IAExBjtB,EAGT,SAAS2tB,EAAY3tB,GACnB,IAAIjI,EAAK+mB,EAAQ,CAAE8O,cAAe5tB,GAClC,IAAKjI,KAAOiI,EACLmtB,EAAiB38B,KAAKuH,IAAQiI,EAAMjI,KAASzG,IAAWwtB,EAAM/mB,GAAOiI,EAAMjI,IAElF,OAAOo0B,EAAWrN,EAAO9e,GAG3B4f,EAAE1d,GAAG2rB,SAAW,SAAS3O,EAAUlf,EAAOhL,GACxC,OAAOjF,KAAKkd,GAAGjN,EAAOkf,EAAUlqB,IAElC4qB,EAAE1d,GAAG4rB,WAAa,SAAS5O,EAAUlf,EAAOhL,GAC1C,OAAOjF,KAAKygB,IAAIxQ,EAAOkf,EAAUlqB,IAGnC4qB,EAAE1d,GAAG6rB,KAAO,SAAS/tB,EAAOhL,GAE1B,OADA4qB,EAAE7e,SAAStN,MAAMo6B,SAAS99B,KAAKmvB,SAAUlf,EAAOhL,GACzCjF,MAET6vB,EAAE1d,GAAG8rB,IAAM,SAAShuB,EAAOhL,GAEzB,OADA4qB,EAAE7e,SAAStN,MAAMq6B,WAAW/9B,KAAKmvB,SAAUlf,EAAOhL,GAC3CjF,MAGT6vB,EAAE1d,GAAG+K,GAAK,SAASjN,EAAOkf,EAAU9kB,EAAMpF,EAAUg4B,GAClD,IAAIiB,EAAYjC,EAAWxF,EAAQz2B,KACnC,OAAIiQ,IAAU4qB,EAAS5qB,IACrB4f,EAAEzU,KAAKnL,GAAO,SAAS0Q,EAAMxO,GAC3BskB,EAAMvZ,GAAGyD,EAAMwO,EAAU9kB,EAAM8H,EAAI8qB,MAE9BxG,IAGJoE,EAAS1L,IAAcjX,EAAWjT,KAA0B,IAAbA,IAClDA,EAAWoF,EAAMA,EAAO8kB,EAAUA,EAAW5tB,GAC3C0D,IAAa1D,IAAsB,IAAT8I,IAC5BpF,EAAWoF,EAAMA,EAAO9I,IAET,IAAb0D,IAAoBA,EAAWk4B,GAE5B1G,EAAMrb,MAAK,SAASxG,EAAGwE,GACxB6jB,IAAKiB,EAAa,SAASpuB,GAE7B,OADAmc,EAAO7S,EAAStJ,EAAE6Q,KAAM1b,GACjBA,EAAS6J,MAAM9O,KAAMiN,aAG1BkiB,IAAU8M,EAAY,SAASnsB,GACjC,IAAIquB,EAAK5S,EAAQsE,EAAE/f,EAAEwa,QAAQlM,QAAQ+Q,EAAU/V,GAAS9O,IAAI,GAC5D,GAAIihB,GAASA,IAAUnS,EAErB,OADA+kB,EAAMtO,EAAEZ,OAAO2O,EAAY9tB,GAAI,CAACgO,cAAeyN,EAAO6S,UAAWhlB,KACzD8kB,GAAcj5B,GAAU6J,MAAMyc,EAAO,CAAC4S,GAAKn9B,OAAOiS,EAAMpQ,KAAKoK,UAAW,OAIpFmpB,EAAIhd,EAASnJ,EAAOhL,EAAUoF,EAAM8kB,EAAU8M,GAAaiC,QAG/DrO,EAAE1d,GAAGsO,IAAM,SAASxQ,EAAOkf,EAAUlqB,GACnC,IAAIwxB,EAAQz2B,KACZ,OAAIiQ,IAAU4qB,EAAS5qB,IACrB4f,EAAEzU,KAAKnL,GAAO,SAAS0Q,EAAMxO,GAC3BskB,EAAMhW,IAAIE,EAAMwO,EAAUhd,MAErBskB,IAGJoE,EAAS1L,IAAcjX,EAAWjT,KAA0B,IAAbA,IAClDA,EAAWkqB,EAAUA,EAAW5tB,IAEjB,IAAb0D,IAAoBA,EAAWk4B,GAE5B1G,EAAMrb,MAAK,WAChB6Q,EAAOjsB,KAAMiQ,EAAOhL,EAAUkqB,QAIlCU,EAAE1d,GAAGqI,QAAU,SAASvK,EAAOlI,GAG7B,OAFAkI,EAAS4qB,EAAS5qB,IAAU4f,EAAEf,cAAc7e,GAAU4f,EAAEjP,MAAM3Q,GAASmsB,EAAWnsB,IAC5EwsB,MAAQ10B,EACP/H,KAAKob,MAAK,WAEXnL,EAAM0Q,QAAQmE,GAAoC,mBAApB9kB,KAAKiQ,EAAM0Q,MAAqB3gB,KAAKiQ,EAAM0Q,QAEpE,kBAAmB3gB,KAAMA,KAAKq+B,cAAcpuB,GAChD4f,EAAE7vB,MAAMs+B,eAAeruB,EAAOlI,OAMvC8nB,EAAE1d,GAAGmsB,eAAiB,SAASruB,EAAOlI,GACpC,IAAI+H,EAAG+c,EAUP,OATA7sB,KAAKob,MAAK,SAASzR,EAAGyP,IACpBtJ,EAAI8tB,EAAY/C,EAAS5qB,GAAS4f,EAAEjP,MAAM3Q,GAASA,IACjDwsB,MAAQ10B,EACV+H,EAAEwa,OAASlR,EACXyW,EAAEzU,KAAKigB,EAAajiB,EAASnJ,EAAM0Q,MAAQ1Q,IAAQ,SAAStG,EAAG8xB,GAE7D,GADA5O,EAAS4O,EAAQ1M,MAAMjf,GACnBA,EAAEusB,gCAAiC,OAAO,QAG3CxP,GAIR,uLAE6C7L,MAAM,KAAK7Y,SAAQ,SAAS8H,GACxE4f,EAAE1d,GAAGlC,GAAS,SAAShL,GACrB,OAAQ,KAAKgI,UACXjN,KAAK+b,KAAK9L,EAAOhL,GACjBjF,KAAKwa,QAAQvK,OAInB4f,EAAEjP,MAAQ,SAASD,EAAMkY,GAClBgC,EAASla,KAAqBA,GAAdkY,EAAQlY,GAAmBA,MAChD,IAAI1Q,EAAQe,SAASutB,YAAYxD,EAAcpa,IAAS,UAAW6d,GAAU,EAC7E,GAAI3F,EAAO,IAAK,IAAI51B,KAAQ41B,EAAgB,WAAR51B,EAAsBu7B,IAAY3F,EAAM51B,GAAUgN,EAAMhN,GAAQ41B,EAAM51B,GAE1G,OADAgN,EAAMwuB,UAAU9d,EAAM6d,GAAS,GACxBpC,EAAWnsB,IA/QrB,CAkRE2f,GAGGzuB,EAAQ,GAeXyuB,EAbCzd,GAAG8Z,OAAS,WACZ,OAAOjsB,KAAKob,MAAK,WACZpb,KAAKqyB,aACc,QAAjBryB,KAAKwqB,UACNrpB,EAAMgG,KAAKnH,MACXA,KAAKgS,IAAM,6DACPzR,GAASqP,aAAarP,GAC1BA,EAAU8E,YAAW,WAAYlE,EAAQ,KAAM,MAEjDnB,KAAKqyB,WAAWzgB,YAAY5R,WAMnC,SAAU6vB,GACT,IAAIxlB,EAAO,GAAIq0B,EAAW7O,EAAE1d,GAAG9H,KAAM0lB,EAAWF,EAAE2F,UAChDmJ,EAAM9O,EAAE+O,QAAU,UAAY,IAAI54B,KAASiqB,EAAa,GAM1D,SAAS4O,EAAQtM,EAAMtvB,GACrB,IAAIiY,EAAKqX,EAAKoM,GAAM1/B,EAAQic,GAAM7Q,EAAK6Q,GACvC,QAAa3Z,IAAT0B,EAAoB,OAAOhE,GAAS6/B,EAAQvM,GAE9C,GAAItzB,EAAO,CACT,GAAIgE,KAAQhE,EAAO,OAAOA,EAAMgE,GAChC,IAAI87B,EAAYhP,EAAS9sB,GACzB,GAAI87B,KAAa9/B,EAAO,OAAOA,EAAM8/B,GAEvC,OAAOL,EAAS77B,KAAKgtB,EAAE0C,GAAOtvB,GAKlC,SAAS67B,EAAQvM,EAAMtvB,EAAMP,GAC3B,IAAIwY,EAAKqX,EAAKoM,KAASpM,EAAKoM,KAAS9O,EAAE4F,MACrCx2B,EAAQoL,EAAK6Q,KAAQ7Q,EAAK6Q,GAAM8jB,EAAczM,IAEhD,YADahxB,IAAT0B,IAAoBhE,EAAM8wB,EAAS9sB,IAASP,GACzCzD,EAIT,SAAS+/B,EAAczM,GACrB,IAAItzB,EAAQ,GAMZ,OALA4wB,EAAEzU,KAAKmX,EAAK0M,YAAchP,GAAY,SAAStmB,EAAGqR,GACd,GAA9BA,EAAK/X,KAAKM,QAAQ,WACpBtE,EAAM8wB,EAAS/U,EAAK/X,KAAKyP,QAAQ,QAAS,MACxCmd,EAAEhB,MAAMuE,iBAAiBpY,EAAKtY,WAE7BzD,EAGT4wB,EAAE1d,GAAG9H,KAAO,SAASpH,EAAMP,GACzB,YAAiBnB,IAAVmB,EAELmtB,EAAEf,cAAc7rB,GACdjD,KAAKob,MAAK,SAASzR,EAAG4oB,GACpB1C,EAAEzU,KAAKnY,GAAM,SAAS+E,EAAKtF,GAAQo8B,EAAQvM,EAAMvqB,EAAKtF,SAGvD,KAAK1C,KAAO6+B,EAAQ7+B,KAAK,GAAIiD,QAAQ1B,EAExCvB,KAAKob,MAAK,WAAY0jB,EAAQ9+B,KAAMiD,EAAMP,OAG9CmtB,EAAExlB,KAAO,SAASkrB,EAAMtyB,EAAMP,GAC5B,OAAOmtB,EAAE0F,GAAMlrB,KAAKpH,EAAMP,IAG5BmtB,EAAEqP,QAAU,SAAS3J,GACnB,IAAIra,EAAKqa,EAAKoJ,GAAM1/B,EAAQic,GAAM7Q,EAAK6Q,GACvC,QAAOjc,IAAS4wB,EAAEmF,cAAc/1B,IAGlC4wB,EAAE1d,GAAG6V,WAAa,SAASmX,GAEzB,MADoB,iBAATA,IAAmBA,EAAQA,EAAMne,MAAM,QAC3ChhB,KAAKob,MAAK,WACf,IAAIF,EAAKlb,KAAK2+B,GAAM1/B,EAAQic,GAAM7Q,EAAK6Q,GACnCjc,GAAO4wB,EAAEzU,KAAK+jB,GAASlgC,GAAO,SAAS+I,UAClC/I,EAAMkgC,EAAQpP,EAAS/vB,MAAQgI,UAM3C,CAAC,SAAU,SAASG,SAAQ,SAASi3B,GACpC,IAAIC,EAASxP,EAAE1d,GAAGitB,GAClBvP,EAAE1d,GAAGitB,GAAc,WACjB,IAAIzJ,EAAW31B,KAAKmZ,KAAK,KAGzB,MAFmB,WAAfimB,IAAyBzJ,EAAWA,EAASS,IAAIp2B,OACrD21B,EAAS3N,aACFqX,EAAOx8B,KAAK7C,UA/ExB,CAkFE4vB,GACMA,EAhyCU0P,CAAQzxB,mBCH3ByD,OAAOiuB,UAAYC,EAAQ,MAE3B,IAAIC,EAAYD,EAAQ,MAExBxuB,SAASilB,iBAAiB,oBAAoB,WAC1CjlB,SAAS8jB,iBAAiB,iBACjB3sB,SAAQ,SAAAiR,GACL,IAAIsmB,EAAYtmB,EAAQvC,QAAQ8oB,OAChCF,EAAUG,cAAc,CACpB1qB,QAASkE,EACTymB,SAAU,MACVC,MAAM,EACNC,KAAM,eAAiBL,EAAY,8CCyIvD,SAASM,IACP,IAAIC,EACJ,IACEA,EAAIrhC,EAAQshC,QAAQzgC,MACpB,MAAMqQ,IAOR,OAJKmwB,QAAwB,IAAZ9gC,GAA2B,QAASA,IACnD8gC,EAAI9gC,EAAQC,IAAI+gC,OAGXF,GA1JTrhC,EAAUD,EAAOC,QAAU,EAAjB,OACFwhC,IA8GR,WAGE,MAAO,iBAAoB/tB,SACtBA,QAAQ+tB,KACRC,SAASp+B,UAAU6M,MAAMjM,KAAKwP,QAAQ+tB,IAAK/tB,QAASpF,YAlH3DrO,EAAQ0hC,WAqER,SAAoBv4B,GAClB,IAAIw4B,EAAYvgC,KAAKugC,UASrB,GAPAx4B,EAAK,IAAMw4B,EAAY,KAAO,IAC1BvgC,KAAKuU,WACJgsB,EAAY,MAAQ,KACrBx4B,EAAK,IACJw4B,EAAY,MAAQ,KACrB,IAAM3hC,EAAQ4hC,SAASxgC,KAAKygC,OAE3BF,EAAW,OAEhB,IAAIG,EAAI,UAAY1gC,KAAK2gC,MACzB54B,EAAKguB,OAAO,EAAG,EAAG2K,EAAG,kBAKrB,IAAI3sB,EAAQ,EACR6sB,EAAQ,EACZ74B,EAAK,GAAG2K,QAAQ,eAAe,SAAS6Y,GAClC,OAASA,IACbxX,IACI,OAASwX,IAGXqV,EAAQ7sB,OAIZhM,EAAKguB,OAAO6K,EAAO,EAAGF,IAlGxB9hC,EAAQiiC,KA2HR,SAAcC,GACZ,IACM,MAAQA,EACVliC,EAAQshC,QAAQvrB,WAAW,SAE3B/V,EAAQshC,QAAQzgC,MAAQqhC,EAE1B,MAAMhxB,MAjIVlR,EAAQohC,KAAOA,EACfphC,EAAQ2hC,UA2BR,WAIE,GAAsB,oBAAXjvB,QAA0BA,OAAOnS,SAAmC,aAAxBmS,OAAOnS,QAAQwhB,KACpE,OAAO,EAKT,MAA4B,oBAAb3P,UAA4BA,SAAS+jB,iBAAmB/jB,SAAS+jB,gBAAgB9M,OAASjX,SAAS+jB,gBAAgB9M,MAAM8Y,kBAEnH,oBAAXzvB,QAA0BA,OAAOe,UAAYf,OAAOe,QAAQ2uB,SAAY1vB,OAAOe,QAAQ4uB,WAAa3vB,OAAOe,QAAQwe,QAGrG,oBAAdpE,WAA6BA,UAAUC,WAAaD,UAAUC,UAAU7qB,cAAc0pB,MAAM,mBAAqBlsB,SAASosB,OAAO0I,GAAI,KAAO,IAE9H,oBAAd1H,WAA6BA,UAAUC,WAAaD,UAAUC,UAAU7qB,cAAc0pB,MAAM,uBA3CxG3sB,EAAQshC,QAAU,oBAAsBgB,aACtB,IAAsBA,OAAOhB,QAC3BgB,OAAOhB,QAAQiB,MAsKnC,WACE,IACE,OAAO7vB,OAAOmD,aACd,MAAO3E,KAxKSsxB,GAMpBxiC,EAAQyiC,OAAS,CACf,gBACA,cACA,YACA,aACA,aACA,WAmCFziC,EAAQ0iC,WAAWz3B,EAAI,SAAS03B,GAC9B,IACE,OAAOp/B,KAAKC,UAAUm/B,GACtB,MAAOj8B,GACP,MAAO,+BAAiCA,EAAIuB,UAqGhDjI,EAAQ4iC,OAAOxB,qBCrIf,IAAIyB,EA4BJ,SAASC,EAAYntB,GAEnB,SAAS9U,IAEP,GAAKA,EAAMkiC,QAAX,CAEA,IAAI/mB,EAAOnb,EAGPmiC,GAAQ,IAAI57B,KACZyK,EAAKmxB,GAAQH,GAAYG,GAC7BhnB,EAAK6lB,KAAOhwB,EACZmK,EAAKkd,KAAO2J,EACZ7mB,EAAKgnB,KAAOA,EACZH,EAAWG,EAIX,IADA,IAAI75B,EAAO,IAAI/F,MAAMiL,UAAU5I,QACtBsF,EAAI,EAAGA,EAAI5B,EAAK1D,OAAQsF,IAC/B5B,EAAK4B,GAAKsD,UAAUtD,GAGtB5B,EAAK,GAAKnJ,EAAQijC,OAAO95B,EAAK,IAE1B,iBAAoBA,EAAK,IAE3BA,EAAKmL,QAAQ,MAIf,IAAIa,EAAQ,EACZhM,EAAK,GAAKA,EAAK,GAAG2K,QAAQ,iBAAiB,SAAS6Y,EAAOuW,GAEzD,GAAc,OAAVvW,EAAgB,OAAOA,EAC3BxX,IACA,IAAIguB,EAAYnjC,EAAQ0iC,WAAWQ,GACnC,GAAI,mBAAsBC,EAAW,CACnC,IAAIxxB,EAAMxI,EAAKgM,GACfwX,EAAQwW,EAAUl/B,KAAK+X,EAAMrK,GAG7BxI,EAAKguB,OAAOhiB,EAAO,GACnBA,IAEF,OAAOwX,KAIT3sB,EAAQ0hC,WAAWz9B,KAAK+X,EAAM7S,GAE9B,IAAIi6B,EAAQviC,EAAM2gC,KAAOxhC,EAAQwhC,KAAO/tB,QAAQ+tB,IAAIrkB,KAAK1J,SACzD2vB,EAAMlzB,MAAM8L,EAAM7S,IAapB,OAVAtI,EAAM8U,UAAYA,EAClB9U,EAAMkiC,QAAU/iC,EAAQ+iC,QAAQptB,GAChC9U,EAAM8gC,UAAY3hC,EAAQ2hC,YAC1B9gC,EAAMkhC,MA5ER,SAAqBpsB,GACnB,IAAc5K,EAAVs4B,EAAO,EAEX,IAAKt4B,KAAK4K,EACR0tB,GAAUA,GAAQ,GAAKA,EAAQ1tB,EAAU6V,WAAWzgB,GACpDs4B,GAAQ,EAGV,OAAOrjC,EAAQyiC,OAAOr6B,KAAKk7B,IAAID,GAAQrjC,EAAQyiC,OAAOh9B,QAoExC89B,CAAY5tB,GAGtB,mBAAsB3V,EAAQy1B,MAChCz1B,EAAQy1B,KAAK50B,GAGRA,GAtHTb,EAAUD,EAAOC,QAAU8iC,EAAYjiC,MAAQiiC,EAAqB,QAAIA,GAChEG,OA6LR,SAAgBtxB,GACd,OAAIA,aAAe9H,MAAc8H,EAAI/I,OAAS+I,EAAI1J,QAC3C0J,GA9LT3R,EAAQwjC,QAyJR,WACExjC,EAAQ4iC,OAAO,KAzJjB5iC,EAAQ4iC,OA8HR,SAAgBV,GACdliC,EAAQiiC,KAAKC,GAEbliC,EAAQugC,MAAQ,GAChBvgC,EAAQyjC,MAAQ,GAKhB,IAHA,IAAIrhB,GAA+B,iBAAf8f,EAA0BA,EAAa,IAAI9f,MAAM,UACjEQ,EAAMR,EAAM3c,OAEPsF,EAAI,EAAGA,EAAI6X,EAAK7X,IAClBqX,EAAMrX,KAEW,OADtBm3B,EAAa9f,EAAMrX,GAAG+I,QAAQ,MAAO,QACtB,GACb9T,EAAQyjC,MAAMl7B,KAAK,IAAIskB,OAAO,IAAMqV,EAAWwB,OAAO,GAAK,MAE3D1jC,EAAQugC,MAAMh4B,KAAK,IAAIskB,OAAO,IAAMqV,EAAa,QA5IvDliC,EAAQ+iC,QAmKR,SAAiB1+B,GACf,IAAI0G,EAAG6X,EACP,IAAK7X,EAAI,EAAG6X,EAAM5iB,EAAQyjC,MAAMh+B,OAAQsF,EAAI6X,EAAK7X,IAC/C,GAAI/K,EAAQyjC,MAAM14B,GAAGlJ,KAAKwC,GACxB,OAAO,EAGX,IAAK0G,EAAI,EAAG6X,EAAM5iB,EAAQugC,MAAM96B,OAAQsF,EAAI6X,EAAK7X,IAC/C,GAAI/K,EAAQugC,MAAMx1B,GAAGlJ,KAAKwC,GACxB,OAAO,EAGX,OAAO,GA9KTrE,EAAQ4hC,SAAW,EAAnB,MAMA5hC,EAAQugC,MAAQ,GAChBvgC,EAAQyjC,MAAQ,GAQhBzjC,EAAQ0iC,WAAa,gCC1BrB,IAIgCv/B,EAJ5BwgC,EAAQ,EAAQ,KAEhBC,GAE4BzgC,EAFIwgC,IAEiBxgC,EAAI0gC,WAAa1gC,EAAM,CAAE2gC,QAAS3gC,GAEvFpD,EAAOC,QAAU4jC,EAAOE,qCCNxB//B,OAAOggC,eAAe/jC,EAAS,aAAc,CAC3C8D,OAAO,IAGT,IAAIkgC,EAAWjgC,OAAOkgC,QAAU,SAAUvY,GAAU,IAAK,IAAI3gB,EAAI,EAAGA,EAAIsD,UAAU5I,OAAQsF,IAAK,CAAE,IAAIgK,EAAS1G,UAAUtD,GAAI,IAAK,IAAI3B,KAAO2L,EAAchR,OAAOV,UAAUW,eAAeC,KAAK8Q,EAAQ3L,KAAQsiB,EAAOtiB,GAAO2L,EAAO3L,IAAY,OAAOsiB,GAEnPwY,EAAe,WAAc,SAASC,EAAiBzY,EAAQuO,GAAS,IAAK,IAAIlvB,EAAI,EAAGA,EAAIkvB,EAAMx0B,OAAQsF,IAAK,CAAE,IAAIq5B,EAAanK,EAAMlvB,GAAIq5B,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWxG,UAAW,GAAM75B,OAAOggC,eAAerY,EAAQ0Y,EAAWh7B,IAAKg7B,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYL,EAAiBI,EAAYlhC,UAAWmhC,GAAiBC,GAAaN,EAAiBI,EAAaE,GAAqBF,GAA7gB,GAIfG,EAAUC,EAFD,EAAQ,OAMjBC,EAASD,EAFD,EAAQ,OAMhBE,EAAiBF,EAFD,EAAQ,OAMxBG,EAAcH,EAFD,EAAQ,MAMrBI,EAAUJ,EAFD,EAAQ,OAMjBK,EAAYL,EAFD,EAAQ,OAMnBM,EAAUN,EAFD,EAAQ,MAIrB,SAASA,EAAuBxhC,GAAO,OAAOA,GAAOA,EAAI0gC,WAAa1gC,EAAM,CAAE2gC,QAAS3gC,GAiBvF,IAEI+hC,EAAY,WACd,SAASA,EAAUC,GACjB,IAAIxkC,EAASwkC,EAAKxkC,OACdwD,EAAYghC,EAAKhhC,UACjBihC,EAAgBD,EAAKC,cACrBC,EAAaF,EAAKG,MAClBA,OAAuB3iC,IAAf0iC,EAA2B,aAAeA,EAClDE,EAAaJ,EAAKtkC,MAClBA,OAAuB8B,IAAf4iC,GAAmCA,EAC3CC,EAAsBL,EAAKM,eAC3BA,OAAyC9iC,IAAxB6iC,EAAoC,GAAKA,EAC1DE,EAAwBP,EAAKQ,kBAC7BA,OAA8ChjC,IAA1B+iC,EAAsC,KAAOA,EACjEE,EAAwBT,EAAKU,oBAC7BA,OAAgDljC,IAA1BijC,EAAsC,CAC9D/kC,OAAO,EACP4V,MAAM,EACNqR,YAAY,GACV8d,EACAE,EAAqBX,EAAKY,cAC1BA,OAAuCpjC,IAAvBmjC,GAA2CA,EAC3DE,EAAiBb,EAAKc,UACtBA,OAA+BtjC,IAAnBqjC,GAAuCA,EACnDE,EAAsBf,EAAKgB,eAC3BA,OAAyCxjC,IAAxBujC,GAA4CA,EAC7DE,EAAwBjB,EAAKkB,oBAC7BA,OAAgD1jC,IAA1ByjC,GAA8CA,EACpEE,EAAcnB,EAAKoB,OACnBA,OAAyB5jC,IAAhB2jC,EAA4B,WAAaA,GA7C1D,SAAyBE,EAAUjC,GAAe,KAAMiC,aAAoBjC,GAAgB,MAAM,IAAI9oB,UAAU,qCA+C5GgrB,CAAgBrlC,KAAM8jC,GAEtBA,EAAUwB,eAAe,CACvB/lC,OAAQA,EACRwD,UAAWA,EACXihC,cAAeA,EACfvkC,MAAOA,EACP4kC,eAAgBA,EAChBE,kBAAmBA,EACnBE,oBAAqBA,EACrBE,cAAeA,EACfE,UAAWA,EACXE,eAAgBA,EAChBE,oBAAqBA,EACrBE,OAAQA,IAGVnlC,KAAKT,OAASA,EACdS,KAAKkkC,MAAQA,EACblkC,KAAK+C,UAAYA,EACjB/C,KAAK2V,MAAQmuB,EAAUyB,qBAAqBvB,GAC5ChkC,KAAKqkC,eAAiBzB,EAAS,CAAE91B,YAAa,GAAKu3B,GACnDrkC,KAAKukC,kBAAoBA,GAAqB,KAC9C,IAAIiB,KAA2Bf,IAAuBA,EAAoBhlC,QAAQglC,EAAoBhlC,MAEtGglC,EAAoBhlC,MAAQA,GAAS+lC,EACrCxlC,KAAKykC,oBAAsBA,EAC3BzkC,KAAKykC,oBAAoB7rB,WAAa5Y,KAAKykC,oBAAoB7rB,YAAc,GAC7E5Y,KAAKykC,oBAAoB7rB,WAAWlC,OAAS1W,KAAKykC,oBAAoB7rB,WAAWlC,QAAU,KAC3F,IAAI+uB,EAAiBzlC,KAAK2V,OAAoC,mBAApB3V,KAAK2V,MAAMqF,MAAuBhb,KAAK2V,MAAMqF,KAAK,cAC5Fhb,KAAKykC,oBAAoBvc,UAAYloB,KAAKykC,oBAAoBvc,WAAaud,GAAkB,eAE7FzlC,KAAK0lC,eAA4B,WAAXP,EAEtBnlC,KAAK+D,QAAS,EAAIy/B,EAAOd,SAAS1iC,KAAKkkC,MAAOlkC,KAAKT,QACnDS,KAAK+D,OAAOX,gBAAgB,gBAAkBwgC,EAAUlB,SAEpDuC,IACFjlC,KAAK2V,MAAQmuB,EAAU6B,gBAAgB3lC,KAAK2V,QAG9C3V,KAAK6nB,cAAe,EAAI4b,EAAef,SAAS1iC,KAAK2V,MAAO8uB,EAAqB,CAAC,CAChF9wB,OAAQ3T,KAAK4lC,sBAAsBjB,EAAeE,GAClDhtB,UAAW,CACT3B,WAAY4tB,EAAU+B,sBAAsB7lC,KAAK0lC,gBACjDltB,OAAQkrB,EAAYhB,QAAQlqB,OAC5B1B,MAAOgtB,EAAUgC,uBAIrB,IAAIC,EAAuBhB,EAC3B/kC,KAAK+kC,eAAiBgB,GAAwB/lC,KAAK+kC,eAG/CgB,IACF,EAAIlC,EAAQnB,SAAS,yBAAyBxlB,GAAG,QAAS,qBAAqB,SAAUjN,GACvFA,EAAMqU,oBAIVtkB,KAAK6nB,aAAa3K,GAAG,wBAAyBld,KAAK+kC,eAAehpB,KAAK,KAAM/b,KAAK6nB,aAAaA,eAE/F7nB,KAAK6nB,aAAa3K,GAAG,qBAAsBld,KAAKgmC,YAAYjqB,KAAK,KAAM/b,KAAK2V,QAExEsvB,GACFnB,EAAUmC,qBAsOd,OA1NAnD,EAAagB,EAAW,CAAC,CACvB97B,IAAK,wBAYLtF,MAAO,SAA+BiiC,EAAeE,GACnD,IAAIqB,EAAQlmC,KAEZ,OAAO,SAAU2I,EAAO1D,GAClB4/B,IAEFl8B,EAAQk8B,EAAUl8B,IAAUA,GAG9Bu9B,EAAMniC,OAAOwE,OAAO,CAAC,CACnBxF,UAAWmjC,EAAMnjC,UACjB4F,MAAOA,EACPrE,OAAQ4hC,EAAM7B,kBACZl/B,MAAK,SAAUkF,GACb67B,EAAM3B,mBAAuD,mBAA3B2B,EAAM3B,mBAC1C2B,EAAM3B,kBAAkBl6B,GAE1B,IAAIujB,EAAOvjB,EAAK87B,QAAQ,GAAGvY,KACvB+W,IACF/W,EAAO+W,EAAc/W,IAASA,GAEhC3oB,EAAS6+B,EAAUsC,WAAWxY,UAQnC,CACD5lB,IAAK,iBACLtF,MAAO,SAAwBiT,EAAO1F,EAAOiG,EAAYmwB,GACvD,IAAI3tB,EAAUzL,UAAU5I,OAAS,QAAsB9C,IAAjB0L,UAAU,GAAmBA,UAAU,GAAK,GAKlD,UAA5ByL,EAAQkS,kBAIZjV,EAAMiW,OAAO,IACbta,OAAOg1B,SAASzD,OAAO3sB,EAAWrS,QAEnC,CACDmE,IAAK,cACLtF,MAAO,SAAqBiT,GAC1B,IAAI4wB,EAAgB5wB,EAAM6iB,SAASjjB,KAAOI,EAAMkQ,QAAU,EACtD2gB,GAAiB,EAAI3C,EAAQnB,SAAS1xB,UAAU6U,QAAU,EAE1DuP,MAAMoR,KACRA,EAAiB,KAGnB,IAAIC,EAAaF,EAAgBC,GAAkB,EAAI,6BAA+B,4BAClFE,EAAkBH,EAAgBC,EAAiB,EAAI,6BAA+B,4BACtFG,GAAsB,EAAI9C,EAAQnB,SAAS,yBAC1CiE,EAAoB3oB,SAASyoB,IAChCE,EAAoBrsB,SAASmsB,GAG3BE,EAAoB3oB,SAAS0oB,IAC/BC,EAAoBpsB,YAAYmsB,MAGlC,CAAC,CACH1+B,IAAK,iBACLtF,MAAO,SAAwBqF,GAC7B,IAAKA,EAAKxI,SAAWwI,EAAKhF,UACxB,MAAM,IAAI0F,MA/LN,4KAkMN,GAAkC,iBAAvBV,EAAKi8B,cACd,MAAM,IAAIv7B,MAAM,wBAA0BV,EAAKi8B,cAAgB,sFAGjE,IAAKF,EAAUyB,qBAAqBx9B,EAAKi8B,eACvC,MAAM,IAAIv7B,MAAM,+CAAiDV,EAAKi8B,iBAGzE,CACDh8B,IAAK,kBACLtF,MAAO,SAAyBiT,GAC9BA,EAAM0hB,OAAOqM,EAAYhB,QAAQkE,WACjC,IAAIC,EAAWlxB,EAAMmiB,OAAOA,OAAO3e,KAAK,SAExC,OADAxD,EAAMsW,SACC4a,IAER,CACD7+B,IAAK,qBACLtF,MAAO,YACL,EAAImhC,EAAQnB,SAAS,6BAA6BxlB,GAAG,SAAS,YAC5D,EAAI2mB,EAAQnB,SAAS,mBAAmB5d,SACxC,EAAI+e,EAAQnB,SAAS1iC,MAAMsa,SAAS,QACpCmpB,EAAef,QAAQ7a,aAAa+D,OAAO,QAG7C,EAAIiY,EAAQnB,SAAS,mBAAmBxlB,GAAG,SAAS,WAClD,IAAI4pB,EAAY91B,SAAS+1B,cAAc,mBACnCC,EAAQh2B,SAAS+1B,cAAc,6BACnCC,EAAMhuB,UAAY,mBACa,IAA3B8tB,EAAUpkC,MAAM2B,SAClB2iC,EAAMhuB,WAAa,cAaxB,CACDhR,IAAK,uBACLtF,MAAO,SAA8BysB,GACnC,IAAIxZ,GAAQ,EAAIkuB,EAAQnB,SAASvT,GAAUe,OAAO,SAClD,OAAOva,EAAMtR,QAAS,EAAIw/B,EAAQnB,SAAS/sB,EAAM,IAAM,OAExD,CACD3N,IAAK,aACLtF,MAAO,SAAoBukC,GACzB,IACIrZ,EADa+V,EAAQjB,QAAQwE,UAAUD,GACrBrnC,KAAI,SAAUmuB,GAKlC,OAJIA,EAAIoZ,mBAENpZ,EAAIoZ,iBAAmBxD,EAAQjB,QAAQ0E,mBAAmBrZ,EAAIoZ,iBAAkB,cAE3ExD,EAAQjB,QAAQ0E,mBAAmBrZ,EAAK,gBAI7CsZ,EAAc1D,EAAQjB,QAAQ4E,QAAQ1Z,EAAM,QAShD,OARAiW,EAAQnB,QAAQtnB,KAAKisB,GAAa,SAAUE,EAAOvY,GACjD,IAAIwY,EAAoB7D,EAAQjB,QAAQ4E,QAAQtY,EAAY,QACxDyY,EAAgB9D,EAAQjB,QAAQgF,oBAAoBF,EAAmB,uBAC3EH,EAAYE,GAASE,MAEvBJ,EAAc1D,EAAQjB,QAAQgF,oBAAoBL,EAAa,qBAG5CznC,KAAI,SAAUmuB,GAC/B,IAAIlqB,EAAMigC,EAAU6D,UAAU5Z,GAC1B6Z,EAAWjE,EAAQjB,QAAQmF,oBAAoB9Z,EAAK,QACpD+Z,EAAcnE,EAAQjB,QAAQmF,oBAAoB9Z,EAAK,SAAW6Z,EAClEG,EAAepE,EAAQjB,QAAQ9Q,QAAQ,CAAC+R,EAAQjB,QAAQmF,oBAAoB9Z,EAAK,SAAW+Z,EAAanE,EAAQjB,QAAQmF,oBAAoB9Z,EAAK,QAAS4V,EAAQjB,QAAQmF,oBAAoB9Z,EAAK,QAAS4V,EAAQjB,QAAQmF,oBAAoB9Z,EAAK,QAAS4V,EAAQjB,QAAQmF,oBAAoB9Z,EAAK,UAAUjlB,KAAK,6EACvTgd,EAAO6d,EAAQjB,QAAQsF,kBAAkBja,EAAK,WAC9Cka,EAA8BH,GAA+B,KAAhBA,GAAsBC,GAAiC,KAAjBA,EAEnFG,EAASH,GAAiC,KAAjBA,GAAuBA,IAAiBD,EACjEK,GAAUD,GAAUJ,GAA+B,KAAhBA,GAAsBA,IAAgBF,EAG7E,MAAO,CACLQ,QAHYD,IAAWD,EAIvBC,OAAQA,EACRD,OAAQA,EACRG,wBAT4BP,GAA+B,KAAhBA,GAAsBA,IAAgBF,EAUjFU,iBAAkBva,EAAIua,iBACtBC,oBAAqBxa,EAAIwa,oBACzBN,4BAA6BA,EAC7BL,SAAUA,EACVE,YAAaA,EACbU,MAAOT,EACPjiB,KAAMA,EACNjiB,IAAKA,QAIV,CACDmE,IAAK,YACLtF,MAAO,SAAmBqrB,GACxB,IAAIlqB,EAAMkqB,EAAIlqB,IACV4kC,EAAS1a,EAAI0a,OAEjB,OAAI5kC,GACyC,IAAtBA,EAAIN,QAAQ,KACNM,EAAa4kC,EAAe1a,EAAIlqB,IAAM,IAAMkqB,EAAI0a,OACpE5kC,EACE4kC,EAAe,IAAM1a,EAAI0a,QAEpCp2B,QAAQC,KAAK,2BAA4BnQ,KAAKC,UAAU2rB,IAEjD,QAER,CACD/lB,IAAK,mBACLtF,MAAO,WACL,OAAO,SAAUqF,GACf,OAAOu7B,EAAQZ,QAAQgG,QAAQhF,EAAYhB,QAAQ5rB,OAAO6xB,OAAO5gC,MAGpE,CACDC,IAAK,wBACLtF,MAAO,SAA+BgjC,GACpC,IAAIkD,EAAiBlD,EAAiBhC,EAAYhB,QAAQmG,iBAAmBnF,EAAYhB,QAAQxsB,WAC7F4yB,EAAWxF,EAAQZ,QAAQgG,QAAQE,GACvC,OAAO,SAAU1yB,GACf,OAAO4yB,EAASH,OAAOzyB,QAKtB4tB,EArUO,GAwUhBllC,EAAA,QAAkBklC,8BC/XlBnhC,OAAOggC,eAAe/jC,EAAS,aAAc,CAC3C8D,OAAO,IAGT,IAEIqmC,EAAcxF,EAFD,EAAQ,OAMrByF,EAAczF,EAFD,EAAQ,OAMrBK,EAAYL,EAFD,EAAQ,OAIvB,SAASA,EAAuBxhC,GAAO,OAAOA,GAAOA,EAAI0gC,WAAa1gC,EAAM,CAAE2gC,QAAS3gC,GAEvF,IAAIw9B,GAAY,EAAIwJ,EAAYrG,SAASsG,EAAYtG,SACrDnD,EAAU/wB,QAAUo1B,EAAUlB,QAE9B9jC,EAAA,QAAkB2gC,4BCrBlB58B,OAAOggC,eAAe/jC,EAAS,aAAc,CAC3C8D,OAAO,IAET,IAAIgU,EAAS,oBACTuyB,EAAmBvyB,EAAS,cAC5BwyB,EAAexyB,EAAS,UAIxBmB,EAAY,CACd3B,WAAY,iBAAmB+yB,EAAmB,8BAAgCA,EAAmB,4DAA8DA,EAAmB,iIAAmIA,EAAmB,6CAA+CA,EAAmB,8EAAgFA,EAAmB,kCAAoCA,EAAmB,gDAAkDA,EAAmB,gIAAkIA,EAAmB,oCAAsCA,EAAmB,sEAAwEA,EAAmB,4DAA8DA,EAAmB,kHACv+BJ,iBAAkB,mBAAqBI,EAAmB,8BAAgCA,EAAmB,4DAA8DA,EAAmB,4FAA8FA,EAAmB,kEAAoEA,EAAmB,0BAA4BA,EAAmB,uIAAyIA,EAAmB,0BAA4BA,EAAmB,wLAA0LA,EAAmB,WAAaA,EAAmB,+TAAiUA,EAAmB,mDAAqDA,EAAmB,oCAAsCA,EAAmB,oFACl0CzwB,OAAQ,qBAAuB0wB,EAAe,iCAAmCA,EAAe,+EAChGpyB,MAAO,mBAAqBmyB,EAAmB,uBAAyBA,EAAmB,oCAAsCA,EAAmB,aAAeA,EAAmB,2CAA6CA,EAAmB,0CAA4CA,EAAmB,oKACrTrC,UAAW,2zDAGbhoC,EAAA,QAAkBiZ,+BCjBlBlV,OAAOggC,eAAe/jC,EAAS,aAAc,CAC3C8D,OAAO,IAGT,IAMgCX,EAN5BonC,EAA4B,mBAAXC,QAAoD,iBAApBA,OAAOC,SAAwB,SAAUtnC,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAyB,mBAAXqnC,QAAyBrnC,EAAI+Q,cAAgBs2B,QAAUrnC,IAAQqnC,OAAOnnC,UAAY,gBAAkBF,GAElQunC,EAAS,EAAQ,KAEjBzF,GAE4B9hC,EAFKunC,IAEgBvnC,EAAI0gC,WAAa1gC,EAAM,CAAE2gC,QAAS3gC,GAEvF,IAAIwnC,EAAQ,CAsBVnC,mBAAoB,SAA4B/V,EAAQ6F,GACtD,QAAyB31B,IAArB8vB,EAAO6F,GACT,OAAO7F,EAET,GAAkC,WAA9B8X,EAAQ9X,EAAO6F,IACjB,OAAO7F,EAET,IAAImY,EAAY3F,EAAQnB,QAAQzT,OAAO,GAAIoC,EAAQA,EAAO6F,IAE1D,cADOsS,EAAUtS,GACVsS,GAkCTlC,QAAS,SAAiBtY,EAAYkI,GACpC,IAAIuS,EAAgB,GAgBpB,OAfA5F,EAAQnB,QAAQtnB,KAAK4T,GAAY,SAAUjb,EAAOR,GAChD,QAAuBhS,IAAnBgS,EAAK2jB,GACP,MAAM,IAAIzuB,MAAM,gCAAkCyuB,GAEpD,IAAIlvB,EAAMuL,EAAK2jB,GACI,iBAARlvB,IACTA,EAAMA,EAAInG,eAIPc,OAAOV,UAAUW,eAAeC,KAAK4mC,EAAezhC,KACvDyhC,EAAczhC,GAAO,IAEvByhC,EAAczhC,GAAKb,KAAKoM,MAEnBk2B,GAgBT7a,OAAQ,SAAgByC,GACtB,OAAO1uB,OAAOiR,KAAKyd,GAAQzxB,KAAI,SAAUoI,GACvC,OAAOqpB,EAAOrpB,OAalB6pB,QAAS,SAAiB3mB,GACxB,IAAIi7B,EAAU,GAUd,OATAj7B,EAAM/C,SAAQ,SAAUzF,GACjBV,MAAMrC,QAAQ+C,GAInBA,EAAMyF,SAAQ,SAAUuhC,GACtBvD,EAAQh/B,KAAKuiC,MAJbvD,EAAQh/B,KAAKzE,MAOVyjC,GAgCTuB,oBAAqB,SAA6BrW,EAAQsY,GACxD,IAAI/a,EAAS5uB,KAAK4uB,OAAOyC,GAAQzxB,KAAI,SAAUovB,GAC7C,OAAOA,EAAWpvB,KAAI,SAAU2T,EAAMQ,GAGpC,OADAR,EAAKo2B,GAAkB,IAAV51B,EACNR,QAGX,OAAOvT,KAAK6xB,QAAQjD,IAYtBgD,QAAS,SAAiB1mB,GACxB,IAAIi7B,EAAU,GAOd,OANAj7B,EAAM/C,SAAQ,SAAUzF,GACjBA,GAGLyjC,EAAQh/B,KAAKzE,MAERyjC,GAqBT0B,oBAAqB,SAA6BxW,EAAQ6F,GACxD,OAAI7F,EAAO8V,kBAAoB9V,EAAO8V,iBAAiByC,iBAAmBvY,EAAO8V,iBAAiByC,gBAAgB1S,IAAa7F,EAAO8V,iBAAiByC,gBAAgB1S,GAAU2S,YAA+E,SAAjExY,EAAO8V,iBAAiByC,gBAAgB1S,GAAU2S,YAAyBxY,EAAO8V,iBAAiByC,gBAAgB1S,GAAUx0B,MACnT2uB,EAAO8V,iBAAiByC,gBAAgB1S,GAAUx0B,MAEvD2uB,EAAO8V,kBAAoB9V,EAAO8V,kBAAoB9V,EAAO8V,iBAAiBjQ,IAAa7F,EAAO8V,iBAAiBjQ,GAAUx0B,MACxH2uB,EAAO8V,iBAAiBjQ,GAAUx0B,MAEpC2uB,EAAO6F,IAuBhB8Q,kBAAmB,SAA2B3W,EAAQ6F,GACpD,IAAK7F,EAAOyY,iBAAmBzY,EAAOyY,eAAe5S,KAAc7F,EAAOyY,eAAe5S,GAAUx0B,MACjG,OAAO2uB,EAAO6F,GAEhB,IAAI6S,EAAU1Y,EAAOyY,eAAe5S,GAAUx0B,MAQ9C,OANIqnC,EAAQ,KAAOA,EAAQ,GAAG5f,gBAC5B4f,EAAU,IAAWA,IAEuC,IAA1D,CAAC,IAAK,IAAK,KAAKxmC,QAAQwmC,EAAQA,EAAQ1lC,OAAS,MACnD0lC,GAAoB,KAEfA,GAST7C,UAAW,SAAmB7V,GAC5B,OAAOlvB,KAAKwD,MAAMxD,KAAKC,UAAUivB,MAIrCzyB,EAAA,QAAkB2qC,6BCjRlB5mC,OAAOggC,eAAe/jC,EAAS,aAAc,CAC3C8D,OAAO,IAET9D,EAAA,QAAkB,oCCHlB+D,OAAOggC,eAAe/jC,EAAS,aAAc,CAC3C8D,OAAO,IAGT,IAIgCX,EAJ5BunC,EAAS,EAAQ,MAEjBzF,GAE4B9hC,EAFKunC,IAEgBvnC,EAAI0gC,WAAa1gC,EAAM,CAAE2gC,QAAS3gC,GAEvFnD,EAAA,QAAkBilC,EAAQnB,4CCHsC/jC,EAAOC,QAG/D,WAAe,aAEvB,SAASorC,EAAiBC,GACxB,IAAItpB,SAAcspB,EAClB,OAAa,OAANA,IAAwB,WAATtpB,GAA8B,aAATA,GAG7C,SAASzI,EAAW+xB,GAClB,MAAoB,mBAANA,EAKhB,IASItqC,EARAqC,MAAMrC,QACGqC,MAAMrC,QAEN,SAAUsqC,GACnB,MAA6C,mBAAtCtnC,OAAOV,UAAUiG,SAASrF,KAAKonC,IAMtCzoB,EAAM,EACN0oB,OAAY,EACZC,OAAoB,EAEpBC,EAAO,SAAcnlC,EAAU2tB,GACjCyX,EAAM7oB,GAAOvc,EACbolC,EAAM7oB,EAAM,GAAKoR,EAEL,KADZpR,GAAO,KAKD2oB,EACFA,EAAkBG,GAElBC,MAKN,SAASC,EAAaC,GACpBN,EAAoBM,EAGtB,SAASC,EAAQC,GACfP,EAAOO,EAGT,IAAIC,EAAkC,oBAAXt5B,OAAyBA,YAAS/P,EACzDspC,EAAgBD,GAAiB,GACjCE,EAA0BD,EAAcE,kBAAoBF,EAAcG,uBAC1EC,EAAyB,oBAATrwB,WAA2C,IAAZzb,GAAyD,qBAA9B,GAAG+I,SAASrF,KAAK1D,GAG3F+rC,EAAwC,oBAAtBC,mBAA8D,oBAAlBC,eAA2D,oBAAnBC,eAG1G,SAASC,IAGP,OAAO,WACL,OAAOnsC,EAAQosC,SAASjB,IAK5B,SAASkB,IACP,YAAyB,IAAdtB,EACF,WACLA,EAAUI,IAIPmB,IAGT,SAASC,IACP,IAAIC,EAAa,EACbC,EAAW,IAAId,EAAwBR,GACvC/X,EAAOvhB,SAASsc,eAAe,IAGnC,OAFAse,EAASC,QAAQtZ,EAAM,CAAEuZ,eAAe,IAEjC,WACLvZ,EAAKloB,KAAOshC,IAAeA,EAAa,GAK5C,SAASI,IACP,IAAIC,EAAU,IAAIX,eAElB,OADAW,EAAQC,MAAMC,UAAY5B,EACnB,WACL,OAAO0B,EAAQG,MAAMC,YAAY,IAIrC,SAASX,IAGP,IAAIY,EAAmBhnC,WACvB,OAAO,WACL,OAAOgnC,EAAiB/B,EAAO,IAInC,IAAID,EAAQ,IAAIroC,MAAM,KACtB,SAASsoC,IACP,IAAK,IAAI3gC,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,GAI5B1E,EAHeolC,EAAM1gC,IACX0gC,EAAM1gC,EAAI,IAIpB0gC,EAAM1gC,QAAKpI,EACX8oC,EAAM1gC,EAAI,QAAKpI,EAGjBigB,EAAM,EAGR,SAAS8qB,IACP,IACE,IAAIC,EAAQlM,SAAS,cAATA,GAA0Bb,QAAQ,SAE9C,OADA0K,EAAYqC,EAAMC,WAAaD,EAAME,aAC9BjB,IACP,MAAO17B,GACP,OAAO27B,KAIX,IAAIlB,OAAgB,EAcpB,SAASplC,EAAKunC,EAAeC,GAC3B,IAAInvB,EAASxd,KAETi3B,EAAQ,IAAIj3B,KAAK8S,YAAY8P,QAEPrhB,IAAtB01B,EAAM2V,IACRC,EAAY5V,GAGd,IAAI6V,EAAStvB,EAAOsvB,OAGpB,GAAIA,EAAQ,CACV,IAAI7nC,EAAWgI,UAAU6/B,EAAS,GAClC1C,GAAK,WACH,OAAO2C,EAAeD,EAAQ7V,EAAOhyB,EAAUuY,EAAOwvB,iBAGxDC,EAAUzvB,EAAQyZ,EAAOyV,EAAeC,GAG1C,OAAO1V,EAkCT,SAASiW,EAAU7b,GAEjB,IAAI8R,EAAcnjC,KAElB,GAAIqxB,GAA4B,iBAAXA,GAAuBA,EAAOve,cAAgBqwB,EACjE,OAAO9R,EAGT,IAAI8b,EAAU,IAAIhK,EAAYvgB,GAE9B,OADAnd,EAAQ0nC,EAAS9b,GACV8b,EA5EP5C,EADEU,EACcK,IACPR,EACOY,IACPR,EACOa,SACWxqC,IAAlBqpC,EACO0B,IAEAb,IAuElB,IAAImB,EAAa5lC,KAAKsE,SAASpD,SAAS,IAAIklC,UAAU,GAEtD,SAASxqB,KAET,IAAIyqB,OAAU,EACVC,EAAY,EACZC,EAAW,EAEf,SAASC,IACP,OAAO,IAAInzB,UAAU,4CAGvB,SAASozB,IACP,OAAO,IAAIpzB,UAAU,wDAGvB,SAASqzB,EAAQC,EAASjrC,EAAOkrC,EAAoBC,GACnD,IACEF,EAAQ9qC,KAAKH,EAAOkrC,EAAoBC,GACxC,MAAO/9B,GACP,OAAOA,GAIX,SAASg+B,EAAsBX,EAASY,EAAUJ,GAChDvD,GAAK,SAAU+C,GACb,IAAIa,GAAS,EACTp7B,EAAQ86B,EAAQC,EAASI,GAAU,SAAUrrC,GAC3CsrC,IAGJA,GAAS,EACLD,IAAarrC,EACf+C,EAAQ0nC,EAASzqC,GAEjBurC,EAAQd,EAASzqC,OAElB,SAAUwrC,GACPF,IAGJA,GAAS,EAET9nC,EAAOinC,EAASe,MACf,YAAcf,EAAQgB,QAAU,sBAE9BH,GAAUp7B,IACbo7B,GAAS,EACT9nC,EAAOinC,EAASv6B,MAEjBu6B,GAGL,SAASiB,EAAkBjB,EAASY,GAC9BA,EAASjB,SAAWQ,EACtBW,EAAQd,EAASY,EAASf,SACjBe,EAASjB,SAAWS,EAC7BrnC,EAAOinC,EAASY,EAASf,SAEzBC,EAAUc,OAAUxsC,GAAW,SAAUmB,GACvC,OAAO+C,EAAQ0nC,EAASzqC,MACvB,SAAUwrC,GACX,OAAOhoC,EAAOinC,EAASe,MAK7B,SAASG,EAAoBlB,EAASmB,EAAeX,GAC/CW,EAAcx7B,cAAgBq6B,EAAQr6B,aAAe66B,IAAYxoC,GAAQmpC,EAAcx7B,YAAYrN,UAAYynC,EACjHkB,EAAkBjB,EAASmB,QAEX/sC,IAAZosC,EACFM,EAAQd,EAASmB,GACRp2B,EAAWy1B,GACpBG,EAAsBX,EAASmB,EAAeX,GAE9CM,EAAQd,EAASmB,GAKvB,SAAS7oC,EAAQ0nC,EAASzqC,GACxB,GAAIyqC,IAAYzqC,EACdwD,EAAOinC,EAASK,UACX,GAAIxD,EAAiBtnC,GAAQ,CAClC,IAAIirC,OAAU,EACd,IACEA,EAAUjrC,EAAMyC,KAChB,MAAOyN,GAEP,YADA1M,EAAOinC,EAASv6B,GAGlBy7B,EAAoBlB,EAASzqC,EAAOirC,QAEpCM,EAAQd,EAASzqC,GAIrB,SAAS6rC,EAAiBpB,GACpBA,EAAQqB,UACVrB,EAAQqB,SAASrB,EAAQH,SAG3ByB,EAAQtB,GAGV,SAASc,EAAQd,EAASzqC,GACpByqC,EAAQL,SAAWO,IAIvBF,EAAQH,QAAUtqC,EAClByqC,EAAQL,OAASQ,EAEmB,IAAhCH,EAAQuB,aAAarqC,QACvB+lC,EAAKqE,EAAStB,IAIlB,SAASjnC,EAAOinC,EAASe,GACnBf,EAAQL,SAAWO,IAGvBF,EAAQL,OAASS,EACjBJ,EAAQH,QAAUkB,EAElB9D,EAAKmE,EAAkBpB,IAGzB,SAASF,EAAUzvB,EAAQyZ,EAAOyV,EAAeC,GAC/C,IAAI+B,EAAelxB,EAAOkxB,aACtBrqC,EAASqqC,EAAarqC,OAG1BmZ,EAAOgxB,SAAW,KAElBE,EAAarqC,GAAU4yB,EACvByX,EAAarqC,EAASipC,GAAaZ,EACnCgC,EAAarqC,EAASkpC,GAAYZ,EAEnB,IAAXtoC,GAAgBmZ,EAAOsvB,QACzB1C,EAAKqE,EAASjxB,GAIlB,SAASixB,EAAQtB,GACf,IAAIwB,EAAcxB,EAAQuB,aACtBE,EAAUzB,EAAQL,OAEtB,GAA2B,IAAvB6B,EAAYtqC,OAAhB,CAQA,IAJA,IAAI4yB,OAAQ,EACRhyB,OAAW,EACX4pC,EAAS1B,EAAQH,QAEZrjC,EAAI,EAAGA,EAAIglC,EAAYtqC,OAAQsF,GAAK,EAC3CstB,EAAQ0X,EAAYhlC,GACpB1E,EAAW0pC,EAAYhlC,EAAIilC,GAEvB3X,EACF8V,EAAe6B,EAAS3X,EAAOhyB,EAAU4pC,GAEzC5pC,EAAS4pC,GAIb1B,EAAQuB,aAAarqC,OAAS,GAGhC,SAAS0oC,EAAe6B,EAASzB,EAASloC,EAAU4pC,GAClD,IAAIC,EAAc52B,EAAWjT,GACzBvC,OAAQ,EACRkQ,OAAQ,EACRm8B,GAAY,EAEhB,GAAID,EAAa,CACf,IACEpsC,EAAQuC,EAAS4pC,GACjB,MAAO/+B,GACPi/B,GAAY,EACZn8B,EAAQ9C,EAGV,GAAIq9B,IAAYzqC,EAEd,YADAwD,EAAOinC,EAASM,UAIlB/qC,EAAQmsC,EAGN1B,EAAQL,SAAWO,IAEZyB,GAAeC,EACxBtpC,EAAQ0nC,EAASzqC,IACM,IAAdqsC,EACT7oC,EAAOinC,EAASv6B,GACPg8B,IAAYtB,EACrBW,EAAQd,EAASzqC,GACRksC,IAAYrB,GACrBrnC,EAAOinC,EAASzqC,IAIpB,SAASssC,EAAkB7B,EAAS8B,GAClC,IACEA,GAAS,SAAwBvsC,GAC/B+C,EAAQ0nC,EAASzqC,MAChB,SAAuBwrC,GACxBhoC,EAAOinC,EAASe,MAElB,MAAOp+B,GACP5J,EAAOinC,EAASr9B,IAIpB,IAAIoL,EAAK,EACT,SAASg0B,IACP,OAAOh0B,IAGT,SAAS2xB,EAAYM,GACnBA,EAAQP,GAAc1xB,IACtBiyB,EAAQL,YAASvrC,EACjB4rC,EAAQH,aAAUzrC,EAClB4rC,EAAQuB,aAAe,GAGzB,SAASS,IACP,OAAO,IAAI1mC,MAAM,2CAGnB,IAAI2mC,EAAa,WACf,SAASA,EAAWjM,EAAaxtB,GAC/B3V,KAAKqvC,qBAAuBlM,EAC5BnjC,KAAKmtC,QAAU,IAAIhK,EAAYvgB,GAE1B5iB,KAAKmtC,QAAQP,IAChBC,EAAY7sC,KAAKmtC,SAGfxtC,EAAQgW,IACV3V,KAAKqE,OAASsR,EAAMtR,OACpBrE,KAAKsvC,WAAa35B,EAAMtR,OAExBrE,KAAKgtC,QAAU,IAAIhrC,MAAMhC,KAAKqE,QAEV,IAAhBrE,KAAKqE,OACP4pC,EAAQjuC,KAAKmtC,QAASntC,KAAKgtC,UAE3BhtC,KAAKqE,OAASrE,KAAKqE,QAAU,EAC7BrE,KAAKuvC,WAAW55B,GACQ,IAApB3V,KAAKsvC,YACPrB,EAAQjuC,KAAKmtC,QAASntC,KAAKgtC,WAI/B9mC,EAAOlG,KAAKmtC,QAASgC,KA8EzB,OA1EAC,EAAWntC,UAAUstC,WAAa,SAAoB55B,GACpD,IAAK,IAAIhM,EAAI,EAAG3J,KAAK8sC,SAAWO,GAAW1jC,EAAIgM,EAAMtR,OAAQsF,IAC3D3J,KAAKwvC,WAAW75B,EAAMhM,GAAIA,IAI9BylC,EAAWntC,UAAUutC,WAAa,SAAoBC,EAAO9lC,GAC3D,IAAI+2B,EAAI1gC,KAAKqvC,qBACTK,EAAahP,EAAEj7B,QAGnB,GAAIiqC,IAAexC,EAAW,CAC5B,IAAIyC,OAAQ,EACR/8B,OAAQ,EACRg9B,GAAW,EACf,IACED,EAAQF,EAAMtqC,KACd,MAAO2K,GACP8/B,GAAW,EACXh9B,EAAQ9C,EAGV,GAAI6/B,IAAUxqC,GAAQsqC,EAAM3C,SAAWO,EACrCrtC,KAAK6vC,WAAWJ,EAAM3C,OAAQnjC,EAAG8lC,EAAMzC,cAClC,GAAqB,mBAAV2C,EAChB3vC,KAAKsvC,aACLtvC,KAAKgtC,QAAQrjC,GAAK8lC,OACb,GAAI/O,IAAMoP,GAAW,CAC1B,IAAI3C,EAAU,IAAIzM,EAAE9d,GAChBgtB,EACF1pC,EAAOinC,EAASv6B,GAEhBy7B,EAAoBlB,EAASsC,EAAOE,GAEtC3vC,KAAK+vC,cAAc5C,EAASxjC,QAE5B3J,KAAK+vC,cAAc,IAAIrP,GAAE,SAAUgP,GACjC,OAAOA,EAAWD,MAChB9lC,QAGN3J,KAAK+vC,cAAcL,EAAWD,GAAQ9lC,IAI1CylC,EAAWntC,UAAU4tC,WAAa,SAAoBx7B,EAAO1K,EAAGjH,GAC9D,IAAIyqC,EAAUntC,KAAKmtC,QAGfA,EAAQL,SAAWO,IACrBrtC,KAAKsvC,aAEDj7B,IAAUk5B,EACZrnC,EAAOinC,EAASzqC,GAEhB1C,KAAKgtC,QAAQrjC,GAAKjH,GAIE,IAApB1C,KAAKsvC,YACPrB,EAAQd,EAASntC,KAAKgtC,UAI1BoC,EAAWntC,UAAU8tC,cAAgB,SAAuB5C,EAASxjC,GACnE,IAAIqmC,EAAahwC,KAEjBitC,EAAUE,OAAS5rC,GAAW,SAAUmB,GACtC,OAAOstC,EAAWH,WAAWvC,EAAW3jC,EAAGjH,MAC1C,SAAUwrC,GACX,OAAO8B,EAAWH,WAAWtC,EAAU5jC,EAAGukC,OAIvCkB,EAvGQ,GAyJjB,SAASnmC,EAAIgnC,GACX,OAAO,IAAIb,EAAWpvC,KAAMiwC,GAAS9C,QAoEvC,SAAS+C,EAAKD,GAEZ,IAAI9M,EAAcnjC,KAElB,OAAKL,EAAQswC,GAKJ,IAAI9M,GAAY,SAAU19B,EAASS,GAExC,IADA,IAAI7B,EAAS4rC,EAAQ5rC,OACZsF,EAAI,EAAGA,EAAItF,EAAQsF,IAC1Bw5B,EAAY19B,QAAQwqC,EAAQtmC,IAAIxE,KAAKM,EAASS,MAP3C,IAAIi9B,GAAY,SAAUvuB,EAAG1O,GAClC,OAAOA,EAAO,IAAImU,UAAU,uCA8ClC,SAAS81B,EAASjC,GAEhB,IACIf,EAAU,IADIntC,KACY4iB,GAE9B,OADA1c,EAAOinC,EAASe,GACTf,EAGT,SAASiD,KACP,MAAM,IAAI/1B,UAAU,sFAGtB,SAASg2B,KACP,MAAM,IAAIh2B,UAAU,yHA2GtB,IAAIy1B,GAAY,WACd,SAAShiC,EAAQmhC,GACfjvC,KAAK4sC,GAAcsC,IACnBlvC,KAAKgtC,QAAUhtC,KAAK8sC,YAASvrC,EAC7BvB,KAAK0uC,aAAe,GAEhB9rB,IAASqsB,IACS,mBAAbA,GAA2BmB,KAClCpwC,gBAAgB8N,EAAUkhC,EAAkBhvC,KAAMivC,GAAYoB,MA6PlE,OA/DAviC,EAAQ7L,UAAUiD,MAAQ,SAAgBynC,GACxC,OAAO3sC,KAAKmF,KAAK,KAAMwnC,IA2CzB7+B,EAAQ7L,UAAUquC,QAAU,SAAkBrrC,GAC5C,IAAIkoC,EAAUntC,KACV8S,EAAcq6B,EAAQr6B,YAE1B,OAAIoF,EAAWjT,GACNkoC,EAAQhoC,MAAK,SAAUzC,GAC5B,OAAOoQ,EAAYrN,QAAQR,KAAYE,MAAK,WAC1C,OAAOzC,QAER,SAAUwrC,GACX,OAAOp7B,EAAYrN,QAAQR,KAAYE,MAAK,WAC1C,MAAM+oC,QAKLf,EAAQhoC,KAAKF,EAAUA,IAGzB6I,EArQO,GAkRhB,SAASyiC,KACP,IAAIpP,OAAQ,EAEZ,QAAsB,IAAX,EAAA3sB,EACT2sB,EAAQ,EAAA3sB,OACH,GAAoB,oBAAToG,KAChBumB,EAAQvmB,UAER,IACEumB,EAAQd,SAAS,cAATA,GACR,MAAOvwB,GACP,MAAM,IAAIrH,MAAM,4EAIpB,IAAI+nC,EAAIrP,EAAMrzB,QAEd,GAAI0iC,EAAG,CACL,IAAIC,EAAkB,KACtB,IACEA,EAAkB9tC,OAAOV,UAAUiG,SAASrF,KAAK2tC,EAAE/qC,WACnD,MAAOqK,IAIT,GAAwB,qBAApB2gC,IAA2CD,EAAEE,KAC/C,OAIJvP,EAAMrzB,QAAUgiC,GAOlB,OA/CAA,GAAU7tC,UAAUkD,KAAOA,EAC3B2qC,GAAU7mC,IAAMA,EAChB6mC,GAAUI,KAAOA,EACjBJ,GAAUrqC,QAAUynC,EACpB4C,GAAU5pC,OAASiqC,EACnBL,GAAUa,cAAgBnG,EAC1BsF,GAAUc,SAAWlG,EACrBoF,GAAUe,MAAQzG,EAqClB0F,GAAUS,SAAWA,GACrBT,GAAUhiC,QAAUgiC,GAEbA,GAtoC0ExQ,aCRjF,IAAIwR,EAASnuC,OAAOV,UAAUW,eAC1BsF,EAAWvF,OAAOV,UAAUiG,SAEhCvJ,EAAOC,QAAU,SAAkBmD,EAAKoQ,EAAI4+B,GACxC,GAA0B,sBAAtB7oC,EAASrF,KAAKsP,GACd,MAAM,IAAIkI,UAAU,+BAExB,IAAI22B,EAAIjvC,EAAIsC,OACZ,GAAI2sC,KAAOA,EACP,IAAK,IAAIrnC,EAAI,EAAGA,EAAIqnC,EAAGrnC,IACnBwI,EAAGtP,KAAKkuC,EAAKhvC,EAAI4H,GAAIA,EAAG5H,QAG5B,IAAK,IAAIkvC,KAAKlvC,EACN+uC,EAAOjuC,KAAKd,EAAKkvC,IACjB9+B,EAAGtP,KAAKkuC,EAAKhvC,EAAIkvC,GAAIA,EAAGlvC,oBChBxC,IAAImvC,EAGAA,EADkB,oBAAX5/B,OACDA,YACmB,IAAX,EAAAkD,EACR,EAAAA,EACiB,oBAAToG,KACRA,KAEA,GAGVjc,EAAOC,QAAUsyC,iBCGjB,SAAWC,GAGT,IAAIC,EAAgB,KAChBC,EAAQ,MACRC,EAAY,MACZC,EAAM,MACNC,EAAS,MACTC,EAAW,SACXC,EAAgB,SAyIpB,SAASC,EAAkBC,GACkB,MAAvCA,EAAMC,EAAEvP,OAAOsP,EAAMC,EAAExtC,OAAS,KAClCutC,EAAMC,EAAID,EAAMC,EAAEzE,UAAU,EAAGwE,EAAMC,EAAExtC,OAAS,IAIpD,SAASiwB,EAAK3H,GACZ,OAAIA,EAAE2H,KACG3H,EAAE2H,OAGJ3H,EAAEja,QAAQ,aAAc,IAGjC,SAASo/B,EAAUC,EAAKjsB,EAAM/R,GAC5B,GAAI+R,EAAKksB,OAAOj+B,IAAUg+B,EAAIC,OAAO,GACnC,OAAO,EAGT,IAAK,IAAIroC,EAAI,EAAGqnC,EAAIe,EAAI1tC,OAAQsF,EAAIqnC,EAAGrnC,IACrC,GAAImc,EAAKksB,OAAOj+B,EAAQpK,IAAMooC,EAAIC,OAAOroC,GACvC,OAAO,EAIX,OAAO,EAhKTwnC,EAAM1nC,KAAO,CACX,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,EAAK,EAC7B,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,GAAM,EACtC,IAAK,GAAI,IAAK,GAAI,GAAM,IAG1B0nC,EAAMc,KAAO,SAAcnsB,EAAMosB,GAC/B,IAAI1wB,EAAMsE,EAAKzhB,OAIXgQ,EAHU,EAIV89B,EAAU,KACVJ,EAAM,KACNK,EAAM,GACNC,EAAS,GACTC,GAAU,EACV3oC,EAAI,EACJ4oC,EAAY,EACZC,EAAO,KACPC,EAAO,KAEX,SAASC,IACHN,EAAI/tC,OAAS,IACfguC,EAAOlrC,KAAK,CAAC4qC,IAAK,KAAMjsB,KAAM,IAAIkH,OAAOolB,KACzCA,EAAM,IAkBV,SAASO,EAAWC,EAAaC,GAG/B,GAFAH,IAEIE,GAjBN,WAEE,IADA,IAAIE,GAAkB,EACbjpC,EAAI0oC,EAAW1oC,EAAIwoC,EAAOhuC,OAAQwF,IAIzC,KAHAipC,EACG3B,EAAM1nC,KAAK4oC,EAAOxoC,GAAGkoC,KAAOZ,EAAM1nC,KAAS,IAC1B,MAAjB4oC,EAAOxoC,GAAGkoC,KAAuD,OAAxCM,EAAOxoC,GAAGic,KAAKyF,MAAM6lB,IAE/C,OAAO,EAIX,OAAO0B,EAMYC,GACjB,IAAK,IAAmBhb,EAAfluB,EAAI0oC,EAAiB1oC,EAAIwoC,EAAOhuC,OAAQwF,IAC3CwoC,EAAOxoC,GAAGic,QACPiS,EAAOsa,EAAOxoC,EAAE,KAAmB,KAAZkuB,EAAKga,MAE/Bha,EAAKib,OAASX,EAAOxoC,GAAGic,KAAK5d,YAE/BmqC,EAAOtc,OAAOlsB,EAAG,SAGXgpC,GACVR,EAAOlrC,KAAK,CAAC4qC,IAAI,OAGnBO,GAAU,EACVC,EAAYF,EAAOhuC,OAGrB,SAAS4uC,EAAiBntB,EAAM/R,GAC9B,IAAI6L,EAAQ,IAAM6yB,EACdS,EAAaptB,EAAKviB,QAAQqc,EAAO7L,GACjCm+B,EAAa5d,EACXxO,EAAKsnB,UAAUtnB,EAAKviB,QAAQ,IAAKwQ,GAAS,EAAGm/B,IAC7ClyB,MAAM,KAKZ,OAHAwxB,EAAON,EAAW,GAClBO,EAAOP,EAAWA,EAAW7tC,OAAS,GAE/B6uC,EAAatzB,EAAMvb,OAAS,EASrC,IANI6tC,IACFA,EAAaA,EAAWlxB,MAAM,KAC9BwxB,EAAON,EAAW,GAClBO,EAAOP,EAAW,IAGfvoC,EAAI,EAAGA,EAAI6X,EAAK7X,IA3EP,GA4ER0K,EACEy9B,EAAUU,EAAM1sB,EAAMnc,MACtBA,EACF+oC,IACAr+B,EA/EY,GAiFU,MAAlByR,EAAKksB,OAAOroC,GACdgpC,EAAWL,GAEXF,GAAOtsB,EAAKksB,OAAOroC,GApFT,GAuFL0K,GACT1K,GAAK6oC,EAAKnuC,OAAS,EAGJ,MADf8tC,GADAJ,EAAMZ,EAAM1nC,KAAKqc,EAAKksB,OAAOroC,EAAI,KACjBmc,EAAKksB,OAAOroC,EAAI,GAAK,OAEnCA,EAAIspC,EAAiBntB,EAAMnc,GAC3B0K,EA9FQ,IAgGJ09B,GACFpoC,IAEF0K,EAjGO,GAmGTi+B,EAAU3oC,GAENmoC,EAAUW,EAAM3sB,EAAMnc,IACxB0oC,EAAOlrC,KAAK,CAAC4qC,IAAKI,EAASN,EAAGvd,EAAK8d,GAAMI,KAAMA,EAAMC,KAAMA,EAC9C9oC,EAAe,KAAXwoC,EAAkBG,EAAUE,EAAKnuC,OAASsF,EAAI8oC,EAAKpuC,SACpE+tC,EAAM,GACNzoC,GAAK8oC,EAAKpuC,OAAS,EACnBgQ,EA5GQ,EA6GO,KAAX89B,IACU,MAARM,EACF9oC,IAEAgoC,EAAkBU,EAAOA,EAAOhuC,OAAS,MAI7C+tC,GAAOtsB,EAAKksB,OAAOroC,GAOzB,OAFAgpC,EAAWL,GAAS,GAEbD,GAgCT,IAAIc,EAAiB,CAAC,IAAM,EAAM,MAAM,EAAM,GAAK,EAAM,KAAK,GAE9D,SAASC,EAAUf,EAAQgB,EAAM7rC,EAAO8rC,GACtC,IAEIC,EAFAC,EAAe,GACfC,EAAS,KAET7B,EAAQ,KAIZ,IAFA2B,EAAO/rC,EAAMA,EAAMnD,OAAS,GAErBguC,EAAOhuC,OAAS,GAAG,CAGxB,GAFAutC,EAAQS,EAAOlxB,QAEXoyB,GAAoB,KAAZA,EAAKxB,OAAgBH,EAAMG,OAAOoB,GAC5C,MAAM,IAAI1qC,MAAM,mCAGlB,GAAI0oC,EAAM1nC,KAAKmoC,EAAMG,MAAQZ,EAAM1nC,KAAQ,GAAKiqC,EAAS9B,EAAO0B,GAC9D9rC,EAAML,KAAKyqC,GACXA,EAAMj3B,MAAQy4B,EAAUf,EAAQT,EAAMG,IAAKvqC,EAAO8rC,OAC7C,IAAiB,KAAb1B,EAAMG,IAAY,CAC3B,GAAqB,IAAjBvqC,EAAMnD,OACR,MAAM,IAAIoE,MAAM,gCAAkCmpC,EAAMC,GAG1D,GADA4B,EAASjsC,EAAMmsC,MACX/B,EAAMC,GAAK4B,EAAO5B,IAAM+B,EAAShC,EAAMC,EAAG4B,EAAO5B,EAAGyB,GACtD,MAAM,IAAI7qC,MAAM,kBAAoBgrC,EAAO5B,EAAI,QAAUD,EAAMC,GAGjE,OADA4B,EAAOI,IAAMjC,EAAMjoC,EACZ6pC,EACe,MAAb5B,EAAMG,MACfH,EAAMpb,KAAyB,GAAjB6b,EAAOhuC,QAAkC,MAAjBguC,EAAO,GAAGN,KAGlDyB,EAAarsC,KAAKyqC,GAGpB,GAAIpqC,EAAMnD,OAAS,EACjB,MAAM,IAAIoE,MAAM,wBAA0BjB,EAAMmsC,MAAM9B,GAGxD,OAAO2B,EAGT,SAASE,EAAS9B,EAAOnoC,GACvB,IAAK,IAAIE,EAAI,EAAGqnC,EAAIvnC,EAAKpF,OAAQsF,EAAIqnC,EAAGrnC,IACtC,GAAIF,EAAKE,GAAGgO,GAAKi6B,EAAMC,EAErB,OADAD,EAAMG,IAAM,KACL,EAKb,SAAS6B,EAASh0B,EAAOzP,EAAM1G,GAC7B,IAAK,IAAIE,EAAI,EAAGqnC,EAAIvnC,EAAKpF,OAAQsF,EAAIqnC,EAAGrnC,IACtC,GAAIF,EAAKE,GAAG+2B,GAAK9gB,GAASnW,EAAKE,GAAGgO,GAAKxH,EACrC,OAAO,EAab,SAAS2jC,EAAkBC,GACzB,IAAIC,EAAW,GACf,IAAK,IAAIhsC,KAAO+rC,EAAQC,SACtBA,EAAS7sC,KAAK,IAAM8sC,EAAIjsC,GAAO,YAAcisC,EAAIF,EAAQC,SAAShsC,GAAK/E,MAAQ,MAAQ6wC,EAAkBC,EAAQC,SAAShsC,IAAQ,KAEpI,MAAO,cAAgBgsC,EAASlrC,KAAK,KAAO,YAb9C,SAAgC/G,GAC9B,IAAImyC,EAAQ,GACZ,IAAK,IAAIlsC,KAAOjG,EACdmyC,EAAM/sC,KAAK,IAAM8sC,EAAIjsC,GAAO,yBAA2BjG,EAAIiG,GAAO,KAEpE,MAAO,KAAOksC,EAAMprC,KAAK,KAAO,KAQ0BqrC,CAAuBJ,EAAQK,MAG3FjD,EAAM/uC,UAAY,SAAS2xC,EAASjuB,EAAMrf,GACxC,MAAO,6BAA+B0qC,EAAMkD,SAASN,EAAQO,MAAQ,MAAQR,EAAkBC,GAAY,KAG7G,IAAIQ,EAAW,EAoCf,SAASN,EAAItnB,GACX,OAAOA,EAAEja,QAAQ8+B,EAAQ,QAChB9+B,QAAQ2+B,EAAO,OACf3+B,QAAQ4+B,EAAU,OAClB5+B,QAAQ6+B,EAAK,OACb7+B,QAAQ++B,EAAU,WAClB/+B,QAAQg/B,EAAe,WAGlC,SAAS8C,EAAa7nB,GACpB,OAASA,EAAEppB,QAAQ,KAAQ,IAAM,IAGnC,SAASkxC,EAAcliB,EAAM7Z,GAC3B,IACIg8B,EADS,KAAOh8B,EAAQhC,QAAU,IACnB6b,EAAKsf,EAAI0C,IAG5B,OAFA77B,EAAQs7B,SAASU,GAAO,CAACzxC,KAAMsvB,EAAKsf,EAAGmC,SAAU,IACjDt7B,EAAQ47B,MAAQ,aAAgBL,EAAIS,GAAO,WAAaniB,EAAKygB,QAAU,IAAM,OACtE0B,EAqDT,SAASC,EAAapiB,EAAM7Z,GAC1BA,EAAQ47B,MAAQ,aAAeE,EAAajiB,EAAKsf,GAAK,KAAOoC,EAAI1hB,EAAKsf,GAAK,cAG7E,SAAS1xC,EAAMwsB,GACb,MAAO,OAASA,EAAI,KA/GtBwkB,EAAMyD,SAAW,SAASC,EAAM/uB,EAAMrf,GACpC8tC,EAAW,EACX,IAAI77B,EAAU,CAAE47B,KAAM,GAAIF,KAAM,GAAIJ,SAAU,IAG9C,OAFA7C,EAAM2D,KAAKD,EAAMn8B,GAEbjS,EAAQsuC,SACH/0C,KAAKoC,UAAUsW,EAASoN,EAAMrf,GAGhCzG,KAAKg1C,aAAat8B,EAASoN,EAAMrf,IAG1C0qC,EAAMkD,SAAW,SAASC,GACxB,MAAO,2BAA6BA,EAAO,kBAG7CnD,EAAMrI,SAAWqI,EAAM8D,SAEvB9D,EAAM6D,aAAe,SAASjB,EAASjuB,EAAMrf,GAC3C,IAAIqiC,EAAW9oC,KAAKk1C,aAAanB,GAEjC,OADAjL,EAASwL,KAAO,IAAIjU,SAAS,IAAK,IAAK,IAAKrgC,KAAKq0C,SAASN,EAAQO,OAC3D,IAAIt0C,KAAK8oC,SAASA,EAAUhjB,EAAM9lB,KAAMyG,IAGjD0qC,EAAM+D,aAAe,SAASnB,GAC5B,IAAI/rC,EAAK8gC,EAAW,CAACsL,KAAM,GAAIJ,SAAUD,EAAQC,SAAU/wC,KAAM8wC,EAAQ9wC,MACzE,IAAK+E,KAAO8gC,EAASkL,SACnBlL,EAASkL,SAAShsC,GAAOhI,KAAKk1C,aAAapM,EAASkL,SAAShsC,IAE/D,IAAKA,KAAO+rC,EAAQK,KAClBtL,EAASsL,KAAKpsC,GAAO,IAAIq4B,SAAS,IAAK,IAAK,IAAK,IAAK0T,EAAQK,KAAKpsC,IAErE,OAAO8gC,GAwBTqI,EAAMgE,QAAU,CACd,IAAK,SAAS5iB,EAAM7Z,GAClBA,EAAQ47B,MAAQ,YAAcE,EAAajiB,EAAKsf,GAAK,KAAOoC,EAAI1hB,EAAKsf,GAArD,kBACWtf,EAAK5oB,EAAI,IAAM4oB,EAAKshB,IAAM,KAAOthB,EAAKigB,KAAO,IAAMjgB,EAAKkgB,KADnE,gCAGhBtB,EAAM2D,KAAKviB,EAAK5X,MAAOjC,GACvBA,EAAQ47B,MAAQ,gBAGlB,IAAK,SAAS/hB,EAAM7Z,GAClBA,EAAQ47B,MAAQ,aAAeE,EAAajiB,EAAKsf,GAAK,KAAOoC,EAAI1hB,EAAKsf,GAAK,2BAC3EV,EAAM2D,KAAKviB,EAAK5X,MAAOjC,GACvBA,EAAQ47B,MAAQ,MAGlB,IAAKG,EACL,IAAK,SAASliB,EAAM7Z,GAClB,IAAIq4B,EAAM,CAACiD,SAAU,GAAIM,KAAM,GAAIF,KAAM,GAAIgB,WAAW,GACxDjE,EAAM2D,KAAKviB,EAAK5X,MAAOo2B,GACvB,IAAIjI,EAAWpwB,EAAQs7B,SAASS,EAAcliB,EAAM7Z,IACpDowB,EAASsL,KAAOrD,EAAIqD,KACpBtL,EAASkL,SAAWjD,EAAIiD,UAG1B,EAAK,SAASzhB,EAAM7Z,GAClB,IAAIq4B,EAAM,CAACqD,KAAM,GAAIE,KAAM,GAAIN,SAAUt7B,EAAQs7B,SAAUt9B,OAAQ6b,EAAKsf,GACxEV,EAAM2D,KAAKviB,EAAK5X,MAAOo2B,GACvBr4B,EAAQ07B,KAAK7hB,EAAKsf,GAAKd,EAAIuD,KACtB57B,EAAQ08B,YACX18B,EAAQ47B,MAAQ,UAAYL,EAAI1hB,EAAKsf,GAAK,cAI9C,KAAM,SAAStf,EAAM7Z,GACnBA,EAAQ47B,MAAQn0C,EAAM,SAAWoyB,EAAKiE,KAAO,GAAK,UAGpD,GAAM,SAASjE,EAAM7Z,GACnBA,EAAQ47B,MAAQ,aAAeE,EAAajiB,EAAKsf,GAAK,KAAOoC,EAAI1hB,EAAKsf,GAAK,eAG7E,GAAM,SAAStf,EAAM7Z,GACnBA,EAAQ47B,MAAQn0C,EAAM,IAAM8zC,EAAI1hB,EAAKzM,MAAQ,MAG/C,IAAK6uB,EAEL,IAAKA,GAWPxD,EAAM2D,KAAO,SAASO,EAAU38B,GAE9B,IADA,IAAI6e,EACK5tB,EAAI,EAAGqnC,EAAIqE,EAAShxC,OAAQsF,EAAIqnC,EAAGrnC,KAC1C4tB,EAAO4Z,EAAMgE,QAAQE,EAAS1rC,GAAGooC,OACzBxa,EAAK8d,EAAS1rC,GAAI+O,GAE5B,OAAOA,GAGTy4B,EAAMxrC,MAAQ,SAAS0sC,EAAQvsB,EAAMrf,GAEnC,OAAO2sC,EAAUf,EAAQ,EAAI,IAD7B5rC,EAAUA,GAAW,IACoB6uC,aAAe,KAG1DnE,EAAMhwC,MAAQ,GAEdgwC,EAAMoE,SAAW,SAASzvB,EAAMrf,GAC9B,MAAO,CAACqf,IAAQrf,EAAQsuC,WAAYtuC,EAAQ+uC,cAAe/uC,EAAQyrC,aAAczrC,EAAQgvC,UAAU3sC,KAAK,OAG1GqoC,EAAMzI,QAAU,SAAS5iB,EAAMrf,GAC7BA,EAAUA,GAAW,GACrB,IAAIuB,EAAMmpC,EAAMoE,SAASzvB,EAAMrf,GAC3BqiC,EAAW9oC,KAAKmB,MAAM6G,GAE1B,GAAI8gC,EAAU,CACZ,IAAIkL,EAAWlL,EAASkL,SACxB,IAAK,IAAI/wC,KAAQ+wC,SACRA,EAAS/wC,GAAMmiC,SAExB,OAAO0D,EAIT,OADAA,EAAW9oC,KAAK40C,SAAS50C,KAAK2F,MAAM3F,KAAKiyC,KAAKnsB,EAAMrf,EAAQyrC,YAAapsB,EAAMrf,GAAUqf,EAAMrf,GACxFzG,KAAKmB,MAAM6G,GAAO8gC,GArZ7B,CAuZoClqC,mBCrZpC,IAAIuyC,EAAQ,EAAQ,MACpBA,EAAM8D,SAAW,iBACjB9D,EAAMrI,SAAWqI,EAAM8D,SACvBt2C,EAAOC,QAAUuyC,iBCHjB,SAAWA,GAsPT,SAASuE,EAAY1tC,EAAK2tC,EAAOC,GAC/B,IAAIrlC,EAaJ,OAXIolC,GAAyB,iBAATA,SAECp0C,IAAfo0C,EAAM3tC,GACRuI,EAAMolC,EAAM3tC,GAGH4tC,GAAcD,EAAMrrC,KAA2B,mBAAbqrC,EAAMrrC,MACjDiG,EAAMolC,EAAMrrC,IAAItC,KAIbuI,EAnQT4gC,EAAM8D,SAAW,SAAUlB,EAASjuB,EAAM+vB,EAAUpvC,GAClDstC,EAAUA,GAAW,GACrB/zC,KAAKigC,EAAI8T,EAAQO,MAAQt0C,KAAKigC,EAC9BjgC,KAAK0gC,EAAImV,EACT71C,KAAKyG,QAAUA,GAAW,GAC1BzG,KAAK8lB,KAAOA,GAAQ,GACpB9lB,KAAKg0C,SAAWD,EAAQC,UAAY,GACpCh0C,KAAKo0C,KAAOL,EAAQK,MAAQ,GAC5Bp0C,KAAKoyC,IAAM,IAGbjB,EAAM8D,SAAShzC,UAAY,CAEzBg+B,EAAG,SAAUvnB,EAASs7B,EAAUhB,GAAU,MAAO,IAGjDzR,EAkSF,SAAqB3pB,GAEnB,OADAA,EAAMk+B,EAAel+B,GACdm+B,EAAOt1C,KAAKmX,GACjBA,EACGlF,QAAQsjC,EAAM,SACdtjC,QAAQujC,EAAK,QACbvjC,QAAQwjC,EAAK,QACbxjC,QAAQyjC,EAAO,SACfzjC,QAAQ2+B,EAAO,UAClBz5B,GAxSFw+B,EAAGN,EAEHnN,OAAQ,SAAgBjwB,EAASs7B,EAAUhB,GACzC,OAAOhzC,KAAKq2C,GAAG,CAAC39B,GAAUs7B,GAAY,GAAIhB,IAI5CqD,GAAI,SAAU39B,EAASs7B,EAAUhB,GAC/B,OAAOhzC,KAAKigC,EAAEvnB,EAASs7B,EAAUhB,IAInCsD,GAAI,SAASC,EAAQvC,GACnB,IAAIwC,EAAUx2C,KAAKg0C,SAASuC,GAGxBzN,EAAWkL,EAASwC,EAAQvzC,MAChC,GAAIuzC,EAAQpR,UAAYoR,EAAQC,MAAQ3N,EACtC,OAAO0N,EAAQpR,SAGjB,GAAuB,iBAAZ0D,EAAsB,CAC/B,IAAK9oC,KAAK0gC,EACR,MAAM,IAAIj4B,MAAM,0BAElBqgC,EAAW9oC,KAAK0gC,EAAEgI,QAAQI,EAAU9oC,KAAKyG,SAG3C,IAAKqiC,EACH,OAAO,KAMT,GAFA9oC,KAAKg0C,SAASuC,GAAQE,KAAO3N,EAEzB0N,EAAQpC,KAAM,CAGhB,IAAKpsC,OADAgsC,EAAS0C,YAAW1C,EAAS0C,UAAY,IAClCF,EAAQpC,KACbJ,EAAS0C,UAAU1uC,OACtBgsC,EAAS0C,UAAU1uC,UAA2BzG,IAAnBvB,KAAK22C,WAA2B3C,EAAS0C,UAAU12C,KAAK22C,WAAc3C,EAAS0C,UAAU12C,KAAK22C,WAAa32C,KAAK8lB,MAG/IgjB,EAwMN,SAAkC1D,EAAUgP,EAAMJ,EAAU4C,EAAWC,EAAeH,GACpF,SAASI,KAET,SAASC,KAET,IAAI/uC,EAHJ8uC,EAAgB70C,UAAYmjC,EAE5B2R,EAAc90C,UAAYmjC,EAASgP,KAEnC,IAAIoC,EAAU,IAAIM,EAQlB,IAAK9uC,KAPLwuC,EAAQpC,KAAO,IAAI2C,EACnBP,EAAQQ,SAAW,GACnBR,EAAQpE,IAAM,GAEdwE,EAAYA,GAAa,GACzBJ,EAAQI,UAAYA,EACpBJ,EAAQQ,SAAWN,EACPtC,EACLwC,EAAU5uC,KAAM4uC,EAAU5uC,GAAOosC,EAAKpsC,IAE7C,IAAKA,KAAO4uC,EACVJ,EAAQpC,KAAKpsC,GAAO4uC,EAAU5uC,GAKhC,IAAKA,KAFL6uC,EAAgBA,GAAiB,GACjCL,EAAQK,cAAgBA,EACZ7C,EACL6C,EAAc7uC,KAAM6uC,EAAc7uC,GAAOgsC,EAAShsC,IAEzD,IAAKA,KAAO6uC,EACVL,EAAQxC,SAAShsC,GAAO6uC,EAAc7uC,GAGxC,OAAOwuC,EAtOQS,CAAyBnO,EAAU0N,EAAQpC,KAAMoC,EAAQxC,SAClEh0C,KAAK42C,UAAW52C,KAAK62C,cAAe7C,EAAS0C,WAIjD,OAFA12C,KAAKg0C,SAASuC,GAAQnR,SAAW0D,EAE1BA,GAIToO,GAAI,SAASX,EAAQ79B,EAASs7B,EAAUhB,GACtC,IAAIwD,EAAUx2C,KAAKs2C,GAAGC,EAAQvC,GAC9B,OAAKwC,EAIEA,EAAQH,GAAG39B,EAASs7B,EAAUhB,GAH5B,IAOXmE,GAAI,SAASz+B,EAASs7B,EAAUoD,GAC9B,IAAI7D,EAAO76B,EAAQA,EAAQrU,OAAS,GAEpC,GAAK1E,EAAQ4zC,GAKb,IAAK,IAAI5pC,EAAI,EAAGA,EAAI4pC,EAAKlvC,OAAQsF,IAC/B+O,EAAQvR,KAAKosC,EAAK5pC,IAClBytC,EAAQ1+B,EAASs7B,EAAUh0C,MAC3B0Y,EAAQi7B,WAPRyD,EAAQ1+B,EAASs7B,EAAUh0C,OAY/B2sB,EAAG,SAASpc,EAAKwgC,EAAKiD,EAAUqD,EAAUC,EAAOzD,EAAKpqC,GACpD,IAAI8tC,EAEJ,QAAI53C,EAAQ4Q,IAAuB,IAAfA,EAAIlM,UAIN,mBAAPkM,IACTA,EAAMvQ,KAAKyQ,GAAGF,EAAKwgC,EAAKiD,EAAUqD,EAAUC,EAAOzD,EAAKpqC,IAG1D8tC,IAAShnC,GAEJ8mC,GAAYE,GAAQxG,GACvBA,EAAI5pC,KAAoB,iBAAPoJ,EAAmBA,EAAMwgC,EAAIA,EAAI1sC,OAAS,IAGtDkzC,IAITC,EAAG,SAASxvC,EAAK+oC,EAAKiD,EAAUyD,GAC9B,IAAI3qB,EACAqS,EAAQn3B,EAAIgZ,MAAM,KAClBzQ,EAAMvQ,KAAK03C,EAAEvY,EAAM,GAAI4R,EAAKiD,EAAUyD,GACtC7B,EAAa51C,KAAKyG,QAAQgvC,SAC1BkC,EAAK,KAET,GAAY,MAAR3vC,GAAerI,EAAQoxC,EAAIA,EAAI1sC,OAAS,IAC1CkM,EAAMwgC,EAAIA,EAAI1sC,OAAS,QAEvB,IAAK,IAAIsF,EAAI,EAAGA,EAAIw1B,EAAM96B,OAAQsF,SAElBpI,KADdurB,EAAQ4oB,EAAYvW,EAAMx1B,GAAI4G,EAAKqlC,KAEjC+B,EAAKpnC,EACLA,EAAMuc,GAENvc,EAAM,GAKZ,QAAIknC,IAAgBlnC,KAIfknC,GAA6B,mBAAPlnC,IACzBwgC,EAAI5pC,KAAKwwC,GACTpnC,EAAMvQ,KAAK43C,GAAGrnC,EAAKwgC,EAAKiD,GACxBjD,EAAI4C,OAGCpjC,IAITmnC,EAAG,SAAS1vC,EAAK+oC,EAAKiD,EAAUyD,GAM9B,IALA,IAAIlnC,GAAM,EAENuc,GAAQ,EACR8oB,EAAa51C,KAAKyG,QAAQgvC,SAErB9rC,EAAIonC,EAAI1sC,OAAS,EAAGsF,GAAK,EAAGA,IAGnC,QAAYpI,KADZgP,EAAMmlC,EAAY1tC,EADd+oC,EAAIpnC,GACkBisC,IACH,CACrB9oB,GAAQ,EACR,MAIJ,OAAKA,GAIA2qB,GAA6B,mBAAPlnC,IACzBA,EAAMvQ,KAAK43C,GAAGrnC,EAAKwgC,EAAKiD,IAGnBzjC,IAPE,GAAwB,IAWnCsnC,GAAI,SAAStgB,EAAMogB,EAAI3D,EAAUluB,EAAMrc,GACrC,IAAIquC,EAAU93C,KAAKyG,QAAQyrC,WAM3B,OAJAlyC,KAAKyG,QAAQyrC,WAAazoC,EAC1BzJ,KAAK6kB,EAAE7kB,KAAK+3C,GAAGjC,EAAeve,EAAK10B,KAAK80C,EAAI7xB,IAAQ6xB,EAAI3D,IACxDh0C,KAAKyG,QAAQyrC,WAAa4F,GAEnB,GAITC,GAAI,SAASjyB,EAAM6xB,EAAI3D,GACrB,GAAIh0C,KAAKyG,QAAQ+uC,cACf,MAAM,IAAI/sC,MAAM,6BAElB,OAAOzI,KAAK0gC,EAAEgI,QAAQ5iB,EAAM9lB,KAAKyG,SAASkiC,OAAOgP,EAAI3D,IAIvDnvB,EAAG,SAAS8H,GAAK3sB,KAAKoyC,KAAOzlB,GAE7BqrB,GAAI,WAAa,IAAI/X,EAAIjgC,KAAKoyC,IAAoB,OAAfpyC,KAAKoyC,IAAM,GAAWnS,GAGzDxvB,GAAI,SAAS8mB,EAAMwZ,EAAKiD,EAAUqD,EAAUC,EAAOzD,EAAKpqC,GACtD,IAAIwuC,EACAN,EAAK5G,EAAIA,EAAI1sC,OAAS,GACtBwoB,EAAS0K,EAAK10B,KAAK80C,GAEvB,MAAqB,mBAAV9qB,IACLwqB,IAGFY,EAAcj4C,KAAK22C,WAAa32C,KAAKg3C,UAAYh3C,KAAKg3C,SAASh3C,KAAK22C,WAAc32C,KAAKg3C,SAASh3C,KAAK22C,WAAa32C,KAAK8lB,KAChH9lB,KAAK63C,GAAGhrB,EAAQ8qB,EAAI3D,EAAUiE,EAAW7K,UAAUkK,EAAOzD,GAAMpqC,IAIpEojB,GAIT+qB,GAAI,SAASrgB,EAAMwZ,EAAKiD,GACtB,IAAI2D,EAAK5G,EAAIA,EAAI1sC,OAAS,GACtBwoB,EAAS0K,EAAK10B,KAAK80C,GAEvB,MAAqB,mBAAV9qB,EACF7sB,KAAK+3C,GAAGjC,EAAejpB,EAAOhqB,KAAK80C,IAAMA,EAAI3D,GAG/CnnB,GAGTqrB,IAAK,SAASj1C,EAAMyV,EAASs7B,EAAUhB,GACrC,IAAI0E,EAAI13C,KAAKo0C,KAAKnxC,GACdy0C,IACF13C,KAAK22C,UAAY1zC,EACjBy0C,EAAEh/B,EAASs7B,EAAUh0C,KAAMgzC,GAC3BhzC,KAAK22C,WAAY,KAyDvB,IAAIX,EAAO,KACPC,EAAM,KACNC,EAAM,KACNC,EAAQ,MACR9E,EAAQ,MACR0E,EAAS,YAEb,SAASD,EAAevlC,GACtB,OAAOyc,OAAO,MAACzc,EAAqC,GAAKA,GAe3D,IAAI5Q,EAAUqC,MAAMrC,SAAW,SAASilB,GACtC,MAA6C,mBAAtCjiB,OAAOV,UAAUiG,SAASrF,KAAK+hB,IAhU1C,CAmUoChmB,+BCnVpC,IAQIu5C,EACAC,EA0CAC,EAnDAt3B,EAAQ,CACV,EAAQ,MACR,EAAQ,MACR,EAAQ,MACR,EAAQ,MACR,EAAQ,MACR,EAAQ,OAINu3B,GAAc,EACdjO,EAAQ,GACRkO,GAAY,EAChB,SAASC,IACFL,GAAaC,IAGlBD,GAAW,EACPC,EAAa/zC,OACfgmC,EAAQ+N,EAAap3C,OAAOqpC,GAE5BiO,GAAc,EAEZjO,EAAMhmC,QACRknC,KAKJ,SAASA,IACP,IAAI4M,EAAJ,CAGAI,GAAY,EACZJ,GAAW,EAGX,IAFA,IAAI32B,EAAM6oB,EAAMhmC,OACZ9D,EAAU8E,WAAWmzC,GAClBh3B,GAAK,CAGV,IAFA42B,EAAe/N,EACfA,EAAQ,GACD+N,KAAkBE,EAAa92B,GACpC42B,EAAaE,GAAYG,MAE3BH,GAAc,EACd92B,EAAM6oB,EAAMhmC,OAEd+zC,EAAe,KACfE,GAAc,EACdH,GAAW,EACXvoC,aAAarP,IAKf,IAFA,IAAIoJ,GAAK,EACL6X,EAAMT,EAAM1c,SACPsF,EAAI6X,GACX,GAAIT,EAAMpX,IAAMoX,EAAMpX,GAAGlJ,MAAQsgB,EAAMpX,GAAGlJ,OAAQ,CAChD43C,EAAgBt3B,EAAMpX,GAAG+uC,QAAQnN,GACjC,MAIJ,SAASoN,EAAKplB,EAAKroB,GACjBlL,KAAKuzB,IAAMA,EACXvzB,KAAKkL,MAAQA,EAEfytC,EAAK12C,UAAUw2C,IAAM,WACnB,IAAIllB,EAAMvzB,KAAKuzB,IACXroB,EAAQlL,KAAKkL,MACjB,OAAQA,EAAM7G,QACd,KAAK,EACH,OAAOkvB,IACT,KAAK,EACH,OAAOA,EAAIroB,EAAM,IACnB,KAAK,EACH,OAAOqoB,EAAIroB,EAAM,GAAIA,EAAM,IAC7B,KAAK,EACH,OAAOqoB,EAAIroB,EAAM,GAAIA,EAAM,GAAIA,EAAM,IACvC,QACE,OAAOqoB,EAAIzkB,MAAM,KAAM5D,KAI3BvM,EAAOC,QACP,SAAmBg6C,GACjB,IAAI7wC,EAAO,IAAI/F,MAAMiL,UAAU5I,OAAS,GACxC,GAAI4I,UAAU5I,OAAS,EACrB,IAAK,IAAIsF,EAAI,EAAGA,EAAIsD,UAAU5I,OAAQsF,IACpC5B,EAAK4B,EAAI,GAAKsD,UAAUtD,GAG5B0gC,EAAMljC,KAAK,IAAIwxC,EAAKC,EAAM7wC,IACrBwwC,GAAcJ,IACjBI,GAAY,EACZF,mCC5FJz5C,EAAQ6B,KAAO,WACb,OAAI,EAAA+T,EAAOqkC,mBAK6B,IAA1B,EAAArkC,EAAO62B,gBAGvBzsC,EAAQ85C,QAAU,SAAUnhB,GAC1B,IAAIyU,EAAU,IAAI,EAAAx3B,EAAO62B,eAEzB,OADAW,EAAQC,MAAMC,UAAY3U,EACnB,WACLyU,EAAQG,MAAMC,YAAY,kCCV9B,IAAI0M,EAAW,EAAAtkC,EAAOu2B,kBAAoB,EAAAv2B,EAAOw2B,uBAEjDpsC,EAAQ6B,KAAO,WACb,OAAOq4C,GAGTl6C,EAAQ85C,QAAU,SAAUK,GAC1B,IAAIC,EAAS,EACTpN,EAAW,IAAIkN,EAASC,GACxB3/B,EAAU,EAAA5E,EAAOxD,SAASsc,eAAe,IAI7C,OAHAse,EAASC,QAAQzyB,EAAS,CACxB0yB,eAAe,IAEV,WACL1yB,EAAQ/O,KAAQ2uC,IAAWA,EAAS,iCClBxCp6C,EAAQ6B,KAAO,WACb,MAAwC,mBAA1B,EAAA+T,EAAOykC,gBAGvBr6C,EAAQ85C,QAAU,SAAUnhB,GAC1B,OAAO,WACL,EAAA/iB,EAAOykC,eAAe1hB,kCCL1B34B,EAAQ6B,KAAO,WACb,MAAO,aAAc,EAAA+T,GAAU,uBAAwB,EAAAA,EAAOxD,SAASG,cAAc,WAGvFvS,EAAQ85C,QAAU,SAAUK,GAC1B,OAAO,WAIL,IAAIG,EAAW,EAAA1kC,EAAOxD,SAASG,cAAc,UAU7C,OATA+nC,EAASzpC,mBAAqB,WAC5BspC,IAEAG,EAASzpC,mBAAqB,KAC9BypC,EAAS7mB,WAAWzgB,YAAYsnC,GAChCA,EAAW,MAEb,EAAA1kC,EAAOxD,SAAS+jB,gBAAgB9iB,YAAYinC,GAErCH,+BCpBXn6C,EAAQ6B,KAAO,WACb,OAAO,GAGT7B,EAAQ85C,QAAU,SAAUtC,GAC1B,OAAO,WACL/wC,WAAW+wC,EAAG,eCPW,mBAAlBzzC,OAAOw2C,OAEhBx6C,EAAOC,QAAU,SAAkBw6C,EAAMC,GACnCA,IACFD,EAAKE,OAASD,EACdD,EAAKn3C,UAAYU,OAAOw2C,OAAOE,EAAUp3C,UAAW,CAClD6Q,YAAa,CACXpQ,MAAO02C,EACPnW,YAAY,EACZzG,UAAU,EACV0G,cAAc,OAOtBvkC,EAAOC,QAAU,SAAkBw6C,EAAMC,GACvC,GAAIA,EAAW,CACbD,EAAKE,OAASD,EACd,IAAIE,EAAW,aACfA,EAASt3C,UAAYo3C,EAAUp3C,UAC/Bm3C,EAAKn3C,UAAY,IAAIs3C,EACrBH,EAAKn3C,UAAU6Q,YAAcsmC,cCvBnC,IAAIlxC,EAAW,GAAGA,SAElBvJ,EAAOC,QAAUoD,MAAMrC,SAAW,SAAU0T,GAC1C,MAA6B,kBAAtBnL,EAASrF,KAAKwQ,uDCHe,IAAmBisB,QAAnC,oBAAd7S,YAAiD6S,QAIhD,WAAe,aAEtB,IAAIka,MAAQ,6BACRC,aAAe,GACfC,eAAgB,EAChBC,qBAAuB,OAEvBC,aAAe,SAAsBjQ,GACvC+P,gBAAkB/P,GAGhBkQ,aAAe,WACjB,OAAOH,eAGLI,gBAAkB,SAAyBp3C,GAC7C+2C,aAAe/2C,GAGbq3C,gBAAkB,WACpB,OAAON,cAGT,SAASO,UAAUr5B,GAEjB,OAAO3P,SAASG,cAAcwP,GAGhC,SAASs5B,gBAAgBvmC,EAASD,GAChC,IAAI9J,EAEAuwC,EADA14B,EAAM9N,EAAQrP,OAGlB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAGxB,IAAK,IAAIqR,KAFTk/B,EAAkBxmC,EAAQ/J,GAAG1H,UAGvBU,OAAOV,UAAUW,eAAeC,KAAKq3C,EAAiBl/B,KAAOvH,EAAYxR,UAAU+Y,GAAQk/B,EAAgBl/B,IAKrH,SAASm/B,cAAc9oB,EAAQzJ,GAC7B,OAAOjlB,OAAO45B,yBAAyBlL,EAAQzJ,GAGjD,SAASwyB,oBAAoBn4C,GAC3B,SAASo4C,KAGT,OADAA,EAAcp4C,UAAYA,EACnBo4C,EAIT,IAAIC,uBAAyB,WAC3B,SAASC,EAAgBC,GACvBx6C,KAAKy6C,OAAS,GACdz6C,KAAKw6C,aAAeA,EACpBx6C,KAAK06C,QAAU,EACf16C,KAAK26C,UAAW,EAqFlB,OAlFAJ,EAAgBt4C,UAAY,CAC1B24C,SAAU,SAAkBC,GAC1B76C,KAAKy6C,OAAOtzC,KAAK0zC,IAEnBC,MAAO,WACL,IAAInxC,EACA6X,EAAMxhB,KAAKy6C,OAAOp2C,OAEtB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKy6C,OAAO9wC,GAAGmxC,SAGnBC,OAAQ,WACN,IAAIpxC,EACA6X,EAAMxhB,KAAKy6C,OAAOp2C,OAEtB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKy6C,OAAO9wC,GAAGoxC,UAGnBC,QAAS,SAAiBC,GACxB,IAAItxC,EACA6X,EAAMxhB,KAAKy6C,OAAOp2C,OAEtB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKy6C,OAAO9wC,GAAGqxC,QAAQC,IAG3BC,YAAa,SAAqBC,GAChC,OAAIn7C,KAAKw6C,aACAx6C,KAAKw6C,aAAaW,GAGvB7pC,OAAO8pC,KACF,IAAI9pC,OAAO8pC,KAAK,CACrBppC,IAAK,CAACmpC,KAIH,CACLE,WAAW,EACXC,KAAM,WACJt7C,KAAKq7C,WAAY,GAEnBE,KAAM,WACJv7C,KAAKq7C,WAAY,GAEnBG,QAAS,aACTC,KAAM,aACNC,UAAW,eAGfC,gBAAiB,SAAyBnB,GACxCx6C,KAAKw6C,aAAeA,GAEtBkB,UAAW,SAAmBh5C,GAC5B1C,KAAK06C,QAAUh4C,EAEf1C,KAAK47C,iBAEPC,KAAM,WACJ77C,KAAK26C,UAAW,EAEhB36C,KAAK47C,iBAEPE,OAAQ,WACN97C,KAAK26C,UAAW,EAEhB36C,KAAK47C,iBAEPG,UAAW,WACT,OAAO/7C,KAAK06C,SAEdkB,cAAe,WACb,IAAIjyC,EACA6X,EAAMxhB,KAAKy6C,OAAOp2C,OAEtB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKy6C,OAAO9wC,GAAGqyC,OAAOh8C,KAAK06C,SAAW16C,KAAK26C,SAAW,EAAI,MAIzD,WACL,OAAO,IAAIJ,GA3Fc,GA+FzB0B,iBAAmB,WACrB,SAASC,EAAmBv7B,EAAMa,GAChC,IAEI9e,EAFAiH,EAAI,EACJ0J,EAAM,GAGV,OAAQsN,GACN,IAAK,QACL,IAAK,SACHje,EAAQ,EACR,MAEF,QACEA,EAAQ,IAIZ,IAAKiH,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB0J,EAAIlM,KAAKzE,GAGX,OAAO2Q,EAmBT,MAAiC,mBAAtB83B,mBAA4D,mBAAjBgR,aAhBtD,SAAiCx7B,EAAMa,GACrC,MAAa,YAATb,EACK,IAAIw7B,aAAa36B,GAGb,UAATb,EACK,IAAIy7B,WAAW56B,GAGX,WAATb,EACK,IAAIwqB,kBAAkB3pB,GAGxB06B,EAAmBv7B,EAAMa,IAO3B06B,EA5Cc,GA+CvB,SAASG,iBAAiB76B,GACxB,OAAOxf,MAAM8M,MAAM,KAAM,CACvBzK,OAAQmd,IAIZ,SAAS86B,UAAUv6C,GAAuV,OAA1Ou6C,UAArD,mBAAXlT,QAAoD,iBAApBA,OAAOC,SAAqC,SAAiBtnC,GAAO,cAAcA,GAA6B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXqnC,QAAyBrnC,EAAI+Q,cAAgBs2B,QAAUrnC,IAAQqnC,OAAOnnC,UAAY,gBAAkBF,GAAiBu6C,UAAUv6C,GAC3X,IAAIw6C,iBAAkB,EAClBC,kBAAoB,KACpBC,SAAW,GACXC,SAAW,iCAAiCj8C,KAAKgsB,UAAUC,WAC3DiwB,oBAAqB,EACrBC,MAAQ51C,KAAK61C,IACbC,OAAS91C,KAAK+1C,KACdC,QAAUh2C,KAAKC,MACfg2C,MAAQj2C,KAAKiF,IACbixC,MAAQl2C,KAAKm2C,IACbC,OAAS,GAYb,SAASC,qBACP,MAAO,IAXT,WACE,IACI1zC,EADA2zC,EAAgB,CAAC,MAAO,OAAQ,QAAS,OAAQ,QAAS,OAAQ,QAAS,QAAS,OAAQ,OAAQ,QAAS,QAAS,MAAO,OAAQ,MAAO,QAAS,SAAU,QAAS,OAAQ,MAAO,QAAS,OAAQ,QAAS,MAAO,MAAO,MAAO,SAAU,QAAS,OAAQ,MAAO,OAAQ,OAAQ,MAAO,OAAQ,QAAS,IAAK,OAAQ,MAAO,SAAU,QAAS,KAAM,UAAW,SAExW97B,EAAM87B,EAAcj5C,OAExB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxByzC,OAAOE,EAAc3zC,IAAM3C,KAAKs2C,EAAc3zC,IANlD,GAcAyzC,OAAO9xC,OAAStE,KAAKsE,OAErB8xC,OAAOlb,IAAM,SAAU3xB,GAGrB,GAAe,WAFF+rC,UAAU/rC,IAEIA,EAAIlM,OAAQ,CACrC,IACIsF,EADA4zC,EAASlB,iBAAiB9rC,EAAIlM,QAE9Bmd,EAAMjR,EAAIlM,OAEd,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB4zC,EAAO5zC,GAAK3C,KAAKk7B,IAAI3xB,EAAI5G,IAG3B,OAAO4zC,EAGT,OAAOv2C,KAAKk7B,IAAI3xB,IAGlB,IAAIitC,qBAAuB,IACvBC,UAAYz2C,KAAK02C,GAAK,IACtBC,YAAc,MAElB,SAASC,YAAYjU,GACnBgT,qBAAuBhT,EAGzB,SAASkU,MAAMn7C,GACb,OAAIi6C,mBACK31C,KAAKgyB,MAAMt2B,GAGbA,EAGT,SAASo7C,SAAS1kC,GAChBA,EAAQ6O,MAAM9S,SAAW,WACzBiE,EAAQ6O,MAAM3S,IAAM,EACpB8D,EAAQ6O,MAAM1S,KAAO,EACrB6D,EAAQ6O,MAAM7S,QAAU,QACxBgE,EAAQ6O,MAAM81B,gBAAkB,MAChC3kC,EAAQ6O,MAAM+1B,sBAAwB,MACtC5kC,EAAQ6O,MAAMg2B,mBAAqB,UACnC7kC,EAAQ6O,MAAMi2B,yBAA2B,UACzC9kC,EAAQ6O,MAAMk2B,eAAiB,cAC/B/kC,EAAQ6O,MAAMm2B,qBAAuB,cACrChlC,EAAQ6O,MAAMo2B,kBAAoB,cAGpC,SAASC,kBAAkB39B,EAAM49B,EAAaC,EAAWC,GACvDz+C,KAAK2gB,KAAOA,EACZ3gB,KAAKu+C,YAAcA,EACnBv+C,KAAKw+C,UAAYA,EACjBx+C,KAAK0+C,UAAYD,EAAkB,GAAK,EAAI,EAG9C,SAASE,gBAAgBh+B,EAAM89B,GAC7Bz+C,KAAK2gB,KAAOA,EACZ3gB,KAAK0+C,UAAYD,EAAkB,GAAK,EAAI,EAG9C,SAASG,oBAAoBj+B,EAAMk+B,EAAYC,EAAaL,GAC1Dz+C,KAAK2gB,KAAOA,EACZ3gB,KAAK8+C,YAAcA,EACnB9+C,KAAK6+C,WAAaA,EAClB7+C,KAAK0+C,UAAYD,EAAkB,GAAK,EAAI,EAG9C,SAASM,oBAAoBp+B,EAAMq+B,EAAYC,GAC7Cj/C,KAAK2gB,KAAOA,EACZ3gB,KAAKg/C,WAAaA,EAClBh/C,KAAKi/C,YAAcA,EAGrB,SAASC,eAAev+B,EAAM2J,GAC5BtqB,KAAK2gB,KAAOA,EACZ3gB,KAAKsqB,OAASA,EAGhB,SAAS60B,wBAAwBC,EAAab,GAC5Cv+C,KAAK2gB,KAAO,mBACZ3gB,KAAKo/C,YAAcA,EACnBp/C,KAAKu+C,YAAcA,EAGrB,SAASc,mBAAmBD,GAC1Bp/C,KAAK2gB,KAAO,cACZ3gB,KAAKo/C,YAAcA,EAGrB,SAASE,4BAA4B3+B,EAAMy+B,GACzCp/C,KAAK2gB,KAAOA,EACZ3gB,KAAKo/C,YAAcA,EAGrB,IAAIG,iBACEC,OAAS,EACN,WAEL,OAAO/C,SAAW,qBADlB+C,QAAU,KAFRA,OAON,SAASC,SAASC,EAAG/yB,EAAG4U,GACtB,IAAItB,EACAzrB,EACAqQ,EACAlb,EACA+tC,EACAiI,EACAC,EACAxJ,EAOJ,OAJAuJ,EAAIpe,GAAK,EAAI5U,GACbizB,EAAIre,GAAK,GAFTmW,EAAQ,EAAJgI,GADJ/1C,EAAI3C,KAAKC,MAAU,EAAJy4C,KAGE/yB,GACjBypB,EAAI7U,GAAK,GAAK,EAAImW,GAAK/qB,GAEfhjB,EAAI,GACV,KAAK,EACHs2B,EAAIsB,EACJ/sB,EAAI4hC,EACJvxB,EAAI86B,EACJ,MAEF,KAAK,EACH1f,EAAI2f,EACJprC,EAAI+sB,EACJ1c,EAAI86B,EACJ,MAEF,KAAK,EACH1f,EAAI0f,EACJnrC,EAAI+sB,EACJ1c,EAAIuxB,EACJ,MAEF,KAAK,EACHnW,EAAI0f,EACJnrC,EAAIorC,EACJ/6B,EAAI0c,EACJ,MAEF,KAAK,EACHtB,EAAImW,EACJ5hC,EAAImrC,EACJ96B,EAAI0c,EACJ,MAEF,KAAK,EACHtB,EAAIsB,EACJ/sB,EAAImrC,EACJ96B,EAAI+6B,EAOR,MAAO,CAAC3f,EAAGzrB,EAAGqQ,GAGhB,SAASg7B,SAAS5f,EAAGzrB,EAAGqQ,GACtB,IAGI66B,EAHAzzC,EAAMjF,KAAKiF,IAAIg0B,EAAGzrB,EAAGqQ,GACrBs4B,EAAMn2C,KAAKm2C,IAAIld,EAAGzrB,EAAGqQ,GACrB2yB,EAAIvrC,EAAMkxC,EAEVxwB,EAAY,IAAR1gB,EAAY,EAAIurC,EAAIvrC,EACxBs1B,EAAIt1B,EAAM,IAEd,OAAQA,GACN,KAAKkxC,EACHuC,EAAI,EACJ,MAEF,KAAKzf,EACHyf,EAAIlrC,EAAIqQ,EAAI2yB,GAAKhjC,EAAIqQ,EAAI,EAAI,GAC7B66B,GAAK,EAAIlI,EACT,MAEF,KAAKhjC,EACHkrC,EAAI76B,EAAIob,EAAQ,EAAJuX,EACZkI,GAAK,EAAIlI,EACT,MAEF,KAAK3yB,EACH66B,EAAIzf,EAAIzrB,EAAQ,EAAJgjC,EACZkI,GAAK,EAAIlI,EAOb,MAAO,CAACkI,EAAG/yB,EAAG4U,GAGhB,SAASue,mBAAmBnf,EAAOnI,GACjC,IAAIunB,EAAMF,SAAoB,IAAXlf,EAAM,GAAqB,IAAXA,EAAM,GAAqB,IAAXA,EAAM,IASzD,OARAof,EAAI,IAAMvnB,EAENunB,EAAI,GAAK,EACXA,EAAI,GAAK,EACAA,EAAI,IAAM,IACnBA,EAAI,GAAK,GAGJN,SAASM,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAGtC,SAASC,mBAAmBrf,EAAOnI,GACjC,IAAIunB,EAAMF,SAAoB,IAAXlf,EAAM,GAAqB,IAAXA,EAAM,GAAqB,IAAXA,EAAM,IASzD,OARAof,EAAI,IAAMvnB,EAENunB,EAAI,GAAK,EACXA,EAAI,GAAK,EACAA,EAAI,GAAK,IAClBA,EAAI,GAAK,GAGJN,SAASM,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAGtC,SAASE,YAAYtf,EAAOnI,GAC1B,IAAIunB,EAAMF,SAAoB,IAAXlf,EAAM,GAAqB,IAAXA,EAAM,GAAqB,IAAXA,EAAM,IASzD,OARAof,EAAI,IAAMvnB,EAAS,IAEfunB,EAAI,GAAK,EACXA,EAAI,IAAM,EACDA,EAAI,GAAK,IAClBA,EAAI,IAAM,GAGLN,SAASM,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAGtC,IAAIG,SAAW,WACb,IACIv2C,EACAw2C,EAFAC,EAAW,GAIf,IAAKz2C,EAAI,EAAGA,EAAI,IAAKA,GAAK,EACxBw2C,EAAMx2C,EAAEzB,SAAS,IACjBk4C,EAASz2C,GAAoB,IAAfw2C,EAAI97C,OAAe,IAAM87C,EAAMA,EAG/C,OAAO,SAAUlgB,EAAGzrB,EAAGqQ,GAarB,OAZIob,EAAI,IACNA,EAAI,GAGFzrB,EAAI,IACNA,EAAI,GAGFqQ,EAAI,IACNA,EAAI,GAGC,IAAMu7B,EAASngB,GAAKmgB,EAAS5rC,GAAK4rC,EAASv7B,IAvBvC,GA2BXw7B,mBAAqB,SAA4B1W,GACnD4S,kBAAoB5S,GAGlB2W,mBAAqB,WACvB,OAAO/D,iBAGLgE,qBAAuB,SAA8B79C,GACvD85C,kBAAoB95C,GAGlB89C,qBAAuB,WACzB,OAAOhE,mBAGLiE,wBAA0B,SAAiC/9C,GAC7D86C,qBAAuB96C,GAGrBg+C,wBAA0B,WAC5B,OAAOlD,sBAGLmD,YAAc,SAAqBj+C,GACrC+5C,SAAW/5C,GAGTk+C,YAAc,WAChB,OAAOnE,UAGT,SAASoE,SAASlgC,GAEhB,OAAO3P,SAAS8vC,gBAAgBtH,MAAO74B,GAGzC,SAASogC,UAAUh/C,GAAuV,OAA1Og/C,UAArD,mBAAX3X,QAAoD,iBAApBA,OAAOC,SAAqC,SAAiBtnC,GAAO,cAAcA,GAA6B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXqnC,QAAyBrnC,EAAI+Q,cAAgBs2B,QAAUrnC,IAAQqnC,OAAOnnC,UAAY,gBAAkBF,GAAiBg/C,UAAUh/C,GAE3X,IAAIi/C,YAAc,WAChB,IAEIC,EACAC,EAHAC,EAAa,EACbC,EAAY,GAGZC,EAAc,CAChBnV,UAAW,aACXE,YAAa,SAAqBrM,GAChCkhB,EAAS,CACP52C,KAAM01B,MAIRuhB,EAAc,CAChBlV,YAAa,SAAqB/hC,GAChCg3C,EAAYnV,UAAU,CACpB7hC,KAAMA,MAmBZ,SAASk3C,IACFL,IACHA,EAhBJ,SAAsB/uC,GACpB,GAAIb,OAAOkwC,QAAUlwC,OAAOmwC,MAAQ5H,eAAgB,CAClD,IAAI6H,EAAO,IAAID,KAAK,CAAC,4CAA6CtvC,EAAGjK,YAAa,CAChFyY,KAAM,oBAGJ9c,EAAM89C,IAAIC,gBAAgBF,GAC9B,OAAO,IAAIF,OAAO39C,GAIpB,OADAo9C,EAAW9uC,EACJkvC,EAKYQ,EAAa,SAAqB/xC,GAonBjD,GAzEKwxC,EAAYN,cACfM,EAAYN,YA3iBd,WACE,SAASc,EAAeC,EAAQC,GAC9B,IAAIC,EACAt4C,EAEAE,EACAq4C,EACAjR,EACAkR,EAJA3gC,EAAMugC,EAAO19C,OAMjB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAGxB,GAAI,OAFJs4C,EAAYF,EAAOp4C,MAEOs4C,EAAUG,UAAW,CAO7C,GANAH,EAAUG,WAAY,EAElBH,EAAUI,KACZN,EAAOp4C,EAAI,GAAG24C,GAAKL,EAAUI,IAG3BJ,EAAUM,QAAS,CACrB,IAAIC,EAAYP,EAAUQ,gBAG1B,IAFAP,EAAOM,EAAUn+C,OAEZwF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACzB,GAAI24C,EAAU34C,GAAG64C,GAAGzR,EAAEtnC,EACpBg5C,EAA6BH,EAAU34C,GAAG64C,GAAGzR,QAI7C,IAFAkR,EAAOK,EAAU34C,GAAG64C,GAAGzR,EAAE5sC,OAEpB4sC,EAAI,EAAGA,EAAIkR,EAAMlR,GAAK,EACrBuR,EAAU34C,GAAG64C,GAAGzR,EAAEA,GAAGtkB,GACvBg2B,EAA6BH,EAAU34C,GAAG64C,GAAGzR,EAAEA,GAAGtkB,EAAE,IAGlD61B,EAAU34C,GAAG64C,GAAGzR,EAAEA,GAAGnhC,GACvB6yC,EAA6BH,EAAU34C,GAAG64C,GAAGzR,EAAEA,GAAGnhC,EAAE,IAOzC,IAAjBmyC,EAAUW,IACZX,EAAUF,OAASc,EAAeZ,EAAUa,MAAOd,GACnDF,EAAeG,EAAUF,OAAQC,IACP,IAAjBC,EAAUW,GACnBG,EAAed,EAAUe,QACC,IAAjBf,EAAUW,IACnBK,EAAahB,IAgDrB,SAASY,EAAe3nC,EAAI8mC,GAC1B,IAAIkB,EAhBN,SAAkBhoC,EAAI8mC,GAIpB,IAHA,IAAIr4C,EAAI,EACJ6X,EAAMwgC,EAAM39C,OAETsF,EAAI6X,GAAK,CACd,GAAIwgC,EAAMr4C,GAAGuR,KAAOA,EAClB,OAAO8mC,EAAMr4C,GAGfA,GAAK,EAGP,OAAO,KAIIw5C,CAASjoC,EAAI8mC,GAExB,OAAIkB,EACGA,EAAKnB,OAAOqB,OAKVjhD,KAAKwD,MAAMxD,KAAKC,UAAU8gD,EAAKnB,UAJpCmB,EAAKnB,OAAOqB,QAAS,EACdF,EAAKnB,QAMT,KAGT,SAASgB,EAAe1vC,GACtB,IAAI1J,EAEAE,EACAq4C,EAEJ,IAAKv4C,EAJK0J,EAAIhP,OAIC,EAAGsF,GAAK,EAAGA,GAAK,EAC7B,GAAkB,OAAd0J,EAAI1J,GAAGi5C,GACT,GAAIvvC,EAAI1J,GAAG05C,GAAGpS,EAAEtnC,EACdg5C,EAA6BtvC,EAAI1J,GAAG05C,GAAGpS,QAIvC,IAFAiR,EAAO7uC,EAAI1J,GAAG05C,GAAGpS,EAAE5sC,OAEdwF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACrBwJ,EAAI1J,GAAG05C,GAAGpS,EAAEpnC,GAAG8iB,GACjBg2B,EAA6BtvC,EAAI1J,GAAG05C,GAAGpS,EAAEpnC,GAAG8iB,EAAE,IAG5CtZ,EAAI1J,GAAG05C,GAAGpS,EAAEpnC,GAAGiG,GACjB6yC,EAA6BtvC,EAAI1J,GAAG05C,GAAGpS,EAAEpnC,GAAGiG,EAAE,QAI7B,OAAduD,EAAI1J,GAAGi5C,IAChBG,EAAe1vC,EAAI1J,GAAG25C,IAK5B,SAASX,EAA6B5iB,GACpC,IAAIp2B,EACA6X,EAAMue,EAAKp2B,EAAEtF,OAEjB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBo2B,EAAKp2B,EAAEA,GAAG,IAAMo2B,EAAKwB,EAAE53B,GAAG,GAC1Bo2B,EAAKp2B,EAAEA,GAAG,IAAMo2B,EAAKwB,EAAE53B,GAAG,GAC1Bo2B,EAAKpoB,EAAEhO,GAAG,IAAMo2B,EAAKwB,EAAE53B,GAAG,GAC1Bo2B,EAAKpoB,EAAEhO,GAAG,IAAMo2B,EAAKwB,EAAE53B,GAAG,GAI9B,SAAS45C,EAAaC,EAASC,GAC7B,IAAIC,EAAcD,EAAoBA,EAAkBziC,MAAM,KAAO,CAAC,IAAK,IAAK,KAEhF,OAAIwiC,EAAQ,GAAKE,EAAY,MAIzBA,EAAY,GAAKF,EAAQ,MAIzBA,EAAQ,GAAKE,EAAY,MAIzBA,EAAY,GAAKF,EAAQ,MAIzBA,EAAQ,GAAKE,EAAY,MAIzBA,EAAY,GAAKF,EAAQ,KAItB,OAGT,IA2CMG,EA3CFC,EAAY,WACd,IAAID,EAAiB,CAAC,EAAG,EAAG,IAY5B,SAASE,EAAc9B,GACrB,IAAIp4C,EAXmBm6C,EACnBC,EAWAviC,EAAMugC,EAAO19C,OAEjB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACH,IAAjBo4C,EAAOp4C,GAAGi5C,KAdZmB,OAAAA,EAAAA,GADmBD,EAgBH/B,EAAOp4C,IAfEysC,EAAEoB,EAC/BsM,EAAU1N,EAAEoB,EAAI,CACdvG,EAAG,CAAC,CACFtkB,EAAGo3B,EACH3N,EAAG,MAgBT,OAAO,SAAU4N,GACf,GAAIT,EAAaI,EAAgBK,EAAcziB,KAC7CsiB,EAAcG,EAAcjC,QAExBiC,EAAcC,QAAQ,CACxB,IAAIt6C,EACA6X,EAAMwiC,EAAcC,OAAO5/C,OAE/B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACpBq6C,EAAcC,OAAOt6C,GAAGo4C,QAC1B8B,EAAcG,EAAcC,OAAOt6C,GAAGo4C,UAlClC,GA0CZmC,GACEP,EAAiB,CAAC,EAAG,EAAG,IACrB,SAAUK,GACf,GAAIA,EAAcG,QAAUZ,EAAaI,EAAgBK,EAAcziB,GAAI,CACzE,IAAI53B,EACA6X,EAAMwiC,EAAcG,MAAM9/C,OAE9B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAC3B,IAAIy6C,EAAWJ,EAAcG,MAAMx6C,GAE/By6C,EAAS/5C,MAAQ+5C,EAAS/5C,KAAK24C,SACjCD,EAAeqB,EAAS/5C,KAAK24C,QAC7BoB,EAAS/5C,KAAKg6C,GAAK,EACnBD,EAAS/5C,KAAKi6C,GAAK,MACnBF,EAAS/5C,KAAKk6C,GAAK,EACnBH,EAAS/5C,KAAKm6C,GAAK,EACnBJ,EAAS/5C,KAAKg5C,GAAK,CACjB1D,EAAG,CACD1O,EAAG,CAAC,EAAG,GACPrsB,EAAG,GAEL+H,EAAG,CACDskB,EAAG,CAAC,IAAK,KACTrsB,EAAG,GAELA,EAAG,CACDqsB,EAAG,CAAC,EAAG,GACPrsB,EAAG,GAELqb,EAAG,CACDgR,EAAG,EACHrsB,EAAG,GAELjN,EAAG,CACDs5B,EAAG,IACHrsB,EAAG,IAIFo/B,EAAcG,MAAMx6C,GAAGysC,IAC1BgO,EAAS/5C,KAAK24C,OAAO77C,KAAK,CACxBy7C,GAAI,OAENwB,EAAS/5C,KAAK24C,OAAO,GAAGM,GAAGn8C,KAAK,CAC9Bw4C,EAAG,CACD1O,EAAG,CAAC,EAAG,GACPrsB,EAAG,GAEL+H,EAAG,CACDskB,EAAG,CAAC,IAAK,KACTrsB,EAAG,GAELA,EAAG,CACDqsB,EAAG,CAAC,EAAG,GACPrsB,EAAG,GAELqb,EAAG,CACDgR,EAAG,EACHrsB,EAAG,GAELjN,EAAG,CACDs5B,EAAG,IACHrsB,EAAG,GAEL6/B,GAAI,CACFxT,EAAG,EACHrsB,EAAG,GAEL8/B,GAAI,CACFzT,EAAG,EACHrsB,EAAG,GAELg+B,GAAI,aASd+B,EAAsB,WACxB,IAAIhB,EAAiB,CAAC,EAAG,EAAG,IA2B5B,SAASE,EAAc9B,GACrB,IAAIp4C,EAzBAi7C,EA0BApjC,EAAMugC,EAAO19C,OAEjB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACH,IAAjBo4C,EAAOp4C,GAAGi5C,KA7BZgC,OAAAA,EAEsB,iBAFtBA,EA8BgB7C,EAAOp4C,GA9BFysC,EAAEuJ,GAEP/6B,IAClBggC,EAAShgC,EAAI,CACXA,EAAG,EACHqsB,EAAG2T,EAAShgC,IAIU,iBAAfggC,EAASjF,IAClBiF,EAASjF,EAAI,CACX/6B,EAAG,EACHqsB,EAAG2T,EAASjF,IAIU,iBAAfiF,EAAS3kB,IAClB2kB,EAAS3kB,EAAI,CACXrb,EAAG,EACHqsB,EAAG2T,EAAS3kB,KAgBlB,OAAO,SAAU+jB,GACf,GAAIT,EAAaI,EAAgBK,EAAcziB,KAC7CsiB,EAAcG,EAAcjC,QAExBiC,EAAcC,QAAQ,CACxB,IAAIt6C,EACA6X,EAAMwiC,EAAcC,OAAO5/C,OAE/B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACpBq6C,EAAcC,OAAOt6C,GAAGo4C,QAC1B8B,EAAcG,EAAcC,OAAOt6C,GAAGo4C,UAjDxB,GAyDtB8C,EAAc,WAChB,IAAIlB,EAAiB,CAAC,EAAG,EAAG,GAE5B,SAASmB,EAAc9B,GACrB,IAAIr5C,EAEAE,EACAq4C,EAFA1gC,EAAMwhC,EAAO3+C,OAIjB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB,GAAqB,OAAjBq5C,EAAOr5C,GAAGi5C,GACZkC,EAAc9B,EAAOr5C,GAAG25C,SACnB,GAAqB,OAAjBN,EAAOr5C,GAAGi5C,IAAgC,OAAjBI,EAAOr5C,GAAGi5C,GAC5C,GAAII,EAAOr5C,GAAG+2B,EAAEuQ,GAAK+R,EAAOr5C,GAAG+2B,EAAEuQ,EAAE,GAAGtnC,EAGpC,IAFAu4C,EAAOc,EAAOr5C,GAAG+2B,EAAEuQ,EAAE5sC,OAEhBwF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACrBm5C,EAAOr5C,GAAG+2B,EAAEuQ,EAAEpnC,GAAG8iB,IACnBq2B,EAAOr5C,GAAG+2B,EAAEuQ,EAAEpnC,GAAG8iB,EAAE,IAAM,IACzBq2B,EAAOr5C,GAAG+2B,EAAEuQ,EAAEpnC,GAAG8iB,EAAE,IAAM,IACzBq2B,EAAOr5C,GAAG+2B,EAAEuQ,EAAEpnC,GAAG8iB,EAAE,IAAM,IACzBq2B,EAAOr5C,GAAG+2B,EAAEuQ,EAAEpnC,GAAG8iB,EAAE,IAAM,KAGvBq2B,EAAOr5C,GAAG+2B,EAAEuQ,EAAEpnC,GAAGiG,IACnBkzC,EAAOr5C,GAAG+2B,EAAEuQ,EAAEpnC,GAAGiG,EAAE,IAAM,IACzBkzC,EAAOr5C,GAAG+2B,EAAEuQ,EAAEpnC,GAAGiG,EAAE,IAAM,IACzBkzC,EAAOr5C,GAAG+2B,EAAEuQ,EAAEpnC,GAAGiG,EAAE,IAAM,IACzBkzC,EAAOr5C,GAAG+2B,EAAEuQ,EAAEpnC,GAAGiG,EAAE,IAAM,UAI7BkzC,EAAOr5C,GAAG+2B,EAAEuQ,EAAE,IAAM,IACpB+R,EAAOr5C,GAAG+2B,EAAEuQ,EAAE,IAAM,IACpB+R,EAAOr5C,GAAG+2B,EAAEuQ,EAAE,IAAM,IACpB+R,EAAOr5C,GAAG+2B,EAAEuQ,EAAE,IAAM,IAM5B,SAAS4S,EAAc9B,GACrB,IAAIp4C,EACA6X,EAAMugC,EAAO19C,OAEjB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACH,IAAjBo4C,EAAOp4C,GAAGi5C,IACZkC,EAAc/C,EAAOp4C,GAAGq5C,QAK9B,OAAO,SAAUgB,GACf,GAAIT,EAAaI,EAAgBK,EAAcziB,KAC7CsiB,EAAcG,EAAcjC,QAExBiC,EAAcC,QAAQ,CACxB,IAAIt6C,EACA6X,EAAMwiC,EAAcC,OAAO5/C,OAE/B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACpBq6C,EAAcC,OAAOt6C,GAAGo4C,QAC1B8B,EAAcG,EAAcC,OAAOt6C,GAAGo4C,UA9DhC,GAsEdgD,EAAc,WAChB,IAAIpB,EAAiB,CAAC,EAAG,EAAG,IAE5B,SAASqB,EAAsB3xC,GAC7B,IAAI1J,EAEAE,EACAq4C,EAEJ,IAAKv4C,EAJK0J,EAAIhP,OAIC,EAAGsF,GAAK,EAAGA,GAAK,EAC7B,GAAkB,OAAd0J,EAAI1J,GAAGi5C,GACT,GAAIvvC,EAAI1J,GAAG05C,GAAGpS,EAAEtnC,EACd0J,EAAI1J,GAAG05C,GAAGpS,EAAEvQ,EAAIrtB,EAAI1J,GAAGs7C,YAIvB,IAFA/C,EAAO7uC,EAAI1J,GAAG05C,GAAGpS,EAAE5sC,OAEdwF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACrBwJ,EAAI1J,GAAG05C,GAAGpS,EAAEpnC,GAAG8iB,IACjBtZ,EAAI1J,GAAG05C,GAAGpS,EAAEpnC,GAAG8iB,EAAE,GAAG+T,EAAIrtB,EAAI1J,GAAGs7C,QAG7B5xC,EAAI1J,GAAG05C,GAAGpS,EAAEpnC,GAAGiG,IACjBuD,EAAI1J,GAAG05C,GAAGpS,EAAEpnC,GAAGiG,EAAE,GAAG4wB,EAAIrtB,EAAI1J,GAAGs7C,YAId,OAAd5xC,EAAI1J,GAAGi5C,IAChBoC,EAAsB3xC,EAAI1J,GAAG25C,IAKnC,SAASO,EAAc9B,GACrB,IAAIE,EACAt4C,EAEAE,EACAq4C,EACAjR,EACAkR,EAJA3gC,EAAMugC,EAAO19C,OAMjB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAG3B,IAFAs4C,EAAYF,EAAOp4C,IAEL44C,QAAS,CACrB,IAAIC,EAAYP,EAAUQ,gBAG1B,IAFAP,EAAOM,EAAUn+C,OAEZwF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACzB,GAAI24C,EAAU34C,GAAG64C,GAAGzR,EAAEtnC,EACpB64C,EAAU34C,GAAG64C,GAAGzR,EAAEvQ,EAAI8hB,EAAU34C,GAAGq7C,QAInC,IAFA/C,EAAOK,EAAU34C,GAAG64C,GAAGzR,EAAE5sC,OAEpB4sC,EAAI,EAAGA,EAAIkR,EAAMlR,GAAK,EACrBuR,EAAU34C,GAAG64C,GAAGzR,EAAEA,GAAGtkB,IACvB61B,EAAU34C,GAAG64C,GAAGzR,EAAEA,GAAGtkB,EAAE,GAAG+T,EAAI8hB,EAAU34C,GAAGq7C,IAGzC1C,EAAU34C,GAAG64C,GAAGzR,EAAEA,GAAGnhC,IACvB0yC,EAAU34C,GAAG64C,GAAGzR,EAAEA,GAAGnhC,EAAE,GAAG4wB,EAAI8hB,EAAU34C,GAAGq7C,IAOhC,IAAjBjD,EAAUW,IACZoC,EAAsB/C,EAAUe,SAKtC,OAAO,SAAUgB,GACf,GAAIT,EAAaI,EAAgBK,EAAcziB,KAC7CsiB,EAAcG,EAAcjC,QAExBiC,EAAcC,QAAQ,CACxB,IAAIt6C,EACA6X,EAAMwiC,EAAcC,OAAO5/C,OAE/B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACpBq6C,EAAcC,OAAOt6C,GAAGo4C,QAC1B8B,EAAcG,EAAcC,OAAOt6C,GAAGo4C,UAnFhC,GA0GlB,SAASkB,EAAa54C,GACI,IAApBA,EAAK+rC,EAAExxB,EAAEvgB,QAAyBgG,EAAK+rC,EAAEuJ,EAI/C,IAAIwF,EAAW,CACfA,aArBA,SAAsBnB,GAChBA,EAAcoB,aAIlBP,EAAYb,GACZJ,EAAUI,GACVE,EAAWF,GACXW,EAAoBX,GACpBe,EAAYf,GACZlC,EAAekC,EAAcjC,OAAQiC,EAAcC,QA/drD,SAAuBE,EAAOF,GAC5B,GAAIE,EAAO,CACT,IAAIx6C,EAAI,EACJ6X,EAAM2iC,EAAM9/C,OAEhB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACL,IAAfw6C,EAAMx6C,GAAGysC,IAEX+N,EAAMx6C,GAAGU,KAAK03C,OAASc,EAAesB,EAAMx6C,GAAGU,KAAKy4C,MAAOmB,GAa3DnC,EAAeqC,EAAMx6C,GAAGU,KAAK03C,OAAQkC,KA2c3CoB,CAAcrB,EAAcG,MAAOH,EAAcC,QACjDD,EAAcoB,YAAa,KAe7B,OALAD,EAASN,YAAcA,EACvBM,EAASjB,WAAaA,EACtBiB,EAASR,oBAAsBA,EAC/BQ,EAASJ,YAAcA,EACvBI,EAASrD,eAAiBA,EACnBqD,EAImBG,IAGvBhE,EAAYiE,cACfjE,EAAYiE,YAAc,WACxB,SAASC,EAAeC,GAGtB,IAAIC,EAAoBD,EAAIE,kBAAkB,gBAE9C,OAAID,GAA0C,SAArBD,EAAIG,eAAkE,IAAvCF,EAAkBniD,QAAQ,SAI9EkiD,EAAII,UAAwC,WAA5B9E,UAAU0E,EAAII,UAHzBJ,EAAII,SAOTJ,EAAII,UAAoC,iBAAjBJ,EAAII,SACtB1jD,KAAKwD,MAAM8/C,EAAII,UAGpBJ,EAAI//C,aACCvD,KAAKwD,MAAM8/C,EAAI//C,cAGjB,KAwCT,MAAO,CACLs6B,KAtCF,SAAmBD,EAAM+lB,EAAU7gD,EAAU8gD,GAC3C,IAAIF,EACAJ,EAAM,IAAIz2C,eAEd,IAEEy2C,EAAIG,aAAe,OACnB,MAAOtgD,IAGTmgD,EAAIh2C,mBAAqB,WACvB,GAAuB,IAAnBg2C,EAAI/1C,WACN,GAAmB,MAAf+1C,EAAI7+C,OACNi/C,EAAWL,EAAeC,GAC1BxgD,EAAS4gD,QAET,IACEA,EAAWL,EAAeC,GAC1BxgD,EAAS4gD,GACT,MAAOvgD,GACHygD,GACFA,EAAczgD,KAOxB,IACEmgD,EAAIt1C,KAAK,MAAO4vB,GAAM,GACtB,MAAOntB,GACP6yC,EAAIt1C,KAAK,MAAO21C,EAAW,IAAM/lB,GAAM,GAGzC0lB,EAAIp1C,SA3DkB,IAoER,kBAAhBP,EAAEzF,KAAKsW,KACT2gC,EAAYiE,YAAYvlB,KAAKlwB,EAAEzF,KAAK01B,KAAMjwB,EAAEzF,KAAKy7C,UAAU,SAAUz7C,GACnEi3C,EAAYN,YAAYgF,aAAa37C,GAErCi3C,EAAYlV,YAAY,CACtBlxB,GAAIpL,EAAEzF,KAAK6Q,GACX4X,QAASzoB,EACTzD,OAAQ,eAET,WACD06C,EAAYlV,YAAY,CACtBlxB,GAAIpL,EAAEzF,KAAK6Q,GACXtU,OAAQ,kBAGP,GAAoB,aAAhBkJ,EAAEzF,KAAKsW,KAAqB,CACrC,IAAI+e,EAAY5vB,EAAEzF,KAAKq1B,UAEvB4hB,EAAYN,YAAYgF,aAAatmB,GAErC4hB,EAAYlV,YAAY,CACtBlxB,GAAIpL,EAAEzF,KAAK6Q,GACX4X,QAAS4M,EACT94B,OAAQ,gBAEe,aAAhBkJ,EAAEzF,KAAKsW,MAChB2gC,EAAYiE,YAAYvlB,KAAKlwB,EAAEzF,KAAK01B,KAAMjwB,EAAEzF,KAAKy7C,UAAU,SAAUz7C,GACnEi3C,EAAYlV,YAAY,CACtBlxB,GAAIpL,EAAEzF,KAAK6Q,GACX4X,QAASzoB,EACTzD,OAAQ,eAET,WACD06C,EAAYlV,YAAY,CACtBlxB,GAAIpL,EAAEzF,KAAK6Q,GACXtU,OAAQ,gBAMhBs6C,EAAehV,UAAY,SAAUj8B,GACnC,IAAI5F,EAAO4F,EAAM5F,KACb6Q,EAAK7Q,EAAK6Q,GACV/b,EAAUiiD,EAAUlmC,GACxBkmC,EAAUlmC,GAAM,KAEI,YAAhB7Q,EAAKzD,OACPzH,EAAQ8mD,WAAW57C,EAAKyoB,SACf3zB,EAAQ+mD,SACjB/mD,EAAQ+mD,YAMhB,SAASC,EAAcF,EAAYC,GAEjC,IAAIhrC,EAAK,cADTimC,GAAc,GAMd,OAJAC,EAAUlmC,GAAM,CACd+qC,WAAYA,EACZC,QAASA,GAEJhrC,EAmCT,MAAO,CACL0kB,cAjCF,SAAuBG,EAAMkmB,EAAYC,GACvC3E,IACA,IAAI6E,EAAYD,EAAcF,EAAYC,GAC1ChF,EAAe9U,YAAY,CACzBzrB,KAAM,gBACNof,KAAMA,EACN+lB,SAAUx0C,OAAOg1B,SAAS+f,OAAS/0C,OAAOg1B,SAASggB,SACnDprC,GAAIkrC,KA2BNG,SAvBF,SAAkBxmB,EAAMkmB,EAAYC,GAClC3E,IACA,IAAI6E,EAAYD,EAAcF,EAAYC,GAC1ChF,EAAe9U,YAAY,CACzBzrB,KAAM,WACNof,KAAMA,EACN+lB,SAAUx0C,OAAOg1B,SAAS+f,OAAS/0C,OAAOg1B,SAASggB,SACnDprC,GAAIkrC,KAiBNI,kBAbF,SAA2BC,EAAMR,EAAYC,GAC3C3E,IACA,IAAI6E,EAAYD,EAAcF,EAAYC,GAC1ChF,EAAe9U,YAAY,CACzBzrB,KAAM,WACN+e,UAAW+mB,EACXvrC,GAAIkrC,MAvvBQ,GAkwBdM,eAAiB,WACnB,IAAIC,EAAa,WACf,IAAIC,EAAS5M,UAAU,UACvB4M,EAAO/gC,MAAQ,EACf+gC,EAAOlnC,OAAS,EAChB,IAAIqxB,EAAM6V,EAAOC,WAAW,MAG5B,OAFA9V,EAAI+V,UAAY,gBAChB/V,EAAIgW,SAAS,EAAG,EAAG,EAAG,GACfH,EAPQ,GAUjB,SAASI,IACPhnD,KAAKinD,cAAgB,EAEjBjnD,KAAKinD,eAAiBjnD,KAAKknD,aAAelnD,KAAKmnD,sBAAwBnnD,KAAKonD,eAC1EpnD,KAAKqnD,gBACPrnD,KAAKqnD,eAAe,MAK1B,SAASC,IACPtnD,KAAKmnD,qBAAuB,EAExBnnD,KAAKinD,eAAiBjnD,KAAKknD,aAAelnD,KAAKmnD,sBAAwBnnD,KAAKonD,eAC1EpnD,KAAKqnD,gBACPrnD,KAAKqnD,eAAe,MAK1B,SAASE,EAAcC,EAAWC,EAAYC,GAC5C,IAAI3nB,EAAO,GAEX,GAAIynB,EAAU13C,EACZiwB,EAAOynB,EAAU7H,OACZ,GAAI8H,EAAY,CACrB,IAAIE,EAAYH,EAAU7H,GAEY,IAAlCgI,EAAUpkD,QAAQ,aACpBokD,EAAYA,EAAU3mC,MAAM,KAAK,IAGnC+e,EAAO0nB,EAAaE,OAEpB5nB,EAAO2nB,EACP3nB,GAAQynB,EAAUI,EAAIJ,EAAUI,EAAI,GACpC7nB,GAAQynB,EAAU7H,EAGpB,OAAO5f,EAGT,SAAS8nB,EAAgBC,GACvB,IAAItI,EAAS,EACTuI,EAAaC,YAAY,YACjBF,EAAIG,UAENpiC,OAAS25B,EAAS,OACxBx/C,KAAKkoD,eAELC,cAAcJ,IAGhBvI,GAAU,GACVzjC,KAAK/b,MAAO,IAmDhB,SAASooD,EAAkB/9C,GACzB,IAAIg+C,EAAK,CACPb,UAAWn9C,GAET01B,EAAOwnB,EAAcl9C,EAAMrK,KAAKynD,WAAYznD,KAAK+/B,MAUrD,OATAihB,YAAYuF,SAASxmB,EAAM,SAAUuoB,GACnCD,EAAGP,IAAMQ,EAETtoD,KAAKuoD,kBACLxsC,KAAK/b,MAAO,WACZqoD,EAAGP,IAAM,GAET9nD,KAAKuoD,kBACLxsC,KAAK/b,OACAqoD,EAkET,SAASG,IACPxoD,KAAKkoD,aAAelB,EAAYjrC,KAAK/b,MACrCA,KAAKuoD,eAAiBjB,EAAcvrC,KAAK/b,MACzCA,KAAK6nD,gBAAkBA,EAAgB9rC,KAAK/b,MAC5CA,KAAKooD,kBAAoBA,EAAkBrsC,KAAK/b,MAChDA,KAAKynD,WAAa,GAClBznD,KAAK+/B,KAAO,GACZ//B,KAAKknD,YAAc,EACnBlnD,KAAKonD,cAAgB,EACrBpnD,KAAKinD,aAAe,EACpBjnD,KAAKmnD,oBAAsB,EAC3BnnD,KAAKqnD,eAAiB,KACtBrnD,KAAKyoD,OAAS,GAiBhB,OAdAD,EAAsBvmD,UAAY,CAChCymD,WA/EF,SAAoBzE,EAAQrzC,GAE1B,IAAIjH,EADJ3J,KAAKqnD,eAAiBz2C,EAEtB,IAAI4Q,EAAMyiC,EAAO5/C,OAEjB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACnBs6C,EAAOt6C,GAAGo4C,SACRkC,EAAOt6C,GAAGysC,GAAqB,QAAhB6N,EAAOt6C,GAAGysC,EAGH,IAAhB6N,EAAOt6C,GAAGysC,IACnBp2C,KAAKonD,eAAiB,EACtBpnD,KAAKyoD,OAAOthD,KAAKnH,KAAKooD,kBAAkBnE,EAAOt6C,OAJ/C3J,KAAKknD,aAAe,EACpBlnD,KAAKyoD,OAAOthD,KAAKnH,KAAK2oD,iBAAiB1E,EAAOt6C,QAuEpDi/C,cA1DF,SAAuB7oB,GACrB//B,KAAKynD,WAAa1nB,GAAQ,IA0D1B8oB,QA/DF,SAAiB9oB,GACf//B,KAAK+/B,KAAOA,GAAQ,IA+DpB+oB,aApCF,WACE,OAAO9oD,KAAKknD,cAAgBlnD,KAAKinD,cAoCjC8B,eAjCF,WACE,OAAO/oD,KAAKonD,gBAAkBpnD,KAAKmnD,qBAiCnC/qC,QA3CF,WACEpc,KAAKqnD,eAAiB,KACtBrnD,KAAKyoD,OAAOpkD,OAAS,GA0CrB2kD,SA3DF,SAAkBxB,GAIhB,IAHA,IAAI79C,EAAI,EACJ6X,EAAMxhB,KAAKyoD,OAAOpkD,OAEfsF,EAAI6X,GAAK,CACd,GAAIxhB,KAAKyoD,OAAO9+C,GAAG69C,YAAcA,EAC/B,OAAOxnD,KAAKyoD,OAAO9+C,GAAGm+C,IAGxBn+C,GAAK,EAGP,OAAO,MAgDPs/C,cAzHF,SAAuBzB,GACrB,IAAIznB,EAAOwnB,EAAcC,EAAWxnD,KAAKynD,WAAYznD,KAAK+/B,MACtD+nB,EAAM9N,UAAU,OACpB8N,EAAIoB,YAAc,YAClBpB,EAAI7xB,iBAAiB,OAAQj2B,KAAKkoD,cAAc,GAChDJ,EAAI7xB,iBAAiB,QAAS,WAC5BoyB,EAAGP,IAAMnB,EAET3mD,KAAKkoD,gBACLnsC,KAAK/b,OAAO,GACd8nD,EAAI91C,IAAM+tB,EACV,IAAIsoB,EAAK,CACPP,IAAKA,EACLN,UAAWA,GAEb,OAAOa,GA2GPc,gBAxJF,SAAyB3B,GACvB,IAAIznB,EAAOwnB,EAAcC,EAAWxnD,KAAKynD,WAAYznD,KAAK+/B,MACtD+nB,EAAMjH,SAAS,SAEfnE,SACF18C,KAAK6nD,gBAAgBC,GAErBA,EAAI7xB,iBAAiB,OAAQj2B,KAAKkoD,cAAc,GAGlDJ,EAAI7xB,iBAAiB,QAAS,WAC5BoyB,EAAGP,IAAMnB,EAET3mD,KAAKkoD,gBACLnsC,KAAK/b,OAAO,GACd8nD,EAAIsB,eAAe,+BAAgC,OAAQrpB,GAEvD//B,KAAKqpD,eAAenvC,OACtBla,KAAKqpD,eAAenvC,OAAO4tC,GAE3B9nD,KAAKqpD,eAAep3C,YAAY61C,GAGlC,IAAIO,EAAK,CACPP,IAAKA,EACLN,UAAWA,GAEb,OAAOa,GA8HPrB,YAAaA,EACbM,cAAeA,EACfgC,aApCF,SAAsB3oC,EAAM4oC,GACb,QAAT5oC,GACF3gB,KAAKqpD,eAAiBE,EACtBvpD,KAAK2oD,iBAAmB3oD,KAAKmpD,gBAAgBptC,KAAK/b,OAElDA,KAAK2oD,iBAAmB3oD,KAAKipD,cAAcltC,KAAK/b,QAiC7CwoD,EAjOY,GAoOrB,SAASgB,aAETA,UAAUvnD,UAAY,CACpBwnD,aAAc,SAAsBC,EAAW3hD,GAC7C,GAAI/H,KAAK2pD,KAAKD,GAGZ,IAFA,IAAIpoC,EAAYthB,KAAK2pD,KAAKD,GAEjB//C,EAAI,EAAGA,EAAI2X,EAAUjd,OAAQsF,GAAK,EACzC2X,EAAU3X,GAAG5B,IAInBkuB,iBAAkB,SAA0ByzB,EAAWzkD,GAOrD,OANKjF,KAAK2pD,KAAKD,KACb1pD,KAAK2pD,KAAKD,GAAa,IAGzB1pD,KAAK2pD,KAAKD,GAAWviD,KAAKlC,GAEnB,WACLjF,KAAK08B,oBAAoBgtB,EAAWzkD,IACpC8W,KAAK/b,OAET08B,oBAAqB,SAA6BgtB,EAAWzkD,GAC3D,GAAKA,GAEE,GAAIjF,KAAK2pD,KAAKD,GAAY,CAI/B,IAHA,IAAI//C,EAAI,EACJ6X,EAAMxhB,KAAK2pD,KAAKD,GAAWrlD,OAExBsF,EAAI6X,GACLxhB,KAAK2pD,KAAKD,GAAW//C,KAAO1E,IAC9BjF,KAAK2pD,KAAKD,GAAW3zB,OAAOpsB,EAAG,GAE/BA,GAAK,EACL6X,GAAO,GAGT7X,GAAK,EAGF3J,KAAK2pD,KAAKD,GAAWrlD,SACxBrE,KAAK2pD,KAAKD,GAAa,YAjBzB1pD,KAAK2pD,KAAKD,GAAa,OAuB7B,IAAIE,aAAe,WACjB,SAASC,EAAkB/2B,GAMzB,IALA,IAEIg3B,EAFAC,EAAQj3B,EAAQ9R,MAAM,QACtBpN,EAAO,GAEPo2C,EAAY,EAEPrgD,EAAI,EAAGA,EAAIogD,EAAM1lD,OAAQsF,GAAK,EAGjB,KAFpBmgD,EAAOC,EAAMpgD,GAAGqX,MAAM,MAEb3c,SACPuP,EAAKk2C,EAAK,IAAMA,EAAK,GAAGx1B,OACxB01B,GAAa,GAIjB,GAAkB,IAAdA,EACF,MAAM,IAAIvhD,MAGZ,OAAOmL,EAGT,OAAO,SAAUq2C,GAGf,IAFA,IAAIC,EAAU,GAELvgD,EAAI,EAAGA,EAAIsgD,EAAS5lD,OAAQsF,GAAK,EAAG,CAC3C,IAAIwgD,EAAUF,EAAStgD,GACnBygD,EAAa,CACfC,KAAMF,EAAQG,GACdjjD,SAAU8iD,EAAQI,IAGpB,IACEH,EAAWt3B,QAAU3wB,KAAKwD,MAAMskD,EAAStgD,GAAG6gD,IAC5C,MAAO51C,GACP,IACEw1C,EAAWt3B,QAAU+2B,EAAkBI,EAAStgD,GAAG6gD,IACnD,MAAOC,GACPL,EAAWt3B,QAAU,CACnB7vB,KAAMgnD,EAAStgD,KAKrBugD,EAAQ/iD,KAAKijD,GAGf,OAAOF,GAhDQ,GAoDfQ,iBAAmB,WACrB,SAASC,EAAoBzH,GAC3BljD,KAAK4qD,aAAazjD,KAAK+7C,GAGzB,OAAO,WACL,SAAS2H,EAAqB5nD,GAI5B,IAHA,IAAI0G,EAAI,EACJ6X,EAAMxhB,KAAK4qD,aAAavmD,OAErBsF,EAAI6X,GAAK,CACd,GAAIxhB,KAAK4qD,aAAajhD,GAAGU,MAAQrK,KAAK4qD,aAAajhD,GAAGU,KAAKygD,KAAO7nD,EAKhE,OAJIjD,KAAK4qD,aAAajhD,GAAGohD,cAAgB/qD,KAAK4qD,aAAajhD,GAAGU,KAAK2gD,IACjEhrD,KAAK4qD,aAAajhD,GAAGohD,aAAa/qD,KAAKirD,cAGlCjrD,KAAK4qD,aAAajhD,GAAGuhD,cAG9BvhD,GAAK,EAGP,OAAO,KAMT,OAHAkhD,EAAqBD,aAAe,GACpCC,EAAqBI,aAAe,EACpCJ,EAAqBF,oBAAsBA,EACpCE,GA5BY,GAgCnBM,UAAY,GAEZC,iBAAmB,SAA0BpjD,EAAKtF,GACpDyoD,UAAUnjD,GAAOtF,GAGnB,SAAS2oD,YAAYrjD,GACnB,OAAOmjD,UAAUnjD,GAGnB,SAASsjD,UAAUvpD,GAAuV,OAA1OupD,UAArD,mBAAXliB,QAAoD,iBAApBA,OAAOC,SAAqC,SAAiBtnC,GAAO,cAAcA,GAA6B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXqnC,QAAyBrnC,EAAI+Q,cAAgBs2B,QAAUrnC,IAAQqnC,OAAOnnC,UAAY,gBAAkBF,GAAiBupD,UAAUvpD,GAE3X,IAAIwpD,cAAgB,WAClBvrD,KAAK2pD,KAAO,GACZ3pD,KAAKiD,KAAO,GACZjD,KAAK+/B,KAAO,GACZ//B,KAAKwrD,UAAW,EAChBxrD,KAAKirD,aAAe,EACpBjrD,KAAKyrD,gBAAkB,EACvBzrD,KAAKg/C,WAAa,EAClBh/C,KAAKi/C,YAAc,EACnBj/C,KAAK0rD,UAAY,EACjB1rD,KAAK2rD,UAAY,EACjB3rD,KAAK4rD,UAAY,EACjB5rD,KAAK6rD,cAAgB,EACrB7rD,KAAK8rD,UAAY,EACjB9rD,KAAKgkD,cAAgB,GACrBhkD,KAAKikD,OAAS,GACdjkD,KAAK+rD,UAAW,EAChB/rD,KAAKgsD,UAAW,EAChBhsD,KAAK8/B,MAAO,EACZ9/B,KAAKisD,SAAW,KAChBjsD,KAAKksD,YAAc3M,kBACnBv/C,KAAKynD,WAAa,GAClBznD,KAAKmsD,cAAgB,EACrBnsD,KAAKosD,WAAa,EAClBpsD,KAAKqsD,kBAAoB/L,qBACzBtgD,KAAKssD,SAAW,GAChBtsD,KAAKusD,OAAQ,EACbvsD,KAAKwsD,gBAAiB,EACtBxsD,KAAKysD,iBAAmB/B,mBACxB1qD,KAAK0sD,eAAiB,IAAIhG,eAC1B1mD,KAAK2sD,gBAAkBrS,yBACvBt6C,KAAKkqD,QAAU,GACflqD,KAAK4sD,gBAAkB5sD,KAAK4sD,gBAAgB7wC,KAAK/b,MACjDA,KAAK6sD,aAAe7sD,KAAK6sD,aAAa9wC,KAAK/b,MAC3CA,KAAK8sD,kBAAoB9sD,KAAK8sD,kBAAkB/wC,KAAK/b,OAGvDi6C,gBAAgB,CAACuP,WAAY+B,eAE7BA,cAActpD,UAAU8qD,UAAY,SAAUzoD,IACxCA,EAAO4Q,SAAW5Q,EAAO4vB,aAC3Bl0B,KAAKkV,QAAU5Q,EAAO4Q,SAAW5Q,EAAO4vB,WAG1C,IAAI2L,EAAW,MAEXv7B,EAAOu7B,SACTA,EAAWv7B,EAAOu7B,SACTv7B,EAAO2nD,WAChBpsB,EAAWv7B,EAAO2nD,UAGpB,IAAIe,EAAgB3B,YAAYxrB,GAChC7/B,KAAKisD,SAAW,IAAIe,EAAchtD,KAAMsE,EAAO2oD,kBAC/CjtD,KAAK0sD,eAAepD,aAAazpB,EAAU7/B,KAAKisD,SAASiB,WAAWC,MACpEntD,KAAKisD,SAASmB,oBAAoBptD,KAAKysD,kBACvCzsD,KAAK6/B,SAAWA,EAEI,KAAhBv7B,EAAOw7B,MAA+B,OAAhBx7B,EAAOw7B,WAAiCv+B,IAAhB+C,EAAOw7B,OAAsC,IAAhBx7B,EAAOw7B,KACpF9/B,KAAK8/B,MAAO,GACa,IAAhBx7B,EAAOw7B,KAChB9/B,KAAK8/B,MAAO,EAEZ9/B,KAAK8/B,KAAOzgC,SAASiF,EAAOw7B,KAAM,IAGpC9/B,KAAKgsD,WAAW,aAAc1nD,IAASA,EAAO0nD,SAC9ChsD,KAAKiD,KAAOqB,EAAOrB,KAAOqB,EAAOrB,KAAO,GACxCjD,KAAKqtD,kBAAmB1qD,OAAOV,UAAUW,eAAeC,KAAKyB,EAAQ,qBAAsBA,EAAO+oD,iBAClGrtD,KAAKynD,WAAanjD,EAAOmjD,WACzBznD,KAAKstD,eAAiBhpD,EAAOgpD,eAEzBhpD,EAAOk2C,cACTx6C,KAAK2sD,gBAAgBhR,gBAAgBr3C,EAAOk2C,cAG1Cl2C,EAAO0/C,cACThkD,KAAKutD,eAAejpD,EAAO0/C,eAClB1/C,EAAOy7B,QACuB,IAAnCz7B,EAAOy7B,KAAKytB,YAAY,MAC1BxtD,KAAK+/B,KAAOz7B,EAAOy7B,KAAKuC,OAAO,EAAGh+B,EAAOy7B,KAAKytB,YAAY,MAAQ,GAElExtD,KAAK+/B,KAAOz7B,EAAOy7B,KAAKuC,OAAO,EAAGh+B,EAAOy7B,KAAKytB,YAAY,KAAO,GAGnExtD,KAAKytD,SAAWnpD,EAAOy7B,KAAKuC,OAAOh+B,EAAOy7B,KAAKytB,YAAY,KAAO,GAClExtD,KAAKytD,SAAWztD,KAAKytD,SAASnrB,OAAO,EAAGtiC,KAAKytD,SAASD,YAAY,UAClExM,YAAYphB,cAAct7B,EAAOy7B,KAAM//B,KAAK4sD,gBAAiB5sD,KAAK6sD,gBAItEtB,cAActpD,UAAU4qD,aAAe,WACrC7sD,KAAKwa,QAAQ,gBAGf+wC,cAActpD,UAAUsrD,eAAiB,SAAUljD,GACjD22C,YAAYwF,kBAAkBn8C,EAAMrK,KAAK4sD,kBAG3CrB,cAActpD,UAAU68B,QAAU,SAAU5pB,EAAS8uC,GAC/CA,GAC+B,WAA7BsH,UAAUtH,KACZA,EAAgB7hD,KAAKwD,MAAMq+C,IAI/B,IAAI1/C,EAAS,CACX4Q,QAASA,EACT8uC,cAAeA,GAEb0J,EAAoBx4C,EAAQ+pB,WAChC36B,EAAOy7B,KAAO2tB,EAAkBC,aAAa,uBAC3CD,EAAkBC,aAAa,uBAAuBjrD,MAAQgrD,EAAkBC,aAAa,gBAC7FD,EAAkBC,aAAa,gBAAgBjrD,MAAQgrD,EAAkBC,aAAa,WAAaD,EAAkBC,aAAa,WAAWjrD,MAAQ,GACvJ4B,EAAOu7B,SAAW6tB,EAAkBC,aAAa,kBAC/CD,EAAkBC,aAAa,kBAAkBjrD,MAAQgrD,EAAkBC,aAAa,gBACxFD,EAAkBC,aAAa,gBAAgBjrD,MAAQgrD,EAAkBC,aAAa,WACtFD,EAAkBC,aAAa,WAAWjrD,MAAQgrD,EAAkBC,aAAa,oBACjFD,EAAkBC,aAAa,oBAAoBjrD,MAAQgrD,EAAkBC,aAAa,eAAiBD,EAAkBC,aAAa,eAAejrD,MAAQ,SACnK,IAAIo9B,EAAO4tB,EAAkBC,aAAa,kBACxCD,EAAkBC,aAAa,kBAAkBjrD,MAAQgrD,EAAkBC,aAAa,gBACxFD,EAAkBC,aAAa,gBAAgBjrD,MAAQgrD,EAAkBC,aAAa,WAAaD,EAAkBC,aAAa,WAAWjrD,MAAQ,GAE1I,UAATo9B,EACFx7B,EAAOw7B,MAAO,EACI,SAATA,EACTx7B,EAAOw7B,MAAO,EACI,KAATA,IACTx7B,EAAOw7B,KAAOzgC,SAASygC,EAAM,KAG/B,IAAIksB,EAAW0B,EAAkBC,aAAa,sBAC5CD,EAAkBC,aAAa,sBAAsBjrD,MAAQgrD,EAAkBC,aAAa,oBAC5FD,EAAkBC,aAAa,oBAAoBjrD,OAAQgrD,EAAkBC,aAAa,gBAAiBD,EAAkBC,aAAa,eAAejrD,MAC3J4B,EAAO0nD,SAAwB,UAAbA,EAClB1nD,EAAOrB,KAAOyqD,EAAkBC,aAAa,aAC3CD,EAAkBC,aAAa,aAAajrD,MAAQgrD,EAAkBC,aAAa,gBACnFD,EAAkBC,aAAa,gBAAgBjrD,MAAQgrD,EAAkBC,aAAa,WAAaD,EAAkBC,aAAa,WAAWjrD,MAAQ,GAKrI,WAJFgrD,EAAkBC,aAAa,uBAC7CD,EAAkBC,aAAa,uBAAuBjrD,MAAQgrD,EAAkBC,aAAa,qBAC7FD,EAAkBC,aAAa,qBAAqBjrD,MAAQgrD,EAAkBC,aAAa,gBAAkBD,EAAkBC,aAAa,gBAAgBjrD,MAAQ,MAGpK4B,EAAOspD,WAAY,GAGrB5tD,KAAK+sD,UAAUzoD,IAGjBinD,cAActpD,UAAU4rD,cAAgB,SAAUxjD,GAC5CA,EAAKi6C,GAAKtkD,KAAKgkD,cAAcM,KAC/BtkD,KAAKgkD,cAAcM,GAAKj6C,EAAKi6C,GAC7BtkD,KAAKi/C,YAAcj4C,KAAKC,MAAMoD,EAAKi6C,GAAKtkD,KAAKgkD,cAAcK,KAG7D,IACI16C,EAGAE,EAJAk4C,EAAS/hD,KAAKgkD,cAAcjC,OAE5BvgC,EAAMugC,EAAO19C,OACbypD,EAAYzjD,EAAK03C,OAEjBG,EAAO4L,EAAUzpD,OAErB,IAAKwF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EAGzB,IAFAF,EAAI,EAEGA,EAAI6X,GAAK,CACd,GAAIugC,EAAOp4C,GAAGuR,KAAO4yC,EAAUjkD,GAAGqR,GAAI,CACpC6mC,EAAOp4C,GAAKmkD,EAAUjkD,GACtB,MAGFF,GAAK,EAST,IALIU,EAAK85C,OAAS95C,EAAK0jD,SACrB/tD,KAAKisD,SAASiB,WAAWc,YAAYC,SAAS5jD,EAAK85C,OACnDnkD,KAAKisD,SAASiB,WAAWc,YAAYE,SAAS7jD,EAAK0jD,MAAO/tD,KAAKisD,SAASiB,WAAWC,OAGjF9iD,EAAK45C,OAGP,IAFAziC,EAAMnX,EAAK45C,OAAO5/C,OAEbsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKgkD,cAAcC,OAAO98C,KAAKkD,EAAK45C,OAAOt6C,IAI/C3J,KAAKgkD,cAAcoB,YAAa,EAChCpE,YAAYwF,kBAAkBxmD,KAAKgkD,cAAehkD,KAAK8sD,oBAGzDvB,cAActpD,UAAU6qD,kBAAoB,SAAUziD,GACpDrK,KAAKgkD,cAAgB35C,EACrB,IAAImyC,EAAoBgE,uBAEpBhE,GACFA,EAAkB2R,gBAAgBnuD,MAGpCA,KAAKouD,mBAGP7C,cAActpD,UAAUmsD,gBAAkB,WACxC,IAAI9B,EAAWtsD,KAAKgkD,cAAcsI,SAElC,IAAKA,GAAgC,IAApBA,EAASjoD,SAAiBrE,KAAKqtD,iBAG9C,OAFArtD,KAAKwa,QAAQ,mBACbxa,KAAKmsD,cAAgBnsD,KAAKi/C,aAI5B,IAAIoP,EAAU/B,EAASnrC,QACvBnhB,KAAKmsD,cAAgBkC,EAAQhE,KAAOrqD,KAAK0rD,UACzC,IAAI4C,EAActuD,KAAK+/B,KAAO//B,KAAKytD,SAAW,IAAMztD,KAAKosD,WAAa,QACtEpsD,KAAKosD,YAAc,EACnBpL,YAAYuF,SAAS+H,EAAatuD,KAAK6tD,cAAc9xC,KAAK/b,MAAO,WAC/DA,KAAKwa,QAAQ,gBACbuB,KAAK/b,QAGTurD,cAActpD,UAAUssD,aAAe,WACtBvuD,KAAKgkD,cAAcsI,WAGhCtsD,KAAKmsD,cAAgBnsD,KAAKi/C,aAG5Bj/C,KAAKouD,mBAGP7C,cAActpD,UAAUusD,aAAe,WACrCxuD,KAAKwa,QAAQ,iBACbxa,KAAKyuD,eAGPlD,cAActpD,UAAUysD,cAAgB,WACtC1uD,KAAK0sD,eAAe9D,cAAc5oD,KAAKynD,YACvCznD,KAAK0sD,eAAe7D,QAAQ7oD,KAAK+/B,MACjC//B,KAAK0sD,eAAehE,WAAW1oD,KAAKgkD,cAAcC,OAAQjkD,KAAKwuD,aAAazyC,KAAK/b,QAGnFurD,cAActpD,UAAU2qD,gBAAkB,SAAU+B,GAClD,GAAK3uD,KAAKisD,SAIV,IACEjsD,KAAKgkD,cAAgB2K,EAEjB3uD,KAAKstD,gBACPttD,KAAKi/C,YAAcj4C,KAAKC,MAAMjH,KAAKstD,eAAe,GAAKttD,KAAKstD,eAAe,IAC3EttD,KAAKg/C,WAAah4C,KAAKgyB,MAAMh5B,KAAKstD,eAAe,MAEjDttD,KAAKi/C,YAAcj4C,KAAKC,MAAMjH,KAAKgkD,cAAcM,GAAKtkD,KAAKgkD,cAAcK,IACzErkD,KAAKg/C,WAAah4C,KAAKgyB,MAAMh5B,KAAKgkD,cAAcK,KAGlDrkD,KAAKisD,SAASW,gBAAgB+B,GAEzBA,EAAS1K,SACZ0K,EAAS1K,OAAS,IAGpBjkD,KAAKikD,OAASjkD,KAAKgkD,cAAcC,OACjCjkD,KAAK0rD,UAAY1rD,KAAKgkD,cAAc4K,GACpC5uD,KAAK2rD,UAAY3rD,KAAKgkD,cAAc4K,GAAK,IACzC5uD,KAAKisD,SAAS4C,wBAAwBF,EAAS1K,QAC/CjkD,KAAKkqD,QAAUN,aAAa+E,EAASzE,SAAW,IAChDlqD,KAAKwa,QAAQ,gBACbxa,KAAK0uD,gBACL1uD,KAAKuuD,eACLvuD,KAAK8uD,oBACL9uD,KAAK+uD,qBAED/uD,KAAK+rD,UACP/rD,KAAK2sD,gBAAgB7R,QAEvB,MAAOloC,GACP5S,KAAKgvD,mBAAmBp8C,KAI5B24C,cAActpD,UAAU8sD,mBAAqB,WACtC/uD,KAAKisD,WAINjsD,KAAKisD,SAASiB,WAAWc,YAAYxC,SACvCxrD,KAAKyuD,cAELppD,WAAWrF,KAAK+uD,mBAAmBhzC,KAAK/b,MAAO,MAInDurD,cAActpD,UAAUwsD,YAAc,WACpC,IAAKzuD,KAAKwrD,UAAYxrD,KAAKisD,SAASiB,WAAWc,YAAYxC,WAAaxrD,KAAK0sD,eAAe5D,gBAAiD,WAA/B9oD,KAAKisD,SAASgD,eAA8BjvD,KAAK0sD,eAAe3D,iBAAkB,CAC9L/oD,KAAKwrD,UAAW,EAChB,IAAIhP,EAAoBgE,uBAEpBhE,GACFA,EAAkB2R,gBAAgBnuD,MAGpCA,KAAKisD,SAASiD,YACd7pD,WAAW,WACTrF,KAAKwa,QAAQ,cACbuB,KAAK/b,MAAO,GACdA,KAAKmvD,YAEDnvD,KAAKgsD,UACPhsD,KAAKs7C,SAKXiQ,cAActpD,UAAU0b,OAAS,WAC/B3d,KAAKisD,SAASmD,uBAGhB7D,cAActpD,UAAUotD,YAAc,SAAU1lB,GAC9C3pC,KAAKqsD,oBAAsB1iB,GAG7B4hB,cAActpD,UAAUktD,UAAY,WAClCnvD,KAAKirD,aAAejrD,KAAKqsD,kBAAoBrsD,KAAKyrD,kBAAoBzrD,KAAKyrD,gBAEvEzrD,KAAKmsD,gBAAkBnsD,KAAKi/C,aAAej/C,KAAKirD,aAAejrD,KAAKmsD,gBACtEnsD,KAAKirD,aAAejrD,KAAKmsD,eAG3BnsD,KAAKwa,QAAQ,cACbxa,KAAKsvD,cACLtvD,KAAKwa,QAAQ,eAGf+wC,cAActpD,UAAUqtD,YAAc,WACpC,IAAsB,IAAlBtvD,KAAKwrD,UAAuBxrD,KAAKisD,SAIrC,IACEjsD,KAAKisD,SAASqD,YAAYtvD,KAAKirD,aAAejrD,KAAKg/C,YACnD,MAAOpsC,GACP5S,KAAKuvD,wBAAwB38C,KAIjC24C,cAActpD,UAAUq5C,KAAO,SAAUr4C,GACnCA,GAAQjD,KAAKiD,OAASA,IAIJ,IAAlBjD,KAAK+rD,WACP/rD,KAAK+rD,UAAW,EAChB/rD,KAAK2sD,gBAAgB5R,SAEjB/6C,KAAKusD,QACPvsD,KAAKusD,OAAQ,EACbvsD,KAAKwa,QAAQ,cAKnB+wC,cAActpD,UAAU64C,MAAQ,SAAU73C,GACpCA,GAAQjD,KAAKiD,OAASA,IAIJ,IAAlBjD,KAAK+rD,WACP/rD,KAAK+rD,UAAW,EAChB/rD,KAAKusD,OAAQ,EACbvsD,KAAKwa,QAAQ,SACbxa,KAAK2sD,gBAAgB7R,UAIzByQ,cAActpD,UAAUutD,YAAc,SAAUvsD,GAC1CA,GAAQjD,KAAKiD,OAASA,KAIJ,IAAlBjD,KAAK+rD,SACP/rD,KAAKs7C,OAELt7C,KAAK86C,UAITyQ,cAActpD,UAAUwtD,KAAO,SAAUxsD,GACnCA,GAAQjD,KAAKiD,OAASA,IAI1BjD,KAAK86C,QACL96C,KAAK8rD,UAAY,EACjB9rD,KAAKwsD,gBAAiB,EACtBxsD,KAAK0vD,wBAAwB,KAG/BnE,cAActpD,UAAU0tD,cAAgB,SAAUC,GAGhD,IAFA,IAAIC,EAEKlmD,EAAI,EAAGA,EAAI3J,KAAKkqD,QAAQ7lD,OAAQsF,GAAK,EAG5C,IAFAkmD,EAAS7vD,KAAKkqD,QAAQvgD,IAEXmpB,SAAW+8B,EAAO/8B,QAAQ7vB,OAAS2sD,EAC5C,OAAOC,EAIX,OAAO,MAGTtE,cAActpD,UAAU6tD,YAAc,SAAUptD,EAAOqtD,EAAS9sD,GAC9D,IAAIA,GAAQjD,KAAKiD,OAASA,EAA1B,CAIA,IAAI+sD,EAAW76B,OAAOzyB,GAEtB,GAAI0yB,MAAM46B,GAAW,CACnB,IAAIH,EAAS7vD,KAAK2vD,cAAcjtD,GAE5BmtD,GACF7vD,KAAK8vD,YAAYD,EAAOxF,MAAM,QAEvB0F,EACT/vD,KAAK0vD,wBAAwBhtD,GAE7B1C,KAAK0vD,wBAAwBhtD,EAAQ1C,KAAKiwD,eAG5CjwD,KAAK86C,UAGPyQ,cAActpD,UAAUiuD,YAAc,SAAUxtD,EAAOqtD,EAAS9sD,GAC9D,IAAIA,GAAQjD,KAAKiD,OAASA,EAA1B,CAIA,IAAI+sD,EAAW76B,OAAOzyB,GAEtB,GAAI0yB,MAAM46B,GAAW,CACnB,IAAIH,EAAS7vD,KAAK2vD,cAAcjtD,GAE5BmtD,IACGA,EAAOxoD,SAGVrH,KAAKmwD,aAAa,CAACN,EAAOxF,KAAMwF,EAAOxF,KAAOwF,EAAOxoD,WAAW,GAFhErH,KAAK8vD,YAAYD,EAAOxF,MAAM,SAMlCrqD,KAAK8vD,YAAYE,EAAUD,EAAS9sD,GAGtCjD,KAAKs7C,SAGPiQ,cAActpD,UAAUmuD,YAAc,SAAU1tD,GAC9C,IAAsB,IAAlB1C,KAAK+rD,WAAuC,IAAlB/rD,KAAKwrD,SAAnC,CAIA,IAAI6E,EAAYrwD,KAAKyrD,gBAAkB/oD,EAAQ1C,KAAKiwD,cAChDK,GAAc,EAGdD,GAAarwD,KAAKi/C,YAAc,GAAKj/C,KAAKiwD,cAAgB,EACvDjwD,KAAK8/B,MAAQ9/B,KAAK8rD,YAAc9rD,KAAK8/B,KAK/BuwB,GAAarwD,KAAKi/C,aAC3Bj/C,KAAK8rD,WAAa,EAEb9rD,KAAKuwD,cAAcF,EAAYrwD,KAAKi/C,eACvCj/C,KAAK0vD,wBAAwBW,EAAYrwD,KAAKi/C,aAC9Cj/C,KAAKwsD,gBAAiB,EACtBxsD,KAAKwa,QAAQ,kBAGfxa,KAAK0vD,wBAAwBW,GAbxBrwD,KAAKuwD,cAAcF,EAAYrwD,KAAKi/C,YAAcoR,EAAYrwD,KAAKi/C,YAAc,KACpFqR,GAAc,EACdD,EAAYrwD,KAAKi/C,YAAc,GAa1BoR,EAAY,EAChBrwD,KAAKuwD,cAAcF,EAAYrwD,KAAKi/C,gBACnCj/C,KAAK8/B,MAAU9/B,KAAK8rD,aAAe,IAAmB,IAAd9rD,KAAK8/B,MAU/CwwB,GAAc,EACdD,EAAY,IATZrwD,KAAK0vD,wBAAwB1vD,KAAKi/C,YAAcoR,EAAYrwD,KAAKi/C,aAE5Dj/C,KAAKwsD,eAGRxsD,KAAKwa,QAAQ,gBAFbxa,KAAKwsD,gBAAiB,IAU5BxsD,KAAK0vD,wBAAwBW,GAG3BC,IACFtwD,KAAK0vD,wBAAwBW,GAC7BrwD,KAAK86C,QACL96C,KAAKwa,QAAQ,eAIjB+wC,cAActpD,UAAUuuD,cAAgB,SAAUn9C,EAAKmlB,GACrDx4B,KAAK8rD,UAAY,EAEbz4C,EAAI,GAAKA,EAAI,IACXrT,KAAKiwD,cAAgB,IACnBjwD,KAAK4rD,UAAY,EACnB5rD,KAAKywD,UAAUzwD,KAAK4rD,WAEpB5rD,KAAK0wD,cAAc,IAIvB1wD,KAAKi/C,YAAc5rC,EAAI,GAAKA,EAAI,GAChCrT,KAAKmsD,cAAgBnsD,KAAKi/C,YAC1Bj/C,KAAKg/C,WAAa3rC,EAAI,GACtBrT,KAAK0vD,wBAAwB1vD,KAAKi/C,YAAc,KAAQzmB,IAC/CnlB,EAAI,GAAKA,EAAI,KAClBrT,KAAKiwD,cAAgB,IACnBjwD,KAAK4rD,UAAY,EACnB5rD,KAAKywD,UAAUzwD,KAAK4rD,WAEpB5rD,KAAK0wD,aAAa,IAItB1wD,KAAKi/C,YAAc5rC,EAAI,GAAKA,EAAI,GAChCrT,KAAKmsD,cAAgBnsD,KAAKi/C,YAC1Bj/C,KAAKg/C,WAAa3rC,EAAI,GACtBrT,KAAK0vD,wBAAwB,KAAQl3B,IAGvCx4B,KAAKwa,QAAQ,iBAGf+wC,cAActpD,UAAU0uD,WAAa,SAAUt8B,EAAMwf,GACnD,IAAI+c,GAAgB,EAEhB5wD,KAAK+rD,WACH/rD,KAAKyrD,gBAAkBzrD,KAAKg/C,WAAa3qB,EAC3Cu8B,EAAev8B,EACNr0B,KAAKyrD,gBAAkBzrD,KAAKg/C,WAAanL,IAClD+c,EAAe/c,EAAMxf,IAIzBr0B,KAAKg/C,WAAa3qB,EAClBr0B,KAAKi/C,YAAcpL,EAAMxf,EACzBr0B,KAAKmsD,cAAgBnsD,KAAKi/C,aAEJ,IAAlB2R,GACF5wD,KAAK8vD,YAAYc,GAAc,IAInCrF,cAActpD,UAAUkuD,aAAe,SAAU98C,EAAKw9C,GAKpD,GAJIA,IACF7wD,KAAKssD,SAASjoD,OAAS,GAGC,WAAtBinD,UAAUj4C,EAAI,IAAkB,CAClC,IAAI1J,EACA6X,EAAMnO,EAAIhP,OAEd,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKssD,SAASnlD,KAAKkM,EAAI1J,SAGzB3J,KAAKssD,SAASnlD,KAAKkM,GAGjBrT,KAAKssD,SAASjoD,QAAUwsD,GAC1B7wD,KAAKwwD,cAAcxwD,KAAKssD,SAASnrC,QAAS,GAGxCnhB,KAAK+rD,UACP/rD,KAAKs7C,QAITiQ,cAActpD,UAAU6uD,cAAgB,SAAUD,GAChD7wD,KAAKssD,SAASjoD,OAAS,EACvBrE,KAAKssD,SAASnlD,KAAK,CAACnH,KAAKgkD,cAAcK,GAAIrkD,KAAKgkD,cAAcM,KAE1DuM,GACF7wD,KAAKuwD,cAAc,IAIvBhF,cAActpD,UAAUsuD,cAAgB,SAAU/3B,GAChD,QAAIx4B,KAAKssD,SAASjoD,SAChBrE,KAAKwwD,cAAcxwD,KAAKssD,SAASnrC,QAASqX,IACnC,IAMX+yB,cAActpD,UAAUma,QAAU,SAAUnZ,GACtCA,GAAQjD,KAAKiD,OAASA,IAASjD,KAAKisD,WAIxCjsD,KAAKisD,SAAS7vC,UACdpc,KAAK0sD,eAAetwC,UACpBpc,KAAKwa,QAAQ,WACbxa,KAAK2pD,KAAO,KACZ3pD,KAAK+wD,aAAe,KACpB/wD,KAAKgxD,eAAiB,KACtBhxD,KAAKimD,WAAa,KAClBjmD,KAAKixD,eAAiB,KACtBjxD,KAAKkxD,UAAY,KACjBlxD,KAAKisD,SAAW,KAChBjsD,KAAKisD,SAAW,KAChBjsD,KAAK0sD,eAAiB,KACtB1sD,KAAKysD,iBAAmB,OAG1BlB,cAActpD,UAAUytD,wBAA0B,SAAUhtD,GAC1D1C,KAAKyrD,gBAAkB/oD,EACvB1C,KAAKmvD,aAGP5D,cAActpD,UAAUwuD,SAAW,SAAUlgD,GAC3CvQ,KAAK4rD,UAAYr7C,EACjBvQ,KAAK8uD,qBAGPvD,cAActpD,UAAUyuD,aAAe,SAAUngD,GAC/CvQ,KAAK6rD,cAAgBt7C,EAAM,GAAK,EAAI,EACpCvQ,KAAK8uD,qBAGPvD,cAActpD,UAAUy5C,UAAY,SAAUnrC,EAAKtN,GAC7CA,GAAQjD,KAAKiD,OAASA,GAI1BjD,KAAK2sD,gBAAgBjR,UAAUnrC,IAGjCg7C,cAActpD,UAAU85C,UAAY,WAClC,OAAO/7C,KAAK2sD,gBAAgB5Q,aAG9BwP,cAActpD,UAAU45C,KAAO,SAAU54C,GACnCA,GAAQjD,KAAKiD,OAASA,GAI1BjD,KAAK2sD,gBAAgB9Q,QAGvB0P,cAActpD,UAAU65C,OAAS,SAAU74C,GACrCA,GAAQjD,KAAKiD,OAASA,GAI1BjD,KAAK2sD,gBAAgB7Q,UAGvByP,cAActpD,UAAU6sD,kBAAoB,WAC1C9uD,KAAKiwD,cAAgBjwD,KAAK2rD,UAAY3rD,KAAK4rD,UAAY5rD,KAAK6rD,cAC5D7rD,KAAK2sD,gBAAgB3R,QAAQh7C,KAAK4rD,UAAY5rD,KAAK6rD,gBAGrDN,cAActpD,UAAUkvD,QAAU,WAChC,OAAOnxD,KAAK+/B,MAGdwrB,cAActpD,UAAUslD,cAAgB,SAAUC,GAChD,IAAIznB,EAAO,GAEX,GAAIynB,EAAU13C,EACZiwB,EAAOynB,EAAU7H,OACZ,GAAI3/C,KAAKynD,WAAY,CAC1B,IAAIE,EAAYH,EAAU7H,GAEY,IAAlCgI,EAAUpkD,QAAQ,aACpBokD,EAAYA,EAAU3mC,MAAM,KAAK,IAGnC+e,EAAO//B,KAAKynD,WAAaE,OAEzB5nB,EAAO//B,KAAK+/B,KACZA,GAAQynB,EAAUI,EAAIJ,EAAUI,EAAI,GACpC7nB,GAAQynB,EAAU7H,EAGpB,OAAO5f,GAGTwrB,cAActpD,UAAUmvD,aAAe,SAAUl2C,GAI/C,IAHA,IAAIvR,EAAI,EACJ6X,EAAMxhB,KAAKikD,OAAO5/C,OAEfsF,EAAI6X,GAAK,CACd,GAAItG,IAAOlb,KAAKikD,OAAOt6C,GAAGuR,GACxB,OAAOlb,KAAKikD,OAAOt6C,GAGrBA,GAAK,EAGP,OAAO,MAGT4hD,cAActpD,UAAUob,KAAO,WAC7Brd,KAAKisD,SAAS5uC,QAGhBkuC,cAActpD,UAAUsc,KAAO,WAC7Bve,KAAKisD,SAAS1tC,QAGhBgtC,cAActpD,UAAUovD,YAAc,SAAUtB,GAC9C,OAAOA,EAAU/vD,KAAKi/C,YAAcj/C,KAAKi/C,YAAcj/C,KAAK0rD,WAG9DH,cAActpD,UAAUuY,QAAU,SAAUvX,GAC1C,GAAIjD,KAAK2pD,MAAQ3pD,KAAK2pD,KAAK1mD,GACzB,OAAQA,GACN,IAAK,aACL,IAAK,aACHjD,KAAKypD,aAAaxmD,EAAM,IAAIq7C,kBAAkBr7C,EAAMjD,KAAKirD,aAAcjrD,KAAKi/C,YAAaj/C,KAAKiwD,gBAC9F,MAEF,IAAK,eACHjwD,KAAKypD,aAAaxmD,EAAM,IAAI27C,oBAAoB37C,EAAMjD,KAAK8/B,KAAM9/B,KAAK8rD,UAAW9rD,KAAK2rD,YACtF,MAEF,IAAK,WACH3rD,KAAKypD,aAAaxmD,EAAM,IAAI07C,gBAAgB17C,EAAMjD,KAAK2rD,YACvD,MAEF,IAAK,eACH3rD,KAAKypD,aAAaxmD,EAAM,IAAI87C,oBAAoB97C,EAAMjD,KAAKg/C,WAAYh/C,KAAKi/C,cAC5E,MAEF,IAAK,UACHj/C,KAAKypD,aAAaxmD,EAAM,IAAIi8C,eAAej8C,EAAMjD,OACjD,MAEF,QACEA,KAAKypD,aAAaxmD,GAIX,eAATA,GAAyBjD,KAAK+wD,cAChC/wD,KAAK+wD,aAAaluD,KAAK7C,KAAM,IAAIs+C,kBAAkBr7C,EAAMjD,KAAKirD,aAAcjrD,KAAKi/C,YAAaj/C,KAAK2rD,YAGxF,iBAAT1oD,GAA2BjD,KAAKgxD,gBAClChxD,KAAKgxD,eAAenuD,KAAK7C,KAAM,IAAI4+C,oBAAoB37C,EAAMjD,KAAK8/B,KAAM9/B,KAAK8rD,UAAW9rD,KAAK2rD,YAGlF,aAAT1oD,GAAuBjD,KAAKimD,YAC9BjmD,KAAKimD,WAAWpjD,KAAK7C,KAAM,IAAI2+C,gBAAgB17C,EAAMjD,KAAK2rD,YAG/C,iBAAT1oD,GAA2BjD,KAAKixD,gBAClCjxD,KAAKixD,eAAepuD,KAAK7C,KAAM,IAAI++C,oBAAoB97C,EAAMjD,KAAKg/C,WAAYh/C,KAAKi/C,cAGxE,YAATh8C,GAAsBjD,KAAKkxD,WAC7BlxD,KAAKkxD,UAAUruD,KAAK7C,KAAM,IAAIk/C,eAAej8C,EAAMjD,QAIvDurD,cAActpD,UAAUstD,wBAA0B,SAAUnQ,GAC1D,IAAIxsC,EAAQ,IAAIusC,wBAAwBC,EAAap/C,KAAKirD,cAC1DjrD,KAAKypD,aAAa,QAAS72C,GAEvB5S,KAAKkmD,SACPlmD,KAAKkmD,QAAQrjD,KAAK7C,KAAM4S,IAI5B24C,cAActpD,UAAU+sD,mBAAqB,SAAU5P,GACrD,IAAIxsC,EAAQ,IAAIysC,mBAAmBD,EAAap/C,KAAKirD,cACrDjrD,KAAKypD,aAAa,QAAS72C,GAEvB5S,KAAKkmD,SACPlmD,KAAKkmD,QAAQrjD,KAAK7C,KAAM4S,IAI5B,IAAI0+C,iBAAmB,WACrB,IAAInM,EAAW,GACXoM,EAAuB,GACvBC,EAAW,EACXhwC,EAAM,EACNiwC,EAAuB,EACvBC,GAAW,EACXC,GAAY,EAEhB,SAASC,EAAcC,GAIrB,IAHA,IAAIloD,EAAI,EACJmoD,EAAWD,EAAGvnC,OAEX3gB,EAAI6X,GACL+vC,EAAqB5nD,GAAG+1B,YAAcoyB,IACxCP,EAAqBx7B,OAAOpsB,EAAG,GAC/BA,GAAK,EACL6X,GAAO,EAEFswC,EAAS/F,UACZgG,KAIJpoD,GAAK,EAIT,SAASqoD,EAAkB54C,EAAS4qC,GAClC,IAAK5qC,EACH,OAAO,KAKT,IAFA,IAAIzP,EAAI,EAEDA,EAAI6X,GAAK,CACd,GAAI+vC,EAAqB5nD,GAAG4rB,OAASnc,GAA4C,OAAjCm4C,EAAqB5nD,GAAG4rB,KACtE,OAAOg8B,EAAqB5nD,GAAG+1B,UAGjC/1B,GAAK,EAGP,IAAImoD,EAAW,IAAIvG,cAGnB,OAFAgC,EAAeuE,EAAU14C,GACzB04C,EAAShzB,QAAQ1lB,EAAS4qC,GACnB8N,EAeT,SAASG,IACPR,GAAwB,EACxBS,IAGF,SAASH,IACPN,GAAwB,EAG1B,SAASlE,EAAeuE,EAAU14C,GAChC04C,EAAS77B,iBAAiB,UAAW27B,GACrCE,EAAS77B,iBAAiB,UAAWg8B,GACrCH,EAAS77B,iBAAiB,QAAS87B,GACnCR,EAAqBpqD,KAAK,CACxBouB,KAAMnc,EACNsmB,UAAWoyB,IAEbtwC,GAAO,EAkCT,SAASu5B,EAAOoX,GACd,IACIxoD,EADAyoD,EAAcD,EAAUX,EAG5B,IAAK7nD,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB4nD,EAAqB5nD,GAAG+1B,UAAU0wB,YAAYgC,GAGhDZ,EAAWW,EAEPV,IAAyBE,EAC3BrgD,OAAO+gD,sBAAsBtX,GAE7B2W,GAAW,EAIf,SAAS9yC,EAAMuzC,GACbX,EAAWW,EACX7gD,OAAO+gD,sBAAsBtX,GAgF/B,SAASmX,KACFP,GAAaF,GACZC,IACFpgD,OAAO+gD,sBAAsBzzC,GAC7B8yC,GAAW,GAyDjB,OAnBAvM,EAAS6M,kBAAoBA,EAC7B7M,EAASvlB,cA7KT,SAAuBt7B,GACrB,IAAIwtD,EAAW,IAAIvG,cAGnB,OAFAgC,EAAeuE,EAAU,MACzBA,EAAS/E,UAAUzoD,GACZwtD,GA0KT3M,EAASsL,SAvKT,SAAkBlgD,EAAKmvB,GACrB,IAAI/1B,EAEJ,IAAKA,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB4nD,EAAqB5nD,GAAG+1B,UAAU+wB,SAASlgD,EAAKmvB,IAoKpDylB,EAASuL,aAhKT,SAAsBngD,EAAKmvB,GACzB,IAAI/1B,EAEJ,IAAKA,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB4nD,EAAqB5nD,GAAG+1B,UAAUgxB,aAAangD,EAAKmvB,IA6JxDylB,EAAS7J,KAzJT,SAAc5b,GACZ,IAAI/1B,EAEJ,IAAKA,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB4nD,EAAqB5nD,GAAG+1B,UAAU4b,KAAK5b,IAsJ3CylB,EAASrK,MA5HT,SAAepb,GACb,IAAI/1B,EAEJ,IAAKA,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB4nD,EAAqB5nD,GAAG+1B,UAAUob,MAAMpb,IAyH5CylB,EAASsK,KA7GT,SAAc/vB,GACZ,IAAI/1B,EAEJ,IAAKA,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB4nD,EAAqB5nD,GAAG+1B,UAAU+vB,KAAK/vB,IA0G3CylB,EAASqK,YAtGT,SAAqB9vB,GACnB,IAAI/1B,EAEJ,IAAKA,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB4nD,EAAqB5nD,GAAG+1B,UAAU8vB,YAAY9vB,IAmGlDylB,EAASmN,iBAvFT,SAA0BtO,EAAeuO,EAAYtG,GACnD,IACItiD,EADA6oD,EAAe,GAAGxxD,OAAO,GAAGiS,MAAMpQ,KAAKmO,SAAS6jB,uBAAuB,WAAY,GAAG5hB,MAAMpQ,KAAKmO,SAAS6jB,uBAAuB,eAEjI49B,EAAWD,EAAanuD,OAE5B,IAAKsF,EAAI,EAAGA,EAAI8oD,EAAU9oD,GAAK,EACzBsiD,GACFuG,EAAa7oD,GAAGopB,aAAa,eAAgBk5B,GAG/C+F,EAAkBQ,EAAa7oD,GAAIq6C,GAGrC,GAAIuO,GAA2B,IAAbE,EAAgB,CAC3BxG,IACHA,EAAW,OAGb,IAAIvoD,EAAOsN,SAASC,qBAAqB,QAAQ,GACjDvN,EAAKgvD,UAAY,GACjB,IAAIllC,EAAMwsB,UAAU,OACpBxsB,EAAIvF,MAAMpC,MAAQ,OAClB2H,EAAIvF,MAAMvI,OAAS,OACnB8N,EAAIuF,aAAa,eAAgBk5B,GACjCvoD,EAAKuO,YAAYub,GACjBwkC,EAAkBxkC,EAAKw2B,KA+D3BmB,EAASxnC,OA3DT,WACE,IAAIhU,EAEJ,IAAKA,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB4nD,EAAqB5nD,GAAG+1B,UAAU/hB,UAyDtCwnC,EAAS2K,YA1HT,SAAqBptD,EAAOqtD,EAASrwB,GACnC,IAAI/1B,EAEJ,IAAKA,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB4nD,EAAqB5nD,GAAG+1B,UAAUowB,YAAYptD,EAAOqtD,EAASrwB,IAuHlEylB,EAAS/oC,QAnGT,SAAiBsjB,GACf,IAAI/1B,EAEJ,IAAKA,EAAI6X,EAAM,EAAG7X,GAAK,EAAGA,GAAK,EAC7B4nD,EAAqB5nD,GAAG+1B,UAAUtjB,QAAQsjB,IAgG9CylB,EAASwN,OA9CT,WACEhB,GAAY,GA8CdxM,EAASyN,SA3CT,WACEjB,GAAY,EACZO,KA0CF/M,EAASzJ,UAvCT,SAAmBnrC,EAAKmvB,GACtB,IAAI/1B,EAEJ,IAAKA,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB4nD,EAAqB5nD,GAAG+1B,UAAUgc,UAAUnrC,EAAKmvB,IAoCrDylB,EAAStJ,KAhCT,SAAcnc,GACZ,IAAI/1B,EAEJ,IAAKA,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB4nD,EAAqB5nD,GAAG+1B,UAAUmc,KAAKnc,IA6B3CylB,EAASrJ,OAzBT,SAAgBpc,GACd,IAAI/1B,EAEJ,IAAKA,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB4nD,EAAqB5nD,GAAG+1B,UAAUoc,OAAOpc,IAsB7CylB,EAAS0N,wBA9NT,WACE,IAAIlpD,EACA8oD,EAAWlB,EAAqBltD,OAChCyuD,EAAa,GAEjB,IAAKnpD,EAAI,EAAGA,EAAI8oD,EAAU9oD,GAAK,EAC7BmpD,EAAW3rD,KAAKoqD,EAAqB5nD,GAAG+1B,WAG1C,OAAOozB,GAsNF3N,EAhRc,GAoRnB4N,cAAgB,WAWlB,IAAI1K,EAAK,CACTA,gBAGA,SAAyBzjC,EAAGC,EAAG6b,EAAG8W,EAAGsT,GACnC,IAAIlzC,EAAMkzC,IAAO,OAASlmC,EAAI,IAAMC,EAAI,IAAM6b,EAAI,IAAM8W,GAAG9kC,QAAQ,MAAO,KAE1E,GAAIsgD,EAAQp7C,GACV,OAAOo7C,EAAQp7C,GAGjB,IAAIq7C,EAAY,IAAIC,EAAa,CAACtuC,EAAGC,EAAG6b,EAAG8W,IAE3C,OADAwb,EAAQp7C,GAAOq7C,EACRA,IAXLD,EAAU,GAoBVG,EAAkB,GAClBC,EAAgD,mBAAjBjX,aAEnC,SAASkX,EAAEC,EAAKC,GACd,OAAO,EAAM,EAAMA,EAAM,EAAMD,EAGjC,SAASE,EAAEF,EAAKC,GACd,OAAO,EAAMA,EAAM,EAAMD,EAG3B,SAASG,EAAEH,GACT,OAAO,EAAMA,EAIf,SAASI,EAAWC,EAAIL,EAAKC,GAC3B,QAASF,EAAEC,EAAKC,GAAOI,EAAKH,EAAEF,EAAKC,IAAQI,EAAKF,EAAEH,IAAQK,EAI5D,SAASC,EAASD,EAAIL,EAAKC,GACzB,OAAO,EAAMF,EAAEC,EAAKC,GAAOI,EAAKA,EAAK,EAAMH,EAAEF,EAAKC,GAAOI,EAAKF,EAAEH,GAqClE,SAASJ,EAAaW,GACpB7zD,KAAK8zD,GAAKD,EACV7zD,KAAK+zD,eAAiBX,EAAwB,IAAIjX,aA9D7B,IA8D8D,IAAIn6C,MA9DlE,IA+DrBhC,KAAKg0D,cAAe,EACpBh0D,KAAKsK,IAAMtK,KAAKsK,IAAIyR,KAAK/b,MAsE3B,OAnEAkzD,EAAajxD,UAAY,CACvBqI,IAAK,SAAa2/B,GAChB,IAAIgqB,EAAMj0D,KAAK8zD,GAAG,GACdI,EAAMl0D,KAAK8zD,GAAG,GACdK,EAAMn0D,KAAK8zD,GAAG,GACdM,EAAMp0D,KAAK8zD,GAAG,GAElB,OADK9zD,KAAKg0D,cAAch0D,KAAKq0D,cACzBJ,IAAQC,GAAOC,IAAQC,EAAYnqB,EAG7B,IAANA,EAAgB,EACV,IAANA,EAAgB,EACbypB,EAAW1zD,KAAKs0D,UAAUrqB,GAAIiqB,EAAKE,IAG5CC,YAAa,WACX,IAAIJ,EAAMj0D,KAAK8zD,GAAG,GACdI,EAAMl0D,KAAK8zD,GAAG,GACdK,EAAMn0D,KAAK8zD,GAAG,GACdM,EAAMp0D,KAAK8zD,GAAG,GAClB9zD,KAAKg0D,cAAe,EAEhBC,IAAQC,GAAOC,IAAQC,GACzBp0D,KAAKu0D,qBAGTA,kBAAmB,WAIjB,IAHA,IAAIN,EAAMj0D,KAAK8zD,GAAG,GACdK,EAAMn0D,KAAK8zD,GAAG,GAETnqD,EAAI,EAAGA,EAjGG,KAiGqBA,EACtC3J,KAAK+zD,eAAepqD,GAAK+pD,EAAW/pD,EAAIwpD,EAAiBc,EAAKE,IAOlEG,UAAW,SAAmBE,GAQ5B,IAPA,IAAIP,EAAMj0D,KAAK8zD,GAAG,GACdK,EAAMn0D,KAAK8zD,GAAG,GACdW,EAAgBz0D,KAAK+zD,eACrBW,EAAgB,EAChBC,EAAgB,EACHC,KAEVD,GAAgCF,EAAcE,IAAkBH,IAAMG,EAC3ED,GAAiBvB,EAKnB,IACI0B,EAAYH,GADJF,EAAKC,IAFfE,KAEgDF,EAAcE,EAAgB,GAAKF,EAAcE,IAC5DxB,EACnC2B,EAAelB,EAASiB,EAAWZ,EAAKE,GAE5C,OAAIW,GA9He,KAgDvB,SAA8BN,EAAIO,EAASd,EAAKE,GAC9C,IAAK,IAAIxqD,EAAI,EAAGA,EAlDM,IAkDmBA,EAAG,CAC1C,IAAIqrD,EAAepB,EAASmB,EAASd,EAAKE,GAC1C,GAAqB,IAAjBa,EAAsB,OAAOD,EAEjCA,IADerB,EAAWqB,EAASd,EAAKE,GAAOK,GACzBQ,EAGxB,OAAOD,EAuEIE,CAAqBT,EAAIK,EAAWZ,EAAKE,GAG7B,IAAjBW,EACKD,EAtGb,SAAyBL,EAAIU,EAAIC,EAAIlB,EAAKE,GACxC,IAAIiB,EACAC,EACA1rD,EAAI,EAER,IAEEyrD,EAAW1B,EADX2B,EAAWH,GAAMC,EAAKD,GAAM,EACIjB,EAAKE,GAAOK,GAE7B,EACbW,EAAKE,EAELH,EAAKG,QAEAruD,KAAKk7B,IAAIkzB,GA1CQ,QA0C+BzrD,EAzC1B,IA2C/B,OAAO0rD,EAyFEC,CAAgBd,EAAIE,EAAeA,EAAgBvB,EAAiBc,EAAKE,KAG7E9L,EAtKW,GAyKhBkN,QAKK,CACL,OALF,SAAiBliD,GACf,OAAOA,EAAIrS,OAAOq7C,iBAAiBhpC,EAAIhP,WAQvCmxD,YACK,SAAUC,EAAeC,EAASC,GACvC,IAAIC,EAAU,EACVC,EAAaJ,EACbK,EAAOzZ,iBAAiBwZ,GAiC5B,MAhCS,CACPE,WAIF,WAUE,OAPIH,EAEQE,EADVF,GAAW,GAGDF,KAVZM,QAgBF,SAAiB58C,GACXw8C,IAAYC,IACdC,EAAOP,QAAgB,OAAEO,GACzBD,GAAc,GAGZF,GACFA,EAASv8C,GAGX08C,EAAKF,GAAWx8C,EAChBw8C,GAAW,KAObK,iBASKT,YAAY,GARnB,WACE,MAAO,CACLU,YAAa,EACbC,SAAUla,iBAAiB,UAAWyE,2BACtC0V,QAASna,iBAAiB,UAAWyE,+BAOvC2V,mBAmBKb,YAAY,GAlBnB,WACE,MAAO,CACLY,QAAS,GACTE,YAAa,MAIjB,SAAiBl9C,GACf,IAAIzP,EACA6X,EAAMpI,EAAQg9C,QAAQ/xD,OAE1B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBssD,iBAAiBD,QAAQ58C,EAAQg9C,QAAQzsD,IAG3CyP,EAAQg9C,QAAQ/xD,OAAS,KAM7B,SAASkyD,cACP,IAAIC,EAAOxvD,KAEX,SAASyvD,EAAcC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GACzC,IAAIC,EAAON,EAAKG,EAAKF,EAAKG,EAAKF,EAAKG,EAAKD,EAAKD,EAAKE,EAAKL,EAAKE,EAAKD,EAClE,OAAOK,GAAQ,MAASA,EAAO,KA4BjC,IAAIC,EACK,SAAUC,EAAKC,EAAKC,EAAKC,GAC9B,IACIpmB,EACAtnC,EACA6X,EACA81C,EACAC,EAEAC,EAPAC,EAAgB/W,0BAMhBwV,EAAc,EAEdwB,EAAQ,GACRC,EAAY,GACZC,EAAa3B,iBAAiBF,aAGlC,IAFAv0C,EAAM41C,EAAI/yD,OAEL4sC,EAAI,EAAGA,EAAIwmB,EAAexmB,GAAK,EAAG,CAIrC,IAHAsmB,EAAOtmB,GAAKwmB,EAAgB,GAC5BD,EAAa,EAER7tD,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB2tD,EAAU1a,MAAM,EAAI2a,EAAM,GAAKL,EAAIvtD,GAAK,EAAIizC,MAAM,EAAI2a,EAAM,GAAKA,EAAOH,EAAIztD,GAAK,GAAK,EAAI4tD,GAAQ3a,MAAM2a,EAAM,GAAKF,EAAI1tD,GAAKizC,MAAM2a,EAAM,GAAKJ,EAAIxtD,GACjJ+tD,EAAM/tD,GAAK2tD,EAEU,OAAjBK,EAAUhuD,KACZ6tD,GAAc5a,MAAM8a,EAAM/tD,GAAKguD,EAAUhuD,GAAI,IAG/CguD,EAAUhuD,GAAK+tD,EAAM/tD,GAGnB6tD,IAEFtB,GADAsB,EAAa1a,OAAO0a,IAItBI,EAAWzB,SAASllB,GAAKsmB,EACzBK,EAAWxB,QAAQnlB,GAAKilB,EAI1B,OADA0B,EAAW1B,YAAcA,EAClB0B,GA6BX,SAASC,EAAWxzD,GAClBrE,KAAK83D,cAAgB,EACrB93D,KAAK6zD,OAAS,IAAI7xD,MAAMqC,GAG1B,SAAS0zD,EAAUvhB,EAASkhB,GAC1B13D,KAAKg4D,cAAgBxhB,EACrBx2C,KAAK03D,MAAQA,EAGf,IACMO,EADFC,GACED,EAAa,GACV,SAAUf,EAAKC,EAAKC,EAAKC,GAC9B,IAAIc,GAAcjB,EAAI,GAAK,IAAMA,EAAI,GAAK,IAAMC,EAAI,GAAK,IAAMA,EAAI,GAAK,IAAMC,EAAI,GAAK,IAAMA,EAAI,GAAK,IAAMC,EAAI,GAAK,IAAMA,EAAI,IAAI3kD,QAAQ,MAAO,KAElJ,IAAKulD,EAAWE,GAAa,CAC3B,IACIlnB,EACAtnC,EACA6X,EACA81C,EACAC,EAEAC,EACAE,EARAD,EAAgB/W,0BAMhBwV,EAAc,EAGdyB,EAAY,KAEG,IAAfT,EAAI7yD,SAAiB6yD,EAAI,KAAOC,EAAI,IAAMD,EAAI,KAAOC,EAAI,KAAOV,EAAcS,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAID,EAAI,GAAKE,EAAI,GAAIF,EAAI,GAAKE,EAAI,KAAOX,EAAcS,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAKE,EAAI,GAAIF,EAAI,GAAKE,EAAI,MACjOI,EAAgB,GAGlB,IAAIW,EAAa,IAAIP,EAAWJ,GAGhC,IAFAj2C,EAAM41C,EAAI/yD,OAEL4sC,EAAI,EAAGA,EAAIwmB,EAAexmB,GAAK,EAAG,CAKrC,IAJAymB,EAAQrb,iBAAiB76B,GACzB+1C,EAAOtmB,GAAKwmB,EAAgB,GAC5BD,EAAa,EAER7tD,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB2tD,EAAU1a,MAAM,EAAI2a,EAAM,GAAKL,EAAIvtD,GAAK,EAAIizC,MAAM,EAAI2a,EAAM,GAAKA,GAAQL,EAAIvtD,GAAKytD,EAAIztD,IAAM,GAAK,EAAI4tD,GAAQ3a,MAAM2a,EAAM,IAAMJ,EAAIxtD,GAAK0tD,EAAI1tD,IAAMizC,MAAM2a,EAAM,GAAKJ,EAAIxtD,GACvK+tD,EAAM/tD,GAAK2tD,EAEO,OAAdK,IACFH,GAAc5a,MAAM8a,EAAM/tD,GAAKguD,EAAUhuD,GAAI,IAKjDusD,GADAsB,EAAa1a,OAAO0a,GAEpBY,EAAWvE,OAAO5iB,GAAK,IAAI8mB,EAAUP,EAAYE,GACjDC,EAAYD,EAGdU,EAAWN,cAAgB5B,EAC3B+B,EAAWE,GAAcC,EAG3B,OAAOH,EAAWE,KAItB,SAASE,EAAgBd,EAAMa,GAC7B,IAAIjC,EAAWiC,EAAWjC,SACtBC,EAAUgC,EAAWhC,QACrB50C,EAAM20C,EAAS9xD,OACfi0D,EAAUtb,SAASx7B,EAAM,GAAK+1C,GAC9BgB,EAAYhB,EAAOa,EAAWlC,YAC9BsC,EAAQ,EAEZ,GAAIF,IAAY92C,EAAM,GAAiB,IAAZ82C,GAAiBC,IAAcnC,EAAQkC,GAChE,OAAOnC,EAASmC,GAMlB,IAHA,IAAIx4C,EAAMs2C,EAAQkC,GAAWC,GAAa,EAAI,EAC1C5uB,GAAO,EAEJA,GAQL,GAPIysB,EAAQkC,IAAYC,GAAanC,EAAQkC,EAAU,GAAKC,GAC1DC,GAASD,EAAYnC,EAAQkC,KAAalC,EAAQkC,EAAU,GAAKlC,EAAQkC,IACzE3uB,GAAO,GAEP2uB,GAAWx4C,EAGTw4C,EAAU,GAAKA,GAAW92C,EAAM,EAAG,CAErC,GAAI82C,IAAY92C,EAAM,EACpB,OAAO20C,EAASmC,GAGlB3uB,GAAO,EAIX,OAAOwsB,EAASmC,IAAYnC,EAASmC,EAAU,GAAKnC,EAASmC,IAAYE,EAW3E,IAAIC,EAAsBxc,iBAAiB,UAAW,GAyDtD,MAAO,CACLyc,kBA7LF,SAA2BC,GACzB,IAKIhvD,EALAivD,EAAiBvC,mBAAmBN,aACpC9Q,EAAS0T,EAAUj4B,EACnBm4B,EAAQF,EAAUp3B,EAClBu3B,EAAQH,EAAUhhD,EAClBohD,EAAQJ,EAAUhvD,EAElB6X,EAAMm3C,EAAU/C,QAChBQ,EAAUwC,EAAexC,QACzBE,EAAc,EAElB,IAAK3sD,EAAI,EAAGA,EAAI6X,EAAM,EAAG7X,GAAK,EAC5BysD,EAAQzsD,GAAKstD,EAAgB4B,EAAMlvD,GAAIkvD,EAAMlvD,EAAI,GAAImvD,EAAMnvD,GAAIovD,EAAMpvD,EAAI,IACzE2sD,GAAeF,EAAQzsD,GAAGusD,YAS5B,OANIjR,GAAUzjC,IACZ40C,EAAQzsD,GAAKstD,EAAgB4B,EAAMlvD,GAAIkvD,EAAM,GAAIC,EAAMnvD,GAAIovD,EAAM,IACjEzC,GAAeF,EAAQzsD,GAAGusD,aAG5B0C,EAAetC,YAAcA,EACtBsC,GAwKPI,cAzDF,SAAuB9B,EAAKC,EAAKC,EAAKC,EAAK4B,EAAWC,EAASd,GACzDa,EAAY,EACdA,EAAY,EACHA,EAAY,IACrBA,EAAY,GAGd,IAGItvD,EAHAwvD,EAAKd,EAAgBY,EAAWb,GAEhCgB,EAAKf,EADTa,EAAUA,EAAU,EAAI,EAAIA,EACMd,GAE9B52C,EAAM01C,EAAI7yD,OACVg1D,EAAK,EAAIF,EACTG,EAAK,EAAIF,EACTG,EAASF,EAAKA,EAAKA,EACnBG,EAAWL,EAAKE,EAAKA,EAAK,EAE1BI,EAAWN,EAAKA,EAAKE,EAAK,EAE1BK,EAASP,EAAKA,EAAKA,EAEnBQ,EAASN,EAAKA,EAAKC,EACnBM,EAAWT,EAAKE,EAAKC,EAAKD,EAAKF,EAAKG,EAAKD,EAAKA,EAAKD,EAEnDS,EAAWV,EAAKA,EAAKG,EAAKD,EAAKF,EAAKC,EAAKD,EAAKE,EAAKD,EAEnDU,EAASX,EAAKA,EAAKC,EAEnBW,EAASV,EAAKC,EAAKA,EACnBU,EAAWb,EAAKG,EAAKA,EAAKD,EAAKD,EAAKE,EAAKD,EAAKC,EAAKF,EAEnDa,EAAWd,EAAKC,EAAKE,EAAKD,EAAKD,EAAKA,EAAKD,EAAKG,EAAKF,EAEnDc,EAASf,EAAKC,EAAKA,EAEnBe,EAASb,EAAKA,EAAKA,EACnBc,EAAWhB,EAAKE,EAAKA,EAAKA,EAAKF,EAAKE,EAAKA,EAAKA,EAAKF,EAEnDiB,EAAWjB,EAAKA,EAAKE,EAAKA,EAAKF,EAAKA,EAAKA,EAAKE,EAAKF,EAEnDkB,EAASlB,EAAKA,EAAKA,EAEvB,IAAKzvD,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB8uD,EAAwB,EAAJ9uD,GAAS6sD,EAAKx9B,MAAoF,KAA7EugC,EAASrC,EAAIvtD,GAAK6vD,EAAWpC,EAAIztD,GAAK8vD,EAAWpC,EAAI1tD,GAAK+vD,EAASvC,EAAIxtD,KAAc,IAE9H8uD,EAAwB,EAAJ9uD,EAAQ,GAAK6sD,EAAKx9B,MAAoF,KAA7E2gC,EAASzC,EAAIvtD,GAAKiwD,EAAWxC,EAAIztD,GAAKkwD,EAAWxC,EAAI1tD,GAAKmwD,EAAS3C,EAAIxtD,KAAc,IAElI8uD,EAAwB,EAAJ9uD,EAAQ,GAAK6sD,EAAKx9B,MAAoF,KAA7E+gC,EAAS7C,EAAIvtD,GAAKqwD,EAAW5C,EAAIztD,GAAKswD,EAAW5C,EAAI1tD,GAAKuwD,EAAS/C,EAAIxtD,KAAc,IAElI8uD,EAAwB,EAAJ9uD,EAAQ,GAAK6sD,EAAKx9B,MAAoF,KAA7EmhC,EAASjD,EAAIvtD,GAAKywD,EAAWhD,EAAIztD,GAAK0wD,EAAWhD,EAAI1tD,GAAK2wD,EAASnD,EAAIxtD,KAAc,IAGpI,OAAO8uD,GAMP8B,kBApEF,SAA2BrD,EAAKC,EAAKC,EAAKC,EAAKmD,EAASpC,GACtD,IAAIgB,EAAKf,EAAgBmC,EAASpC,GAC9BkB,EAAK,EAAIF,EAGb,MAAO,CAFG5C,EAAKx9B,MAAwK,KAAjKsgC,EAAKA,EAAKA,EAAKpC,EAAI,IAAMkC,EAAKE,EAAKA,EAAKA,EAAKF,EAAKE,EAAKA,EAAKA,EAAKF,GAAMhC,EAAI,IAAMgC,EAAKA,EAAKE,EAAKA,EAAKF,EAAKA,EAAKA,EAAKE,EAAKF,GAAM/B,EAAI,GAAK+B,EAAKA,EAAKA,EAAKjC,EAAI,KAAc,IACrLX,EAAKx9B,MAAwK,KAAjKsgC,EAAKA,EAAKA,EAAKpC,EAAI,IAAMkC,EAAKE,EAAKA,EAAKA,EAAKF,EAAKE,EAAKA,EAAKA,EAAKF,GAAMhC,EAAI,IAAMgC,EAAKA,EAAKE,EAAKA,EAAKF,EAAKA,EAAKA,EAAKE,EAAKF,GAAM/B,EAAI,GAAK+B,EAAKA,EAAKA,EAAKjC,EAAI,KAAc,MAiE/Le,gBAAiBA,EACjBzB,cAAeA,EACfgE,cAvQF,SAAuB/D,EAAIC,EAAI+D,EAAI9D,EAAIC,EAAI8D,EAAI7D,EAAIC,EAAI6D,GACrD,GAAW,IAAPF,GAAmB,IAAPC,GAAmB,IAAPC,EAC1B,OAAOnE,EAAcC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAG3C,IAGI8D,EAHAC,EAAQtE,EAAKzZ,KAAKyZ,EAAK3Z,IAAI+Z,EAAKF,EAAI,GAAKF,EAAK3Z,IAAIga,EAAKF,EAAI,GAAKH,EAAK3Z,IAAI8d,EAAKD,EAAI,IAClFK,EAAQvE,EAAKzZ,KAAKyZ,EAAK3Z,IAAIia,EAAKJ,EAAI,GAAKF,EAAK3Z,IAAIka,EAAKJ,EAAI,GAAKH,EAAK3Z,IAAI+d,EAAKF,EAAI,IAClFM,EAAQxE,EAAKzZ,KAAKyZ,EAAK3Z,IAAIia,EAAKF,EAAI,GAAKJ,EAAK3Z,IAAIka,EAAKF,EAAI,GAAKL,EAAK3Z,IAAI+d,EAAKD,EAAI,IAetF,OAVIE,EAFAC,EAAQC,EACND,EAAQE,EACCF,EAAQC,EAAQC,EAEhBA,EAAQD,EAAQD,EAEpBE,EAAQD,EACNC,EAAQD,EAAQD,EAEhBC,EAAQD,EAAQE,IAGV,MAAUH,EAAW,OAqP5C,IAAII,IAAM1E,cAEN2E,gBAAkB,WACpB,IAAIC,EAAYxhB,oBACZyhB,EAAUp0D,KAAKk7B,IAEnB,SAASm5B,EAAiBC,EAAUC,GAClC,IACIC,EADAC,EAAaz7D,KAAKy7D,WAGA,qBAAlBz7D,KAAK07D,WACPF,EAAWvf,iBAAiB,UAAWj8C,KAAK27D,GAAGt3D,SAWjD,IARA,IAIIu3D,EACAC,EACAC,EA6BA7qB,EACAkR,EACAoV,EACArV,EACAr4C,EACAkyD,EAxCAC,EAAiBT,EAAQU,UACzBtyD,EAAIqyD,EACJx6C,EAAMxhB,KAAKk8D,UAAU73D,OAAS,EAC9BslC,GAAO,EAKJA,GAAM,CAIX,GAHAiyB,EAAU57D,KAAKk8D,UAAUvyD,GACzBkyD,EAAc77D,KAAKk8D,UAAUvyD,EAAI,GAE7BA,IAAM6X,EAAM,GAAK85C,GAAYO,EAAYzlB,EAAIqlB,EAAY,CACvDG,EAAQlc,IACVkc,EAAUC,GAGZG,EAAiB,EACjB,MAGF,GAAIH,EAAYzlB,EAAIqlB,EAAaH,EAAU,CACzCU,EAAiBryD,EACjB,MAGEA,EAAI6X,EAAM,EACZ7X,GAAK,GAELqyD,EAAiB,EACjBryB,GAAO,GAIXmyB,EAAmB97D,KAAKm8D,kBAAkBxyD,IAAM,GAOhD,IAEIyyD,EA2LqB/5D,EAAKg6D,EAC1BC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EApMAC,EAAchB,EAAYzlB,EAAIqlB,EAC9BqB,EAAUlB,EAAQxlB,EAAIqlB,EAG1B,GAAIG,EAAQmB,GAAI,CACTjB,EAAiB1D,aACpB0D,EAAiB1D,WAAa6C,IAAI/C,gBAAgB0D,EAAQjvC,EAAGkvC,EAAYlvC,GAAKivC,EAAQ9rD,EAAG8rD,EAAQmB,GAAInB,EAAQoB,KAG/G,IAAI5E,EAAa0D,EAAiB1D,WAElC,GAAIkD,GAAYuB,GAAevB,EAAWwB,EAAS,CACjD,IAAIG,EAAM3B,GAAYuB,EAAczE,EAAWvE,OAAOxvD,OAAS,EAAI,EAGnE,IAFA89C,EAAOiW,EAAWvE,OAAOoJ,GAAKvF,MAAMrzD,OAE/B4sC,EAAI,EAAGA,EAAIkR,EAAMlR,GAAK,EACzBuqB,EAASvqB,GAAKmnB,EAAWvE,OAAOoJ,GAAKvF,MAAMzmB,OAGxC,CACD6qB,EAAiBoB,OACnBnB,EAAMD,EAAiBoB,QAEvBnB,EAAMhJ,cAAcoK,gBAAgBvB,EAAQjkD,EAAEsyB,EAAG2xB,EAAQjkD,EAAEylD,EAAGxB,EAAQjyD,EAAEsgC,EAAG2xB,EAAQjyD,EAAEyzD,EAAGxB,EAAQ/pB,GAAGvnC,IACnGwxD,EAAiBoB,OAASnB,GAG5BxE,EAAOwE,GAAKT,EAAWwB,IAAYD,EAAcC,IACjD,IACIO,EADAC,EAAiBlF,EAAWN,cAAgBP,EAE5CrB,EAAcqF,EAAQgC,UAAYjC,GAAYC,EAAQiC,qBAAuB7zD,EAAI4xD,EAAQkC,iBAAmB,EAKhH,IAJA5zD,EAAI0xD,EAAQgC,UAAYjC,GAAYC,EAAQiC,qBAAuB7zD,EAAI4xD,EAAQmC,WAAa,EAC5F/zB,GAAO,EACPuY,EAAOkW,EAAWvE,OAAOxvD,OAElBslC,GAAM,CAGX,GAFAusB,GAAekC,EAAWvE,OAAOhqD,GAAGmuD,cAEb,IAAnBsF,GAAiC,IAAT/F,GAAc1tD,IAAMuuD,EAAWvE,OAAOxvD,OAAS,EAAG,CAG5E,IAFA89C,EAAOiW,EAAWvE,OAAOhqD,GAAG6tD,MAAMrzD,OAE7B4sC,EAAI,EAAGA,EAAIkR,EAAMlR,GAAK,EACzBuqB,EAASvqB,GAAKmnB,EAAWvE,OAAOhqD,GAAG6tD,MAAMzmB,GAG3C,MACK,GAAIqsB,GAAkBpH,GAAeoH,EAAiBpH,EAAckC,EAAWvE,OAAOhqD,EAAI,GAAGmuD,cAAe,CAIjH,IAHAqF,GAAeC,EAAiBpH,GAAekC,EAAWvE,OAAOhqD,EAAI,GAAGmuD,cACxE7V,EAAOiW,EAAWvE,OAAOhqD,GAAG6tD,MAAMrzD,OAE7B4sC,EAAI,EAAGA,EAAIkR,EAAMlR,GAAK,EACzBuqB,EAASvqB,GAAKmnB,EAAWvE,OAAOhqD,GAAG6tD,MAAMzmB,IAAMmnB,EAAWvE,OAAOhqD,EAAI,GAAG6tD,MAAMzmB,GAAKmnB,EAAWvE,OAAOhqD,GAAG6tD,MAAMzmB,IAAMosB,EAGtH,MAGExzD,EAAIq4C,EAAO,EACbr4C,GAAK,EAEL8/B,GAAO,EAIX4xB,EAAQmC,WAAa7zD,EACrB0xD,EAAQkC,iBAAmBvH,EAAckC,EAAWvE,OAAOhqD,GAAGmuD,cAC9DuD,EAAQiC,mBAAqB7zD,OAE1B,CACL,IAAIg0D,EACAC,EACAC,EACAC,EACAC,EAIJ,GAHAv8C,EAAMo6C,EAAQjvC,EAAEtoB,OAChB+3D,EAAWP,EAAYlvC,GAAKivC,EAAQ9rD,EAEhC9P,KAAKg+D,IAAoB,IAAdpC,EAAQlc,EACrB,GAAI4b,GAAYuB,EACdrB,EAAS,GAAKY,EAAS,GACvBZ,EAAS,GAAKY,EAAS,GACvBZ,EAAS,GAAKY,EAAS,QAClB,GAAId,GAAYwB,EACrBtB,EAAS,GAAKI,EAAQjvC,EAAE,GACxB6uC,EAAS,GAAKI,EAAQjvC,EAAE,GACxB6uC,EAAS,GAAKI,EAAQjvC,EAAE,OACnB,CACL,IAAIsxC,EAAYC,EAAiBtC,EAAQjvC,GACrCwxC,EAAUD,EAAiB9B,GAqGZ/5D,EAnGDm5D,EAmGMa,EA1ChC,SAAez3C,EAAGC,EAAGuxB,GACnB,IASIgoB,EACAC,EACAC,EACAC,EACAC,EAbAn8D,EAAM,GACNo8D,EAAK75C,EAAE,GACP85C,EAAK95C,EAAE,GACP+5C,EAAK/5C,EAAE,GACPg6C,EAAKh6C,EAAE,GACPi6C,EAAKh6C,EAAE,GACPi6C,EAAKj6C,EAAE,GACPk6C,EAAKl6C,EAAE,GACPm6C,EAAKn6C,EAAE,GA8BX,OAxBAw5C,EAAQI,EAAKI,EAAKH,EAAKI,EAAKH,EAAKI,EAAKH,EAAKI,GAE/B,IACVX,GAASA,EACTQ,GAAMA,EACNC,GAAMA,EACNC,GAAMA,EACNC,GAAMA,GAGJ,EAAMX,EAAQ,MAChBD,EAAQp3D,KAAKi4D,KAAKZ,GAClBC,EAAQt3D,KAAKk4D,IAAId,GACjBG,EAASv3D,KAAKk4D,KAAK,EAAM9oB,GAAKgoB,GAASE,EACvCE,EAASx3D,KAAKk4D,IAAI9oB,EAAIgoB,GAASE,IAE/BC,EAAS,EAAMnoB,EACfooB,EAASpoB,GAGX/zC,EAAI,GAAKk8D,EAASE,EAAKD,EAASK,EAChCx8D,EAAI,GAAKk8D,EAASG,EAAKF,EAASM,EAChCz8D,EAAI,GAAKk8D,EAASI,EAAKH,EAASO,EAChC18D,EAAI,GAAKk8D,EAASK,EAAKJ,EAASQ,EACzB38D,EAhG2B88D,CAAMlB,EAAWE,GADjC7C,EAAWwB,IAAYD,EAAcC,IAqGnDR,EAAKD,EAAK,GACVE,EAAKF,EAAK,GACVG,EAAKH,EAAK,GACVI,EAAKJ,EAAK,GACVK,EAAU11D,KAAKo4D,MAAM,EAAI7C,EAAKE,EAAK,EAAIH,EAAKE,EAAI,EAAI,EAAID,EAAKA,EAAK,EAAIC,EAAKA,GAC3EG,EAAW31D,KAAKq4D,KAAK,EAAI/C,EAAKC,EAAK,EAAIC,EAAKC,GAC5CG,EAAO51D,KAAKo4D,MAAM,EAAI9C,EAAKG,EAAK,EAAIF,EAAKC,EAAI,EAAI,EAAIF,EAAKA,EAAK,EAAIE,EAAKA,GAC5En6D,EAAI,GAAKq6D,EAAUjf,UACnBp7C,EAAI,GAAKs6D,EAAWlf,UACpBp7C,EAAI,GAAKu6D,EAAOnf,eA1GZ,IAAK9zC,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACN,IAAdiyD,EAAQlc,IACN4b,GAAYuB,EACdtF,EAAO,EACE+D,EAAWwB,EACpBvF,EAAO,GAEHqE,EAAQjkD,EAAEsyB,EAAEn3B,cAAgB9Q,OACzB85D,EAAiBoB,SACpBpB,EAAiBoB,OAAS,IAGvBpB,EAAiBoB,OAAOvzD,GAQ3BoyD,EAAMD,EAAiBoB,OAAOvzD,IAP9Bg0D,OAA0Bp8D,IAAnBq6D,EAAQjkD,EAAEsyB,EAAEtgC,GAAmBiyD,EAAQjkD,EAAEsyB,EAAE,GAAK2xB,EAAQjkD,EAAEsyB,EAAEtgC,GACnEi0D,OAA0Br8D,IAAnBq6D,EAAQjkD,EAAEylD,EAAEzzD,GAAmBiyD,EAAQjkD,EAAEylD,EAAE,GAAKxB,EAAQjkD,EAAEylD,EAAEzzD,GACnEk0D,OAAyBt8D,IAAnBq6D,EAAQjyD,EAAEsgC,EAAEtgC,GAAmBiyD,EAAQjyD,EAAEsgC,EAAE,GAAK2xB,EAAQjyD,EAAEsgC,EAAEtgC,GAClEm0D,OAAyBv8D,IAAnBq6D,EAAQjyD,EAAEyzD,EAAEzzD,GAAmBiyD,EAAQjyD,EAAEyzD,EAAE,GAAKxB,EAAQjyD,EAAEyzD,EAAEzzD,GAClEoyD,EAAMhJ,cAAcoK,gBAAgBQ,EAAMC,EAAMC,EAAKC,GAAKxzD,IAC1DwxD,EAAiBoB,OAAOvzD,GAAKoyD,IAIrBD,EAAiBoB,OAQ3BnB,EAAMD,EAAiBoB,QAPvBS,EAAO/B,EAAQjkD,EAAEsyB,EACjB2zB,EAAOhC,EAAQjkD,EAAEylD,EACjBS,EAAMjC,EAAQjyD,EAAEsgC,EAChB6zB,EAAMlC,EAAQjyD,EAAEyzD,EAChBrB,EAAMhJ,cAAcoK,gBAAgBQ,EAAMC,EAAMC,EAAKC,GAAKxzD,IAC1DsxD,EAAQE,iBAAmBC,GAK7BxE,EAAOwE,GAAKT,EAAWwB,IAAYD,EAAcC,MAIrDV,EAAWP,EAAYlvC,GAAKivC,EAAQ9rD,EACpCiuD,EAAyB,IAAdnC,EAAQlc,EAAUkc,EAAQjvC,EAAEhjB,GAAKiyD,EAAQjvC,EAAEhjB,IAAMyyD,EAASzyD,GAAKiyD,EAAQjvC,EAAEhjB,IAAM4tD,EAEpE,qBAAlBv3D,KAAK07D,SACPF,EAAS7xD,GAAKo0D,EAEdvC,EAAWuC,EAOnB,OADAxC,EAAQU,UAAYD,EACbR,EA2DT,SAAS0C,EAAiBtvC,GACxB,IAAI8tC,EAAU9tC,EAAO,GAAK6uB,UACtBkf,EAAW/tC,EAAO,GAAK6uB,UACvBmf,EAAOhuC,EAAO,GAAK6uB,UACnB6hB,EAAKt4D,KAAKu4D,IAAI7C,EAAU,GACxB8C,EAAKx4D,KAAKu4D,IAAI5C,EAAW,GACzB8C,EAAKz4D,KAAKu4D,IAAI3C,EAAO,GACrB8C,EAAK14D,KAAKk4D,IAAIxC,EAAU,GACxBiD,EAAK34D,KAAKk4D,IAAIvC,EAAW,GACzBiD,EAAK54D,KAAKk4D,IAAItC,EAAO,GAKzB,MAAO,CAHC8C,EAAKC,EAAKF,EAAKH,EAAKE,EAAKI,EACzBF,EAAKF,EAAKC,EAAKH,EAAKK,EAAKC,EACzBN,EAAKK,EAAKF,EAAKC,EAAKF,EAAKI,EAHzBN,EAAKE,EAAKC,EAAKC,EAAKC,EAAKC,GAOnC,SAASC,IACP,IAAIvE,EAAWt7D,KAAKkjD,KAAK4c,cAAgB9/D,KAAKy7D,WAC1CjK,EAAWxxD,KAAKk8D,UAAU,GAAG9lB,EAAIp2C,KAAKy7D,WACtCv0D,EAAUlH,KAAKk8D,UAAUl8D,KAAKk8D,UAAU73D,OAAS,GAAG+xC,EAAIp2C,KAAKy7D,WAEjE,KAAMH,IAAat7D,KAAK+/D,SAASxC,WAAav9D,KAAK+/D,SAASxC,YAAcpC,IAAcn7D,KAAK+/D,SAASxC,WAAar2D,GAAWo0D,GAAYp0D,GAAWlH,KAAK+/D,SAASxC,UAAY/L,GAAY8J,EAAW9J,IAAY,CAC5MxxD,KAAK+/D,SAASxC,WAAajC,IAC7Bt7D,KAAK+/D,SAASvC,oBAAsB,EACpCx9D,KAAK+/D,SAAS9D,UAAY,GAG5B,IAAI+D,EAAehgE,KAAKq7D,iBAAiBC,EAAUt7D,KAAK+/D,UACxD//D,KAAK27D,GAAKqE,EAIZ,OADAhgE,KAAK+/D,SAASxC,UAAYjC,EACnBt7D,KAAK27D,GAGd,SAASsE,EAAU1vD,GACjB,IAAI2vD,EAEJ,GAAsB,mBAAlBlgE,KAAK07D,SACPwE,EAAkB3vD,EAAMvQ,KAAKmgE,KAEzB/E,EAAQp7D,KAAKuhC,EAAI2+B,GAAmB,OACtClgE,KAAKuhC,EAAI2+B,EACTlgE,KAAKogE,MAAO,QAMd,IAHA,IAAIz2D,EAAI,EACJ6X,EAAMxhB,KAAKuhC,EAAEl9B,OAEVsF,EAAI6X,GACT0+C,EAAkB3vD,EAAI5G,GAAK3J,KAAKmgE,KAE5B/E,EAAQp7D,KAAKuhC,EAAE53B,GAAKu2D,GAAmB,OACzClgE,KAAKuhC,EAAE53B,GAAKu2D,EACZlgE,KAAKogE,MAAO,GAGdz2D,GAAK,EAKX,SAAS02D,IACP,GAAIrgE,KAAKu1B,KAAK23B,WAAWoT,UAAYtgE,KAAKsgE,SAAYtgE,KAAKugE,gBAAgBl8D,OAI3E,GAAIrE,KAAKwgE,KACPxgE,KAAKigE,UAAUjgE,KAAK27D,QADtB,CAOA,IAAIhyD,EAFJ3J,KAAKwgE,MAAO,EACZxgE,KAAKogE,KAAOpgE,KAAKygE,cAEjB,IAAIj/C,EAAMxhB,KAAKugE,gBAAgBl8D,OAC3Bq8D,EAAa1gE,KAAK2gE,GAAK3gE,KAAK27D,GAAK37D,KAAKqK,KAAK4mC,EAE/C,IAAKtnC,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB+2D,EAAa1gE,KAAKugE,gBAAgB52D,GAAG+2D,GAGvC1gE,KAAKigE,UAAUS,GACf1gE,KAAKygE,eAAgB,EACrBzgE,KAAKwgE,MAAO,EACZxgE,KAAKsgE,QAAUtgE,KAAKu1B,KAAK23B,WAAWoT,SAGtC,SAASM,EAAUC,GACjB7gE,KAAKugE,gBAAgBp5D,KAAK05D,GAC1B7gE,KAAKk0B,UAAU4sC,mBAAmB9gE,MAGpC,SAAS+gE,EAAcxrC,EAAMlrB,EAAM81D,EAAMjsC,GACvCl0B,KAAK07D,SAAW,iBAChB17D,KAAKmgE,KAAOA,GAAQ,EACpBngE,KAAKqK,KAAOA,EACZrK,KAAKuhC,EAAI4+B,EAAO91D,EAAK4mC,EAAIkvB,EAAO91D,EAAK4mC,EACrCjxC,KAAK27D,GAAKtxD,EAAK4mC,EACfjxC,KAAKogE,MAAO,EACZpgE,KAAKu1B,KAAOA,EACZv1B,KAAKk0B,UAAYA,EACjBl0B,KAAKkjD,KAAO3tB,EAAK2tB,KACjBljD,KAAKixC,GAAI,EACTjxC,KAAK2gE,IAAK,EACV3gE,KAAKghE,IAAM,EACXhhE,KAAKugE,gBAAkB,GACvBvgE,KAAKygE,eAAgB,EACrBzgE,KAAKihE,SAAWZ,EAChBrgE,KAAKigE,UAAYA,EACjBjgE,KAAK4gE,UAAYA,EAGnB,SAASM,EAAyB3rC,EAAMlrB,EAAM81D,EAAMjsC,GAWlD,IAAIvqB,EAVJ3J,KAAK07D,SAAW,mBAChB17D,KAAKmgE,KAAOA,GAAQ,EACpBngE,KAAKqK,KAAOA,EACZrK,KAAKogE,MAAO,EACZpgE,KAAKu1B,KAAOA,EACZv1B,KAAKk0B,UAAYA,EACjBl0B,KAAKkjD,KAAO3tB,EAAK2tB,KACjBljD,KAAKixC,GAAI,EACTjxC,KAAK2gE,IAAK,EACV3gE,KAAKsgE,SAAW,EAEhB,IAAI9+C,EAAMnX,EAAK4mC,EAAE5sC,OAKjB,IAJArE,KAAKuhC,EAAI0a,iBAAiB,UAAWz6B,GACrCxhB,KAAK27D,GAAK1f,iBAAiB,UAAWz6B,GACtCxhB,KAAKghE,IAAM/kB,iBAAiB,UAAWz6B,GAElC7X,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKuhC,EAAE53B,GAAKU,EAAK4mC,EAAEtnC,GAAK3J,KAAKmgE,KAC7BngE,KAAK27D,GAAGhyD,GAAKU,EAAK4mC,EAAEtnC,GAGtB3J,KAAKygE,eAAgB,EACrBzgE,KAAKugE,gBAAkB,GACvBvgE,KAAKihE,SAAWZ,EAChBrgE,KAAKigE,UAAYA,EACjBjgE,KAAK4gE,UAAYA,EAGnB,SAASO,EAAuB5rC,EAAMlrB,EAAM81D,EAAMjsC,GAChDl0B,KAAK07D,SAAW,iBAChB17D,KAAKk8D,UAAY7xD,EAAK4mC,EACtBjxC,KAAKm8D,kBAAoB,GACzBn8D,KAAKy7D,WAAalmC,EAAKlrB,KAAKk6C,GAC5BvkD,KAAKsgE,SAAW,EAChBtgE,KAAK+/D,SAAW,CACdxC,UAAWpC,EACXc,UAAW,EACXv5D,MAAO,EACP86D,oBAAqB,GAEvBx9D,KAAKixC,GAAI,EACTjxC,KAAK2gE,IAAK,EACV3gE,KAAKqK,KAAOA,EACZrK,KAAKmgE,KAAOA,GAAQ,EACpBngE,KAAKu1B,KAAOA,EACZv1B,KAAKk0B,UAAYA,EACjBl0B,KAAKkjD,KAAO3tB,EAAK2tB,KACjBljD,KAAKuhC,EAAI45B,EACTn7D,KAAK27D,GAAKR,EACVn7D,KAAKygE,eAAgB,EACrBzgE,KAAKihE,SAAWZ,EAChBrgE,KAAKigE,UAAYA,EACjBjgE,KAAKq7D,iBAAmBA,EACxBr7D,KAAKugE,gBAAkB,CAACV,EAAsB9jD,KAAK/b,OACnDA,KAAK4gE,UAAYA,EAGnB,SAASQ,EAAkC7rC,EAAMlrB,EAAM81D,EAAMjsC,GAE3D,IAAIvqB,EADJ3J,KAAK07D,SAAW,mBAEhB,IACI/uC,EACA7c,EACAitD,EACAC,EAJAx7C,EAAMnX,EAAK4mC,EAAE5sC,OAMjB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAM,EAAG7X,GAAK,EACxBU,EAAK4mC,EAAEtnC,GAAGozD,IAAM1yD,EAAK4mC,EAAEtnC,GAAGgjB,GAAKtiB,EAAK4mC,EAAEtnC,EAAI,IAAMU,EAAK4mC,EAAEtnC,EAAI,GAAGgjB,IAChEA,EAAItiB,EAAK4mC,EAAEtnC,GAAGgjB,EACd7c,EAAIzF,EAAK4mC,EAAEtnC,EAAI,GAAGgjB,EAClBowC,EAAK1yD,EAAK4mC,EAAEtnC,GAAGozD,GACfC,EAAK3yD,EAAK4mC,EAAEtnC,GAAGqzD,IAEE,IAAbrwC,EAAEtoB,SAAkBsoB,EAAE,KAAO7c,EAAE,IAAM6c,EAAE,KAAO7c,EAAE,KAAOmrD,IAAIxE,cAAc9pC,EAAE,GAAIA,EAAE,GAAI7c,EAAE,GAAIA,EAAE,GAAI6c,EAAE,GAAKowC,EAAG,GAAIpwC,EAAE,GAAKowC,EAAG,KAAO9B,IAAIxE,cAAc9pC,EAAE,GAAIA,EAAE,GAAI7c,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAKktD,EAAG,GAAIltD,EAAE,GAAKktD,EAAG,KAAoB,IAAbrwC,EAAEtoB,SAAkBsoB,EAAE,KAAO7c,EAAE,IAAM6c,EAAE,KAAO7c,EAAE,IAAM6c,EAAE,KAAO7c,EAAE,KAAOmrD,IAAIR,cAAc9tC,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI7c,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI6c,EAAE,GAAKowC,EAAG,GAAIpwC,EAAE,GAAKowC,EAAG,GAAIpwC,EAAE,GAAKowC,EAAG,KAAO9B,IAAIR,cAAc9tC,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI7c,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAKktD,EAAG,GAAIltD,EAAE,GAAKktD,EAAG,GAAIltD,EAAE,GAAKktD,EAAG,OACld3yD,EAAK4mC,EAAEtnC,GAAGozD,GAAK,KACf1yD,EAAK4mC,EAAEtnC,GAAGqzD,GAAK,MAGbrwC,EAAE,KAAO7c,EAAE,IAAM6c,EAAE,KAAO7c,EAAE,IAAgB,IAAVitD,EAAG,IAAsB,IAAVA,EAAG,IAAsB,IAAVC,EAAG,IAAsB,IAAVA,EAAG,KACnE,IAAbrwC,EAAEtoB,QAAgBsoB,EAAE,KAAO7c,EAAE,IAAgB,IAAVitD,EAAG,IAAsB,IAAVC,EAAG,MACvD3yD,EAAK4mC,EAAEtnC,GAAGozD,GAAK,KACf1yD,EAAK4mC,EAAEtnC,GAAGqzD,GAAK,OAMvBh9D,KAAKugE,gBAAkB,CAACV,EAAsB9jD,KAAK/b,OACnDA,KAAKqK,KAAOA,EACZrK,KAAKk8D,UAAY7xD,EAAK4mC,EACtBjxC,KAAKm8D,kBAAoB,GACzBn8D,KAAKy7D,WAAalmC,EAAKlrB,KAAKk6C,GAC5BvkD,KAAKixC,GAAI,EACTjxC,KAAK2gE,IAAK,EACV3gE,KAAKygE,eAAgB,EACrBzgE,KAAKmgE,KAAOA,GAAQ,EACpBngE,KAAKu1B,KAAOA,EACZv1B,KAAKk0B,UAAYA,EACjBl0B,KAAKkjD,KAAO3tB,EAAK2tB,KACjBljD,KAAKihE,SAAWZ,EAChBrgE,KAAKigE,UAAYA,EACjBjgE,KAAKq7D,iBAAmBA,EACxBr7D,KAAKsgE,SAAW,EAChB,IAAIe,EAASh3D,EAAK4mC,EAAE,GAAGtkB,EAAEtoB,OAIzB,IAHArE,KAAKuhC,EAAI0a,iBAAiB,UAAWolB,GACrCrhE,KAAK27D,GAAK1f,iBAAiB,UAAWolB,GAEjC13D,EAAI,EAAGA,EAAI03D,EAAQ13D,GAAK,EAC3B3J,KAAKuhC,EAAE53B,GAAKwxD,EACZn7D,KAAK27D,GAAGhyD,GAAKwxD,EAGfn7D,KAAK+/D,SAAW,CACdxC,UAAWpC,EACXc,UAAW,EACXv5D,MAAOu5C,iBAAiB,UAAWolB,IAErCrhE,KAAK4gE,UAAYA,EAmCnB,MAHS,CACPU,QA9BF,SAAiB/rC,EAAMlrB,EAAMsW,EAAMw/C,EAAMjsC,GACvC,IAAIyrB,EAEJ,GAAKt1C,EAAK4mC,EAAE5sC,OAEL,GAAyB,iBAAdgG,EAAK4mC,EAAE,GACvB0O,EAAI,IAAIuhB,EAAyB3rC,EAAMlrB,EAAM81D,EAAMjsC,QAEnD,OAAQvT,GACN,KAAK,EACHg/B,EAAI,IAAIwhB,EAAuB5rC,EAAMlrB,EAAM81D,EAAMjsC,GACjD,MAEF,KAAK,EACHyrB,EAAI,IAAIyhB,EAAkC7rC,EAAMlrB,EAAM81D,EAAMjsC,QAVhEyrB,EAAI,IAAIohB,EAAcxrC,EAAMlrB,EAAM81D,EAAMjsC,GAsB1C,OAJIyrB,EAAE4gB,gBAAgBl8D,QACpB6vB,EAAU4sC,mBAAmBnhB,GAGxBA,IApgBW,GA6gBtB,SAAS4hB,4BAETA,yBAAyBt/D,UAAY,CACnC6+D,mBAAoB,SAA4Bl5C,IACA,IAA1C5nB,KAAKwhE,kBAAkBj+D,QAAQqkB,KACjC5nB,KAAKwhE,kBAAkBr6D,KAAKygB,GAC5B5nB,KAAKk0B,UAAU4sC,mBAAmB9gE,MAClCA,KAAKyhE,aAAc,IAGvBC,yBAA0B,WAExB,IAAI/3D,EADJ3J,KAAKogE,MAAO,EAEZ,IAAI5+C,EAAMxhB,KAAKwhE,kBAAkBn9D,OAEjC,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKwhE,kBAAkB73D,GAAGs3D,WAEtBjhE,KAAKwhE,kBAAkB73D,GAAGy2D,OAC5BpgE,KAAKogE,MAAO,IAIlBuB,6BAA8B,SAAsCztC,GAClEl0B,KAAKk0B,UAAYA,EACjBl0B,KAAKwhE,kBAAoB,GACzBxhE,KAAKogE,MAAO,EACZpgE,KAAKyhE,aAAc,IAIvB,IAAIG,UAKKpM,YAAY,GAJnB,WACE,OAAOvZ,iBAAiB,UAAW,MAMvC,SAAS4lB,YACP7hE,KAAK0gC,GAAI,EACT1gC,KAAK41D,QAAU,EACf51D,KAAK61D,WAAa,EAClB71D,KAAKuhC,EAAI8a,iBAAiBr8C,KAAK61D,YAC/B71D,KAAK2X,EAAI0kC,iBAAiBr8C,KAAK61D,YAC/B71D,KAAK2J,EAAI0yC,iBAAiBr8C,KAAK61D,YAGjCgM,UAAU5/D,UAAU6/D,YAAc,SAAU7c,EAAQzjC,GAClDxhB,KAAK0gC,EAAIukB,EACTjlD,KAAK+hE,UAAUvgD,GAGf,IAFA,IAAI7X,EAAI,EAEDA,EAAI6X,GACTxhB,KAAKuhC,EAAE53B,GAAKi4D,UAAU7L,aACtB/1D,KAAK2X,EAAEhO,GAAKi4D,UAAU7L,aACtB/1D,KAAK2J,EAAEA,GAAKi4D,UAAU7L,aACtBpsD,GAAK,GAITk4D,UAAU5/D,UAAU8/D,UAAY,SAAUvgD,GACxC,KAAOxhB,KAAK61D,WAAar0C,GACvBxhB,KAAKgiE,oBAGPhiE,KAAK41D,QAAUp0C,GAGjBqgD,UAAU5/D,UAAU+/D,kBAAoB,WACtChiE,KAAKuhC,EAAIvhC,KAAKuhC,EAAEvgC,OAAOq7C,iBAAiBr8C,KAAK61D,aAC7C71D,KAAK2J,EAAI3J,KAAK2J,EAAE3I,OAAOq7C,iBAAiBr8C,KAAK61D,aAC7C71D,KAAK2X,EAAI3X,KAAK2X,EAAE3W,OAAOq7C,iBAAiBr8C,KAAK61D,aAC7C71D,KAAK61D,YAAc,GAGrBgM,UAAU5/D,UAAUggE,QAAU,SAAUh4B,EAAGmzB,EAAGz8C,EAAMuhD,EAAKxvD,GACvD,IAAIW,EAOJ,OANArT,KAAK41D,QAAU5uD,KAAKiF,IAAIjM,KAAK41D,QAASsM,EAAM,GAExCliE,KAAK41D,SAAW51D,KAAK61D,YACvB71D,KAAKgiE,oBAGCrhD,GACN,IAAK,IACHtN,EAAMrT,KAAKuhC,EACX,MAEF,IAAK,IACHluB,EAAMrT,KAAK2J,EACX,MAEF,IAAK,IACH0J,EAAMrT,KAAK2X,EACX,MAEF,QACEtE,EAAM,KAILA,EAAI6uD,IAAQ7uD,EAAI6uD,KAASxvD,KAC5BW,EAAI6uD,GAAON,UAAU7L,cAGvB1iD,EAAI6uD,GAAK,GAAKj4B,EACd52B,EAAI6uD,GAAK,GAAK9E,GAGhByE,UAAU5/D,UAAUkgE,YAAc,SAAUC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIP,EAAKxvD,GACvE1S,KAAKiiE,QAAQG,EAAIC,EAAI,IAAKH,EAAKxvD,GAC/B1S,KAAKiiE,QAAQK,EAAIC,EAAI,IAAKL,EAAKxvD,GAC/B1S,KAAKiiE,QAAQO,EAAIC,EAAI,IAAKP,EAAKxvD,IAGjCmvD,UAAU5/D,UAAU+R,QAAU,WAC5B,IAAI0uD,EAAU,IAAIb,UAClBa,EAAQZ,YAAY9hE,KAAK0gC,EAAG1gC,KAAK41D,SACjC,IAAI+M,EAAW3iE,KAAKuhC,EAChBqhC,EAAY5iE,KAAK2X,EACjBkrD,EAAW7iE,KAAK2J,EAChB0qB,EAAO,EAEPr0B,KAAK0gC,IACPgiC,EAAQP,YAAYQ,EAAS,GAAG,GAAIA,EAAS,GAAG,GAAIE,EAAS,GAAG,GAAIA,EAAS,GAAG,GAAID,EAAU,GAAG,GAAIA,EAAU,GAAG,GAAI,GAAG,GACzHvuC,EAAO,GAGT,IAEI1qB,EAFAm5D,EAAM9iE,KAAK41D,QAAU,EACrBp0C,EAAMxhB,KAAK41D,QAGf,IAAKjsD,EAAI0qB,EAAM1qB,EAAI6X,EAAK7X,GAAK,EAC3B+4D,EAAQP,YAAYQ,EAASG,GAAK,GAAIH,EAASG,GAAK,GAAID,EAASC,GAAK,GAAID,EAASC,GAAK,GAAIF,EAAUE,GAAK,GAAIF,EAAUE,GAAK,GAAIn5D,GAAG,GACrIm5D,GAAO,EAGT,OAAOJ,GAGT,IAAIK,WAoCEzjC,QAAUk2B,YAAY,GAnC1B,WACE,OAAO,IAAIqM,aAGb,SAAiBmB,GACf,IACIr5D,EADA6X,EAAMwhD,EAAUpN,QAGpB,IAAKjsD,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBi4D,UAAU5L,QAAQgN,EAAUzhC,EAAE53B,IAC9Bi4D,UAAU5L,QAAQgN,EAAUr5D,EAAEA,IAC9Bi4D,UAAU5L,QAAQgN,EAAUrrD,EAAEhO,IAC9Bq5D,EAAUzhC,EAAE53B,GAAK,KACjBq5D,EAAUr5D,EAAEA,GAAK,KACjBq5D,EAAUrrD,EAAEhO,GAAK,KAGnBq5D,EAAUpN,QAAU,EACpBoN,EAAUtiC,GAAI,KAkBhBpB,QAAQ5/B,MAfR,SAAeujE,GACb,IACIt5D,EADAu5D,EAAS5jC,QAAQy2B,aAEjBv0C,OAAwBjgB,IAAlB0hE,EAAMrN,QAAwBqN,EAAM1hC,EAAEl9B,OAAS4+D,EAAMrN,QAI/D,IAHAsN,EAAOnB,UAAUvgD,GACjB0hD,EAAOxiC,EAAIuiC,EAAMviC,EAEZ/2B,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBu5D,EAAOf,YAAYc,EAAM1hC,EAAE53B,GAAG,GAAIs5D,EAAM1hC,EAAE53B,GAAG,GAAIs5D,EAAMtrD,EAAEhO,GAAG,GAAIs5D,EAAMtrD,EAAEhO,GAAG,GAAIs5D,EAAMt5D,EAAEA,GAAG,GAAIs5D,EAAMt5D,EAAEA,GAAG,GAAIA,GAG/G,OAAOu5D,GAKF5jC,SAFHA,QAKN,SAAS6jC,kBACPnjE,KAAK41D,QAAU,EACf51D,KAAK61D,WAAa,EAClB71D,KAAKgjD,OAAS3G,iBAAiBr8C,KAAK61D,YAGtCsN,gBAAgBlhE,UAAUmhE,SAAW,SAAUzK,GACzC34D,KAAK41D,UAAY51D,KAAK61D,aACxB71D,KAAKgjD,OAAShjD,KAAKgjD,OAAOhiD,OAAOq7C,iBAAiBr8C,KAAK61D,aACvD71D,KAAK61D,YAAc,GAGrB71D,KAAKgjD,OAAOhjD,KAAK41D,SAAW+C,EAC5B34D,KAAK41D,SAAW,GAGlBuN,gBAAgBlhE,UAAUohE,cAAgB,WACxC,IAAI15D,EAEJ,IAAKA,EAAI,EAAGA,EAAI3J,KAAK41D,QAASjsD,GAAK,EACjCo5D,UAAU/M,QAAQh2D,KAAKgjD,OAAOr5C,IAGhC3J,KAAK41D,QAAU,GAGjB,IAAI0N,qBACEjb,GAAK,CACPkb,mBAOF,WAUE,OAPI3N,QAEgBE,KADlBF,SAAW,GAGO,IAAIuN,iBAbxBnN,QAmBF,SAAiBwN,GACf,IAAI75D,EACA6X,EAAMgiD,EAAgB5N,QAE1B,IAAKjsD,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBo5D,UAAU/M,QAAQwN,EAAgBxgB,OAAOr5C,IAG3C65D,EAAgB5N,QAAU,EAEtBA,UAAYC,aACdC,KAAOP,QAAgB,OAAEO,MACzBD,YAAc,GAGhBC,KAAKF,SAAW4N,EAChB5N,SAAW,IAjCTA,QAAU,EACVC,WAAa,EACbC,KAAOzZ,iBAAiBwZ,YAkCrBxN,IAxCHA,GAIAuN,QACAC,WACAC,KAqCF2N,qBAAuB,WACzB,IAAItI,GAAa,OAEjB,SAASuI,EAAiBpI,EAAUqI,EAAepI,GACjD,IACIqI,EACAC,EACAC,EACAj6D,EACAonC,EACAiR,EACAC,EACAoV,EACAwM,EATA/H,EAAiBT,EAAQU,UAUzB0E,EAAK3gE,KAAKk8D,UAEd,GAAIZ,EAAWqF,EAAG,GAAGvqB,EAAIp2C,KAAKy7D,WAC5BmI,EAAWjD,EAAG,GAAGh0C,EAAE,GACnBm3C,GAAS,EACT9H,EAAiB,OACZ,GAAIV,GAAYqF,EAAGA,EAAGt8D,OAAS,GAAG+xC,EAAIp2C,KAAKy7D,WAChDmI,EAAWjD,EAAGA,EAAGt8D,OAAS,GAAGsoB,EAAIg0C,EAAGA,EAAGt8D,OAAS,GAAGsoB,EAAE,GAAKg0C,EAAGA,EAAGt8D,OAAS,GAAGyL,EAAE,GAO9Eg0D,GAAS,MACJ,CAQL,IAPA,IAGIlI,EACAC,EACAC,EALAnyD,EAAIqyD,EACJx6C,EAAMm/C,EAAGt8D,OAAS,EAClBslC,GAAO,EAKJA,IACLiyB,EAAU+E,EAAGh3D,MACbkyD,EAAc8E,EAAGh3D,EAAI,IAELysC,EAAIp2C,KAAKy7D,WAAaH,KAIlC3xD,EAAI6X,EAAM,EACZ7X,GAAK,EAELggC,GAAO,EAQX,GAJAmyB,EAAmB97D,KAAKm8D,kBAAkBxyD,IAAM,GAEhDqyD,EAAiBryD,IADjBm6D,EAAuB,IAAdlI,EAAQlc,GAGJ,CACX,GAAI4b,GAAYO,EAAYzlB,EAAIp2C,KAAKy7D,WACnClE,EAAO,OACF,GAAI+D,EAAWM,EAAQxlB,EAAIp2C,KAAKy7D,WACrClE,EAAO,MACF,CACL,IAAIwE,EAEAD,EAAiBoB,OACnBnB,EAAMD,EAAiBoB,QAEvBnB,EAAMhJ,cAAcoK,gBAAgBvB,EAAQjkD,EAAEsyB,EAAG2xB,EAAQjkD,EAAEylD,EAAGxB,EAAQjyD,EAAEsgC,EAAG2xB,EAAQjyD,EAAEyzD,GAAG9yD,IACxFwxD,EAAiBoB,OAASnB,GAG5BxE,EAAOwE,GAAKT,GAAYM,EAAQxlB,EAAIp2C,KAAKy7D,cAAgBI,EAAYzlB,EAAIp2C,KAAKy7D,YAAcG,EAAQxlB,EAAIp2C,KAAKy7D,cAG/GoI,EAAWhI,EAAYlvC,EAAIkvC,EAAYlvC,EAAE,GAAKivC,EAAQ9rD,EAAE,GAG1D8zD,EAAWhI,EAAQjvC,EAAE,GAOvB,IAJAu1B,EAAOyhB,EAAc/N,QACrBzT,EAAOyhB,EAASj6D,EAAE,GAAGtF,OACrBk3D,EAAQU,UAAYD,EAEfnyD,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACzB,IAAKonC,EAAI,EAAGA,EAAIkR,EAAMlR,GAAK,EACzB8yB,EAAcD,EAASF,EAASj6D,EAAEE,GAAGonC,GAAK2yB,EAASj6D,EAAEE,GAAGonC,IAAM4yB,EAASl6D,EAAEE,GAAGonC,GAAK2yB,EAASj6D,EAAEE,GAAGonC,IAAMsmB,EACrGoM,EAAch6D,EAAEE,GAAGonC,GAAK8yB,EACxBA,EAAcD,EAASF,EAASjsD,EAAE9N,GAAGonC,GAAK2yB,EAASjsD,EAAE9N,GAAGonC,IAAM4yB,EAASlsD,EAAE9N,GAAGonC,GAAK2yB,EAASjsD,EAAE9N,GAAGonC,IAAMsmB,EACrGoM,EAAchsD,EAAE9N,GAAGonC,GAAK8yB,EACxBA,EAAcD,EAASF,EAASriC,EAAE13B,GAAGonC,GAAK2yB,EAASriC,EAAE13B,GAAGonC,IAAM4yB,EAAStiC,EAAE13B,GAAGonC,GAAK2yB,EAASriC,EAAE13B,GAAGonC,IAAMsmB,EACrGoM,EAAcpiC,EAAE13B,GAAGonC,GAAK8yB,EAK9B,SAASC,IACP,IAAI1I,EAAWt7D,KAAKkjD,KAAK4c,cAAgB9/D,KAAKy7D,WAC1CjK,EAAWxxD,KAAKk8D,UAAU,GAAG9lB,EAAIp2C,KAAKy7D,WACtCv0D,EAAUlH,KAAKk8D,UAAUl8D,KAAKk8D,UAAU73D,OAAS,GAAG+xC,EAAIp2C,KAAKy7D,WAC7D8B,EAAYv9D,KAAK+/D,SAASxC,UAS9B,OAPMA,IAAcpC,IAAcoC,EAAY/L,GAAY8J,EAAW9J,GAAY+L,EAAYr2D,GAAWo0D,EAAWp0D,KAEjHlH,KAAK+/D,SAAS9D,UAAYsB,EAAYjC,EAAWt7D,KAAK+/D,SAAS9D,UAAY,EAC3Ej8D,KAAK0jE,iBAAiBpI,EAAUt7D,KAAK27D,GAAI37D,KAAK+/D,WAGhD//D,KAAK+/D,SAASxC,UAAYjC,EACnBt7D,KAAK27D,GAGd,SAASsI,IACPjkE,KAAKkkE,MAAQlkE,KAAKmkE,qBAoBpB,SAASlE,EAAUyC,IAjBnB,SAAqB0B,EAAQC,GAC3B,GAAID,EAAOxO,UAAYyO,EAAOzO,SAAWwO,EAAO1jC,IAAM2jC,EAAO3jC,EAC3D,OAAO,EAGT,IAAI/2B,EACA6X,EAAM4iD,EAAOxO,QAEjB,IAAKjsD,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB,GAAIy6D,EAAO7iC,EAAE53B,GAAG,KAAO06D,EAAO9iC,EAAE53B,GAAG,IAAMy6D,EAAO7iC,EAAE53B,GAAG,KAAO06D,EAAO9iC,EAAE53B,GAAG,IAAMy6D,EAAOzsD,EAAEhO,GAAG,KAAO06D,EAAO1sD,EAAEhO,GAAG,IAAMy6D,EAAOzsD,EAAEhO,GAAG,KAAO06D,EAAO1sD,EAAEhO,GAAG,IAAMy6D,EAAOz6D,EAAEA,GAAG,KAAO06D,EAAO16D,EAAEA,GAAG,IAAMy6D,EAAOz6D,EAAEA,GAAG,KAAO06D,EAAO16D,EAAEA,GAAG,GAC1N,OAAO,EAIX,OAAO,GAIF26D,CAAYtkE,KAAKuhC,EAAGmhC,KACvB1iE,KAAKuhC,EAAIwhC,UAAUrjE,MAAMgjE,GACzB1iE,KAAKmkE,qBAAqBd,gBAC1BrjE,KAAKmkE,qBAAqBf,SAASpjE,KAAKuhC,GACxCvhC,KAAKogE,MAAO,EACZpgE,KAAKkkE,MAAQlkE,KAAKmkE,sBAItB,SAAS9D,IACP,GAAIrgE,KAAKu1B,KAAK23B,WAAWoT,UAAYtgE,KAAKsgE,QAI1C,GAAKtgE,KAAKugE,gBAAgBl8D,OAK1B,GAAIrE,KAAKwgE,KACPxgE,KAAKigE,UAAUjgE,KAAK27D,QADtB,CAOA,IAAI+E,EAUA/2D,EAZJ3J,KAAKwgE,MAAO,EACZxgE,KAAKogE,MAAO,EAIVM,EADE1gE,KAAK2gE,GACM3gE,KAAK27D,GACT37D,KAAKqK,KAAKg5C,GACNrjD,KAAKqK,KAAKg5C,GAAGpS,EAEbjxC,KAAKqK,KAAKq4C,GAAGzR,EAI5B,IAAIzvB,EAAMxhB,KAAKugE,gBAAgBl8D,OAE/B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB+2D,EAAa1gE,KAAKugE,gBAAgB52D,GAAG+2D,GAGvC1gE,KAAKigE,UAAUS,GACf1gE,KAAKwgE,MAAO,EACZxgE,KAAKsgE,QAAUtgE,KAAKu1B,KAAK23B,WAAWoT,aA9BlCtgE,KAAKogE,MAAO,EAiChB,SAASmE,EAAchvC,EAAMlrB,EAAMsW,GACjC3gB,KAAK07D,SAAW,QAChB17D,KAAKkjD,KAAO3tB,EAAK2tB,KACjBljD,KAAKk0B,UAAYqB,EACjBv1B,KAAKu1B,KAAOA,EACZv1B,KAAKqK,KAAOA,EACZrK,KAAKixC,GAAI,EACTjxC,KAAK2gE,IAAK,EACV3gE,KAAKogE,MAAO,EACZ,IAAIxb,EAAoB,IAATjkC,EAAatW,EAAKq4C,GAAGzR,EAAI5mC,EAAKg5C,GAAGpS,EAChDjxC,KAAKuhC,EAAIwhC,UAAUrjE,MAAMklD,GACzB5kD,KAAK27D,GAAKoH,UAAUrjE,MAAMM,KAAKuhC,GAC/BvhC,KAAKmkE,qBAAuBb,oBAAoBC,qBAChDvjE,KAAKkkE,MAAQlkE,KAAKmkE,qBAClBnkE,KAAKkkE,MAAMd,SAASpjE,KAAKuhC,GACzBvhC,KAAKgnC,MAAQi9B,EACbjkE,KAAKugE,gBAAkB,GAGzB,SAASK,EAAUC,GACjB7gE,KAAKugE,gBAAgBp5D,KAAK05D,GAC1B7gE,KAAKk0B,UAAU4sC,mBAAmB9gE,MAQpC,SAASwkE,EAAuBjvC,EAAMlrB,EAAMsW,GAC1C3gB,KAAK07D,SAAW,QAChB17D,KAAKkjD,KAAO3tB,EAAK2tB,KACjBljD,KAAKu1B,KAAOA,EACZv1B,KAAKk0B,UAAYqB,EACjBv1B,KAAKy7D,WAAalmC,EAAKlrB,KAAKk6C,GAC5BvkD,KAAKk8D,UAAqB,IAATv7C,EAAatW,EAAKq4C,GAAGzR,EAAI5mC,EAAKg5C,GAAGpS,EAClDjxC,KAAKm8D,kBAAoB,GACzBn8D,KAAKixC,GAAI,EACTjxC,KAAK2gE,IAAK,EACV,IAAIn/C,EAAMxhB,KAAKk8D,UAAU,GAAGvvC,EAAE,GAAGhjB,EAAEtF,OACnCrE,KAAKuhC,EAAIwhC,UAAUhN,aACnB/1D,KAAKuhC,EAAEugC,YAAY9hE,KAAKk8D,UAAU,GAAGvvC,EAAE,GAAG+T,EAAGlf,GAC7CxhB,KAAK27D,GAAKoH,UAAUrjE,MAAMM,KAAKuhC,GAC/BvhC,KAAKmkE,qBAAuBb,oBAAoBC,qBAChDvjE,KAAKkkE,MAAQlkE,KAAKmkE,qBAClBnkE,KAAKkkE,MAAMd,SAASpjE,KAAKuhC,GACzBvhC,KAAKu9D,UAAYpC,EACjBn7D,KAAKgnC,MAAQi9B,EACbjkE,KAAK+/D,SAAW,CACdxC,UAAWpC,EACXc,UAAW,GAEbj8D,KAAKugE,gBAAkB,CAACyD,EAA4BjoD,KAAK/b,OA5B3DukE,EAActiE,UAAUyhE,iBAAmBA,EAC3Ca,EAActiE,UAAUg/D,SAAWZ,EACnCkE,EAActiE,UAAUg+D,UAAYA,EACpCsE,EAActiE,UAAU2+D,UAAYA,EA4BpC4D,EAAuBviE,UAAUg/D,SAAWZ,EAC5CmE,EAAuBviE,UAAUyhE,iBAAmBA,EACpDc,EAAuBviE,UAAUg+D,UAAYA,EAC7CuE,EAAuBviE,UAAU2+D,UAAYA,EAE7C,IAAI6D,EAAmB,WACrB,IAAIC,EAAS/mB,YAEb,SAASgnB,EAAwBpvC,EAAMlrB,GACrCrK,KAAKuhC,EAAIwhC,UAAUhN,aACnB/1D,KAAKuhC,EAAEugC,aAAY,EAAM,GACzB9hE,KAAKmkE,qBAAuBb,oBAAoBC,qBAChDvjE,KAAKkkE,MAAQlkE,KAAKmkE,qBAClBnkE,KAAKmkE,qBAAqBf,SAASpjE,KAAKuhC,GACxCvhC,KAAKw3C,EAAIntC,EAAKmtC,EACdx3C,KAAKu1B,KAAOA,EACZv1B,KAAKkjD,KAAO3tB,EAAK2tB,KACjBljD,KAAKsgE,SAAW,EAChBtgE,KAAK2hE,6BAA6BpsC,GAClCv1B,KAAK2/C,EAAIub,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKs1C,EAAG,EAAG,EAAG3/C,MACrDA,KAAK2sB,EAAIuuC,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsiB,EAAG,EAAG,EAAG3sB,MAEjDA,KAAKwhE,kBAAkBn9D,OACzBrE,KAAKixC,GAAI,GAETjxC,KAAKixC,GAAI,EACTjxC,KAAK4kE,oBAsDT,OAlDAD,EAAwB1iE,UAAY,CAClC+kC,MAAOi9B,EACPhD,SAAU,WACJjhE,KAAKu1B,KAAK23B,WAAWoT,UAAYtgE,KAAKsgE,UAI1CtgE,KAAKsgE,QAAUtgE,KAAKu1B,KAAK23B,WAAWoT,QACpCtgE,KAAK0hE,2BAED1hE,KAAKogE,MACPpgE,KAAK4kE,qBAGTA,iBAAkB,WAChB,IAAIC,EAAK7kE,KAAK2/C,EAAEpe,EAAE,GACdujC,EAAK9kE,KAAK2/C,EAAEpe,EAAE,GACdwjC,EAAK/kE,KAAK2sB,EAAE4U,EAAE,GAAK,EACnBm+B,EAAK1/D,KAAK2sB,EAAE4U,EAAE,GAAK,EAEnByjC,EAAiB,IAAXhlE,KAAKw3C,EAEXytB,EAAKjlE,KAAKuhC,EACd0jC,EAAG1jC,EAAE,GAAG,GAAKsjC,EACbI,EAAG1jC,EAAE,GAAG,GAAKujC,EAAKpF,EAClBuF,EAAG1jC,EAAE,GAAG,GAAKyjC,EAAMH,EAAKE,EAAKF,EAAKE,EAClCE,EAAG1jC,EAAE,GAAG,GAAKujC,EACbG,EAAG1jC,EAAE,GAAG,GAAKsjC,EACbI,EAAG1jC,EAAE,GAAG,GAAKujC,EAAKpF,EAClBuF,EAAG1jC,EAAE,GAAG,GAAKyjC,EAAMH,EAAKE,EAAKF,EAAKE,EAClCE,EAAG1jC,EAAE,GAAG,GAAKujC,EACbG,EAAGt7D,EAAE,GAAG,GAAKq7D,EAAMH,EAAKE,EAAKL,EAASG,EAAKE,EAAKL,EAChDO,EAAGt7D,EAAE,GAAG,GAAKm7D,EAAKpF,EAClBuF,EAAGt7D,EAAE,GAAG,GAAKq7D,EAAMH,EAAKE,EAAKF,EAAKE,EAClCE,EAAGt7D,EAAE,GAAG,GAAKm7D,EAAKpF,EAAKgF,EACvBO,EAAGt7D,EAAE,GAAG,GAAKq7D,EAAMH,EAAKE,EAAKL,EAASG,EAAKE,EAAKL,EAChDO,EAAGt7D,EAAE,GAAG,GAAKm7D,EAAKpF,EAClBuF,EAAGt7D,EAAE,GAAG,GAAKq7D,EAAMH,EAAKE,EAAKF,EAAKE,EAClCE,EAAGt7D,EAAE,GAAG,GAAKm7D,EAAKpF,EAAKgF,EACvBO,EAAGttD,EAAE,GAAG,GAAKqtD,EAAMH,EAAKE,EAAKL,EAASG,EAAKE,EAAKL,EAChDO,EAAGttD,EAAE,GAAG,GAAKmtD,EAAKpF,EAClBuF,EAAGttD,EAAE,GAAG,GAAKqtD,EAAMH,EAAKE,EAAKF,EAAKE,EAClCE,EAAGttD,EAAE,GAAG,GAAKmtD,EAAKpF,EAAKgF,EACvBO,EAAGttD,EAAE,GAAG,GAAKqtD,EAAMH,EAAKE,EAAKL,EAASG,EAAKE,EAAKL,EAChDO,EAAGttD,EAAE,GAAG,GAAKmtD,EAAKpF,EAClBuF,EAAGttD,EAAE,GAAG,GAAKqtD,EAAMH,EAAKE,EAAKF,EAAKE,EAClCE,EAAGttD,EAAE,GAAG,GAAKmtD,EAAKpF,EAAKgF,IAG3BzqB,gBAAgB,CAACsnB,0BAA2BoD,GACrCA,EA3Ec,GA8EnBO,EAAoB,WACtB,SAASC,EAAyB5vC,EAAMlrB,GACtCrK,KAAKuhC,EAAIwhC,UAAUhN,aACnB/1D,KAAKuhC,EAAEugC,aAAY,EAAM,GACzB9hE,KAAKu1B,KAAOA,EACZv1B,KAAKkjD,KAAO3tB,EAAK2tB,KACjBljD,KAAKqK,KAAOA,EACZrK,KAAKsgE,SAAW,EAChBtgE,KAAKw3C,EAAIntC,EAAKmtC,EACdx3C,KAAK2hE,6BAA6BpsC,GAElB,IAAZlrB,EAAK+6D,IACPplE,KAAKqlE,GAAKnK,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKg7D,GAAI,EAAG,EAAGrlE,MACvDA,KAAKq2B,GAAK6kC,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKgsB,GAAI,EAAG,IAAMr2B,MAC1DA,KAAKslE,cAAgBtlE,KAAKulE,mBAE1BvlE,KAAKslE,cAAgBtlE,KAAKwlE,qBAG5BxlE,KAAK0iD,GAAKwY,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKq4C,GAAI,EAAG,EAAG1iD,MACvDA,KAAK2/C,EAAIub,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKs1C,EAAG,EAAG,EAAG3/C,MACrDA,KAAKigC,EAAIi7B,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAK41B,EAAG,EAAGwd,UAAWz9C,MAC7DA,KAAKylE,GAAKvK,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKo7D,GAAI,EAAG,EAAGzlE,MACvDA,KAAK0lE,GAAKxK,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKq7D,GAAI,EAAG,IAAM1lE,MAC1DA,KAAKmkE,qBAAuBb,oBAAoBC,qBAChDvjE,KAAKmkE,qBAAqBf,SAASpjE,KAAKuhC,GACxCvhC,KAAKkkE,MAAQlkE,KAAKmkE,qBAEdnkE,KAAKwhE,kBAAkBn9D,OACzBrE,KAAKixC,GAAI,GAETjxC,KAAKixC,GAAI,EACTjxC,KAAKslE,iBAyFT,OArFAH,EAAyBljE,UAAY,CACnC+kC,MAAOi9B,EACPhD,SAAU,WACJjhE,KAAKu1B,KAAK23B,WAAWoT,UAAYtgE,KAAKsgE,UAI1CtgE,KAAKsgE,QAAUtgE,KAAKu1B,KAAK23B,WAAWoT,QACpCtgE,KAAK0hE,2BAED1hE,KAAKogE,MACPpgE,KAAKslE,kBAGTC,kBAAmB,WACjB,IAaI57D,EACAg8D,EACAC,EACAC,EAhBAC,EAAiC,EAAxB9+D,KAAKC,MAAMjH,KAAK0iD,GAAGnhB,GAC5BwkC,EAAkB,EAAV/+D,KAAK02C,GAASooB,EAKtBE,GAAW,EACXC,EAAUjmE,KAAKylE,GAAGlkC,EAClB2kC,EAAWlmE,KAAKqlE,GAAG9jC,EACnB4kC,EAAYnmE,KAAK0lE,GAAGnkC,EACpB6kC,EAAapmE,KAAKq2B,GAAGkL,EACrB8kC,EAAmB,EAAIr/D,KAAK02C,GAAKuoB,GAAoB,EAATH,GAC5CQ,EAAoB,EAAIt/D,KAAK02C,GAAKwoB,GAAqB,EAATJ,GAK9CS,GAAcv/D,KAAK02C,GAAK,EAC5B6oB,GAAcvmE,KAAKigC,EAAEsB,EACrB,IAAIzhB,EAAsB,IAAhB9f,KAAKqK,KAAKmtC,GAAW,EAAI,EAGnC,IAFAx3C,KAAKuhC,EAAEq0B,QAAU,EAEZjsD,EAAI,EAAGA,EAAIm8D,EAAQn8D,GAAK,EAAG,CAE9Bi8D,EAAYI,EAAWG,EAAYC,EACnCP,EAAeG,EAAWK,EAAmBC,EAC7C,IAAIr8B,GAHJ07B,EAAMK,EAAWC,EAAUC,GAGbl/D,KAAKu4D,IAAIgH,GACnBnJ,EAAIuI,EAAM3+D,KAAKk4D,IAAIqH,GACnBC,EAAW,IAANv8B,GAAiB,IAANmzB,EAAU,EAAIA,EAAIp2D,KAAK+1C,KAAK9S,EAAIA,EAAImzB,EAAIA,GACxDqJ,EAAW,IAANx8B,GAAiB,IAANmzB,EAAU,GAAKnzB,EAAIjjC,KAAK+1C,KAAK9S,EAAIA,EAAImzB,EAAIA,GAC7DnzB,IAAMjqC,KAAK2/C,EAAEpe,EAAE,GACf67B,IAAMp9D,KAAK2/C,EAAEpe,EAAE,GACfvhC,KAAKuhC,EAAE4gC,YAAYl4B,EAAGmzB,EAAGnzB,EAAIu8B,EAAKX,EAAeD,EAAY9lD,EAAKs9C,EAAIqJ,EAAKZ,EAAeD,EAAY9lD,EAAKmqB,EAAIu8B,EAAKX,EAAeD,EAAY9lD,EAAKs9C,EAAIqJ,EAAKZ,EAAeD,EAAY9lD,EAAKnW,GAAG,GAMhMq8D,GAAYA,EACZO,GAAcR,EAAQjmD,IAG1B0lD,qBAAsB,WACpB,IAKI77D,EALAm8D,EAAS9+D,KAAKC,MAAMjH,KAAK0iD,GAAGnhB,GAC5BwkC,EAAkB,EAAV/+D,KAAK02C,GAASooB,EACtBH,EAAM3lE,KAAKylE,GAAGlkC,EACdqkC,EAAY5lE,KAAK0lE,GAAGnkC,EACpBskC,EAAe,EAAI7+D,KAAK02C,GAAKioB,GAAgB,EAATG,GAEpCS,EAAwB,IAAVv/D,KAAK02C,GACnB59B,EAAsB,IAAhB9f,KAAKqK,KAAKmtC,GAAW,EAAI,EAInC,IAHA+uB,GAAcvmE,KAAKigC,EAAEsB,EACrBvhC,KAAKuhC,EAAEq0B,QAAU,EAEZjsD,EAAI,EAAGA,EAAIm8D,EAAQn8D,GAAK,EAAG,CAC9B,IAAIsgC,EAAI07B,EAAM3+D,KAAKu4D,IAAIgH,GACnBnJ,EAAIuI,EAAM3+D,KAAKk4D,IAAIqH,GACnBC,EAAW,IAANv8B,GAAiB,IAANmzB,EAAU,EAAIA,EAAIp2D,KAAK+1C,KAAK9S,EAAIA,EAAImzB,EAAIA,GACxDqJ,EAAW,IAANx8B,GAAiB,IAANmzB,EAAU,GAAKnzB,EAAIjjC,KAAK+1C,KAAK9S,EAAIA,EAAImzB,EAAIA,GAC7DnzB,IAAMjqC,KAAK2/C,EAAEpe,EAAE,GACf67B,IAAMp9D,KAAK2/C,EAAEpe,EAAE,GACfvhC,KAAKuhC,EAAE4gC,YAAYl4B,EAAGmzB,EAAGnzB,EAAIu8B,EAAKX,EAAeD,EAAY9lD,EAAKs9C,EAAIqJ,EAAKZ,EAAeD,EAAY9lD,EAAKmqB,EAAIu8B,EAAKX,EAAeD,EAAY9lD,EAAKs9C,EAAIqJ,EAAKZ,EAAeD,EAAY9lD,EAAKnW,GAAG,GAChM48D,GAAcR,EAAQjmD,EAGxB9f,KAAKkkE,MAAM7/D,OAAS,EACpBrE,KAAKkkE,MAAM,GAAKlkE,KAAKuhC,IAGzB0Y,gBAAgB,CAACsnB,0BAA2B4D,GACrCA,EAzHe,GA4HpBuB,EAAoB,WACtB,SAASC,EAAyBpxC,EAAMlrB,GACtCrK,KAAKuhC,EAAIwhC,UAAUhN,aACnB/1D,KAAKuhC,EAAEb,GAAI,EACX1gC,KAAKmkE,qBAAuBb,oBAAoBC,qBAChDvjE,KAAKmkE,qBAAqBf,SAASpjE,KAAKuhC,GACxCvhC,KAAKkkE,MAAQlkE,KAAKmkE,qBAClBnkE,KAAKu1B,KAAOA,EACZv1B,KAAKkjD,KAAO3tB,EAAK2tB,KACjBljD,KAAKsgE,SAAW,EAChBtgE,KAAKw3C,EAAIntC,EAAKmtC,EACdx3C,KAAK2hE,6BAA6BpsC,GAClCv1B,KAAK2/C,EAAIub,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKs1C,EAAG,EAAG,EAAG3/C,MACrDA,KAAK2sB,EAAIuuC,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsiB,EAAG,EAAG,EAAG3sB,MACrDA,KAAKigC,EAAIi7B,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAK41B,EAAG,EAAG,EAAGjgC,MAEjDA,KAAKwhE,kBAAkBn9D,OACzBrE,KAAKixC,GAAI,GAETjxC,KAAKixC,GAAI,EACTjxC,KAAK4mE,qBA8DT,OA1DAD,EAAyB1kE,UAAY,CACnC2kE,kBAAmB,WACjB,IAAI/B,EAAK7kE,KAAK2/C,EAAEpe,EAAE,GACdujC,EAAK9kE,KAAK2/C,EAAEpe,EAAE,GACdslC,EAAK7mE,KAAK2sB,EAAE4U,EAAE,GAAK,EACnBulC,EAAK9mE,KAAK2sB,EAAE4U,EAAE,GAAK,EACnBvI,EAAQkkB,MAAM2pB,EAAIC,EAAI9mE,KAAKigC,EAAEsB,GAC7BmjC,EAAS1rC,GAAS,EAAI2kB,aAC1B39C,KAAKuhC,EAAEq0B,QAAU,EAEF,IAAX51D,KAAKw3C,GAAsB,IAAXx3C,KAAKw3C,GACvBx3C,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO6rC,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO6rC,EAAKgC,EAAI/B,EAAKgC,EAAKpC,EAAQ,GAAG,GACrG1kE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO6rC,EAAKgC,EAAI/B,EAAKgC,EAAKpC,EAAQG,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO,GAAG,GAEvF,IAAVA,GACFh5B,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAIjC,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAIjC,EAAKgC,EAAKnC,EAAQI,EAAKgC,EAAI,GAAG,GACrG9mE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAIjC,EAAKgC,EAAKnC,EAAQI,EAAKgC,EAAIjC,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAI,GAAG,GACrG9mE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO6rC,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO6rC,EAAKgC,EAAI/B,EAAKgC,EAAKpC,EAAQ,GAAG,GACrG1kE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO6rC,EAAKgC,EAAI/B,EAAKgC,EAAKpC,EAAQG,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO,GAAG,GACrGh5B,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAIjC,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAIjC,EAAKgC,EAAKnC,EAAQI,EAAKgC,EAAI,GAAG,GACrG9mE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAIjC,EAAKgC,EAAKnC,EAAQI,EAAKgC,EAAIjC,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAI,GAAG,KAErG9mE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAI/B,EAAKgC,EAAIjC,EAAKgC,EAAKnC,EAAQI,EAAKgC,EAAIjC,EAAKgC,EAAI/B,EAAKgC,EAAI,GAClF9mE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAI/B,EAAKgC,EAAIjC,EAAKgC,EAAI/B,EAAKgC,EAAKpC,EAAQG,EAAKgC,EAAI/B,EAAKgC,EAAI,MAGpF9mE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO6rC,EAAKgC,EAAI/B,EAAKgC,EAAKpC,EAAQG,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO,GAAG,GAEvF,IAAVA,GACFh5B,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAIjC,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAIjC,EAAKgC,EAAKnC,EAAQI,EAAKgC,EAAI,GAAG,GACrG9mE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAIjC,EAAKgC,EAAKnC,EAAQI,EAAKgC,EAAIjC,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAI,GAAG,GACrG9mE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO6rC,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO6rC,EAAKgC,EAAI/B,EAAKgC,EAAKpC,EAAQ,GAAG,GACrG1kE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO6rC,EAAKgC,EAAI/B,EAAKgC,EAAKpC,EAAQG,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO,GAAG,GACrGh5B,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAIjC,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAIjC,EAAKgC,EAAKnC,EAAQI,EAAKgC,EAAI,GAAG,GACrG9mE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAIjC,EAAKgC,EAAKnC,EAAQI,EAAKgC,EAAIjC,EAAKgC,EAAK7tC,EAAO8rC,EAAKgC,EAAI,GAAG,GACrG9mE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO6rC,EAAKgC,EAAI/B,EAAKgC,EAAK9tC,EAAO6rC,EAAKgC,EAAI/B,EAAKgC,EAAKpC,EAAQ,GAAG,KAErG1kE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAI/B,EAAKgC,EAAIjC,EAAKgC,EAAKnC,EAAQI,EAAKgC,EAAIjC,EAAKgC,EAAI/B,EAAKgC,EAAI,GAAG,GACrF9mE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAI/B,EAAKgC,EAAIjC,EAAKgC,EAAI/B,EAAKgC,EAAKpC,EAAQG,EAAKgC,EAAI/B,EAAKgC,EAAI,GAAG,GACrF9mE,KAAKuhC,EAAE4gC,YAAY0C,EAAKgC,EAAI/B,EAAKgC,EAAIjC,EAAKgC,EAAKnC,EAAQI,EAAKgC,EAAIjC,EAAKgC,EAAI/B,EAAKgC,EAAI,GAAG,MAI3F7F,SAAU,WACJjhE,KAAKu1B,KAAK23B,WAAWoT,UAAYtgE,KAAKsgE,UAI1CtgE,KAAKsgE,QAAUtgE,KAAKu1B,KAAK23B,WAAWoT,QACpCtgE,KAAK0hE,2BAED1hE,KAAKogE,MACPpgE,KAAK4mE,sBAGT5/B,MAAOi9B,GAEThqB,gBAAgB,CAACsnB,0BAA2BoF,GACrCA,EAlFe,GAwHpBte,EAAK,CACTA,aApCA,SAAsB9yB,EAAMlrB,EAAMsW,GAChC,IAAIiH,EAuBJ,OArBa,IAATjH,GAAuB,IAATA,EAKdiH,GAJsB,IAATjH,EAAatW,EAAKq4C,GAAKr4C,EAAKg5C,IACvBpS,EAEX5sC,OACA,IAAImgE,EAAuBjvC,EAAMlrB,EAAMsW,GAEvC,IAAI4jD,EAAchvC,EAAMlrB,EAAMsW,GAErB,IAATA,EACTiH,EAAO,IAAI8+C,EAAkBnxC,EAAMlrB,GACjB,IAATsW,EACTiH,EAAO,IAAI68C,EAAiBlvC,EAAMlrB,GAChB,IAATsW,IACTiH,EAAO,IAAIs9C,EAAkB3vC,EAAMlrB,IAGjCud,EAAKqpB,GACP1b,EAAKurC,mBAAmBl5C,GAGnBA,GAaTygC,uBAVA,WACE,OAAOkc,GAUTlc,gCAPA,WACE,OAAOmc,IAOT,OAAOnc,EAxjBkB,GAwlBvB0e,OAAS,WACX,IAAIC,EAAOhgE,KAAKu4D,IACZ0H,EAAOjgE,KAAKk4D,IACZgI,EAAOlgE,KAAKmgE,IACZC,EAAOpgE,KAAKgyB,MAEhB,SAASgO,IAiBP,OAhBAhnC,KAAK64B,MAAM,GAAK,EAChB74B,KAAK64B,MAAM,GAAK,EAChB74B,KAAK64B,MAAM,GAAK,EAChB74B,KAAK64B,MAAM,GAAK,EAChB74B,KAAK64B,MAAM,GAAK,EAChB74B,KAAK64B,MAAM,GAAK,EAChB74B,KAAK64B,MAAM,GAAK,EAChB74B,KAAK64B,MAAM,GAAK,EAChB74B,KAAK64B,MAAM,GAAK,EAChB74B,KAAK64B,MAAM,GAAK,EAChB74B,KAAK64B,MAAM,IAAM,EACjB74B,KAAK64B,MAAM,IAAM,EACjB74B,KAAK64B,MAAM,IAAM,EACjB74B,KAAK64B,MAAM,IAAM,EACjB74B,KAAK64B,MAAM,IAAM,EACjB74B,KAAK64B,MAAM,IAAM,EACV74B,KAGT,SAASqnE,EAAOtB,GACd,GAAc,IAAVA,EACF,OAAO/lE,KAGT,IAAIsnE,EAAON,EAAKjB,GAEZwB,EAAON,EAAKlB,GAEhB,OAAO/lE,KAAKwnE,GAAGF,GAAOC,EAAM,EAAG,EAAGA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAG3E,SAASG,EAAQ1B,GACf,GAAc,IAAVA,EACF,OAAO/lE,KAGT,IAAIsnE,EAAON,EAAKjB,GAEZwB,EAAON,EAAKlB,GAEhB,OAAO/lE,KAAKwnE,GAAG,EAAG,EAAG,EAAG,EAAG,EAAGF,GAAOC,EAAM,EAAG,EAAGA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,GAG3E,SAASI,EAAQ3B,GACf,GAAc,IAAVA,EACF,OAAO/lE,KAGT,IAAIsnE,EAAON,EAAKjB,GAEZwB,EAAON,EAAKlB,GAEhB,OAAO/lE,KAAKwnE,GAAGF,EAAM,EAAGC,EAAM,EAAG,EAAG,EAAG,EAAG,GAAIA,EAAM,EAAGD,EAAM,EAAG,EAAG,EAAG,EAAG,GAG3E,SAASK,EAAQ5B,GACf,GAAc,IAAVA,EACF,OAAO/lE,KAGT,IAAIsnE,EAAON,EAAKjB,GAEZwB,EAAON,EAAKlB,GAEhB,OAAO/lE,KAAKwnE,GAAGF,GAAOC,EAAM,EAAG,EAAGA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAG3E,SAASM,EAAMC,EAAIzC,GACjB,OAAOplE,KAAKwnE,GAAG,EAAGpC,EAAIyC,EAAI,EAAG,EAAG,GAGlC,SAASC,EAAKrJ,EAAIC,GAChB,OAAO1+D,KAAK4nE,MAAMV,EAAKzI,GAAKyI,EAAKxI,IAGnC,SAASqJ,EAAatJ,EAAIsH,GACxB,IAAIuB,EAAON,EAAKjB,GAEZwB,EAAON,EAAKlB,GAEhB,OAAO/lE,KAAKwnE,GAAGF,EAAMC,EAAM,EAAG,GAAIA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAGE,GAAG,EAAG,EAAG,EAAG,EAAGN,EAAKzI,GAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAG+I,GAAGF,GAAOC,EAAM,EAAG,EAAGA,EAAMD,EAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAGrM,SAASU,EAAMH,EAAIzC,EAAI6C,GAKrB,OAJKA,GAAa,IAAPA,IACTA,EAAK,GAGI,IAAPJ,GAAmB,IAAPzC,GAAmB,IAAP6C,EACnBjoE,KAGFA,KAAKwnE,GAAGK,EAAI,EAAG,EAAG,EAAG,EAAGzC,EAAI,EAAG,EAAG,EAAG,EAAG6C,EAAI,EAAG,EAAG,EAAG,EAAG,GAGjE,SAASC,EAAatjD,EAAGC,EAAG6b,EAAG8W,EAAG1nC,EAAG4nC,EAAGljC,EAAGkrC,EAAG/1C,EAAGE,EAAGonC,EAAGD,EAAGhX,EAAG6X,EAAGl6B,EAAGgoC,GAiBjE,OAhBA3/C,KAAK64B,MAAM,GAAKjU,EAChB5kB,KAAK64B,MAAM,GAAKhU,EAChB7kB,KAAK64B,MAAM,GAAK6H,EAChB1gC,KAAK64B,MAAM,GAAK2e,EAChBx3C,KAAK64B,MAAM,GAAK/oB,EAChB9P,KAAK64B,MAAM,GAAK6e,EAChB13C,KAAK64B,MAAM,GAAKrkB,EAChBxU,KAAK64B,MAAM,GAAK6mB,EAChB1/C,KAAK64B,MAAM,GAAKlvB,EAChB3J,KAAK64B,MAAM,GAAKhvB,EAChB7J,KAAK64B,MAAM,IAAMoY,EACjBjxC,KAAK64B,MAAM,IAAMmY,EACjBhxC,KAAK64B,MAAM,IAAMmB,EACjBh6B,KAAK64B,MAAM,IAAMgZ,EACjB7xC,KAAK64B,MAAM,IAAMlhB,EACjB3X,KAAK64B,MAAM,IAAM8mB,EACV3/C,KAGT,SAASmoE,EAAUC,EAAIxlB,EAAIylB,GAGzB,OAFAA,EAAKA,GAAM,EAEA,IAAPD,GAAmB,IAAPxlB,GAAmB,IAAPylB,EACnBroE,KAAKwnE,GAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAGY,EAAIxlB,EAAIylB,EAAI,GAG1DroE,KAGT,SAASsoE,EAAUC,EAAIC,EAAIhJ,EAAIiJ,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAC7E,IAAIvV,EAAK9zD,KAAK64B,MAEd,GAAW,IAAP0vC,GAAmB,IAAPC,GAAmB,IAAPhJ,GAAmB,IAAPiJ,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,EAStI,OANAnV,EAAG,IAAMA,EAAG,IAAMyU,EAAKzU,EAAG,IAAMoV,EAChCpV,EAAG,IAAMA,EAAG,IAAM6U,EAAK7U,EAAG,IAAMqV,EAChCrV,EAAG,IAAMA,EAAG,IAAMkV,EAAKlV,EAAG,IAAMsV,EAChCtV,EAAG,KAAOuV,EAEVrpE,KAAKspE,qBAAsB,EACpBtpE,KAGT,IAAIupE,EAAKzV,EAAG,GACR0V,EAAK1V,EAAG,GACRwL,EAAKxL,EAAG,GACR2V,EAAK3V,EAAG,GACR4V,EAAK5V,EAAG,GACR6V,EAAK7V,EAAG,GACR8V,EAAK9V,EAAG,GACR+V,EAAK/V,EAAG,GACRgW,EAAKhW,EAAG,GACRiW,EAAKjW,EAAG,GACRkW,EAAKlW,EAAG,IACRmW,EAAKnW,EAAG,IACRoW,EAAKpW,EAAG,IACRqW,EAAKrW,EAAG,IACRsW,EAAKtW,EAAG,IACRgR,EAAKhR,EAAG,IAwBZ,OAjBAA,EAAG,GAAKyV,EAAKhB,EAAKiB,EAAKd,EAAKpJ,EAAKwJ,EAAKW,EAAKP,EAC3CpV,EAAG,GAAKyV,EAAKf,EAAKgB,EAAKb,EAAKrJ,EAAKyJ,EAAKU,EAAKN,EAC3CrV,EAAG,GAAKyV,EAAK/J,EAAKgK,EAAKZ,EAAKtJ,EAAK0J,EAAKS,EAAKL,EAC3CtV,EAAG,GAAKyV,EAAKd,EAAKe,EAAKX,EAAKvJ,EAAK2J,EAAKQ,EAAKJ,EAC3CvV,EAAG,GAAK4V,EAAKnB,EAAKoB,EAAKjB,EAAKkB,EAAKd,EAAKe,EAAKX,EAC3CpV,EAAG,GAAK4V,EAAKlB,EAAKmB,EAAKhB,EAAKiB,EAAKb,EAAKc,EAAKV,EAC3CrV,EAAG,GAAK4V,EAAKlK,EAAKmK,EAAKf,EAAKgB,EAAKZ,EAAKa,EAAKT,EAC3CtV,EAAG,GAAK4V,EAAKjB,EAAKkB,EAAKd,EAAKe,EAAKX,EAAKY,EAAKR,EAC3CvV,EAAG,GAAKgW,EAAKvB,EAAKwB,EAAKrB,EAAKsB,EAAKlB,EAAKmB,EAAKf,EAC3CpV,EAAG,GAAKgW,EAAKtB,EAAKuB,EAAKpB,EAAKqB,EAAKjB,EAAKkB,EAAKd,EAC3CrV,EAAG,IAAMgW,EAAKtK,EAAKuK,EAAKnB,EAAKoB,EAAKhB,EAAKiB,EAAKb,EAC5CtV,EAAG,IAAMgW,EAAKrB,EAAKsB,EAAKlB,EAAKmB,EAAKf,EAAKgB,EAAKZ,EAC5CvV,EAAG,IAAMoW,EAAK3B,EAAK4B,EAAKzB,EAAK0B,EAAKtB,EAAKhE,EAAKoE,EAC5CpV,EAAG,IAAMoW,EAAK1B,EAAK2B,EAAKxB,EAAKyB,EAAKrB,EAAKjE,EAAKqE,EAC5CrV,EAAG,IAAMoW,EAAK1K,EAAK2K,EAAKvB,EAAKwB,EAAKpB,EAAKlE,EAAKsE,EAC5CtV,EAAG,IAAMoW,EAAKzB,EAAK0B,EAAKtB,EAAKuB,EAAKnB,EAAKnE,EAAKuE,EAC5CrpE,KAAKspE,qBAAsB,EACpBtpE,KAGT,SAASqqE,IAMP,OALKrqE,KAAKspE,sBACRtpE,KAAKsqE,YAAgC,IAAlBtqE,KAAK64B,MAAM,IAA8B,IAAlB74B,KAAK64B,MAAM,IAA8B,IAAlB74B,KAAK64B,MAAM,IAA8B,IAAlB74B,KAAK64B,MAAM,IAA8B,IAAlB74B,KAAK64B,MAAM,IAA8B,IAAlB74B,KAAK64B,MAAM,IAA8B,IAAlB74B,KAAK64B,MAAM,IAA8B,IAAlB74B,KAAK64B,MAAM,IAA8B,IAAlB74B,KAAK64B,MAAM,IAA8B,IAAlB74B,KAAK64B,MAAM,IAA+B,IAAnB74B,KAAK64B,MAAM,KAAgC,IAAnB74B,KAAK64B,MAAM,KAAgC,IAAnB74B,KAAK64B,MAAM,KAAgC,IAAnB74B,KAAK64B,MAAM,KAAgC,IAAnB74B,KAAK64B,MAAM,KAAgC,IAAnB74B,KAAK64B,MAAM,KAC5X74B,KAAKspE,qBAAsB,GAGtBtpE,KAAKsqE,UAGd,SAASC,EAAOC,GAGd,IAFA,IAAI7gE,EAAI,EAEDA,EAAI,IAAI,CACb,GAAI6gE,EAAK3xC,MAAMlvB,KAAO3J,KAAK64B,MAAMlvB,GAC/B,OAAO,EAGTA,GAAK,EAGP,OAAO,EAGT,SAASjK,EAAM8qE,GACb,IAAI7gE,EAEJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACvB6gE,EAAK3xC,MAAMlvB,GAAK3J,KAAK64B,MAAMlvB,GAG7B,OAAO6gE,EAGT,SAASC,EAAe5xC,GACtB,IAAIlvB,EAEJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACvB3J,KAAK64B,MAAMlvB,GAAKkvB,EAAMlvB,GAI1B,SAAS+gE,EAAazgC,EAAGmzB,EAAGuN,GAC1B,MAAO,CACL1gC,EAAGA,EAAIjqC,KAAK64B,MAAM,GAAKukC,EAAIp9D,KAAK64B,MAAM,GAAK8xC,EAAI3qE,KAAK64B,MAAM,GAAK74B,KAAK64B,MAAM,IAC1EukC,EAAGnzB,EAAIjqC,KAAK64B,MAAM,GAAKukC,EAAIp9D,KAAK64B,MAAM,GAAK8xC,EAAI3qE,KAAK64B,MAAM,GAAK74B,KAAK64B,MAAM,IAC1E8xC,EAAG1gC,EAAIjqC,KAAK64B,MAAM,GAAKukC,EAAIp9D,KAAK64B,MAAM,GAAK8xC,EAAI3qE,KAAK64B,MAAM,IAAM74B,KAAK64B,MAAM,KAQ/E,SAAS+xC,EAAS3gC,EAAGmzB,EAAGuN,GACtB,OAAO1gC,EAAIjqC,KAAK64B,MAAM,GAAKukC,EAAIp9D,KAAK64B,MAAM,GAAK8xC,EAAI3qE,KAAK64B,MAAM,GAAK74B,KAAK64B,MAAM,IAGhF,SAASgyC,EAAS5gC,EAAGmzB,EAAGuN,GACtB,OAAO1gC,EAAIjqC,KAAK64B,MAAM,GAAKukC,EAAIp9D,KAAK64B,MAAM,GAAK8xC,EAAI3qE,KAAK64B,MAAM,GAAK74B,KAAK64B,MAAM,IAGhF,SAASiyC,EAAS7gC,EAAGmzB,EAAGuN,GACtB,OAAO1gC,EAAIjqC,KAAK64B,MAAM,GAAKukC,EAAIp9D,KAAK64B,MAAM,GAAK8xC,EAAI3qE,KAAK64B,MAAM,IAAM74B,KAAK64B,MAAM,IAGjF,SAASkyC,IACP,IAAIC,EAAchrE,KAAK64B,MAAM,GAAK74B,KAAK64B,MAAM,GAAK74B,KAAK64B,MAAM,GAAK74B,KAAK64B,MAAM,GACzEjU,EAAI5kB,KAAK64B,MAAM,GAAKmyC,EACpBnmD,GAAK7kB,KAAK64B,MAAM,GAAKmyC,EACrBtqC,GAAK1gC,KAAK64B,MAAM,GAAKmyC,EACrBxzB,EAAIx3C,KAAK64B,MAAM,GAAKmyC,EACpBl7D,GAAK9P,KAAK64B,MAAM,GAAK74B,KAAK64B,MAAM,IAAM74B,KAAK64B,MAAM,GAAK74B,KAAK64B,MAAM,KAAOmyC,EACxEtzB,IAAM13C,KAAK64B,MAAM,GAAK74B,KAAK64B,MAAM,IAAM74B,KAAK64B,MAAM,GAAK74B,KAAK64B,MAAM,KAAOmyC,EACzEC,EAAgB,IAAIlE,OAOxB,OANAkE,EAAcpyC,MAAM,GAAKjU,EACzBqmD,EAAcpyC,MAAM,GAAKhU,EACzBomD,EAAcpyC,MAAM,GAAK6H,EACzBuqC,EAAcpyC,MAAM,GAAK2e,EACzByzB,EAAcpyC,MAAM,IAAM/oB,EAC1Bm7D,EAAcpyC,MAAM,IAAM6e,EACnBuzB,EAGT,SAASC,EAAaxoB,GAEpB,OADoB1iD,KAAK+qE,mBACJI,kBAAkBzoB,EAAG,GAAIA,EAAG,GAAIA,EAAG,IAAM,GAGhE,SAAS0oB,EAAcC,GACrB,IAAI1hE,EACA6X,EAAM6pD,EAAIhnE,OACVinE,EAAS,GAEb,IAAK3hE,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB2hE,EAAO3hE,GAAKuhE,EAAaG,EAAI1hE,IAG/B,OAAO2hE,EAGT,SAASC,EAAoBrU,EAAKC,EAAKC,GACrC,IAAI/jD,EAAM4oC,iBAAiB,UAAW,GAEtC,GAAIj8C,KAAKqqE,aACPh3D,EAAI,GAAK6jD,EAAI,GACb7jD,EAAI,GAAK6jD,EAAI,GACb7jD,EAAI,GAAK8jD,EAAI,GACb9jD,EAAI,GAAK8jD,EAAI,GACb9jD,EAAI,GAAK+jD,EAAI,GACb/jD,EAAI,GAAK+jD,EAAI,OACR,CACL,IAAIyN,EAAK7kE,KAAK64B,MAAM,GAChBisC,EAAK9kE,KAAK64B,MAAM,GAChB2yC,EAAKxrE,KAAK64B,MAAM,GAChB4yC,EAAKzrE,KAAK64B,MAAM,GAChB6yC,EAAM1rE,KAAK64B,MAAM,IACjB8yC,EAAM3rE,KAAK64B,MAAM,IACrBxlB,EAAI,GAAK6jD,EAAI,GAAK2N,EAAK3N,EAAI,GAAKsU,EAAKE,EACrCr4D,EAAI,GAAK6jD,EAAI,GAAK4N,EAAK5N,EAAI,GAAKuU,EAAKE,EACrCt4D,EAAI,GAAK8jD,EAAI,GAAK0N,EAAK1N,EAAI,GAAKqU,EAAKE,EACrCr4D,EAAI,GAAK8jD,EAAI,GAAK2N,EAAK3N,EAAI,GAAKsU,EAAKE,EACrCt4D,EAAI,GAAK+jD,EAAI,GAAKyN,EAAKzN,EAAI,GAAKoU,EAAKE,EACrCr4D,EAAI,GAAK+jD,EAAI,GAAK0N,EAAK1N,EAAI,GAAKqU,EAAKE,EAGvC,OAAOt4D,EAGT,SAAS83D,EAAkBlhC,EAAGmzB,EAAGuN,GAS/B,OANI3qE,KAAKqqE,aACD,CAACpgC,EAAGmzB,EAAGuN,GAEP,CAAC1gC,EAAIjqC,KAAK64B,MAAM,GAAKukC,EAAIp9D,KAAK64B,MAAM,GAAK8xC,EAAI3qE,KAAK64B,MAAM,GAAK74B,KAAK64B,MAAM,IAAKoR,EAAIjqC,KAAK64B,MAAM,GAAKukC,EAAIp9D,KAAK64B,MAAM,GAAK8xC,EAAI3qE,KAAK64B,MAAM,GAAK74B,KAAK64B,MAAM,IAAKoR,EAAIjqC,KAAK64B,MAAM,GAAKukC,EAAIp9D,KAAK64B,MAAM,GAAK8xC,EAAI3qE,KAAK64B,MAAM,IAAM74B,KAAK64B,MAAM,KAM3O,SAAS+yC,EAAwB3hC,EAAGmzB,GAClC,GAAIp9D,KAAKqqE,aACP,OAAOpgC,EAAI,IAAMmzB,EAGnB,IAAItJ,EAAK9zD,KAAK64B,MACd,OAAO7xB,KAAKgyB,MAAyC,KAAlCiR,EAAI6pB,EAAG,GAAKsJ,EAAItJ,EAAG,GAAKA,EAAG,MAAc,IAAM,IAAM9sD,KAAKgyB,MAAyC,KAAlCiR,EAAI6pB,EAAG,GAAKsJ,EAAItJ,EAAG,GAAKA,EAAG,MAAc,IAG/H,SAAS+X,IAWP,IALA,IAAIliE,EAAI,EACJkvB,EAAQ74B,KAAK64B,MACbizC,EAAW,YAGRniE,EAAI,IACTmiE,GAAY1E,EAHN,IAGWvuC,EAAMlvB,IAHjB,IAINmiE,GAAkB,KAANniE,EAAW,IAAM,IAC7BA,GAAK,EAGP,OAAOmiE,EAGT,SAASC,EAAoBx7D,GAG3B,OAAIA,EAAM,MAAYA,EAAM,GAAKA,GAAO,MAAYA,EAAM,EACjD62D,EAHD,IAGM72D,GAHN,IAMDA,EAGT,SAASy7D,IAMP,IAAInzC,EAAQ74B,KAAK64B,MAcjB,MAAO,UAZEkzC,EAAoBlzC,EAAM,IAYX,IAVfkzC,EAAoBlzC,EAAM,IAUA,IAR1BkzC,EAAoBlzC,EAAM,IAQW,IANrCkzC,EAAoBlzC,EAAM,IAMsB,IAJhDkzC,EAAoBlzC,EAAM,KAIiC,IAF3DkzC,EAAoBlzC,EAAM,KAE4C,IAGjF,OAAO,WACL74B,KAAKgnC,MAAQA,EACbhnC,KAAKqnE,OAASA,EACdrnE,KAAKynE,QAAUA,EACfznE,KAAK0nE,QAAUA,EACf1nE,KAAK2nE,QAAUA,EACf3nE,KAAK8nE,KAAOA,EACZ9nE,KAAK+nE,aAAeA,EACpB/nE,KAAK4nE,MAAQA,EACb5nE,KAAKgoE,MAAQA,EACbhoE,KAAKkoE,aAAeA,EACpBloE,KAAKmoE,UAAYA,EACjBnoE,KAAKsoE,UAAYA,EACjBtoE,KAAK0qE,aAAeA,EACpB1qE,KAAK4qE,SAAWA,EAChB5qE,KAAK6qE,SAAWA,EAChB7qE,KAAK8qE,SAAWA,EAChB9qE,KAAKmrE,kBAAoBA,EACzBnrE,KAAKurE,oBAAsBA,EAC3BvrE,KAAK4rE,wBAA0BA,EAC/B5rE,KAAK6rE,MAAQA,EACb7rE,KAAKgsE,QAAUA,EACfhsE,KAAKN,MAAQA,EACbM,KAAKyqE,eAAiBA,EACtBzqE,KAAKuqE,OAASA,EACdvqE,KAAKorE,cAAgBA,EACrBprE,KAAKkrE,aAAeA,EACpBlrE,KAAK+qE,iBAAmBA,EACxB/qE,KAAKwnE,GAAKxnE,KAAKsoE,UACftoE,KAAKqqE,WAAaA,EAClBrqE,KAAKsqE,WAAY,EACjBtqE,KAAKspE,qBAAsB,EAC3BtpE,KAAK64B,MAAQojB,iBAAiB,UAAW,IACzCj8C,KAAKgnC,SAxaI,GA4ab,SAASilC,UAAUlqE,GAAuV,OAA1OkqE,UAArD,mBAAX7iC,QAAoD,iBAApBA,OAAOC,SAAqC,SAAiBtnC,GAAO,cAAcA,GAA6B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXqnC,QAAyBrnC,EAAI+Q,cAAgBs2B,QAAUrnC,IAAQqnC,OAAOnnC,UAAY,gBAAkBF,GAAiBkqE,UAAUlqE,GAC3X,IAAI49B,OAAS,GACT4yB,WAAa,mBACbvO,cAAgB,sBAChBiI,SAAW,GAsIXigB,YApIJ,SAASC,YAAYC,GACnBtyB,gBAAgBsyB,GAGlB,SAAS9Z,oBACY,IAAfC,WACFjB,iBAAiBgB,iBAAiBtO,cAAeuO,WAAYtG,UAE7DqF,iBAAiBgB,mBAIrB,SAAS+Z,qBAAqB1iC,GAC5B0W,mBAAmB1W,GAGrB,SAAS2iC,UAAU51D,GACjBiqC,YAAYjqC,GAGd,SAASkpB,cAAct7B,GAKrB,OAJmB,IAAfiuD,aACFjuD,EAAO0/C,cAAgB7hD,KAAKwD,MAAMq+C,gBAG7BsN,iBAAiB1xB,cAAct7B,GAGxC,SAASioE,WAAW7pE,GAClB,GAAqB,iBAAVA,EACT,OAAQA,GACN,IAAK,OACH+9C,wBAAwB,KACxB,MAEF,QACA,IAAK,SACHA,wBAAwB,IACxB,MAEF,IAAK,MACHA,wBAAwB,SAGlBrrB,MAAM1yB,IAAUA,EAAQ,GAClC+9C,wBAAwB/9C,GAGtBg+C,2BAA6B,GAC/B9C,aAAY,GAEZA,aAAY,GAIhB,SAAS4uB,YACP,MAA4B,oBAAd//C,UAGhB,SAASggD,cAAc9rD,EAAM+rD,GACd,gBAAT/rD,GACF4/B,qBAAqBmsB,GAIzB,SAASC,WAAW1pE,GAClB,OAAQA,GACN,IAAK,kBACH,OAAOi4D,gBAET,IAAK,uBACH,OAAOuI,qBAET,IAAK,SACH,OAAOsD,OAET,QACE,OAAO,MAiCb,SAAS6F,aACqB,aAAxB57D,SAAStB,aACXy4C,cAAc0kB,yBACdva,oBAIJ,SAASwa,iBAAiBC,GAGxB,IAFA,IAAIC,EAAOd,YAAYlrD,MAAM,KAEpBrX,EAAI,EAAGA,EAAIqjE,EAAK3oE,OAAQsF,GAAK,EAAG,CACvC,IAAIsjE,EAAOD,EAAKrjE,GAAGqX,MAAM,KAEzB,GAAIksD,mBAAmBD,EAAK,KAAOF,EAEjC,OAAOG,mBAAmBD,EAAK,IAInC,OAAO,KAKT,GArDAttC,OAAO2b,KAAOgW,iBAAiBhW,KAC/B3b,OAAOmb,MAAQwW,iBAAiBxW,MAChCnb,OAAOma,gBAAkBqyB,YACzBxsC,OAAO6vB,YAAc8B,iBAAiB9B,YACtC7vB,OAAO8wB,SAAWa,iBAAiBb,SACnC9wB,OAAO+wB,aAAeY,iBAAiBZ,aACvC/wB,OAAO8vB,KAAO6B,iBAAiB7B,KAC/B9vB,OAAO2yB,iBAAmBA,iBAC1B3yB,OAAOqyB,kBAAoBV,iBAAiBU,kBAC5CryB,OAAOC,cAAgBA,cACvBD,OAAO0sC,qBAAuBA,qBAC9B1sC,OAAOhiB,OAAS2zC,iBAAiB3zC,OAEjCgiB,OAAOmwB,YAAcwB,iBAAiBxB,YACtCnwB,OAAOvjB,QAAUk1C,iBAAiBl1C,QAClCujB,OAAO4sC,WAAaA,WACpB5sC,OAAO6sC,UAAYA,UACnB7sC,OAAO8sC,cAAgBA,cACvB9sC,OAAOgzB,OAASrB,iBAAiBqB,OACjChzB,OAAOizB,SAAWtB,iBAAiBsB,SACnCjzB,OAAO+b,UAAY4V,iBAAiB5V,UACpC/b,OAAOkc,KAAOyV,iBAAiBzV,KAC/Blc,OAAOmc,OAASwV,iBAAiBxV,OACjCnc,OAAOkzB,wBAA0BvB,iBAAiBuB,wBAClDlzB,OAAOwtC,aAAevzB,aACtBja,OAAOytC,YAAcd,UACrB3sC,OAAO0tC,aAAeV,WACtBhtC,OAAOnxB,QAAU,QA0Bb+jD,WAAY,CACd,IAAI+a,QAAUt8D,SAASC,qBAAqB,UACxC8C,MAAQu5D,QAAQjpE,OAAS,EACzBkpE,SAAWD,QAAQv5D,QAAU,CAC/B/B,IAAK,IAEPk6D,YAAcqB,SAASv7D,IAAIU,QAAQ,aAAc,IAEjDu5C,SAAW6gB,iBAAiB,YAG9B,IAAID,wBAA0B7kB,YAAY4kB,WAAY,KAEtD,IACgF,WAAxBX,UAAUrtE,UAA8F,yBAI9J,MAAO0G,IAGT,IAAIkoE,eAAiB,WACnB,IAAInlB,EAAK,GACLolB,EAAY,GAchB,OAbAplB,EAAGqlB,iBAGH,SAA0B5iB,EAAIxrB,GACvBmuC,EAAU3iB,KACb2iB,EAAU3iB,GAAMxrB,IAJpB+oB,EAAGslB,YAQH,SAAqB7iB,EAAIv1B,EAAMlrB,GAC7B,OAAO,IAAIojE,EAAU3iB,GAAIv1B,EAAMlrB,IAG1Bg+C,EAhBY,GAmBrB,SAASulB,iBAmDT,SAASC,gBAgZT,SAASC,0BAjcTF,cAAc3rE,UAAU8rE,uBAAyB,aAEjDH,cAAc3rE,UAAU+rE,mBAAqB,aAE7CJ,cAAc3rE,UAAUmhE,SAAW,SAAU/4D,GAC3C,IAAKrK,KAAKilD,OAAQ,CAEhB56C,EAAK2zD,GAAG9pC,UAAU4sC,mBAAmBz2D,EAAK2zD,IAC1C,IAAIrF,EAAY,CACdsK,MAAO54D,EAAK2zD,GACZ3zD,KAAMA,EACN85D,qBAAsBb,oBAAoBC,sBAE5CvjE,KAAKgjD,OAAO77C,KAAKwxD,GACjB34D,KAAKguE,mBAAmBrV,GAEpB34D,KAAKyhE,aACPp3D,EAAK4jE,kBAKXL,cAAc3rE,UAAUoyB,KAAO,SAAUkB,EAAMlrB,GAC7CrK,KAAKgjD,OAAS,GACdhjD,KAAKu1B,KAAOA,EACZv1B,KAAK2hE,6BAA6BpsC,GAClCv1B,KAAK+tE,uBAAuBx4C,EAAMlrB,GAClCrK,KAAKsgE,QAAU3mB,oBACf35C,KAAKilD,QAAS,EACdjlD,KAAKixC,GAAI,EAELjxC,KAAKwhE,kBAAkBn9D,OACzBrE,KAAKixC,GAAI,EAETjxC,KAAKihE,UAAS,IAIlB2M,cAAc3rE,UAAUisE,YAAc,WAChCluE,KAAKu1B,KAAK23B,WAAWoT,UAAYtgE,KAAKsgE,UAI1CtgE,KAAKsgE,QAAUtgE,KAAKu1B,KAAK23B,WAAWoT,QACpCtgE,KAAK0hE,6BAGPznB,gBAAgB,CAACsnB,0BAA2BqM,eAI5C3zB,gBAAgB,CAAC2zB,eAAgBC,cAEjCA,aAAa5rE,UAAU8rE,uBAAyB,SAAUx4C,EAAMlrB,GAC9DrK,KAAK2sB,EAAIuuC,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsiB,EAAG,EAAG,IAAM3sB,MACxDA,KAAK8P,EAAIorD,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKyF,EAAG,EAAG,IAAM9P,MACxDA,KAAK2X,EAAIujD,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsN,EAAG,EAAG,EAAG3X,MACrDA,KAAKmuE,OAAS,EACdnuE,KAAKouE,OAAS,EACdpuE,KAAKihE,SAAWjhE,KAAKkuE,YACrBluE,KAAKg6B,EAAI3vB,EAAK2vB,EACdh6B,KAAKyhE,cAAgBzhE,KAAK2sB,EAAE4zC,gBAAgBl8D,UAAYrE,KAAK8P,EAAEywD,gBAAgBl8D,UAAYrE,KAAK2X,EAAE4oD,gBAAgBl8D,QAGpHwpE,aAAa5rE,UAAU+rE,mBAAqB,SAAUrV,GACpDA,EAAU0V,UAAY,IAGxBR,aAAa5rE,UAAUqsE,oBAAsB,SAAU3hD,EAAG7c,EAAGy+D,EAAarY,EAAasY,GACrF,IAAIliB,EAAW,GAEXx8C,GAAK,EACPw8C,EAASnlD,KAAK,CACZwlB,EAAGA,EACH7c,IAEO6c,GAAK,EACd2/B,EAASnlD,KAAK,CACZwlB,EAAGA,EAAI,EACP7c,EAAGA,EAAI,KAGTw8C,EAASnlD,KAAK,CACZwlB,EAAGA,EACH7c,EAAG,IAELw8C,EAASnlD,KAAK,CACZwlB,EAAG,EACH7c,EAAGA,EAAI,KAIX,IACInG,EAEA8kE,EAHAC,EAAgB,GAEhBltD,EAAM8qC,EAASjoD,OAGnB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAIzB,IAAIglE,EACAC,GAJNH,EAAYniB,EAAS3iD,IAELmG,EAAI0+D,EAAsBtY,GAAeuY,EAAU9hD,EAAI6hD,EAAsBtY,EAAcqY,IAKvGI,EADEF,EAAU9hD,EAAI6hD,GAAuBtY,EAC9B,GAECuY,EAAU9hD,EAAI6hD,EAAsBtY,GAAeqY,EAI7DK,EADEH,EAAU3+D,EAAI0+D,GAAuBtY,EAAcqY,EAC5C,GAECE,EAAU3+D,EAAI0+D,EAAsBtY,GAAeqY,EAG/DG,EAAcvnE,KAAK,CAACwnE,EAAQC,KAQhC,OAJKF,EAAcrqE,QACjBqqE,EAAcvnE,KAAK,CAAC,EAAG,IAGlBunE,GAGTb,aAAa5rE,UAAU4sE,iBAAmB,SAAUR,GAClD,IAAI1kE,EACA6X,EAAM6sD,EAAUhqE,OAEpB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB0sD,mBAAmBL,QAAQqY,EAAU1kE,IAIvC,OADA0kE,EAAUhqE,OAAS,EACZgqE,GAGTR,aAAa5rE,UAAU6sE,cAAgB,SAAUrO,GAC/C,IAAI9zC,EACA7c,EAwCAi/D,EACAplE,EAvCJ,GAAI3J,KAAKogE,MAAQK,EAAe,CAC9B,IAAI9oD,EAAI3X,KAAK2X,EAAE4pB,EAAI,IAAM,IAsBzB,GApBI5pB,EAAI,IACNA,GAAK,IAILgV,EADE3sB,KAAK2sB,EAAE4U,EAAI,EACT,EAAI5pB,EACC3X,KAAK2sB,EAAE4U,EAAI,EAChB,EAAI5pB,EAEJ3X,KAAK2sB,EAAE4U,EAAI5pB,IAIf7H,EADE9P,KAAK8P,EAAEyxB,EAAI,EACT,EAAI5pB,EACC3X,KAAK8P,EAAEyxB,EAAI,EAChB,EAAI5pB,EAEJ3X,KAAK8P,EAAEyxB,EAAI5pB,GAGN,CACT,IAAIq3D,EAAKriD,EACTA,EAAI7c,EACJA,EAAIk/D,EAGNriD,EAA4B,KAAxB3lB,KAAKgyB,MAAU,IAAJrM,GACf7c,EAA4B,KAAxB9I,KAAKgyB,MAAU,IAAJlpB,GACf9P,KAAKmuE,OAASxhD,EACd3sB,KAAKouE,OAASt+D,OAEd6c,EAAI3sB,KAAKmuE,OACTr+D,EAAI9P,KAAKouE,OAKX,IACIvkE,EACAq4C,EACAmsB,EACAzpB,EACAqqB,EALAztD,EAAMxhB,KAAKgjD,OAAO3+C,OAMlBmqE,EAAsB,EAE1B,GAAI1+D,IAAM6c,EACR,IAAKhjB,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKgjD,OAAOr5C,GAAGw6D,qBAAqBd,gBACpCrjE,KAAKgjD,OAAOr5C,GAAGs5D,MAAM7C,MAAO,EAC5BpgE,KAAKgjD,OAAOr5C,GAAGs5D,MAAMiB,MAAQlkE,KAAKgjD,OAAOr5C,GAAGw6D,qBAExCnkE,KAAKogE,OACPpgE,KAAKgjD,OAAOr5C,GAAG0kE,UAAUhqE,OAAS,QAGjC,GAAY,IAANyL,GAAiB,IAAN6c,GAAiB,IAAN7c,GAAiB,IAAN6c,GAyGvC,GAAI3sB,KAAKogE,KACd,IAAKz2D,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAGxB3J,KAAKgjD,OAAOr5C,GAAG0kE,UAAUhqE,OAAS,EAClCrE,KAAKgjD,OAAOr5C,GAAGs5D,MAAM7C,MAAO,MA9GwB,CACtD,IACIzH,EACAwL,EAFA7X,EAAW,GAIf,IAAK3iD,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAGxB,IAFAgvD,EAAY34D,KAAKgjD,OAAOr5C,IAETs5D,MAAM7C,MAASpgE,KAAKogE,MAASK,GAA4B,IAAXzgE,KAAKg6B,EAE3D,CAKL,GAHAkoB,GADA6sB,EAAapW,EAAUsK,MAAMiB,OACXtO,QAClBqZ,EAAmB,GAEdtW,EAAUsK,MAAM7C,MAAQzH,EAAU0V,UAAUhqE,OAC/C4qE,EAAmBtW,EAAUsW,qBACxB,CAGL,IAFAZ,EAAYruE,KAAK6uE,iBAAiBlW,EAAU0V,WAEvCxkE,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACzB+6C,EAAWqW,IAAIvC,kBAAkBqW,EAAW/rB,OAAOn5C,IACnDwkE,EAAUlnE,KAAKy9C,GACfqqB,GAAoBrqB,EAAS0R,YAG/BqC,EAAUsW,iBAAmBA,EAC7BtW,EAAU0V,UAAYA,EAGxBG,GAAuBS,EACvBtW,EAAUsK,MAAM7C,MAAO,OAtBvBzH,EAAUsK,MAAMiB,MAAQvL,EAAUwL,qBA0BtC,IAGI+K,EAHAP,EAAShiD,EACTiiD,EAAS9+D,EACTomD,EAAc,EAGlB,IAAKvsD,EAAI6X,EAAM,EAAG7X,GAAK,EAAGA,GAAK,EAG7B,IAFAgvD,EAAY34D,KAAKgjD,OAAOr5C,IAEVs5D,MAAM7C,KAAM,CAaxB,KAZA+D,EAAuBxL,EAAUwL,sBACZd,gBAEN,IAAXrjE,KAAKg6B,GAAWxY,EAAM,GACxB0tD,EAAQlvE,KAAKsuE,oBAAoB3hD,EAAG7c,EAAG6oD,EAAUsW,iBAAkB/Y,EAAasY,GAChFtY,GAAeyC,EAAUsW,kBAEzBC,EAAQ,CAAC,CAACP,EAAQC,IAGpB1sB,EAAOgtB,EAAM7qE,OAERwF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EAAG,CAC5B8kE,EAASO,EAAMrlE,GAAG,GAClB+kE,EAASM,EAAMrlE,GAAG,GAClByiD,EAASjoD,OAAS,EAEduqE,GAAU,EACZtiB,EAASnlD,KAAK,CACZwlB,EAAGgsC,EAAUsW,iBAAmBN,EAChC7+D,EAAG6oD,EAAUsW,iBAAmBL,IAEzBD,GAAU,EACnBriB,EAASnlD,KAAK,CACZwlB,EAAGgsC,EAAUsW,kBAAoBN,EAAS,GAC1C7+D,EAAG6oD,EAAUsW,kBAAoBL,EAAS,MAG5CtiB,EAASnlD,KAAK,CACZwlB,EAAGgsC,EAAUsW,iBAAmBN,EAChC7+D,EAAG6oD,EAAUsW,mBAEf3iB,EAASnlD,KAAK,CACZwlB,EAAG,EACH7c,EAAG6oD,EAAUsW,kBAAoBL,EAAS,MAI9C,IAAIO,EAAgBnvE,KAAKovE,UAAUzW,EAAWrM,EAAS,IAEvD,GAAIA,EAAS,GAAG3/B,IAAM2/B,EAAS,GAAGx8C,EAAG,CACnC,GAAIw8C,EAASjoD,OAAS,EAGpB,GAF4Bs0D,EAAUsK,MAAMiB,MAAMlhB,OAAO2V,EAAUsK,MAAMiB,MAAMtO,QAAU,GAE/Dl1B,EAAG,CAC3B,IAAI2uC,EAAYF,EAAcx7B,MAC9B3zC,KAAKsvE,SAASH,EAAehL,GAC7BgL,EAAgBnvE,KAAKovE,UAAUzW,EAAWrM,EAAS,GAAI+iB,QAEvDrvE,KAAKsvE,SAASH,EAAehL,GAC7BgL,EAAgBnvE,KAAKovE,UAAUzW,EAAWrM,EAAS,IAIvDtsD,KAAKsvE,SAASH,EAAehL,IAIjCxL,EAAUsK,MAAMiB,MAAQC,KAahC0J,aAAa5rE,UAAUqtE,SAAW,SAAUC,EAAUpL,GACpD,IAAIx6D,EACA6X,EAAM+tD,EAASlrE,OAEnB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBw6D,EAAqBf,SAASmM,EAAS5lE,KAI3CkkE,aAAa5rE,UAAUutE,WAAa,SAAUtY,EAAKC,EAAKC,EAAKC,EAAK2L,EAAWd,EAAKuN,GAChFzM,EAAUf,QAAQ9K,EAAI,GAAIA,EAAI,GAAI,IAAK+K,GACvCc,EAAUf,QAAQ7K,EAAI,GAAIA,EAAI,GAAI,IAAK8K,EAAM,GAEzCuN,GACFzM,EAAUf,QAAQ/K,EAAI,GAAIA,EAAI,GAAI,IAAKgL,GAGzCc,EAAUf,QAAQ5K,EAAI,GAAIA,EAAI,GAAI,IAAK6K,EAAM,IAG/C2L,aAAa5rE,UAAUytE,oBAAsB,SAAU7b,EAAQmP,EAAWd,EAAKuN,GAC7EzM,EAAUf,QAAQpO,EAAO,GAAIA,EAAO,GAAI,IAAKqO,GAC7Cc,EAAUf,QAAQpO,EAAO,GAAIA,EAAO,GAAI,IAAKqO,EAAM,GAE/CuN,GACFzM,EAAUf,QAAQpO,EAAO,GAAIA,EAAO,GAAI,IAAKqO,GAG/Cc,EAAUf,QAAQpO,EAAO,GAAIA,EAAO,GAAI,IAAKqO,EAAM,IAGrD2L,aAAa5rE,UAAUmtE,UAAY,SAAUzW,EAAWgX,EAAc3M,GACpE,IAEIr5D,EAEAE,EACAq4C,EAEA0tB,EACAC,EACAzZ,EACA/H,EAEAiK,EAZA+V,EAAY1V,EAAU0V,UACtBU,EAAapW,EAAUsK,MAAMiB,MAAMlhB,OAEnCxhC,EAAMm3C,EAAUsK,MAAMiB,MAAMtO,QAG5BM,EAAc,EAKdlT,EAAS,GAETysB,GAAW,EAaf,IAXKzM,GAKH6M,EAAe7M,EAAUpN,QACzB0C,EAAU0K,EAAUpN,UALpBoN,EAAYD,UAAUhN,aACtB8Z,EAAe,EACfvX,EAAU,GAMZtV,EAAO77C,KAAK67D,GAEPr5D,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAK3B,IAJAysD,EAAUiY,EAAU1kE,GAAGysD,QACvB4M,EAAUtiC,EAAIquC,EAAWplE,GAAG+2B,EAC5BwhB,EAAO6sB,EAAWplE,GAAG+2B,EAAI01B,EAAQ/xD,OAAS+xD,EAAQ/xD,OAAS,EAEtDwF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EAGzB,GAAIqsD,GAFJ0Z,EAAoBxZ,EAAQvsD,EAAI,IAEIqsD,YAAcyZ,EAAahjD,EAC7DupC,GAAe0Z,EAAkB1Z,YACjC8M,EAAUtiC,GAAI,MACT,IAAIw1B,EAAcyZ,EAAa7/D,EAAG,CACvCkzD,EAAUtiC,GAAI,EACd,MAEIivC,EAAahjD,GAAKupC,GAAeyZ,EAAa7/D,GAAKomD,EAAc0Z,EAAkB1Z,aACrFl2D,KAAKwvE,WAAWT,EAAWplE,GAAG43B,EAAE13B,EAAI,GAAIklE,EAAWplE,GAAGgO,EAAE9N,EAAI,GAAIklE,EAAWplE,GAAGA,EAAEE,GAAIklE,EAAWplE,GAAG43B,EAAE13B,GAAIm5D,EAAW6M,EAAcJ,GACjIA,GAAW,IAEXphB,EAAU4M,IAAIjC,cAAc+V,EAAWplE,GAAG43B,EAAE13B,EAAI,GAAIklE,EAAWplE,GAAG43B,EAAE13B,GAAIklE,EAAWplE,GAAGgO,EAAE9N,EAAI,GAAIklE,EAAWplE,GAAGA,EAAEE,IAAK8lE,EAAahjD,EAAIupC,GAAe0Z,EAAkB1Z,aAAcyZ,EAAa7/D,EAAIomD,GAAe0Z,EAAkB1Z,YAAaE,EAAQvsD,EAAI,IAChQ7J,KAAK0vE,oBAAoBrhB,EAAS2U,EAAW6M,EAAcJ,GAE3DA,GAAW,EACXzM,EAAUtiC,GAAI,GAGhBw1B,GAAe0Z,EAAkB1Z,YACjC2Z,GAAgB,EAIpB,GAAId,EAAWplE,GAAG+2B,GAAK01B,EAAQ/xD,OAAQ,CAGrC,GAFAurE,EAAoBxZ,EAAQvsD,EAAI,GAE5BqsD,GAAeyZ,EAAa7/D,EAAG,CACjC,IAAIgoD,EAAgB1B,EAAQvsD,EAAI,GAAGqsD,YAE/ByZ,EAAahjD,GAAKupC,GAAeyZ,EAAa7/D,GAAKomD,EAAc4B,GACnE93D,KAAKwvE,WAAWT,EAAWplE,GAAG43B,EAAE13B,EAAI,GAAIklE,EAAWplE,GAAGgO,EAAE9N,EAAI,GAAIklE,EAAWplE,GAAGA,EAAE,GAAIolE,EAAWplE,GAAG43B,EAAE,GAAIyhC,EAAW6M,EAAcJ,GACjIA,GAAW,IAEXphB,EAAU4M,IAAIjC,cAAc+V,EAAWplE,GAAG43B,EAAE13B,EAAI,GAAIklE,EAAWplE,GAAG43B,EAAE,GAAIwtC,EAAWplE,GAAGgO,EAAE9N,EAAI,GAAIklE,EAAWplE,GAAGA,EAAE,IAAKgmE,EAAahjD,EAAIupC,GAAe4B,GAAgB6X,EAAa7/D,EAAIomD,GAAe4B,EAAe1B,EAAQvsD,EAAI,IAChO7J,KAAK0vE,oBAAoBrhB,EAAS2U,EAAW6M,EAAcJ,GAE3DA,GAAW,EACXzM,EAAUtiC,GAAI,QAGhBsiC,EAAUtiC,GAAI,EAGhBw1B,GAAe0Z,EAAkB1Z,YACjC2Z,GAAgB,EAQlB,GALI7M,EAAUpN,UACZoN,EAAUf,QAAQe,EAAUzhC,EAAE+2B,GAAS,GAAI0K,EAAUzhC,EAAE+2B,GAAS,GAAI,IAAKA,GACzE0K,EAAUf,QAAQe,EAAUzhC,EAAEyhC,EAAUpN,QAAU,GAAG,GAAIoN,EAAUzhC,EAAEyhC,EAAUpN,QAAU,GAAG,GAAI,IAAKoN,EAAUpN,QAAU,IAGvHM,EAAcyZ,EAAa7/D,EAC7B,MAGEnG,EAAI6X,EAAM,IACZwhD,EAAYD,UAAUhN,aACtB0Z,GAAW,EACXzsB,EAAO77C,KAAK67D,GACZ6M,EAAe,GAInB,OAAO7sB,GAKT/I,gBAAgB,CAAC2zB,eAAgBE,wBAEjCA,uBAAuB7rE,UAAU8rE,uBAAyB,SAAUx4C,EAAMlrB,GACxErK,KAAKihE,SAAWjhE,KAAKkuE,YACrBluE,KAAK8vE,OAAS5U,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKua,EAAG,EAAG,KAAM5kB,MAC7DA,KAAKyhE,cAAgBzhE,KAAK8vE,OAAOvP,gBAAgBl8D,QAGnDypE,uBAAuB7rE,UAAU8tE,YAAc,SAAUhwC,EAAM+vC,GAC7D,IAAItV,EAAUsV,EAAS,IACnBE,EAAc,CAAC,EAAG,GAClBC,EAAalwC,EAAK61B,QAClBjsD,EAAI,EAER,IAAKA,EAAI,EAAGA,EAAIsmE,EAAYtmE,GAAK,EAC/BqmE,EAAY,IAAMjwC,EAAKwB,EAAE53B,GAAG,GAC5BqmE,EAAY,IAAMjwC,EAAKwB,EAAE53B,GAAG,GAG9BqmE,EAAY,IAAMC,EAClBD,EAAY,IAAMC,EAClB,IAEI7N,EACAC,EACAC,EACAC,EACAC,EACAC,EAPAyN,EAAanN,UAAUhN,aAS3B,IARAma,EAAWxvC,EAAIX,EAAKW,EAQf/2B,EAAI,EAAGA,EAAIsmE,EAAYtmE,GAAK,EAC/By4D,EAAKriC,EAAKwB,EAAE53B,GAAG,IAAMqmE,EAAY,GAAKjwC,EAAKwB,EAAE53B,GAAG,IAAM6wD,EACtD6H,EAAKtiC,EAAKwB,EAAE53B,GAAG,IAAMqmE,EAAY,GAAKjwC,EAAKwB,EAAE53B,GAAG,IAAM6wD,EACtD8H,EAAKviC,EAAKpoB,EAAEhO,GAAG,IAAMqmE,EAAY,GAAKjwC,EAAKpoB,EAAEhO,GAAG,KAAO6wD,EACvD+H,EAAKxiC,EAAKpoB,EAAEhO,GAAG,IAAMqmE,EAAY,GAAKjwC,EAAKpoB,EAAEhO,GAAG,KAAO6wD,EACvDgI,EAAKziC,EAAKp2B,EAAEA,GAAG,IAAMqmE,EAAY,GAAKjwC,EAAKp2B,EAAEA,GAAG,KAAO6wD,EACvDiI,EAAK1iC,EAAKp2B,EAAEA,GAAG,IAAMqmE,EAAY,GAAKjwC,EAAKp2B,EAAEA,GAAG,KAAO6wD,EACvD0V,EAAW/N,YAAYC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAI94D,GAGjD,OAAOumE,GAGTpC,uBAAuB7rE,UAAU6sE,cAAgB,SAAUrO,GACzD,IAAIsO,EACAplE,EAEAE,EACAq4C,EAIEyW,EACAwL,EAPF3iD,EAAMxhB,KAAKgjD,OAAO3+C,OAGlByrE,EAAS9vE,KAAK8vE,OAAOvuC,EAEzB,GAAe,IAAXuuC,EAIF,IAAKnmE,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAI3B,GAFAw6D,GADAxL,EAAY34D,KAAKgjD,OAAOr5C,IACSw6D,qBAE1BxL,EAAUsK,MAAM7C,MAASpgE,KAAKogE,MAASK,EAM5C,IALA0D,EAAqBd,gBACrB1K,EAAUsK,MAAM7C,MAAO,EACvB2O,EAAapW,EAAUsK,MAAMiB,MAAMlhB,OACnCd,EAAOyW,EAAUsK,MAAMiB,MAAMtO,QAExB/rD,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACzBs6D,EAAqBf,SAASpjE,KAAK+vE,YAAYhB,EAAWllE,GAAIimE,IAIlEnX,EAAUsK,MAAMiB,MAAQvL,EAAUwL,qBAIjCnkE,KAAKwhE,kBAAkBn9D,SAC1BrE,KAAKogE,MAAO,IAIhB,IAAI+P,yBAA2B,WAC7B,IAAIC,EAAgB,CAAC,EAAG,GA+KxB,SAASC,EAAkB96C,EAAMlrB,EAAM6pB,GAwBrC,GAvBAl0B,KAAKu1B,KAAOA,EACZv1B,KAAKsgE,SAAW,EAChBtgE,KAAK07D,SAAW,YAChB17D,KAAKqK,KAAOA,EACZrK,KAAKuhC,EAAI,IAAIwlC,OAEb/mE,KAAKqtB,IAAM,IAAI05C,OACf/mE,KAAKswE,uBAAyB,EAC9BtwE,KAAK2hE,6BAA6BztC,GAAaqB,GAE3ClrB,EAAKs1C,GAAKt1C,EAAKs1C,EAAEhzB,GACnB3sB,KAAKuwE,GAAKrV,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKs1C,EAAE1V,EAAG,EAAG,EAAGjqC,MACxDA,KAAKwwE,GAAKtV,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKs1C,EAAEyd,EAAG,EAAG,EAAGp9D,MAEpDqK,EAAKs1C,EAAEgrB,IACT3qE,KAAKywE,GAAKvV,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKs1C,EAAEgrB,EAAG,EAAG,EAAG3qE,QAG1DA,KAAK2/C,EAAIub,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKs1C,GAAK,CAC/C1O,EAAG,CAAC,EAAG,EAAG,IACT,EAAG,EAAGjxC,MAGPqK,EAAKqmE,GAAI,CAKX,GAJA1wE,KAAK0wE,GAAKxV,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKqmE,GAAI,EAAGjzB,UAAWz9C,MAC/DA,KAAK2wE,GAAKzV,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsmE,GAAI,EAAGlzB,UAAWz9C,MAC/DA,KAAK4wE,GAAK1V,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKumE,GAAI,EAAGnzB,UAAWz9C,MAE3DqK,EAAKo7D,GAAGx0B,EAAE,GAAG+rB,GAAI,CACnB,IAAIrzD,EACA6X,EAAMnX,EAAKo7D,GAAGx0B,EAAE5sC,OAEpB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBU,EAAKo7D,GAAGx0B,EAAEtnC,GAAGozD,GAAK,KAClB1yD,EAAKo7D,GAAGx0B,EAAEtnC,GAAGqzD,GAAK,KAItBh9D,KAAKylE,GAAKvK,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKo7D,GAAI,EAAGhoB,UAAWz9C,MAE/DA,KAAKylE,GAAGzH,IAAK,OAEbh+D,KAAKigC,EAAIi7B,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAK41B,GAAK,CAC/CgR,EAAG,GACF,EAAGwM,UAAWz9C,MAGfqK,EAAKo6C,KACPzkD,KAAKykD,GAAKyW,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKo6C,GAAI,EAAGhH,UAAWz9C,MAC/DA,KAAK0kD,GAAKwW,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKq6C,GAAI,EAAGjH,UAAWz9C,OAGjEA,KAAK4kB,EAAIs2C,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKua,GAAK,CAC/CqsB,EAAG,CAAC,EAAG,EAAG,IACT,EAAG,EAAGjxC,MACTA,KAAK2sB,EAAIuuC,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsiB,GAAK,CAC/CskB,EAAG,CAAC,IAAK,IAAK,MACb,EAAG,IAAMjxC,MAERqK,EAAKsN,EACP3X,KAAK2X,EAAIujD,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsN,EAAG,EAAG,IAAM4d,GAExDv1B,KAAK2X,EAAI,CACPyoD,MAAM,EACN7+B,EAAG,GAIPvhC,KAAK6wE,UAAW,EAEX7wE,KAAKwhE,kBAAkBn9D,QAC1BrE,KAAKihE,UAAS,GAkBlB,OAdAoP,EAAkBpuE,UAAY,CAC5B6uE,cA1PF,SAAuBC,GACrB,IAAI3Q,EAAOpgE,KAAKogE,KAChBpgE,KAAK0hE,2BACL1hE,KAAKogE,KAAOpgE,KAAKogE,MAAQA,EAErBpgE,KAAK4kB,GACPmsD,EAAI5I,WAAWnoE,KAAK4kB,EAAE2c,EAAE,IAAKvhC,KAAK4kB,EAAE2c,EAAE,GAAIvhC,KAAK4kB,EAAE2c,EAAE,IAGjDvhC,KAAK2sB,GACPokD,EAAI/I,MAAMhoE,KAAK2sB,EAAE4U,EAAE,GAAIvhC,KAAK2sB,EAAE4U,EAAE,GAAIvhC,KAAK2sB,EAAE4U,EAAE,IAG3CvhC,KAAKykD,IACPssB,EAAIhJ,cAAc/nE,KAAKykD,GAAGljB,EAAGvhC,KAAK0kD,GAAGnjB,GAGnCvhC,KAAKigC,EACP8wC,EAAI1J,QAAQrnE,KAAKigC,EAAEsB,GAEnBwvC,EAAIpJ,SAAS3nE,KAAK4wE,GAAGrvC,GAAGmmC,QAAQ1nE,KAAK2wE,GAAGpvC,GAAGkmC,QAAQznE,KAAK0wE,GAAGnvC,GAAGomC,SAAS3nE,KAAKylE,GAAGlkC,EAAE,IAAImmC,QAAQ1nE,KAAKylE,GAAGlkC,EAAE,IAAIkmC,QAAQznE,KAAKylE,GAAGlkC,EAAE,IAG3HvhC,KAAKqK,KAAKs1C,EAAEhzB,EACV3sB,KAAKqK,KAAKs1C,EAAEgrB,EACdoG,EAAI5I,UAAUnoE,KAAKuwE,GAAGhvC,EAAGvhC,KAAKwwE,GAAGjvC,GAAIvhC,KAAKywE,GAAGlvC,GAE7CwvC,EAAI5I,UAAUnoE,KAAKuwE,GAAGhvC,EAAGvhC,KAAKwwE,GAAGjvC,EAAG,GAGtCwvC,EAAI5I,UAAUnoE,KAAK2/C,EAAEpe,EAAE,GAAIvhC,KAAK2/C,EAAEpe,EAAE,IAAKvhC,KAAK2/C,EAAEpe,EAAE,KA6NpD0/B,SAzNF,SAAqB+P,GACnB,GAAIhxE,KAAKu1B,KAAK23B,WAAWoT,UAAYtgE,KAAKsgE,QAA1C,CAWA,GAPItgE,KAAK6wE,WACP7wE,KAAKixE,qBACLjxE,KAAK6wE,UAAW,GAGlB7wE,KAAK0hE,2BAED1hE,KAAKogE,MAAQ4Q,EAAa,CAC5B,IAAItlB,EAqBJ,GApBA1rD,KAAKuhC,EAAEkpC,eAAezqE,KAAKqtB,IAAIwL,OAE3B74B,KAAKswE,uBAAyB,GAChCtwE,KAAKuhC,EAAE4mC,WAAWnoE,KAAK4kB,EAAE2c,EAAE,IAAKvhC,KAAK4kB,EAAE2c,EAAE,GAAIvhC,KAAK4kB,EAAE2c,EAAE,IAGpDvhC,KAAKswE,uBAAyB,GAChCtwE,KAAKuhC,EAAEymC,MAAMhoE,KAAK2sB,EAAE4U,EAAE,GAAIvhC,KAAK2sB,EAAE4U,EAAE,GAAIvhC,KAAK2sB,EAAE4U,EAAE,IAG9CvhC,KAAKykD,IAAMzkD,KAAKswE,uBAAyB,GAC3CtwE,KAAKuhC,EAAEwmC,cAAc/nE,KAAKykD,GAAGljB,EAAGvhC,KAAK0kD,GAAGnjB,GAGtCvhC,KAAKigC,GAAKjgC,KAAKswE,uBAAyB,EAC1CtwE,KAAKuhC,EAAE8lC,QAAQrnE,KAAKigC,EAAEsB,IACZvhC,KAAKigC,GAAKjgC,KAAKswE,uBAAyB,GAClDtwE,KAAKuhC,EAAEomC,SAAS3nE,KAAK4wE,GAAGrvC,GAAGmmC,QAAQ1nE,KAAK2wE,GAAGpvC,GAAGkmC,QAAQznE,KAAK0wE,GAAGnvC,GAAGomC,SAAS3nE,KAAKylE,GAAGlkC,EAAE,IAAImmC,QAAQ1nE,KAAKylE,GAAGlkC,EAAE,IAAIkmC,QAAQznE,KAAKylE,GAAGlkC,EAAE,IAG9HvhC,KAAKkxE,aAAc,CACrB,IAAIpK,EACAqK,EAGJ,GAFAzlB,EAAY1rD,KAAKu1B,KAAK23B,WAAWxB,UAE7B1rD,KAAK2/C,GAAK3/C,KAAK2/C,EAAEuc,WAAal8D,KAAK2/C,EAAEyxB,eACnCpxE,KAAK2/C,EAAEogB,SAASxC,UAAYv9D,KAAK2/C,EAAE8b,YAAcz7D,KAAK2/C,EAAEuc,UAAU,GAAG9lB,GACvE0wB,EAAK9mE,KAAK2/C,EAAEyxB,gBAAgBpxE,KAAK2/C,EAAEuc,UAAU,GAAG9lB,EAAI,KAAQsV,EAAW,GACvEylB,EAAKnxE,KAAK2/C,EAAEyxB,eAAepxE,KAAK2/C,EAAEuc,UAAU,GAAG9lB,EAAIsV,EAAW,IACrD1rD,KAAK2/C,EAAEogB,SAASxC,UAAYv9D,KAAK2/C,EAAE8b,YAAcz7D,KAAK2/C,EAAEuc,UAAUl8D,KAAK2/C,EAAEuc,UAAU73D,OAAS,GAAG+xC,GACxG0wB,EAAK9mE,KAAK2/C,EAAEyxB,eAAepxE,KAAK2/C,EAAEuc,UAAUl8D,KAAK2/C,EAAEuc,UAAU73D,OAAS,GAAG+xC,EAAIsV,EAAW,GACxFylB,EAAKnxE,KAAK2/C,EAAEyxB,gBAAgBpxE,KAAK2/C,EAAEuc,UAAUl8D,KAAK2/C,EAAEuc,UAAU73D,OAAS,GAAG+xC,EAAI,KAAQsV,EAAW,KAEjGob,EAAK9mE,KAAK2/C,EAAEgc,GACZwV,EAAKnxE,KAAK2/C,EAAEyxB,gBAAgBpxE,KAAK2/C,EAAEogB,SAASxC,UAAYv9D,KAAK2/C,EAAE8b,WAAa,KAAQ/P,EAAW1rD,KAAK2/C,EAAE8b,kBAEnG,GAAIz7D,KAAKuwE,IAAMvwE,KAAKuwE,GAAGrU,WAAal8D,KAAKwwE,GAAGtU,WAAal8D,KAAKuwE,GAAGa,gBAAkBpxE,KAAKwwE,GAAGY,eAAgB,CAChHtK,EAAK,GACLqK,EAAK,GACL,IAAIZ,EAAKvwE,KAAKuwE,GACVC,EAAKxwE,KAAKwwE,GAEVD,EAAGxQ,SAASxC,UAAYgT,EAAG9U,YAAc8U,EAAGrU,UAAU,GAAG9lB,GAC3D0wB,EAAG,GAAKyJ,EAAGa,gBAAgBb,EAAGrU,UAAU,GAAG9lB,EAAI,KAAQsV,EAAW,GAClEob,EAAG,GAAK0J,EAAGY,gBAAgBZ,EAAGtU,UAAU,GAAG9lB,EAAI,KAAQsV,EAAW,GAClEylB,EAAG,GAAKZ,EAAGa,eAAeb,EAAGrU,UAAU,GAAG9lB,EAAIsV,EAAW,GACzDylB,EAAG,GAAKX,EAAGY,eAAeZ,EAAGtU,UAAU,GAAG9lB,EAAIsV,EAAW,IAChD6kB,EAAGxQ,SAASxC,UAAYgT,EAAG9U,YAAc8U,EAAGrU,UAAUqU,EAAGrU,UAAU73D,OAAS,GAAG+xC,GACxF0wB,EAAG,GAAKyJ,EAAGa,eAAeb,EAAGrU,UAAUqU,EAAGrU,UAAU73D,OAAS,GAAG+xC,EAAIsV,EAAW,GAC/Eob,EAAG,GAAK0J,EAAGY,eAAeZ,EAAGtU,UAAUsU,EAAGtU,UAAU73D,OAAS,GAAG+xC,EAAIsV,EAAW,GAC/EylB,EAAG,GAAKZ,EAAGa,gBAAgBb,EAAGrU,UAAUqU,EAAGrU,UAAU73D,OAAS,GAAG+xC,EAAI,KAAQsV,EAAW,GACxFylB,EAAG,GAAKX,EAAGY,gBAAgBZ,EAAGtU,UAAUsU,EAAGtU,UAAU73D,OAAS,GAAG+xC,EAAI,KAAQsV,EAAW,KAExFob,EAAK,CAACyJ,EAAG5U,GAAI6U,EAAG7U,IAChBwV,EAAG,GAAKZ,EAAGa,gBAAgBb,EAAGxQ,SAASxC,UAAYgT,EAAG9U,WAAa,KAAQ/P,EAAW6kB,EAAG9U,YACzF0V,EAAG,GAAKX,EAAGY,gBAAgBZ,EAAGzQ,SAASxC,UAAYiT,EAAG/U,WAAa,KAAQ/P,EAAW8kB,EAAG/U,kBAI3FqL,EADAqK,EAAKf,EAIPpwE,KAAKuhC,EAAE8lC,QAAQrgE,KAAKo4D,MAAM0H,EAAG,GAAKqK,EAAG,GAAIrK,EAAG,GAAKqK,EAAG,KAGlDnxE,KAAKqK,KAAKs1C,GAAK3/C,KAAKqK,KAAKs1C,EAAEhzB,EACzB3sB,KAAKqK,KAAKs1C,EAAEgrB,EACd3qE,KAAKuhC,EAAE4mC,UAAUnoE,KAAKuwE,GAAGhvC,EAAGvhC,KAAKwwE,GAAGjvC,GAAIvhC,KAAKywE,GAAGlvC,GAEhDvhC,KAAKuhC,EAAE4mC,UAAUnoE,KAAKuwE,GAAGhvC,EAAGvhC,KAAKwwE,GAAGjvC,EAAG,GAGzCvhC,KAAKuhC,EAAE4mC,UAAUnoE,KAAK2/C,EAAEpe,EAAE,GAAIvhC,KAAK2/C,EAAEpe,EAAE,IAAKvhC,KAAK2/C,EAAEpe,EAAE,IAIzDvhC,KAAKsgE,QAAUtgE,KAAKu1B,KAAK23B,WAAWoT,UAgIpC2Q,mBA7HF,WACE,IAAKjxE,KAAK4kB,EAAEqsB,IACVjxC,KAAKqtB,IAAI86C,WAAWnoE,KAAK4kB,EAAE2c,EAAE,IAAKvhC,KAAK4kB,EAAE2c,EAAE,GAAIvhC,KAAK4kB,EAAE2c,EAAE,IACxDvhC,KAAKswE,uBAAyB,GAK3BtwE,KAAK2sB,EAAE4zC,gBAAgBl8D,QAA5B,CAOA,GANErE,KAAKqtB,IAAI26C,MAAMhoE,KAAK2sB,EAAE4U,EAAE,GAAIvhC,KAAK2sB,EAAE4U,EAAE,GAAIvhC,KAAK2sB,EAAE4U,EAAE,IAClDvhC,KAAKswE,uBAAyB,EAK5BtwE,KAAKykD,GAAI,CACX,GAAKzkD,KAAKykD,GAAG8b,gBAAgBl8D,QAAWrE,KAAK0kD,GAAG6b,gBAAgBl8D,OAI9D,OAHArE,KAAKqtB,IAAI06C,cAAc/nE,KAAKykD,GAAGljB,EAAGvhC,KAAK0kD,GAAGnjB,GAC1CvhC,KAAKswE,uBAAyB,EAM9BtwE,KAAKigC,EACFjgC,KAAKigC,EAAEsgC,gBAAgBl8D,SAC1BrE,KAAKqtB,IAAIg6C,QAAQrnE,KAAKigC,EAAEsB,GACxBvhC,KAAKswE,uBAAyB,GAEtBtwE,KAAK4wE,GAAGrQ,gBAAgBl8D,QAAWrE,KAAK2wE,GAAGpQ,gBAAgBl8D,QAAWrE,KAAK0wE,GAAGnQ,gBAAgBl8D,QAAWrE,KAAKylE,GAAGlF,gBAAgBl8D,SAC3IrE,KAAKqtB,IAAIs6C,SAAS3nE,KAAK4wE,GAAGrvC,GAAGmmC,QAAQ1nE,KAAK2wE,GAAGpvC,GAAGkmC,QAAQznE,KAAK0wE,GAAGnvC,GAAGomC,SAAS3nE,KAAKylE,GAAGlkC,EAAE,IAAImmC,QAAQ1nE,KAAKylE,GAAGlkC,EAAE,IAAIkmC,QAAQznE,KAAKylE,GAAGlkC,EAAE,IAClIvhC,KAAKswE,uBAAyB,KA+FhCe,WA3FF,cA6FAp3B,gBAAgB,CAACsnB,0BAA2B8O,GAC5CA,EAAkBpuE,UAAU6+D,mBA1F5B,SAA4Bl5C,GAC1B5nB,KAAKsxE,oBAAoB1pD,GAEzB5nB,KAAKu1B,KAAKurC,mBAAmBl5C,GAC7B5nB,KAAK6wE,UAAW,GAuFlBR,EAAkBpuE,UAAUqvE,oBAAsB/P,yBAAyBt/D,UAAU6+D,mBAM9E,CACLyQ,qBALF,SAA8Bh8C,EAAMlrB,EAAM6pB,GACxC,OAAO,IAAIm8C,EAAkB96C,EAAMlrB,EAAM6pB,KAvQd,GA+Q/B,SAASs9C,oBAkST,SAASC,wBA0HT,SAASC,kBAAkBC,GAOzB,IANA,IAAIC,EAASD,EAASE,OAASF,EAASE,OAAO7wD,MAAM,KAAO,GACxD8wD,EAAU,SACVD,EAAS,SACTrwD,EAAMowD,EAAOvtE,OAGRsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAG5B,OAFYioE,EAAOjoE,GAAG9H,eAGpB,IAAK,SACHgwE,EAAS,SACT,MAEF,IAAK,OACHC,EAAU,MACV,MAEF,IAAK,QACHA,EAAU,MACV,MAEF,IAAK,SACHA,EAAU,MACV,MAEF,IAAK,UACL,IAAK,SACHA,EAAU,MACV,MAEF,IAAK,QACL,IAAK,OACHA,EAAU,MAQhB,MAAO,CACL7pD,MAAO4pD,EACPE,OAAQJ,EAASG,SAAWA,GAtchC73B,gBAAgB,CAAC2zB,eAAgB4D,kBAEjCA,iBAAiBvvE,UAAU8rE,uBAAyB,SAAUx4C,EAAMlrB,GAClErK,KAAKihE,SAAWjhE,KAAKkuE,YACrBluE,KAAK0gC,EAAIw6B,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKq2B,EAAG,EAAG,KAAM1gC,MACxDA,KAAK2X,EAAIujD,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsN,EAAG,EAAG,KAAM3X,MACxDA,KAAKgyE,GAAK7B,yBAAyBoB,qBAAqBh8C,EAAMlrB,EAAK2nE,GAAIhyE,MACvEA,KAAKiyE,GAAK/W,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAK2nE,GAAGC,GAAI,EAAG,IAAMjyE,MAC7DA,KAAKkyE,GAAKhX,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAK2nE,GAAGE,GAAI,EAAG,IAAMlyE,MAC7DA,KAAKqK,KAAOA,EAEPrK,KAAKwhE,kBAAkBn9D,QAC1BrE,KAAKihE,UAAS,GAGhBjhE,KAAKyhE,cAAgBzhE,KAAKwhE,kBAAkBn9D,OAC5CrE,KAAKmyE,QAAU,IAAIpL,OACnB/mE,KAAKoyE,QAAU,IAAIrL,OACnB/mE,KAAKqyE,QAAU,IAAItL,OACnB/mE,KAAKsyE,QAAU,IAAIvL,OACnB/mE,KAAKuyE,OAAS,IAAIxL,QAGpByK,iBAAiBvvE,UAAUuwE,gBAAkB,SAAUL,EAASC,EAASC,EAAS/J,EAAW/Q,EAAMkb,GACjG,IAAI3yD,EAAM2yD,GAAO,EAAI,EACjBC,EAASpK,EAAU37C,EAAE4U,EAAE,IAAM,EAAI+mC,EAAU37C,EAAE4U,EAAE,KAAO,EAAIg2B,GAC1Dob,EAASrK,EAAU37C,EAAE4U,EAAE,IAAM,EAAI+mC,EAAU37C,EAAE4U,EAAE,KAAO,EAAIg2B,GAC9D4a,EAAQhK,UAAUG,EAAU3oB,EAAEpe,EAAE,GAAKzhB,EAAMy3C,EAAM+Q,EAAU3oB,EAAEpe,EAAE,GAAKzhB,EAAMy3C,EAAM+Q,EAAU3oB,EAAEpe,EAAE,IAC9F6wC,EAAQjK,WAAWG,EAAU1jD,EAAE2c,EAAE,IAAK+mC,EAAU1jD,EAAE2c,EAAE,GAAI+mC,EAAU1jD,EAAE2c,EAAE,IACtE6wC,EAAQ/K,QAAQiB,EAAUroC,EAAEsB,EAAIzhB,EAAMy3C,GACtC6a,EAAQjK,UAAUG,EAAU1jD,EAAE2c,EAAE,GAAI+mC,EAAU1jD,EAAE2c,EAAE,GAAI+mC,EAAU1jD,EAAE2c,EAAE,IACpE8wC,EAAQlK,WAAWG,EAAU1jD,EAAE2c,EAAE,IAAK+mC,EAAU1jD,EAAE2c,EAAE,GAAI+mC,EAAU1jD,EAAE2c,EAAE,IACtE8wC,EAAQrK,MAAMyK,EAAM,EAAIC,EAASA,EAAQD,EAAM,EAAIE,EAASA,GAC5DN,EAAQlK,UAAUG,EAAU1jD,EAAE2c,EAAE,GAAI+mC,EAAU1jD,EAAE2c,EAAE,GAAI+mC,EAAU1jD,EAAE2c,EAAE,KAGtEiwC,iBAAiBvvE,UAAUoyB,KAAO,SAAUkB,EAAMliB,EAAK6uD,EAAK0Q,GAY1D,IAXA5yE,KAAKu1B,KAAOA,EACZv1B,KAAKqT,IAAMA,EACXrT,KAAKkiE,IAAMA,EACXliE,KAAK4yE,UAAYA,EACjB5yE,KAAK6yE,eAAiB,EACtB7yE,KAAK8yE,UAAY,GACjB9yE,KAAK+yE,QAAU,GACf/yE,KAAKsgE,SAAW,EAChBtgE,KAAK2hE,6BAA6BpsC,GAClCv1B,KAAK+tE,uBAAuBx4C,EAAMliB,EAAI6uD,IAE/BA,EAAM,GACXA,GAAO,EAEPliE,KAAK8yE,UAAU5/D,QAAQG,EAAI6uD,IAGzBliE,KAAKwhE,kBAAkBn9D,OACzBrE,KAAKixC,GAAI,EAETjxC,KAAKihE,UAAS,IAIlBuQ,iBAAiBvvE,UAAU+wE,cAAgB,SAAUr9C,GACnD,IAAIhsB,EACA6X,EAAMmU,EAAStxB,OAEnB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBgsB,EAAShsB,GAAGspE,YAAa,EAEF,OAAnBt9C,EAAShsB,GAAGi5C,IACd5iD,KAAKgzE,cAAcr9C,EAAShsB,GAAG25C,KAKrCkuB,iBAAiBvvE,UAAUixE,cAAgB,SAAUv9C,GACnD,IAAIw9C,EAAchxE,KAAKwD,MAAMxD,KAAKC,UAAUuzB,IAE5C,OADA31B,KAAKgzE,cAAcG,GACZA,GAGT3B,iBAAiBvvE,UAAUmxE,kBAAoB,SAAUz9C,EAAU09C,GACjE,IAAI1pE,EACA6X,EAAMmU,EAAStxB,OAEnB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBgsB,EAAShsB,GAAGgQ,QAAU05D,EAEC,OAAnB19C,EAAShsB,GAAGi5C,IACd5iD,KAAKozE,kBAAkBz9C,EAAShsB,GAAG25C,GAAI+vB,IAK7C7B,iBAAiBvvE,UAAU6sE,cAAgB,SAAUrO,GACnD,IAAIvsB,EACAo/B,EACA3pE,EACAmW,EACAyzD,EACAC,GAAc,EAElB,GAAIxzE,KAAKogE,MAAQK,EAAe,CAC9B,IAmEI4S,EAnEAI,EAASzsE,KAAK0sE,KAAK1zE,KAAK0gC,EAAEa,GAE9B,GAAIvhC,KAAK+yE,QAAQ1uE,OAASovE,EAAQ,CAChC,KAAOzzE,KAAK+yE,QAAQ1uE,OAASovE,GAAQ,CACnC,IAAIE,EAAQ,CACVrwB,GAAItjD,KAAKkzE,cAAclzE,KAAK8yE,WAC5BlwB,GAAI,MAEN+wB,EAAMrwB,GAAGn8C,KAAK,CACZyd,EAAG,CACDA,EAAG,EACHgvD,GAAI,EACJ3iC,EAAG,CAAC,EAAG,IAET6Z,GAAI,YACJnzC,EAAG,CACDiN,EAAG,EACHgvD,GAAI,EACJ3iC,EAAG,KAEL0O,EAAG,CACD/6B,EAAG,EACHgvD,GAAI,EACJ3iC,EAAG,CAAC,EAAG,IAEThR,EAAG,CACDrb,EAAG,EACHgvD,GAAI,EACJ3iC,EAAG,CAAC,CACFtkB,EAAG,EACH7c,EAAG,EACHsmC,EAAG,GACF,CACDzpB,EAAG,EACH7c,EAAG,EACHsmC,EAAG,KAGPzpB,EAAG,CACD/H,EAAG,EACHgvD,GAAI,EACJ3iC,EAAG,CAAC,IAAK,MAEXyT,GAAI,CACF9/B,EAAG,EACHgvD,GAAI,EACJ3iC,EAAG,GAELwT,GAAI,CACF7/B,EAAG,EACHgvD,GAAI,EACJ3iC,EAAG,GAEL2R,GAAI,OAEN5iD,KAAKqT,IAAI0iB,OAAO,EAAG,EAAG49C,GAEtB3zE,KAAK+yE,QAAQh9C,OAAO,EAAG,EAAG49C,GAE1B3zE,KAAK6yE,gBAAkB,EAGzB7yE,KAAKu1B,KAAKs+C,eACVL,GAAc,EAMhB,IAHAD,EAAO,EAGF5pE,EAAI,EAAGA,GAAK3J,KAAK+yE,QAAQ1uE,OAAS,EAAGsF,GAAK,EAAG,CAKhD,GAJA0pE,EAAaE,EAAOE,EACpBzzE,KAAK+yE,QAAQppE,GAAGgQ,QAAU05D,EAC1BrzE,KAAKozE,kBAAkBpzE,KAAK+yE,QAAQppE,GAAG25C,GAAI+vB,IAEtCA,EAAY,CACf,IAAIS,EAAQ9zE,KAAK4yE,UAAUjpE,GAAG25C,GAC1B3e,EAAgBmvC,EAAMA,EAAMzvE,OAAS,GAEJ,IAAjCsgC,EAAc2jC,UAAUhkB,GAAG/iB,GAC7BoD,EAAc2jC,UAAUhkB,GAAG8b,MAAO,EAClCz7B,EAAc2jC,UAAUhkB,GAAG/iB,EAAI,GAE/BoD,EAAc2jC,UAAUhkB,GAAG8b,MAAO,EAItCmT,GAAQ,EAGVvzE,KAAK6yE,eAAiBY,EAEtB,IAAIj7C,EAASx4B,KAAK2X,EAAE4pB,EAChBwyC,EAAev7C,EAAS,EACxBw7C,EAAcx7C,EAAS,EAAIxxB,KAAKC,MAAMuxB,GAAUxxB,KAAK0sE,KAAKl7C,GAC1Dy7C,EAASj0E,KAAKmyE,QAAQt5C,MACtBq7C,EAASl0E,KAAKoyE,QAAQv5C,MACtBs7C,EAASn0E,KAAKqyE,QAAQx5C,MAC1B74B,KAAKmyE,QAAQnrC,QACbhnC,KAAKoyE,QAAQprC,QACbhnC,KAAKqyE,QAAQrrC,QACbhnC,KAAKsyE,QAAQtrC,QACbhnC,KAAKuyE,OAAOvrC,QACZ,IA2BIn9B,EACAq4C,EA5BAkyB,EAAY,EAEhB,GAAI57C,EAAS,EAAG,CACd,KAAO47C,EAAYJ,GACjBh0E,KAAKwyE,gBAAgBxyE,KAAKmyE,QAASnyE,KAAKoyE,QAASpyE,KAAKqyE,QAASryE,KAAKgyE,GAAI,GAAG,GAC3EoC,GAAa,EAGXL,IACF/zE,KAAKwyE,gBAAgBxyE,KAAKmyE,QAASnyE,KAAKoyE,QAASpyE,KAAKqyE,QAASryE,KAAKgyE,GAAI+B,GAAc,GACtFK,GAAaL,QAEV,GAAIv7C,EAAS,EAAG,CACrB,KAAO47C,EAAYJ,GACjBh0E,KAAKwyE,gBAAgBxyE,KAAKmyE,QAASnyE,KAAKoyE,QAASpyE,KAAKqyE,QAASryE,KAAKgyE,GAAI,GAAG,GAC3EoC,GAAa,EAGXL,IACF/zE,KAAKwyE,gBAAgBxyE,KAAKmyE,QAASnyE,KAAKoyE,QAASpyE,KAAKqyE,QAASryE,KAAKgyE,IAAK+B,GAAc,GACvFK,GAAaL,GAUjB,IANApqE,EAAoB,IAAhB3J,KAAKqK,KAAK2vB,EAAU,EAAIh6B,KAAK6yE,eAAiB,EAClD/yD,EAAsB,IAAhB9f,KAAKqK,KAAK2vB,EAAU,GAAK,EAC/Bu5C,EAAOvzE,KAAK6yE,eAILU,GAAM,CAQX,GALArxB,GADAoxB,GADAp/B,EAAQl0C,KAAK4yE,UAAUjpE,GAAG25C,IACHpP,EAAM7vC,OAAS,GAAGikE,UAAU+L,OAAO9yC,EAAE1I,OACtCx0B,OACtB6vC,EAAMA,EAAM7vC,OAAS,GAAGikE,UAAU+L,OAAOjU,MAAO,EAChDlsB,EAAMA,EAAM7vC,OAAS,GAAGikE,UAAUhkB,GAAG8b,MAAO,EAC5ClsB,EAAMA,EAAM7vC,OAAS,GAAGikE,UAAUhkB,GAAG/iB,EAA4B,IAAxBvhC,KAAK6yE,eAAuB7yE,KAAKiyE,GAAG1wC,EAAIvhC,KAAKiyE,GAAG1wC,GAAKvhC,KAAKkyE,GAAG3wC,EAAIvhC,KAAKiyE,GAAG1wC,IAAM53B,GAAK3J,KAAK6yE,eAAiB,IAEjI,IAAduB,EAAiB,CASnB,KARU,IAANzqE,GAAmB,IAARmW,GAAanW,IAAM3J,KAAK6yE,eAAiB,IAAc,IAAT/yD,IAC3D9f,KAAKwyE,gBAAgBxyE,KAAKmyE,QAASnyE,KAAKoyE,QAASpyE,KAAKqyE,QAASryE,KAAKgyE,GAAI,GAAG,GAG7EhyE,KAAKuyE,OAAOjK,UAAU4L,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,KACvMl0E,KAAKuyE,OAAOjK,UAAU6L,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,KACvMn0E,KAAKuyE,OAAOjK,UAAU2L,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,KAElMpqE,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACzBypE,EAAezpE,GAAK7J,KAAKuyE,OAAO15C,MAAMhvB,GAGxC7J,KAAKuyE,OAAOvrC,aAIZ,IAFAhnC,KAAKuyE,OAAOvrC,QAEPn9B,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACzBypE,EAAezpE,GAAK7J,KAAKuyE,OAAO15C,MAAMhvB,GAI1CuqE,GAAa,EACbb,GAAQ,EACR5pE,GAAKmW,QAOP,IAJAyzD,EAAOvzE,KAAK6yE,eACZlpE,EAAI,EACJmW,EAAM,EAECyzD,GAELD,GADAp/B,EAAQl0C,KAAK4yE,UAAUjpE,GAAG25C,IACHpP,EAAM7vC,OAAS,GAAGikE,UAAU+L,OAAO9yC,EAAE1I,MAC5Dqb,EAAMA,EAAM7vC,OAAS,GAAGikE,UAAU+L,OAAOjU,MAAO,EAChDlsB,EAAMA,EAAM7vC,OAAS,GAAGikE,UAAUhkB,GAAG8b,MAAO,EAC5CmT,GAAQ,EACR5pE,GAAKmW,EAIT,OAAO0zD,GAGThC,iBAAiBvvE,UAAUmhE,SAAW,aAItCnpB,gBAAgB,CAAC2zB,eAAgB6D,sBAEjCA,qBAAqBxvE,UAAU8rE,uBAAyB,SAAUx4C,EAAMlrB,GACtErK,KAAKihE,SAAWjhE,KAAKkuE,YACrBluE,KAAKs0E,GAAKpZ,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAK41B,EAAG,EAAG,KAAMjgC,MACzDA,KAAKyhE,cAAgBzhE,KAAKs0E,GAAG/T,gBAAgBl8D,QAG/CotE,qBAAqBxvE,UAAU8tE,YAAc,SAAUhwC,EAAM/G,GAC3D,IAEIrvB,EAFAumE,EAAanN,UAAUhN,aAC3Bma,EAAWxvC,EAAIX,EAAKW,EAEpB,IACI6zC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAxS,EACAC,EACAC,EACAC,EACAC,EACAC,EAbAjhD,EAAMue,EAAK61B,QAOX7hD,EAAQ,EAQZ,IAAKpK,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB4qE,EAAWx0C,EAAKwB,EAAE53B,GAClB8qE,EAAW10C,EAAKpoB,EAAEhO,GAClB6qE,EAAWz0C,EAAKp2B,EAAEA,GAEd4qE,EAAS,KAAOE,EAAS,IAAMF,EAAS,KAAOE,EAAS,IAAMF,EAAS,KAAOC,EAAS,IAAMD,EAAS,KAAOC,EAAS,GAC7G,IAAN7qE,GAAWA,IAAM6X,EAAM,GAAOue,EAAKW,GASpCg0C,EADQ,IAAN/qE,EACQo2B,EAAKwB,EAAE/f,EAAM,GAEbue,EAAKwB,EAAE53B,EAAI,GAIvBirE,GADAD,EAAW3tE,KAAK+1C,KAAK/1C,KAAK61C,IAAI03B,EAAS,GAAKG,EAAQ,GAAI,GAAK1tE,KAAK61C,IAAI03B,EAAS,GAAKG,EAAQ,GAAI,KACxE1tE,KAAKm2C,IAAIw3B,EAAW,EAAG37C,GAAS27C,EAAW,EAEnEvS,EADAI,EAAK+R,EAAS,IAAMG,EAAQ,GAAKH,EAAS,IAAMK,EAGhDvS,EADAI,EAAK8R,EAAS,IAAMA,EAAS,GAAKG,EAAQ,IAAME,EAEhDtS,EAAKF,GAAMA,EAAKmS,EAAS,IAAM52B,YAC/B4kB,EAAKF,GAAMA,EAAKkS,EAAS,IAAM52B,YAC/BuyB,EAAW/N,YAAYC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAI1uD,GAC/CA,GAAS,EAGP2gE,EADE/qE,IAAM6X,EAAM,EACJue,EAAKwB,EAAE,GAEPxB,EAAKwB,EAAE53B,EAAI,GAIvBirE,GADAD,EAAW3tE,KAAK+1C,KAAK/1C,KAAK61C,IAAI03B,EAAS,GAAKG,EAAQ,GAAI,GAAK1tE,KAAK61C,IAAI03B,EAAS,GAAKG,EAAQ,GAAI,KACxE1tE,KAAKm2C,IAAIw3B,EAAW,EAAG37C,GAAS27C,EAAW,EAEnEvS,EADAE,EAAKiS,EAAS,IAAMG,EAAQ,GAAKH,EAAS,IAAMK,EAGhDvS,EADAE,EAAKgS,EAAS,IAAMG,EAAQ,GAAKH,EAAS,IAAMK,EAEhDpS,EAAKJ,GAAMA,EAAKmS,EAAS,IAAM52B,YAC/B8kB,EAAKJ,GAAMA,EAAKkS,EAAS,IAAM52B,YAC/BuyB,EAAW/N,YAAYC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAI1uD,GAC/CA,GAAS,IAvCTm8D,EAAW/N,YAAYoS,EAAS,GAAIA,EAAS,GAAIE,EAAS,GAAIA,EAAS,GAAID,EAAS,GAAIA,EAAS,GAAIzgE,GAKrGA,GAAS,IAqCXm8D,EAAW/N,YAAYpiC,EAAKwB,EAAE53B,GAAG,GAAIo2B,EAAKwB,EAAE53B,GAAG,GAAIo2B,EAAKpoB,EAAEhO,GAAG,GAAIo2B,EAAKpoB,EAAEhO,GAAG,GAAIo2B,EAAKp2B,EAAEA,GAAG,GAAIo2B,EAAKp2B,EAAEA,GAAG,GAAIoK,GAC3GA,GAAS,GAIb,OAAOm8D,GAGTuB,qBAAqBxvE,UAAU6sE,cAAgB,SAAUrO,GACvD,IAAIsO,EACAplE,EAEAE,EACAq4C,EAIEyW,EACAwL,EAPF3iD,EAAMxhB,KAAKgjD,OAAO3+C,OAGlBiwE,EAAKt0E,KAAKs0E,GAAG/yC,EAEjB,GAAW,IAAP+yC,EAIF,IAAK3qE,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAI3B,GAFAw6D,GADAxL,EAAY34D,KAAKgjD,OAAOr5C,IACSw6D,qBAE1BxL,EAAUsK,MAAM7C,MAASpgE,KAAKogE,MAASK,EAM5C,IALA0D,EAAqBd,gBACrB1K,EAAUsK,MAAM7C,MAAO,EACvB2O,EAAapW,EAAUsK,MAAMiB,MAAMlhB,OACnCd,EAAOyW,EAAUsK,MAAMiB,MAAMtO,QAExB/rD,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACzBs6D,EAAqBf,SAASpjE,KAAK+vE,YAAYhB,EAAWllE,GAAIyqE,IAIlE3b,EAAUsK,MAAMiB,MAAQvL,EAAUwL,qBAIjCnkE,KAAKwhE,kBAAkBn9D,SAC1BrE,KAAKogE,MAAO,IAoDhB,IAAIyU,YAAc,WAChB,IACIC,EAAY,CACdC,EAAG,EACH7+C,KAAM,EACN8sB,OAAQ,GACR34C,KAAM,CACJ24C,OAAQ,KAGRgyB,EAAqB,GAEzBA,EAAqBA,EAAmBh0E,OAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAChP,IAAIi0E,EAAqB,CAAC,WAAY,WAAY,WAAY,WAAY,YACtEC,EAAkB,CAAC,MAAO,MAiB9B,SAASC,EAAUC,EAAMC,GACvB,IAAIhjD,EAAa2nB,UAAU,QAE3B3nB,EAAWU,aAAa,eAAe,GACvCV,EAAWpK,MAAMhF,WAAaoyD,EAC9B,IAAI9iD,EAAOynB,UAAU,QAErBznB,EAAKmgC,UAAY,iBAEjBrgC,EAAWpK,MAAM9S,SAAW,WAC5Bkd,EAAWpK,MAAM1S,KAAO,WACxB8c,EAAWpK,MAAM3S,IAAM,WAEvB+c,EAAWpK,MAAM/E,SAAW,QAE5BmP,EAAWpK,MAAM7E,YAAc,SAC/BiP,EAAWpK,MAAM9E,UAAY,SAC7BkP,EAAWpK,MAAM5E,WAAa,SAC9BgP,EAAWpK,MAAM1E,cAAgB,IACjC8O,EAAWpgB,YAAYsgB,GACvBvhB,SAAStN,KAAKuO,YAAYogB,GAE1B,IAAIxM,EAAQ0M,EAAK+iD,YAEjB,OADA/iD,EAAKtK,MAAMhF,WAtCb,SAAyBmyD,GACvB,IACIzrE,EADA4rE,EAAcH,EAAKp0D,MAAM,KAEzBQ,EAAM+zD,EAAYlxE,OAClBmxE,EAAkB,GAEtB,IAAK7rE,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACD,eAAnB4rE,EAAY5rE,IAA0C,cAAnB4rE,EAAY5rE,IACjD6rE,EAAgBruE,KAAKouE,EAAY5rE,IAIrC,OAAO6rE,EAAgB1sE,KAAK,KA0BJ2sE,CAAgBL,GAAQ,KAAOC,EAChD,CACL9iD,KAAMA,EACNwiD,EAAGlvD,EACHrI,OAAQ6U,GA+CZ,SAASqjD,EAAaC,EAAKhE,GACzB,IAAIiE,EAAU/0B,SAAS,QACvB+0B,EAAQ3tD,MAAM/E,SAAW,QAEzB,IAAI2yD,EAAYnE,kBAAkBC,GAiBlC,OAhBAiE,EAAQ7iD,aAAa,cAAe4+C,EAASmE,SAC7CF,EAAQ7iD,aAAa,aAAc8iD,EAAU5tD,OAC7C2tD,EAAQ7iD,aAAa,cAAe8iD,EAAU9D,QAC9C6D,EAAQ19C,YAAc,IAElBy5C,EAASoE,QACXH,EAAQ3tD,MAAMhF,WAAa,UAC3B2yD,EAAQ7iD,aAAa,QAAS4+C,EAASoE,SAEvCH,EAAQ3tD,MAAMhF,WAAa0uD,EAASmE,QAGtCH,EAAI1jE,YAAY2jE,GACI57B,UAAU,UAAU6M,WAAW,MACrCuuB,KAAOzD,EAASG,QAAU,IAAMH,EAASE,OAAS,UAAYF,EAASmE,QAE9EF,EAyNT,IAAII,EAAO,WACTh2E,KAAK+tD,MAAQ,GACb/tD,KAAKmkD,MAAQ,KACbnkD,KAAKi2E,cAAgB,EACrBj2E,KAAKwrD,UAAW,EAChBxrD,KAAKk2E,SAAU,EACfl2E,KAAKwxD,SAAWxrD,KAAK4E,MACrB5K,KAAKm2E,kBAAoBn2E,KAAKo2E,YAAYr6D,KAAK/b,MAC/CA,KAAKq2E,uBAAyBr2E,KAAKs2E,iBAAiBv6D,KAAK/b,OAG3Dg2E,EAAKO,WAhCL,SAAoBC,EAAeC,GACjC,IAAIC,EAAMF,EAActuE,SAAS,IAAMuuE,EAAevuE,SAAS,IAC/D,OAA4C,IAArC+sE,EAAmB1xE,QAAQmzE,IA+BpCV,EAAKW,kBA5BL,SAA2BH,EAAeC,GACxC,OAAKA,EAIED,IAAkBtB,EAAgB,IAAMuB,IAAmBvB,EAAgB,GAHzEsB,IAAkBtB,EAAgB,IA2B7Cc,EAAKY,oBArBL,SAA6BC,GAC3B,OAA+C,IAAxC7B,EAAmBzxE,QAAQszE,IAqBpC,IAAIC,EAAgB,CAClB7oB,SApIF,SAAkB9J,GAChB,GAAKA,EAAL,CAQA,IAAIx6C,EAJC3J,KAAKmkD,QACRnkD,KAAKmkD,MAAQ,IAIf,IACIt6C,EAEAijB,EAHAtL,EAAM2iC,EAAM9/C,OAEZ69C,EAAOliD,KAAKmkD,MAAM9/C,OAGtB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAI3B,IAHAE,EAAI,EACJijB,GAAQ,EAEDjjB,EAAIq4C,GACLliD,KAAKmkD,MAAMt6C,GAAGoe,QAAUk8B,EAAMx6C,GAAGse,OAASjoB,KAAKmkD,MAAMt6C,GAAGisE,UAAY3xB,EAAMx6C,GAAGmsE,SAAW91E,KAAKmkD,MAAMt6C,GAAGktE,KAAO5yB,EAAMx6C,GAAGotE,KACxHjqD,GAAQ,GAGVjjB,GAAK,EAGFijB,IACH9sB,KAAKmkD,MAAMh9C,KAAKg9C,EAAMx6C,IACtBu4C,GAAQ,MAwGZgM,SAtOF,SAAkByjB,EAAUxkB,GAC1B,GAAKwkB,EAAL,CAKA,GAAI3xE,KAAKmkD,MAGP,OAFAnkD,KAAKwrD,UAAW,OAChBxrD,KAAK+tD,MAAQ4jB,EAASqF,MAIxB,IACIrtE,EADAstE,EAAUtF,EAASqF,KAEnBx1D,EAAMy1D,EAAQ5yE,OACd6yE,EAAgB11D,EAEpB,IAAK7X,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAC3B,IACIwtE,EACAttE,EAFAutE,GAAiB,EAOrB,GAJAH,EAAQttE,GAAG0tE,QAAS,EACpBJ,EAAQttE,GAAG2tE,SAAWnC,EAAU8B,EAAQttE,GAAGmsE,QAAS,aACpDmB,EAAQttE,GAAG4tE,SAAWpC,EAAU8B,EAAQttE,GAAGmsE,QAAS,cAE/CmB,EAAQttE,GAAG6tE,OAGT,GAA2B,MAAvBP,EAAQttE,GAAG8tE,SAAyC,IAAtBR,EAAQttE,GAAG08C,QAOlD,IANA8wB,EAAiBnmE,SAAS8jB,iBAAiB,kCAAoCmiD,EAAQttE,GAAGmsE,QAAU,qCAAuCmB,EAAQttE,GAAGmsE,QAAU,OAE7IzxE,OAAS,IAC1B+yE,GAAiB,GAGfA,EAAgB,CAClB,IAAIzqD,EAAIqtB,UAAU,SAClBrtB,EAAEoG,aAAa,YAAakkD,EAAQttE,GAAG8tE,SACvC9qD,EAAEoG,aAAa,WAAYkkD,EAAQttE,GAAG08C,QACtC15B,EAAEoG,aAAa,WAAYkkD,EAAQttE,GAAGmsE,SACtCnpD,EAAEhM,KAAO,WACTgM,EAAE+lC,UAAY,4BAA8BukB,EAAQttE,GAAGmsE,QAAU,mCAAqCmB,EAAQttE,GAAG6tE,MAAQ,OACzHrqB,EAAKl7C,YAAY0a,SAEd,GAA2B,MAAvBsqD,EAAQttE,GAAG8tE,SAAyC,IAAtBR,EAAQttE,GAAG08C,OAAc,CAGhE,IAFA8wB,EAAiBnmE,SAAS8jB,iBAAiB,2CAEtCjrB,EAAI,EAAGA,EAAIstE,EAAe9yE,OAAQwF,GAAK,GACgB,IAAtDstE,EAAettE,GAAGuiE,KAAK7oE,QAAQ0zE,EAAQttE,GAAG6tE,SAE5CJ,GAAiB,GAIrB,GAAIA,EAAgB,CAClB,IAAIpmC,EAAIgJ,UAAU,QAClBhJ,EAAEje,aAAa,YAAakkD,EAAQttE,GAAG8tE,SACvCzmC,EAAEje,aAAa,WAAYkkD,EAAQttE,GAAG08C,QACtCrV,EAAErwB,KAAO,WACTqwB,EAAE0mC,IAAM,aACR1mC,EAAEo7B,KAAO6K,EAAQttE,GAAG6tE,MACpBxmE,SAAStN,KAAKuO,YAAY++B,SAEvB,GAA2B,MAAvBimC,EAAQttE,GAAG8tE,SAAyC,IAAtBR,EAAQttE,GAAG08C,OAAc,CAGhE,IAFA8wB,EAAiBnmE,SAAS8jB,iBAAiB,+CAEtCjrB,EAAI,EAAGA,EAAIstE,EAAe9yE,OAAQwF,GAAK,EACtCotE,EAAQttE,GAAG6tE,QAAUL,EAAettE,GAAGmI,MAEzColE,GAAiB,GAIrB,GAAIA,EAAgB,CAClB,IAAIO,EAAK39B,UAAU,QACnB29B,EAAG5kD,aAAa,YAAakkD,EAAQttE,GAAG8tE,SACxCE,EAAG5kD,aAAa,WAAYkkD,EAAQttE,GAAG08C,QACvCsxB,EAAG5kD,aAAa,MAAO,cACvB4kD,EAAG5kD,aAAa,OAAQkkD,EAAQttE,GAAG6tE,OACnCrqB,EAAKl7C,YAAY0lE,UArDnBV,EAAQttE,GAAG0tE,QAAS,EACpBH,GAAiB,EAwDnBD,EAAQttE,GAAGiuE,OAASlC,EAAavoB,EAAM8pB,EAAQttE,IAC/CstE,EAAQttE,GAAGxI,MAAQ,GACnBnB,KAAK+tD,MAAM5mD,KAAK8vE,EAAQttE,IAGJ,IAAlButE,EACFl3E,KAAKwrD,UAAW,EAIhBnmD,WAAWrF,KAAKs2E,iBAAiBv6D,KAAK/b,MAAO,UA3F7CA,KAAKwrD,UAAW,GAqOlBqsB,YApGF,SAAqBC,EAAO7vD,EAAOmtD,GAIjC,IAHA,IAAIzrE,EAAI,EACJ6X,EAAMxhB,KAAKmkD,MAAM9/C,OAEdsF,EAAI6X,GAAK,CACd,GAAIxhB,KAAKmkD,MAAMx6C,GAAGotE,KAAOe,GAAS93E,KAAKmkD,MAAMx6C,GAAGse,QAAUA,GAASjoB,KAAKmkD,MAAMx6C,GAAGmsE,UAAYV,EAC3F,OAAOp1E,KAAKmkD,MAAMx6C,GAGpBA,GAAK,EASP,OANsB,iBAAVmuE,GAA8C,KAAxBA,EAAM1tD,WAAW,KAAc0tD,IAAUzlE,SAAWA,QAAQC,OAC1FtS,KAAKk2E,UACPl2E,KAAKk2E,SAAU,EACf7jE,QAAQC,KAAK,oDAAqDwlE,EAAO7vD,EAAOmtD,IAG3EN,GAmFPiD,cAtDF,SAAuB90E,GAIrB,IAHA,IAAI0G,EAAI,EACJ6X,EAAMxhB,KAAK+tD,MAAM1pD,OAEdsF,EAAI6X,GAAK,CACd,GAAIxhB,KAAK+tD,MAAMpkD,GAAGquE,QAAU/0E,EAC1B,OAAOjD,KAAK+tD,MAAMpkD,GAGpBA,GAAK,EAGP,OAAO3J,KAAK+tD,MAAM,IA2ClBkqB,YAjFF,SAAqBC,EAAQC,EAAUjiD,GACrC,IAAIy7C,EAAW3xE,KAAK+3E,cAAcI,GAE9BpkE,EAAQmkE,EAAO9tD,WAAW,GAE9B,IAAKunD,EAASxwE,MAAM4S,EAAQ,GAAI,CAC9B,IAAI6hE,EAAUjE,EAASiG,OAKvB,GAAe,MAAXM,EAAgB,CAClBtC,EAAQ19C,YAAc,IAAMggD,EAAS,IACrC,IAAIE,EAAaxC,EAAQyC,wBACzBzC,EAAQ19C,YAAc,KACtB,IAAIogD,EAAa1C,EAAQyC,wBACzB1G,EAASxwE,MAAM4S,EAAQ,IAAMqkE,EAAaE,GAAc,SAExD1C,EAAQ19C,YAAcggD,EACtBvG,EAASxwE,MAAM4S,EAAQ,GAAK6hE,EAAQyC,wBAA0B,IAIlE,OAAO1G,EAASxwE,MAAM4S,EAAQ,GAAKmiB,GA2DnCogD,iBA7SF,WACE,IAAI3sE,EAEA4oB,EACAwiD,EAFAvzD,EAAMxhB,KAAK+tD,MAAM1pD,OAGjBk0E,EAAc/2D,EAElB,IAAK7X,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACpB3J,KAAK+tD,MAAMpkD,GAAG0tE,OAChBkB,GAAe,EACoB,MAA1Bv4E,KAAK+tD,MAAMpkD,GAAG8tE,SAA4C,IAAzBz3E,KAAK+tD,MAAMpkD,GAAG08C,OACxDrmD,KAAK+tD,MAAMpkD,GAAG0tE,QAAS,GAEvB9kD,EAAOvyB,KAAK+tD,MAAMpkD,GAAG2tE,SAAS/kD,KAC9BwiD,EAAI/0E,KAAK+tD,MAAMpkD,GAAG2tE,SAASvC,EAEvBxiD,EAAK+iD,cAAgBP,GACvBwD,GAAe,EACfv4E,KAAK+tD,MAAMpkD,GAAG0tE,QAAS,IAEvB9kD,EAAOvyB,KAAK+tD,MAAMpkD,GAAG4tE,SAAShlD,KAC9BwiD,EAAI/0E,KAAK+tD,MAAMpkD,GAAG4tE,SAASxC,EAEvBxiD,EAAK+iD,cAAgBP,IACvBwD,GAAe,EACfv4E,KAAK+tD,MAAMpkD,GAAG0tE,QAAS,IAIvBr3E,KAAK+tD,MAAMpkD,GAAG0tE,SAChBr3E,KAAK+tD,MAAMpkD,GAAG4tE,SAAS/5D,OAAO6U,WAAWzgB,YAAY5R,KAAK+tD,MAAMpkD,GAAG4tE,SAAS/5D,QAC5Exd,KAAK+tD,MAAMpkD,GAAG2tE,SAAS95D,OAAO6U,WAAWzgB,YAAY5R,KAAK+tD,MAAMpkD,GAAG2tE,SAAS95D,UAK9D,IAAhB+6D,GAAqBvyE,KAAK4E,MAAQ5K,KAAKwxD,SAjGxB,IAkGjBnsD,WAAWrF,KAAKq2E,uBAAwB,IAExChxE,WAAWrF,KAAKm2E,kBAAmB,KAuQrCC,YAzBF,WACEp2E,KAAKwrD,UAAW,IA2BlB,OADAwqB,EAAK/zE,UAAY60E,EACVd,EA/WS,GAkXlB,SAASwC,qBAETA,kBAAkBv2E,UAAY,CAC5Bw2E,eAAgB,WAEdz4E,KAAK04E,WAAY,EAEjB14E,KAAK24E,QAAS,EAEd34E,KAAK44E,eAAgB,EAErB54E,KAAK64E,qBAAuB,IAE9BC,uBAAwB,SAAgCC,IACA,IAAlD/4E,KAAK64E,qBAAqBt1E,QAAQw1E,IACpC/4E,KAAK64E,qBAAqB1xE,KAAK4xE,IAGnCC,0BAA2B,SAAmCD,IACN,IAAlD/4E,KAAK64E,qBAAqBt1E,QAAQw1E,IACpC/4E,KAAK64E,qBAAqB9iD,OAAO/1B,KAAK64E,qBAAqBt1E,QAAQw1E,GAAY,IAGnFE,uBAAwB,SAAgC/jD,GACtDl1B,KAAKk5E,iBAAiBhkD,IAExBikD,kBAAmB,WACbn5E,KAAKo5E,eAAeC,MAAM1hE,EAAE4pB,GAAK,GAC9BvhC,KAAK44E,eAAiB54E,KAAKktD,WAAWosB,aAAaC,oBACtDv5E,KAAK44E,eAAgB,EACrB54E,KAAKqd,QAEErd,KAAK44E,gBACd54E,KAAK44E,eAAgB,EACrB54E,KAAKue,SAYT26D,iBAAkB,SAA0BhkD,GACtCl1B,KAAKqK,KAAKg6C,GAAKrkD,KAAKqK,KAAKk6C,IAAMrvB,GAAOl1B,KAAKqK,KAAKi6C,GAAKtkD,KAAKqK,KAAKk6C,GAAKrvB,GAC/C,IAAnBl1B,KAAK04E,YACP14E,KAAKktD,WAAWkT,MAAO,EACvBpgE,KAAKogE,MAAO,EACZpgE,KAAK04E,WAAY,EACjB14E,KAAKue,SAEqB,IAAnBve,KAAK04E,YACd14E,KAAKktD,WAAWkT,MAAO,EACvBpgE,KAAK04E,WAAY,EACjB14E,KAAKqd,SAGTm8D,iBAAkB,WAChB,IAAI7vE,EACA6X,EAAMxhB,KAAK64E,qBAAqBx0E,OAEpC,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAK64E,qBAAqBlvE,GAAG2lD,YAAYtvD,KAAKygE,gBAMlDgZ,iBAAkB,WAChB,MAAO,CACLnkE,IAAK,EACLC,KAAM,EACNsQ,MAAO,IACPnG,OAAQ,MAGZg6D,aAAc,WACZ,OAAqB,IAAjB15E,KAAKqK,KAAKu4C,GACL,CACLmyB,EAAG/0E,KAAKqK,KAAKsvE,SAAS9zD,MACtB65B,EAAG1/C,KAAKqK,KAAKsvE,SAASj6D,QAInB,CACLq1D,EAAG/0E,KAAKqK,KAAKwb,MACb65B,EAAG1/C,KAAKqK,KAAKqV,UAKnB,IAAIk6D,qBAAuB,WACzB,SAASC,EAAcC,EAAMzvE,GAC3BrK,KAAK+5E,MAAQD,EACb95E,KAAKg6E,MAAQ3vE,EAiDf,OA9CA1H,OAAOggC,eAAek3C,EAAc53E,UAAW,WAAY,CACzDqI,IAAK,WAKH,OAJItK,KAAK+5E,MAAMnyD,KAAKqpB,GAClBjxC,KAAK+5E,MAAMnyD,KAAKq5C,WAGXjhE,KAAK+5E,MAAMnyD,QAGtBjlB,OAAOggC,eAAek3C,EAAc53E,UAAW,cAAe,CAC5DqI,IAAK,WAKH,OAJItK,KAAK+5E,MAAMz1B,GAAGrT,GAChBjxC,KAAK+5E,MAAMz1B,GAAG2c,WAGS,IAAlBjhE,KAAK+5E,MAAMz1B,GAAG/iB,KAIP,SAAqB04C,GACrC,IAEItwE,EAFAuwE,EAAmB79B,iBAAiB49B,EAAYE,SAAS91E,QAGzDmd,EAAMy4D,EAAYE,SAAS91E,OAE/B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBuwE,EAAiBvwE,GAAK,IAAIkwE,EAAcI,EAAYE,SAASxwE,GAAIswE,EAAYx3B,gBAAgB94C,IAiB/F,OAdmB,SAAsB1G,GAGvC,IAFA0G,EAAI,EAEGA,EAAI6X,GAAK,CACd,GAAIy4D,EAAYx3B,gBAAgB94C,GAAGmhD,KAAO7nD,EACxC,OAAOi3E,EAAiBvwE,GAG1BA,GAAK,EAGP,OAAO,OA9Cc,GAuDvBywE,4BAA8B,WAChC,IAAIC,EAA6B,CAC/B1e,GAAI,EACJp6B,EAAG,EACH4+B,KAAM,GAEJma,EAA+B,CACjC3e,GAAI,CAAC,EAAG,EAAG,GACXp6B,EAAG,CAAC,EAAG,EAAG,GACV4+B,KAAM,GAGR,SAASoa,EAAiBC,EAAiBtjD,EAAUvW,GACnDhe,OAAOggC,eAAe63C,EAAiB,WAAY,CACjDlwE,IAAK,WACH,OAAO4sB,EAASujD,kBAAkBvjD,EAASgsB,KAAK+H,iBAGpDuvB,EAAgBE,QAAUxjD,EAASglC,UAAYhlC,EAASglC,UAAU73D,OAAS,EAE3Em2E,EAAgBxyE,IAAM,SAAUk6D,GAC9B,IAAKsY,EAAgBE,QACnB,OAAO,EAGT,IAAIh4E,EAAQ,GAGVA,EADE,MAAOw0B,EAASglC,UAAUgG,EAAM,GAC1BhrC,EAASglC,UAAUgG,EAAM,GAAGv1C,EAC3B,MAAOuK,EAASglC,UAAUgG,EAAM,GACjChrC,EAASglC,UAAUgG,EAAM,GAAGpyD,EAE5BonB,EAASglC,UAAUgG,EAAM,GAAGv1C,EAGtC,IAAIguD,EAAqB,mBAATh6D,EAA4B,IAAIwU,OAAOzyB,GAASC,OAAOkgC,OAAO,GAAIngC,GAIlF,OAFAi4E,EAAUtwB,KAAOnzB,EAASglC,UAAUgG,EAAM,GAAG9rB,EAAIlf,EAAS3B,KAAK2tB,KAAKgK,WAAWxB,UAC/EivB,EAAUj4E,MAAiB,mBAATie,EAA4Bje,EAAM,GAAKA,EAClDi4E,GAGTH,EAAgBI,YAAc1jD,EAASk6C,eACvCoJ,EAAgBK,YAAc3jD,EAAS4jD,eACvCN,EAAgBO,eAAiB7jD,EAASujD,kBAC1CD,EAAgBQ,cAAgB9jD,EAAS8jD,cA0D3C,SAASC,IACP,OAAOZ,EAGT,OAAO,SAAUnjD,GACf,OAAKA,EAIqB,mBAAtBA,EAASwkC,SAhEf,SAAyCxkC,GAClCA,GAAc,OAAQA,IACzBA,EAAWmjD,GAGb,IAAIla,EAAO,EAAIjpC,EAASipC,KACpB5vD,EAAM2mB,EAASykC,GAAKwE,EACpBqa,EAAkB,IAAIrlD,OAAO5kB,GAIjC,OAFAiqE,EAAgB93E,MAAQ6N,EACxBgqE,EAAiBC,EAAiBtjD,EAAU,kBACrC,WAcL,OAbIA,EAAS+Z,GACX/Z,EAAS+pC,WAGX1wD,EAAM2mB,EAASqK,EAAI4+B,EAEfqa,EAAgB93E,QAAU6N,KAC5BiqE,EAAkB,IAAIrlD,OAAO5kB,IAEb7N,MAAQ6N,EACxBgqE,EAAiBC,EAAiBtjD,EAAU,mBAGvCsjD,GAwCAU,CAAgChkD,GApC3C,SAA2CA,GACpCA,GAAc,OAAQA,IACzBA,EAAWojD,GAGb,IAAIna,EAAO,EAAIjpC,EAASipC,KACpB3+C,EAAM0V,EAAS7sB,MAAQ6sB,EAAS7sB,KAAK2mC,GAAK9Z,EAASykC,GAAGt3D,OACtDm2E,EAAkBv+B,iBAAiB,UAAWz6B,GAC9C25D,EAAWl/B,iBAAiB,UAAWz6B,GAG3C,OAFAg5D,EAAgB93E,MAAQy4E,EACxBZ,EAAiBC,EAAiBtjD,EAAU,oBACrC,WACDA,EAAS+Z,GACX/Z,EAAS+pC,WAGX,IAAK,IAAIt3D,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAC5BwxE,EAASxxE,GAAKutB,EAASqK,EAAE53B,GAAKw2D,EAC9Bqa,EAAgB7wE,GAAKwxE,EAASxxE,GAGhC,OAAO6wE,GAkBFY,CAAkClkD,GAPhC+jD,GA7GqB,GAwH9BI,6BACK,SAAU/S,GACf,SAASgT,EAAcr4E,GACrB,OAAQA,GACN,IAAK,QACL,IAAK,QACL,IAAK,aACL,KAAK,EACH,OAAOq4E,EAActT,MAEvB,IAAK,WACL,IAAK,WACL,IAAK,gBACL,IAAK,gBACL,KAAK,GACH,OAAOsT,EAAcC,SAEvB,IAAK,gBACH,OAAOD,EAAcE,UAEvB,IAAK,gBACH,OAAOF,EAAcG,UAEvB,IAAK,WACL,IAAK,WACL,IAAK,gBACL,KAAK,EACH,OAAOH,EAAcnmE,SAEvB,IAAK,kBACH,OAAOmmE,EAAcI,UAEvB,IAAK,kBACH,OAAOJ,EAAcK,UAEvB,IAAK,kBACH,OAAOL,EAAcM,UAEvB,IAAK,cACL,IAAK,cACL,IAAK,eACL,IAAK,mBACL,KAAK,EACH,OAAON,EAAcO,YAEvB,IAAK,UACL,IAAK,UACL,KAAK,GACH,OAAOP,EAAc5lE,QAEvB,QACE,OAAO,MAoBb,IAAIomE,EAEAC,EAEAC,EAEAC,EA8CJ,OApEAt5E,OAAOggC,eAAe24C,EAAe,WAAY,CAC/ChxE,IAAK8vE,4BAA4B9R,EAAUroC,GAAKqoC,EAAUsI,MAE5DjuE,OAAOggC,eAAe24C,EAAe,YAAa,CAChDhxE,IAAK8vE,4BAA4B9R,EAAUsI,IAAMtI,EAAUroC,KAE7Dt9B,OAAOggC,eAAe24C,EAAe,YAAa,CAChDhxE,IAAK8vE,4BAA4B9R,EAAUoI,MAE7C/tE,OAAOggC,eAAe24C,EAAe,YAAa,CAChDhxE,IAAK8vE,4BAA4B9R,EAAUqI,MAE7ChuE,OAAOggC,eAAe24C,EAAe,QAAS,CAC5ChxE,IAAK8vE,4BAA4B9R,EAAU37C,KAWzC27C,EAAU3oB,EACZs8B,EAAoB7B,4BAA4B9R,EAAU3oB,IAE1Dm8B,EAAM1B,4BAA4B9R,EAAUiI,IAC5CwL,EAAM3B,4BAA4B9R,EAAUkI,IAExClI,EAAUmI,KACZuL,EAAM5B,4BAA4B9R,EAAUmI,MAIhD9tE,OAAOggC,eAAe24C,EAAe,WAAY,CAC/ChxE,IAAK,WACH,OAAIg+D,EAAU3oB,EACLs8B,IAGF,CAACH,IAAOC,IAAOC,EAAMA,IAAQ,MAGxCr5E,OAAOggC,eAAe24C,EAAe,YAAa,CAChDhxE,IAAK8vE,4BAA4B9R,EAAUiI,MAE7C5tE,OAAOggC,eAAe24C,EAAe,YAAa,CAChDhxE,IAAK8vE,4BAA4B9R,EAAUkI,MAE7C7tE,OAAOggC,eAAe24C,EAAe,YAAa,CAChDhxE,IAAK8vE,4BAA4B9R,EAAUmI,MAE7C9tE,OAAOggC,eAAe24C,EAAe,cAAe,CAClDhxE,IAAK8vE,4BAA4B9R,EAAU1jD,KAE7CjiB,OAAOggC,eAAe24C,EAAe,UAAW,CAC9ChxE,IAAK8vE,4BAA4B9R,EAAU3wD,KAE7ChV,OAAOggC,eAAe24C,EAAe,OAAQ,CAC3ChxE,IAAK8vE,4BAA4B9R,EAAU7jB,MAE7C9hD,OAAOggC,eAAe24C,EAAe,WAAY,CAC/ChxE,IAAK8vE,4BAA4B9R,EAAU5jB,MAE7C/hD,OAAOggC,eAAe24C,EAAe,cAAe,CAClDhxE,IAAK8vE,4BAA4B9R,EAAU7C,MAEtC6V,GAIPY,yBAA2B,WAC7B,SAASC,EAAU9xB,GACjB,IAAI+xB,EAAa,IAAIrV,OAWrB,YATaxlE,IAAT8oD,EACerqD,KAAKq8E,MAAMjD,eAAeC,MAAMjI,eAAe/mB,GAErD3qD,MAAM08E,GAEEp8E,KAAKq8E,MAAMjD,eAAeC,MAChCvI,cAAcsL,GAGtBA,EAGT,SAASE,EAAWjpE,EAAKg3C,GACvB,IAAI+xB,EAAap8E,KAAKm8E,UAAU9xB,GAIhC,OAHA+xB,EAAWvjD,MAAM,IAAM,EACvBujD,EAAWvjD,MAAM,IAAM,EACvBujD,EAAWvjD,MAAM,IAAM,EAChB74B,KAAKu8E,WAAWH,EAAY/oE,GAGrC,SAASmpE,EAAQnpE,EAAKg3C,GACpB,IAAI+xB,EAAap8E,KAAKm8E,UAAU9xB,GAChC,OAAOrqD,KAAKu8E,WAAWH,EAAY/oE,GAGrC,SAASopE,EAAappE,EAAKg3C,GACzB,IAAI+xB,EAAap8E,KAAKm8E,UAAU9xB,GAIhC,OAHA+xB,EAAWvjD,MAAM,IAAM,EACvBujD,EAAWvjD,MAAM,IAAM,EACvBujD,EAAWvjD,MAAM,IAAM,EAChB74B,KAAK08E,YAAYN,EAAY/oE,GAGtC,SAASspE,EAAUtpE,EAAKg3C,GACtB,IAAI+xB,EAAap8E,KAAKm8E,UAAU9xB,GAChC,OAAOrqD,KAAK08E,YAAYN,EAAY/oE,GAGtC,SAASkpE,EAAWhK,EAAQl/D,GAC1B,GAAIrT,KAAKq8E,MAAMO,WAAa58E,KAAKq8E,MAAMO,UAAUv4E,OAAQ,CACvD,IAAIsF,EACA6X,EAAMxhB,KAAKq8E,MAAMO,UAAUv4E,OAE/B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKq8E,MAAMO,UAAUjzE,GAAGyvE,eAAeC,MAAMvI,cAAcyB,GAI/D,OAAOA,EAAOpH,kBAAkB93D,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAAM,GAG5D,SAASqpE,EAAYnK,EAAQl/D,GAC3B,GAAIrT,KAAKq8E,MAAMO,WAAa58E,KAAKq8E,MAAMO,UAAUv4E,OAAQ,CACvD,IAAIsF,EACA6X,EAAMxhB,KAAKq8E,MAAMO,UAAUv4E,OAE/B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKq8E,MAAMO,UAAUjzE,GAAGyvE,eAAeC,MAAMvI,cAAcyB,GAI/D,OAAOA,EAAOrH,aAAa73D,GAG7B,SAASwpE,EAASxpE,GAChB,IAAI+oE,EAAa,IAAIrV,OAKrB,GAJAqV,EAAWp1C,QAEXhnC,KAAKq8E,MAAMjD,eAAeC,MAAMvI,cAAcsL,GAE1Cp8E,KAAKq8E,MAAMO,WAAa58E,KAAKq8E,MAAMO,UAAUv4E,OAAQ,CACvD,IAAIsF,EACA6X,EAAMxhB,KAAKq8E,MAAMO,UAAUv4E,OAE/B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKq8E,MAAMO,UAAUjzE,GAAGyvE,eAAeC,MAAMvI,cAAcsL,GAG7D,OAAOA,EAAWlR,aAAa73D,GAGjC,OAAO+oE,EAAWlR,aAAa73D,GAGjC,SAASypE,IACP,MAAO,CAAC,EAAG,EAAG,EAAG,GAGnB,OAAO,SAAUvnD,GACf,IAAIwnD,EAUJ,SAASC,EAAmB/5E,GAC1B,OAAQA,GACN,IAAK,0BACL,IAAK,WACL,KAAK,EACH,OAAO+5E,EAAmBC,eAE5B,KAAK,EACL,KAAK,EACL,IAAK,YACL,IAAK,YACL,IAAK,uBACH,OAAOF,EAET,KAAK,EACL,IAAK,qBACL,IAAK,UACL,IAAK,UACH,OAAOC,EAAmBE,OAE5B,IAAK,uBACH,OAAOF,EAAmBG,cAE5B,QACE,OAAO,MAIbH,EAAmBb,UAAYA,EAC/Ba,EAAmBN,YAAcA,EACjCM,EAAmBT,WAAaA,EAChCS,EAAmBR,QAAUA,EAC7BQ,EAAmBV,WAAaA,EAChCU,EAAmBL,UAAYA,EAC/BK,EAAmBP,aAAeA,EAClCO,EAAmBI,OAASZ,EAC5BQ,EAAmBH,SAAWA,EAC9BG,EAAmBF,YAAcA,EACjCE,EAAmBvD,iBAAmBlkD,EAAKkkD,iBAAiB19D,KAAKwZ,GACjEynD,EAAmBX,MAAQ9mD,EAE3B,IAAI8nD,EAAwBljC,cAD5B4iC,EAAqB1B,6BAA6B9lD,EAAK6jD,eAAeC,OACR,eAuC9D,OAtCA12E,OAAOogC,iBAAiBi6C,EAAoB,CAC1CM,UAAW,CACThzE,IAAK,WACH,OAAOirB,EAAKqnD,UAAUv4E,SAG1BmZ,OAAQ,CACNlT,IAAK,WACH,OAAOirB,EAAKqnD,UAAU,GAAGW,iBAG7BhC,SAAUphC,cAAc4iC,EAAoB,YAC5C/U,MAAO7tB,cAAc4iC,EAAoB,SACzC5nE,SAAUglC,cAAc4iC,EAAoB,YAC5CrnE,QAASykC,cAAc4iC,EAAoB,WAC3ClB,YAAawB,EACbG,aAAcH,EACd/U,UAAW,CACTh+D,IAAK,WACH,OAAOyyE,IAGXx0D,OAAQ,CACNje,IAAK,WACH,OAAOirB,EAAKmjD,cAIlBsE,EAAmBj3E,UAAYwvB,EAAKlrB,KAAKk6C,GACzCy4B,EAAmBjpE,MAAQwhB,EAAKlrB,KAAK4yD,IACrC+f,EAAmBrpE,OAAS4hB,EAAKlrB,KAAKy4C,MACtCk6B,EAAmBt9D,OAA0B,IAAjB6V,EAAKlrB,KAAKu4C,GAAWrtB,EAAKlrB,KAAKq1C,EAAI,IAC/Ds9B,EAAmBn3D,MAAyB,IAAjB0P,EAAKlrB,KAAKu4C,GAAWrtB,EAAKlrB,KAAK0qE,EAAI,IAC9DiI,EAAmBS,QAAUloD,EAAKlrB,KAAKg6C,GAAK9uB,EAAK2tB,KAAKgK,WAAWxB,UACjEsxB,EAAmBU,SAAWnoD,EAAKlrB,KAAKi6C,GAAK/uB,EAAK2tB,KAAKgK,WAAWxB,UAClEsxB,EAAmBW,MAAQpoD,EAAKlrB,KAAKygD,GACrCkyB,EAAmBY,sBAtFnB,SAAgC3D,GAC9B+C,EAAmBlD,KAAO,IAAIF,qBAAqBK,EAAa1kD,IAsFlEynD,EAAmBa,yBAnFnB,SAAmCC,GACjCd,EAAmBE,OAASY,GAmFvBd,GAvLoB,GA2L3Be,qBACK,SAAUC,EAAmBC,GAClC,OAAO,SAAU1tE,GAGf,OAFAA,OAAchP,IAARgP,EAAoB,EAAIA,IAEnB,EACFytE,EAGFC,EAAoB1tE,EAAM,KAKnC2tE,kBACK,SAAUC,EAAcnD,GAC7B,IAAIgD,EAAoB,CACtBL,MAAOQ,GAaT,OAVA,SAAwB5tE,GAGtB,OAFAA,OAAchP,IAARgP,EAAoB,EAAIA,IAEnB,EACFytE,EAGFhD,EAAczqE,EAAM,KAO7B6tE,2BAA6B,WA4C/B,SAASC,EAAqBh0E,EAAMsrB,EAAUqlD,EAAezlD,GAC3D,SAAS+oD,EAAer7E,GAKtB,IAJA,IAAI66E,EAAUzzE,EAAKk0E,GACf50E,EAAI,EACJ6X,EAAMs8D,EAAQz5E,OAEXsF,EAAI6X,GAAK,CACd,GAAIve,IAAS66E,EAAQn0E,GAAGmhD,IAAM7nD,IAAS66E,EAAQn0E,GAAG60E,IAAMv7E,IAAS66E,EAAQn0E,GAAGiqE,GAC1E,OAAsB,IAAlBkK,EAAQn0E,GAAGi5C,GACN67B,EAAe90E,GAGjB80E,EAAe90E,KAGxBA,GAAK,EAGP,MAAM,IAAIlB,MAGZ,IAGIkB,EAHA+0E,EAAiBX,qBAAqBO,EAAgBtD,GAEtDyD,EAAiB,GAEjBj9D,EAAMnX,EAAKk0E,GAAGl6E,OAElB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACF,IAAlBU,EAAKk0E,GAAG50E,GAAGi5C,GACb67B,EAAet3E,KAAKk3E,EAAqBh0E,EAAKk0E,GAAG50E,GAAIgsB,EAAS8oD,eAAe90E,GAAIgsB,EAAS8oD,eAAe90E,GAAGqxE,cAAezlD,IAE3HkpD,EAAet3E,KAAKw3E,EAAqBhpD,EAAS8oD,eAAe90E,GAAIU,EAAKk0E,GAAG50E,GAAGi5C,GAAIrtB,EAAMmpD,IA2B9F,MAvBgB,uBAAZr0E,EAAKm0E,IACP77E,OAAOggC,eAAe27C,EAAgB,QAAS,CAC7Ch0E,IAAK,WACH,OAAOm0E,EAAe,QAK5B97E,OAAOogC,iBAAiBu7C,EAAgB,CACtCM,cAAe,CACbt0E,IAAK,WACH,OAAOD,EAAKw0E,KAGhBlB,MAAO,CACLj7E,MAAO2H,EAAKygD,IAEdkwB,cAAe,CACbt4E,MAAOg8E,KAGXJ,EAAe38C,QAAsB,IAAZt3B,EAAKy0E,GAC9BR,EAAe/1D,OAAS+1D,EAAe38C,QAChC28C,EAGT,SAASK,EAAqBvlE,EAASuH,EAAM4U,EAAMylD,GACjD,IAAI+D,EAAqB3E,4BAA4BhhE,EAAQumC,GAc7D,OAJIvmC,EAAQumC,EAAEq/B,kBACZ5lE,EAAQumC,EAAEq/B,iBAAiBd,kBAAkB,GAAIlD,IATnD,WACE,OAAa,KAATr6D,EACK4U,EAAK2tB,KAAKgI,cAAc9xC,EAAQumC,EAAEpe,GAGpCw9C,KAUX,MA1HS,CACPE,uBAGF,SAAgC1pD,EAAMylD,GACpC,GAAIzlD,EAAK2pD,eAAgB,CACvB,IAEIv1E,EAFA80E,EAAiB,GACjBU,EAAc5pD,EAAKlrB,KAAKk0E,GAExB/8D,EAAM+T,EAAK2pD,eAAeT,eAAep6E,OAE7C,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB80E,EAAet3E,KAAKk3E,EAAqBc,EAAYx1E,GAAI4rB,EAAK2pD,eAAeT,eAAe90E,GAAIqxE,EAAezlD,IAGjH,IAAIuoD,EAAUvoD,EAAKlrB,KAAKk0E,IAAM,GAE1BD,EAAiB,SAAwBr7E,GAI3C,IAHA0G,EAAI,EACJ6X,EAAMs8D,EAAQz5E,OAEPsF,EAAI6X,GAAK,CACd,GAAIve,IAAS66E,EAAQn0E,GAAGmhD,IAAM7nD,IAAS66E,EAAQn0E,GAAG60E,IAAMv7E,IAAS66E,EAAQn0E,GAAGiqE,GAC1E,OAAO6K,EAAe90E,GAGxBA,GAAK,EAGP,OAAO,MAQT,OALAhH,OAAOggC,eAAe27C,EAAgB,gBAAiB,CACrDh0E,IAAK,WACH,OAAOwzE,EAAQz5E,UAGZi6E,EAGT,OAAO,OAzCsB,GA8H7Bc,wBACK,SAAUl8B,GACf,SAAS85B,EAAmB/5E,GAI1B,IAHA,IAAI0G,EAAI,EACJ6X,EAAM0hC,EAAKnB,OAAO19C,OAEfsF,EAAI6X,GAAK,CACd,GAAI0hC,EAAKnB,OAAOp4C,GAAGmhD,KAAO7nD,GAAQigD,EAAKnB,OAAOp4C,GAAGszD,MAAQh6D,EACvD,OAAOigD,EAAKvtB,SAAShsB,GAAG4zE,eAG1B5zE,GAAK,EAGP,OAAO,KAcT,OAXAhH,OAAOggC,eAAeq6C,EAAoB,QAAS,CACjDt6E,MAAOwgD,EAAK74C,KAAKygD,KAEnBkyB,EAAmBqC,MAAQrC,EAC3BA,EAAmBsC,YAAc,EACjCtC,EAAmBt9D,OAASwjC,EAAK74C,KAAKq1C,GAAKwD,EAAKgK,WAAWqyB,SAAS7/B,EACpEs9B,EAAmBn3D,MAAQq9B,EAAK74C,KAAK0qE,GAAK7xB,EAAKgK,WAAWqyB,SAASxK,EACnEiI,EAAmBsC,YAAc,EACjCtC,EAAmBwC,cAAgB,EAAIt8B,EAAKgK,WAAWxB,UACvDsxB,EAAmByC,iBAAmB,EACtCzC,EAAmB0C,UAAYx8B,EAAKnB,OAAO19C,OACpC24E,GAIP2C,mBACK,SAA8B1c,EAAO2c,EAAM5E,GAChD,IAAIpzD,EAAOg4D,EAAK5hB,GAEhB,SAASggB,EAAkBztE,GACzB,MAAY,UAARA,GAA2B,UAARA,GAA2B,SAARA,GAA0B,SAARA,GAA0B,sBAARA,GAAuC,IAARA,EACpGytE,EAAkBj+C,KAGpB,KAGT,IAAI2+C,EAAiBX,qBAAqBC,EAAmBhD,GAsC7D,OApCApzD,EAAKo3D,iBAAiBd,kBAAkB,OAAQQ,IAChD/7E,OAAOogC,iBAAiBi7C,EAAmB,CACzCj+C,KAAM,CACJz1B,IAAK,WAKH,OAJIsd,EAAKqpB,GACPrpB,EAAKq5C,WAGAr5C,IAGXq7C,MAAO,CACL34D,IAAK,WAKH,OAJIsd,EAAKqpB,GACPrpB,EAAKq5C,WAGAr5C,IAGX+1D,MAAO,CACLj7E,MAAOugE,EAAMnY,IAEf8oB,GAAI,CACFlxE,MAAOugE,EAAM2Q,IAEfiM,cAAe,CACbn9E,MAAOugE,EAAM2Q,IAEf4K,GAAI,CACF97E,MAAOugE,EAAMub,IAEfxD,cAAe,CACbt4E,MAAOs4E,KAGJgD,GAIP8B,yBAA2B,WAC7B,SAASC,EAAgB/8B,EAAQ48B,EAAM5E,GACrC,IACIrxE,EADA0J,EAAM,GAENmO,EAAMwhC,EAASA,EAAO3+C,OAAS,EAEnC,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACH,OAAjBq5C,EAAOr5C,GAAGi5C,GACZvvC,EAAIlM,KAAK64E,EAAsBh9B,EAAOr5C,GAAIi2E,EAAKj2E,GAAIqxE,IACzB,OAAjBh4B,EAAOr5C,GAAGi5C,GACnBvvC,EAAIlM,KAAK84E,EAAqBj9B,EAAOr5C,GAAIi2E,EAAKj2E,GAAIqxE,IACxB,OAAjBh4B,EAAOr5C,GAAGi5C,GACnBvvC,EAAIlM,KAAK+4E,EAAuBl9B,EAAOr5C,GAAIi2E,EAAKj2E,GAAIqxE,IAC1B,OAAjBh4B,EAAOr5C,GAAGi5C,GACnBvvC,EAAIlM,KAAKg5E,EAAqBn9B,EAAOr5C,GAAIi2E,EAAKj2E,GAAIqxE,IACxB,OAAjBh4B,EAAOr5C,GAAGi5C,KACO,OAAjBI,EAAOr5C,GAAGi5C,GACnBvvC,EAAIlM,KAAKi5E,EAAwBp9B,EAAOr5C,GAAIi2E,EAAKj2E,GAAIqxE,IAC3B,OAAjBh4B,EAAOr5C,GAAGi5C,GACnBvvC,EAAIlM,KAAKk5E,EAAqBr9B,EAAOr5C,GAAIi2E,EAAKj2E,GAAIqxE,IACxB,OAAjBh4B,EAAOr5C,GAAGi5C,GACnBvvC,EAAIlM,KAAKw4E,mBAAmB38B,EAAOr5C,GAAIi2E,EAAKj2E,GAAIqxE,IACtB,OAAjBh4B,EAAOr5C,GAAGi5C,GACnBvvC,EAAIlM,KAAKm5E,EAAqBt9B,EAAOr5C,GAAIi2E,EAAKj2E,GAAIqxE,IACxB,OAAjBh4B,EAAOr5C,GAAGi5C,GACnBvvC,EAAIlM,KAAKo5E,EAAwBv9B,EAAOr5C,GAAIi2E,EAAKj2E,GAAIqxE,IAC3B,OAAjBh4B,EAAOr5C,GAAGi5C,GACnBvvC,EAAIlM,KAAKq5E,EAAyBx9B,EAAOr5C,GAAIi2E,EAAKj2E,GAAIqxE,IAC5B,OAAjBh4B,EAAOr5C,GAAGi5C,GACnBvvC,EAAIlM,KAAKs5E,EAA6Bz9B,EAAOr5C,GAAIi2E,EAAKj2E,GAAIqxE,IAE1D3nE,EAAIlM,MAA6B67C,EAAOr5C,GAAIi2E,EAAKj2E,GAuJrD,WACE,OAAO,SApJT,OAAO0J,EAmCT,SAAS2sE,EAAsB/c,EAAO2c,EAAM5E,GAC1C,IAAIgD,EAAoB,SAA4Bt7E,GAClD,OAAQA,GACN,IAAK,qBACL,IAAK,WACL,KAAK,EACH,OAAOs7E,EAAkB54E,QAK3B,QACE,OAAO44E,EAAkB1V,YAI/B0V,EAAkBhD,cAAgB+C,qBAAqBC,EAAmBhD,GAC1E,IAAI51E,EAjDN,SAAkC69D,EAAO2c,EAAM5E,GAC7C,IAAI0F,EAEA1C,EAAoB,SAA4Bt7E,GAIlD,IAHA,IAAIiH,EAAI,EACJ6X,EAAMk/D,EAAWr8E,OAEdsF,EAAI6X,GAAK,CACd,GAAIk/D,EAAW/2E,GAAGg0E,QAAUj7E,GAASg+E,EAAW/2E,GAAG60E,KAAO97E,GAASg+E,EAAW/2E,GAAGk2E,gBAAkBn9E,GAASg+E,EAAW/2E,GAAGiqE,KAAOlxE,GAASg+E,EAAW/2E,GAAGszD,MAAQv6D,EAC9J,OAAOg+E,EAAW/2E,GAGpBA,GAAK,EAGP,MAAqB,iBAAVjH,EACFg+E,EAAWh+E,EAAQ,GAGrB,MAGTs7E,EAAkBhD,cAAgB+C,qBAAqBC,EAAmBhD,GAC1E0F,EAAaX,EAAgB9c,EAAM3f,GAAIs8B,EAAKt8B,GAAI06B,EAAkBhD,eAClEgD,EAAkBY,cAAgB8B,EAAWr8E,OAC7C,IAAI04E,EAAqB4D,EAA0B1d,EAAM3f,GAAG2f,EAAM3f,GAAGj/C,OAAS,GAAIu7E,EAAKt8B,GAAGs8B,EAAKt8B,GAAGj/C,OAAS,GAAI25E,EAAkBhD,eAIjI,OAHAgD,EAAkB1V,UAAYyU,EAC9BiB,EAAkB6B,cAAgB5c,EAAM2d,IACxC5C,EAAkBL,MAAQ1a,EAAMnY,GACzBkzB,EAoBO6C,CAAyB5d,EAAO2c,EAAM5B,EAAkBhD,eAClE+B,EAAqB4D,EAA0B1d,EAAM3f,GAAG2f,EAAM3f,GAAGj/C,OAAS,GAAIu7E,EAAKt8B,GAAGs8B,EAAKt8B,GAAGj/C,OAAS,GAAI25E,EAAkBhD,eAajI,OAZAgD,EAAkB54E,QAAUA,EAC5B44E,EAAkB1V,UAAYyU,EAC9Bp6E,OAAOggC,eAAeq7C,EAAmB,QAAS,CAChD1zE,IAAK,WACH,OAAO24D,EAAMnY,MAIjBkzB,EAAkBY,cAAgB3b,EAAM4b,GACxCb,EAAkB6B,cAAgB5c,EAAM2Q,GACxCoK,EAAkBlzB,GAAKmY,EAAMnY,GAC7BkzB,EAAkBQ,GAAKvb,EAAMub,GACtBR,EAGT,SAASiC,EAAqBhd,EAAO2c,EAAM5E,GACzC,SAASgD,EAAkBztE,GACzB,MAAY,UAARA,GAA2B,UAARA,EACdytE,EAAkBr9C,MAGf,YAARpwB,GAA6B,YAARA,EAChBytE,EAAkBtoE,QAGpB,KAmBT,OAhBA/S,OAAOogC,iBAAiBi7C,EAAmB,CACzCr9C,MAAO,CACLr2B,IAAK8vE,4BAA4BwF,EAAKl/C,IAExChrB,QAAS,CACPpL,IAAK8vE,4BAA4BwF,EAAKjoE,IAExCgmE,MAAO,CACLj7E,MAAOugE,EAAMnY,IAEf0zB,GAAI,CACF97E,MAAOugE,EAAMub,MAGjBoB,EAAKl/C,EAAEs+C,iBAAiBd,kBAAkB,QAASlD,IACnD4E,EAAKjoE,EAAEqnE,iBAAiBd,kBAAkB,UAAWlD,IAC9CgD,EAGT,SAASyC,EAA6Bxd,EAAO2c,EAAM5E,GACjD,SAASgD,EAAkBztE,GACzB,MAAY,gBAARA,GAAiC,gBAARA,EACpBytE,EAAkB8C,WAGf,cAARvwE,GAA+B,cAARA,EAClBytE,EAAkB+C,SAGf,YAARxwE,GAA6B,YAARA,EAChBytE,EAAkBtoE,QAGpB,KA4BT,OAzBA/S,OAAOogC,iBAAiBi7C,EAAmB,CACzC8C,WAAY,CACVx2E,IAAK8vE,4BAA4BwF,EAAKjzD,IAExCo0D,SAAU,CACRz2E,IAAK8vE,4BAA4BwF,EAAK9vE,IAExC4F,QAAS,CACPpL,IAAK8vE,4BAA4BwF,EAAKjoE,IAExCgJ,KAAM,CACJrW,IAAK,WACH,MAAO,MAGXqzE,MAAO,CACLj7E,MAAOugE,EAAMnY,IAEf0zB,GAAI,CACF97E,MAAOugE,EAAMub,MAGjBoB,EAAKjzD,EAAEqyD,iBAAiBd,kBAAkB,cAAelD,IACzD4E,EAAK9vE,EAAEkvE,iBAAiBd,kBAAkB,YAAalD,IACvD4E,EAAKjoE,EAAEqnE,iBAAiBd,kBAAkB,UAAWlD,IAC9CgD,EAWT,SAASkC,EAAuBjd,EAAO2c,EAAM5E,GAC3C,IAUIrxE,EAVA+0E,EAAiBX,qBAAqBC,EAAmBhD,GAEzDgG,EAAqBjD,qBAAqBkD,EAAQvC,GAEtD,SAASwC,EAAoBv3E,GAC3BhH,OAAOggC,eAAes+C,EAAQhe,EAAMzrB,EAAE7tC,GAAGmhD,GAAI,CAC3CxgD,IAAK8vE,4BAA4BwF,EAAKpoC,EAAE2pC,UAAUx3E,GAAGg2C,KAKzD,IAAIn+B,EAAMyhD,EAAMzrB,EAAIyrB,EAAMzrB,EAAEnzC,OAAS,EACjC48E,EAAS,GAEb,IAAKt3E,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBu3E,EAAoBv3E,GACpBi2E,EAAKpoC,EAAE2pC,UAAUx3E,GAAGg2C,EAAEq/B,iBAAiBgC,GAGzC,SAAShD,EAAkBztE,GACzB,MAAY,UAARA,GAA2B,UAARA,EACdytE,EAAkBr9C,MAGf,YAARpwB,GAA6B,YAARA,EAChBytE,EAAkBtoE,QAGf,iBAARnF,GAAkC,iBAARA,EACrBytE,EAAkBoD,YAGpB,KA4BT,OAzBAz+E,OAAOogC,iBAAiBi7C,EAAmB,CACzCr9C,MAAO,CACLr2B,IAAK8vE,4BAA4BwF,EAAKl/C,IAExChrB,QAAS,CACPpL,IAAK8vE,4BAA4BwF,EAAKjoE,IAExCypE,YAAa,CACX92E,IAAK8vE,4BAA4BwF,EAAK7K,IAExCsM,KAAM,CACJ/2E,IAAK,WACH,OAAO22E,IAGXtD,MAAO,CACLj7E,MAAOugE,EAAMnY,IAEf0zB,GAAI,CACF97E,MAAOugE,EAAMub,MAGjBoB,EAAKl/C,EAAEs+C,iBAAiBd,kBAAkB,QAASQ,IACnDkB,EAAKjoE,EAAEqnE,iBAAiBd,kBAAkB,UAAWQ,IACrDkB,EAAK7K,EAAEiK,iBAAiBd,kBAAkB,eAAgBQ,IACnDV,EAGT,SAASmC,EAAqBld,EAAO2c,EAAM5E,GACzC,SAASgD,EAAkBztE,GACzB,OAAIA,IAAQ0yD,EAAMnzD,EAAE8jE,IAAc,QAARrjE,GAAyB,QAARA,EAClCytE,EAAkBnqC,IAGvBtjC,IAAQ0yD,EAAMt2C,EAAEinD,GACXoK,EAAkB1mC,MAGvB/mC,IAAQ0yD,EAAMtrD,EAAEi8D,GACXoK,EAAkBxlD,OAGpB,KAGT,IAAIkmD,EAAiBX,qBAAqBC,EAAmBhD,GAuB7D,OArBAgD,EAAkB6B,cAAgB5c,EAAM2Q,GACxCgM,EAAKjzD,EAAEqyD,iBAAiBd,kBAAkB,QAASQ,IACnDkB,EAAK9vE,EAAEkvE,iBAAiBd,kBAAkB,MAAOQ,IACjDkB,EAAKjoE,EAAEqnE,iBAAiBd,kBAAkB,SAAUQ,IACpDV,EAAkB6B,cAAgB5c,EAAM2Q,GACxCoK,EAAkBhD,cAAgBA,EAClCr4E,OAAOogC,iBAAiBi7C,EAAmB,CACzC1mC,MAAO,CACLhtC,IAAK8vE,4BAA4BwF,EAAKjzD,IAExCknB,IAAK,CACHvpC,IAAK8vE,4BAA4BwF,EAAK9vE,IAExC0oB,OAAQ,CACNluB,IAAK8vE,4BAA4BwF,EAAKjoE,IAExCgmE,MAAO,CACLj7E,MAAOugE,EAAMnY,MAGjBkzB,EAAkBQ,GAAKvb,EAAMub,GACtBR,EAGT,SAAS2C,EAA0B1d,EAAO2c,EAAM5E,GAC9C,SAASgD,EAAkBt7E,GACzB,OAAIugE,EAAMr+C,EAAEgvD,KAAOlxE,GAAmB,iBAAVA,EACnBs7E,EAAkBnC,YAGvB5Y,EAAMtrD,EAAEi8D,KAAOlxE,GAAmB,YAAVA,EACnBs7E,EAAkBtoE,QAGvButD,EAAMtjB,EAAEi0B,KAAOlxE,GAAmB,aAAVA,EACnBs7E,EAAkB7oE,SAGvB8tD,EAAMhjC,EAAE2zC,KAAOlxE,GAAmB,aAAVA,GAAkC,yBAAVA,EAC3Cs7E,EAAkBzC,SAGvBtY,EAAMt2C,EAAEinD,KAAOlxE,GAAmB,UAAVA,EACnBs7E,EAAkBhW,MAGvB/E,EAAMxe,IAAMwe,EAAMxe,GAAGmvB,KAAOlxE,GAAmB,SAAVA,EAChCs7E,EAAkBlW,KAGvB7E,EAAMve,IAAMue,EAAMve,GAAGkvB,KAAOlxE,GAAmB,cAAVA,EAChCs7E,EAAkBsD,SAGpB,KAGT,IAAI5C,EAAiBX,qBAAqBC,EAAmBhD,GA2C7D,OAzCA4E,EAAKtX,UAAU+L,OAAO18D,EAAEqnE,iBAAiBd,kBAAkB,UAAWQ,IACtEkB,EAAKtX,UAAU+L,OAAO10B,EAAEq/B,iBAAiBd,kBAAkB,WAAYQ,IACvEkB,EAAKtX,UAAU+L,OAAOzvD,EAAEo6D,iBAAiBd,kBAAkB,eAAgBQ,IAC3EkB,EAAKtX,UAAU+L,OAAO1nD,EAAEqyD,iBAAiBd,kBAAkB,QAASQ,IACpEkB,EAAKtX,UAAU+L,OAAOp0C,EAAE++C,iBAAiBd,kBAAkB,WAAYQ,IAEnEkB,EAAKtX,UAAU+L,OAAO5vB,KACxBm7B,EAAKtX,UAAU+L,OAAO5vB,GAAGu6B,iBAAiBd,kBAAkB,OAAQQ,IACpEkB,EAAKtX,UAAU+L,OAAO3vB,GAAGs6B,iBAAiBd,kBAAkB,aAAcQ,KAG5EkB,EAAKtX,UAAUhkB,GAAG06B,iBAAiBd,kBAAkB,UAAWQ,IAChE/7E,OAAOogC,iBAAiBi7C,EAAmB,CACzCtoE,QAAS,CACPpL,IAAK8vE,4BAA4BwF,EAAKtX,UAAU+L,OAAO18D,IAEzDxC,SAAU,CACR7K,IAAK8vE,4BAA4BwF,EAAKtX,UAAU+L,OAAO10B,IAEzDk8B,YAAa,CACXvxE,IAAK8vE,4BAA4BwF,EAAKtX,UAAU+L,OAAOzvD,IAEzDojD,MAAO,CACL19D,IAAK8vE,4BAA4BwF,EAAKtX,UAAU+L,OAAO1nD,IAEzD4uD,SAAU,CACRjxE,IAAK8vE,4BAA4BwF,EAAKtX,UAAU+L,OAAOp0C,IAEzD6nC,KAAM,CACJx9D,IAAK8vE,4BAA4BwF,EAAKtX,UAAU+L,OAAO5vB,KAEzD68B,SAAU,CACRh3E,IAAK8vE,4BAA4BwF,EAAKtX,UAAU+L,OAAO3vB,KAEzDi5B,MAAO,CACLj7E,MAAOugE,EAAMnY,MAGjBkzB,EAAkBp7B,GAAK,KACvBo7B,EAAkBQ,GAAKvb,EAAMub,GAC7BR,EAAkBhD,cAAgBA,EAC3BgD,EAGT,SAASoC,EAAwBnd,EAAO2c,EAAM5E,GAC5C,SAASgD,EAAkBt7E,GACzB,OAAIugE,EAAMtjB,EAAEi0B,KAAOlxE,EACVs7E,EAAkB7oE,SAGvB8tD,EAAMt2C,EAAEinD,KAAOlxE,EACVs7E,EAAkB9nD,KAGpB,KAGT,IAAIwoD,EAAiBX,qBAAqBC,EAAmBhD,GAE7DgD,EAAkB6B,cAAgB5c,EAAM2Q,GACxC,IAAIhsD,EAAsB,OAAfg4D,EAAK5hB,GAAGpb,GAAcg9B,EAAK5hB,GAAGp2C,KAAOg4D,EAAK5hB,GAerD,OAdAp2C,EAAK+E,EAAEqyD,iBAAiBd,kBAAkB,OAAQQ,IAClD92D,EAAK+3B,EAAEq/B,iBAAiBd,kBAAkB,WAAYQ,IACtD/7E,OAAOogC,iBAAiBi7C,EAAmB,CACzC9nD,KAAM,CACJ5rB,IAAK8vE,4BAA4BxyD,EAAK+E,IAExCxX,SAAU,CACR7K,IAAK8vE,4BAA4BxyD,EAAK+3B,IAExCg+B,MAAO,CACLj7E,MAAOugE,EAAMnY,MAGjBkzB,EAAkBQ,GAAKvb,EAAMub,GACtBR,EAGT,SAASqC,EAAqBpd,EAAO2c,EAAM5E,GACzC,SAASgD,EAAkBt7E,GACzB,OAAIugE,EAAMtjB,EAAEi0B,KAAOlxE,EACVs7E,EAAkB7oE,SAGvB8tD,EAAMhjC,EAAE2zC,KAAOlxE,EACVs7E,EAAkBzC,SAGvBtY,EAAMvgB,GAAGkxB,KAAOlxE,EACXs7E,EAAkBnqB,OAGvBoP,EAAMwC,GAAGmO,KAAOlxE,GAAmB,kCAAVA,EACpBs7E,EAAkBuD,YAGvBte,EAAMyC,GAAGkO,KAAOlxE,EACXs7E,EAAkBwD,gBAGvBve,EAAMoC,IAAOpC,EAAMoC,GAAGuO,KAAOlxE,GAAmB,kCAAVA,EAItCugE,EAAM5sC,IAAM4sC,EAAM5sC,GAAGu9C,KAAOlxE,EACvBs7E,EAAkByD,eAGpB,KAPEzD,EAAkB0D,YAU7B,IAAIhD,EAAiBX,qBAAqBC,EAAmBhD,GAEzDpzD,EAAsB,OAAfg4D,EAAK5hB,GAAGpb,GAAcg9B,EAAK5hB,GAAGp2C,KAAOg4D,EAAK5hB,GAwCrD,OAvCAggB,EAAkB6B,cAAgB5c,EAAM2Q,GACxChsD,EAAK69C,GAAGuZ,iBAAiBd,kBAAkB,eAAgBQ,IAC3D92D,EAAK89C,GAAGsZ,iBAAiBd,kBAAkB,kBAAmBQ,IAC9D92D,EAAK86B,GAAGs8B,iBAAiBd,kBAAkB,SAAUQ,IACrD92D,EAAK+3B,EAAEq/B,iBAAiBd,kBAAkB,WAAYQ,IACtD92D,EAAKqY,EAAE++C,iBAAiBd,kBAAkB,WAAYQ,IAElDzb,EAAMoC,KACRz9C,EAAKy9C,GAAG2Z,iBAAiBd,kBAAkB,eAAgBQ,IAC3D92D,EAAKyO,GAAG2oD,iBAAiBd,kBAAkB,kBAAmBQ,KAGhE/7E,OAAOogC,iBAAiBi7C,EAAmB,CACzC7oE,SAAU,CACR7K,IAAK8vE,4BAA4BxyD,EAAK+3B,IAExC47B,SAAU,CACRjxE,IAAK8vE,4BAA4BxyD,EAAKqY,IAExC4zB,OAAQ,CACNvpD,IAAK8vE,4BAA4BxyD,EAAK86B,KAExC6+B,YAAa,CACXj3E,IAAK8vE,4BAA4BxyD,EAAK69C,KAExC+b,eAAgB,CACdl3E,IAAK8vE,4BAA4BxyD,EAAK89C,KAExCgc,YAAa,CACXp3E,IAAK8vE,4BAA4BxyD,EAAKy9C,KAExCoc,eAAgB,CACdn3E,IAAK8vE,4BAA4BxyD,EAAKyO,KAExCsnD,MAAO,CACLj7E,MAAOugE,EAAMnY,MAGjBkzB,EAAkBQ,GAAKvb,EAAMub,GACtBR,EAGT,SAASsC,EAAqBrd,EAAO2c,EAAM5E,GACzC,SAASgD,EAAkBt7E,GACzB,OAAIugE,EAAMtjB,EAAEi0B,KAAOlxE,EACVs7E,EAAkB7oE,SAGvB8tD,EAAMhjC,EAAE2zC,KAAOlxE,EACVs7E,EAAkBpY,UAGvB3C,EAAMt2C,EAAEinD,KAAOlxE,GAAmB,SAAVA,GAA8B,0BAAVA,EACvCs7E,EAAkB9nD,KAGpB,KAGT,IAAIwoD,EAAiBX,qBAAqBC,EAAmBhD,GAEzDpzD,EAAsB,OAAfg4D,EAAK5hB,GAAGpb,GAAcg9B,EAAK5hB,GAAGp2C,KAAOg4D,EAAK5hB,GAoBrD,OAnBAggB,EAAkB6B,cAAgB5c,EAAM2Q,GACxChsD,EAAK+3B,EAAEq/B,iBAAiBd,kBAAkB,WAAYQ,IACtD92D,EAAK+E,EAAEqyD,iBAAiBd,kBAAkB,OAAQQ,IAClD92D,EAAKqY,EAAE++C,iBAAiBd,kBAAkB,WAAYQ,IACtD/7E,OAAOogC,iBAAiBi7C,EAAmB,CACzC7oE,SAAU,CACR7K,IAAK8vE,4BAA4BxyD,EAAK+3B,IAExCimB,UAAW,CACTt7D,IAAK8vE,4BAA4BxyD,EAAKqY,IAExC/J,KAAM,CACJ5rB,IAAK8vE,4BAA4BxyD,EAAK+E,IAExCgxD,MAAO,CACLj7E,MAAOugE,EAAMnY,MAGjBkzB,EAAkBQ,GAAKvb,EAAMub,GACtBR,EAGT,SAASuC,EAAwBtd,EAAO2c,EAAM5E,GAC5C,SAASgD,EAAkBt7E,GACzB,OAAIugE,EAAMhjC,EAAE2zC,KAAOlxE,GAAmB,oBAAVA,EACnBs7E,EAAkB2D,OAGpB,KAGT,IAAIjD,EAAiBX,qBAAqBC,EAAmBhD,GAEzDpzD,EAAOg4D,EAYX,OAXA5B,EAAkB6B,cAAgB5c,EAAM2Q,GACxChsD,EAAK0sD,GAAG0K,iBAAiBd,kBAAkB,SAAUQ,IACrD/7E,OAAOogC,iBAAiBi7C,EAAmB,CACzC2D,OAAQ,CACNr3E,IAAK8vE,4BAA4BxyD,EAAK0sD,KAExCqJ,MAAO,CACLj7E,MAAOugE,EAAMnY,MAGjBkzB,EAAkBQ,GAAKvb,EAAMub,GACtBR,EAGT,SAASwC,EAAyBvd,EAAO2c,EAAM5E,GAC7C,SAASgD,EAAkBt7E,GACzB,OAAIugE,EAAMviC,EAAEkzC,KAAOlxE,GAAmB,WAAVA,EACnBs7E,EAAkBvK,OAGvBxQ,EAAMtrD,EAAEi8D,KAAOlxE,GAAmB,WAAVA,EACnBs7E,EAAkBxlD,OAGpB,KAGT,IAAIkmD,EAAiBX,qBAAqBC,EAAmBhD,GAEzDpzD,EAAOg4D,EAgBX,OAfA5B,EAAkB6B,cAAgB5c,EAAM2Q,GACxChsD,EAAK8Y,EAAEs+C,iBAAiBd,kBAAkB,SAAUQ,IACpD92D,EAAKjQ,EAAEqnE,iBAAiBd,kBAAkB,SAAUQ,IACpD/7E,OAAOogC,iBAAiBi7C,EAAmB,CACzCvK,OAAQ,CACNnpE,IAAK8vE,4BAA4BxyD,EAAK8Y,IAExClI,OAAQ,CACNluB,IAAK8vE,4BAA4BxyD,EAAKjQ,IAExCgmE,MAAO,CACLj7E,MAAOugE,EAAMnY,MAGjBkzB,EAAkBQ,GAAKvb,EAAMub,GACtBR,EAGT,OAAO,SAAUh7B,EAAQ48B,EAAM5E,GAC7B,IAAI0F,EAEJ,SAASkB,EAAmBl/E,GAC1B,GAAqB,iBAAVA,EAGT,OAAc,KAFdA,OAAkBnB,IAAVmB,EAAsB,EAAIA,GAGzBs4E,EAGF0F,EAAWh+E,EAAQ,GAM5B,IAHA,IAAIiH,EAAI,EACJ6X,EAAMk/D,EAAWr8E,OAEdsF,EAAI6X,GAAK,CACd,GAAIk/D,EAAW/2E,GAAGg0E,QAAUj7E,EAC1B,OAAOg+E,EAAW/2E,GAGpBA,GAAK,EAGP,OAAO,KAWT,OAJAi4E,EAAmB5G,cAAgB+C,qBAAqB6D,GAJxD,WACE,OAAO5G,KAIT0F,EAAaX,EAAgB/8B,EAAQ48B,EAAMgC,EAAmB5G,eAC9D4G,EAAmBhD,cAAgB8B,EAAWr8E,OAC9Cu9E,EAAmBjE,MAAQ,WACpBiE,GAjnBoB,GAqnB3BC,wBACK,SAAUtsD,GACf,IAAIusD,EAEAC,EAEJ,SAAS/E,EAAmB/5E,GAC1B,MACO,uBADCA,EAEG+5E,EAAmBgF,WAGnB,KAoBb,OAhBAr/E,OAAOggC,eAAeq6C,EAAoB,aAAc,CACtD1yE,IAAK,WACHirB,EAAK0sD,aAAahhB,WAClB,IAAIihB,EAAc3sD,EAAK0sD,aAAar2E,YAAYwqC,EAUhD,OARI8rC,IAAgBJ,IAClBvsD,EAAK0sD,aAAar2E,YAAYwqC,EAAI0rC,GAClCC,EAAc,IAAI/0D,OAAOk1D,IAGbx/E,MAAQw/E,GAAe,IAAIl1D,OAAOk1D,IAGzCH,KAGJ/E,GAIPmF,cACEC,eAAiB,CACnB,EAAG,cACH,EAAG,WACH,EAAG,SACH,EAAG,UACH,EAAG,SACH,EAAG,UACH,EAAG,cACH,EAAG,aACH,EAAG,aACH,EAAG,aACH,GAAI,aACJ,GAAI,YACJ,GAAI,MACJ,GAAI,aACJ,GAAI,QACJ,GAAI,cAEC,SAAUC,GACf,OAAOD,eAAeC,IAAS,KAnB7BD,eAuBN,SAASE,aAAaj4E,EAAMkrB,EAAMrB,GAChCl0B,KAAK2/C,EAAIub,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKk3B,EAAG,EAAG,EAAGrN,GAGvD,SAASquD,YAAYl4E,EAAMkrB,EAAMrB,GAC/Bl0B,KAAK2/C,EAAIub,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKk3B,EAAG,EAAG,EAAGrN,GAGvD,SAASsuD,YAAYn4E,EAAMkrB,EAAMrB,GAC/Bl0B,KAAK2/C,EAAIub,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKk3B,EAAG,EAAG,EAAGrN,GAGvD,SAASuuD,YAAYp4E,EAAMkrB,EAAMrB,GAC/Bl0B,KAAK2/C,EAAIub,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKk3B,EAAG,EAAG,EAAGrN,GAGvD,SAASwuD,iBAAiBr4E,EAAMkrB,EAAMrB,GACpCl0B,KAAK2/C,EAAIub,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKk3B,EAAG,EAAG,EAAGrN,GAGvD,SAASyuD,gBAAgBt4E,EAAMkrB,EAAMrB,GACnCl0B,KAAK2/C,EAAIub,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKk3B,EAAG,EAAG,EAAGrN,GAGvD,SAAS0uD,eAAev4E,EAAMkrB,EAAMrB,GAClCl0B,KAAK2/C,EAAIub,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKk3B,EAAG,EAAG,EAAGrN,GAGvD,SAAS2uD,gBACP7iF,KAAK2/C,EAAI,GAGX,SAASmjC,eAAez4E,EAAM+O,GAC5B,IAEIzP,EAFAm0E,EAAUzzE,EAAKk0E,IAAM,GACzBv+E,KAAKy+E,eAAiB,GAEtB,IACIsE,EADAvhE,EAAMs8D,EAAQz5E,OAGlB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBo5E,EAAa,IAAIC,YAAYlF,EAAQn0E,GAAIyP,GACzCpZ,KAAKy+E,eAAet3E,KAAK47E,GAI7B,SAASC,YAAY34E,EAAM+O,GACzBpZ,KAAKq0B,KAAKhqB,EAAM+O,GAgElB,SAAS6pE,eAuET,SAASC,gBAiDT,SAASC,UAAUphF,GAAuV,OAA1OohF,UAArD,mBAAX/5C,QAAoD,iBAApBA,OAAOC,SAAqC,SAAiBtnC,GAAO,cAAcA,GAA6B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXqnC,QAAyBrnC,EAAI+Q,cAAgBs2B,QAAUrnC,IAAQqnC,OAAOnnC,UAAY,gBAAkBF,GAAiBohF,UAAUphF,GArL3Xk4C,gBAAgB,CAACsnB,0BAA2ByhB,aAC5CA,YAAY/gF,UAAUg/D,SAAW+hB,YAAY/gF,UAAUy/D,yBAEvDshB,YAAY/gF,UAAUoyB,KAAO,SAAUhqB,EAAM+O,GAI3C,IAAIzP,EAHJ3J,KAAKqK,KAAOA,EACZrK,KAAKy+E,eAAiB,GACtBz+E,KAAK2hE,6BAA6BvoD,GAElC,IACIgqE,EADA5hE,EAAMxhB,KAAKqK,KAAKk0E,GAAGl6E,OAEnBy5E,EAAU99E,KAAKqK,KAAKk0E,GAExB,IAAK50E,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAG3B,OAFAy5E,EAAM,KAEEtF,EAAQn0E,GAAGi5C,IACjB,KAAK,EACHwgC,EAAM,IAAId,aAAaxE,EAAQn0E,GAAIyP,EAASpZ,MAC5C,MAEF,KAAK,EACHojF,EAAM,IAAIb,YAAYzE,EAAQn0E,GAAIyP,EAASpZ,MAC3C,MAEF,KAAK,EACHojF,EAAM,IAAIZ,YAAY1E,EAAQn0E,GAAIyP,EAASpZ,MAC3C,MAEF,KAAK,EACHojF,EAAM,IAAIX,YAAY3E,EAAQn0E,GAAIyP,EAASpZ,MAC3C,MAEF,KAAK,EACL,KAAK,EACHojF,EAAM,IAAIR,eAAe9E,EAAQn0E,GAAIyP,EAASpZ,MAC9C,MAEF,KAAK,GACHojF,EAAM,IAAIV,iBAAiB5E,EAAQn0E,GAAIyP,EAASpZ,MAChD,MAEF,KAAK,GACHojF,EAAM,IAAIT,gBAAgB7E,EAAQn0E,GAAIyP,EAASpZ,MAC/C,MAEF,KAAK,EACHojF,EAAM,IAAIN,eAAehF,EAAQn0E,GAAIyP,EAASpZ,MAC9C,MAGF,QACEojF,EAAM,IAAIP,cAAc/E,EAAQn0E,GAAIyP,EAASpZ,MAI7CojF,GACFpjF,KAAKy+E,eAAet3E,KAAKi8E,KAO/BH,YAAYhhF,UAAY,CACtBohF,WAAY,WACV,IAAKrjF,KAAKqK,KAAKk4C,QACb,OAAO,EAMT,IAHA,IAAI54C,EAAI,EACJ6X,EAAMxhB,KAAKqK,KAAKo4C,gBAAgBp+C,OAE7BsF,EAAI6X,GAAK,CACd,GAA0C,MAAtCxhB,KAAKqK,KAAKo4C,gBAAgB94C,GAAG04E,OAAoD,IAApCriF,KAAKqK,KAAKo4C,gBAAgB94C,GAAGu7C,GAC5E,OAAO,EAGTv7C,GAAK,EAGP,OAAO,GAETwkD,gBAAiB,WACfnuD,KAAKu9E,eAAiBrB,yBAAyBl8E,MAE3CA,KAAKqK,KAAKk4C,SAAWviD,KAAKi6E,aAC5Bj6E,KAAKu9E,eAAeK,sBAAsB59E,KAAKi6E,aAGjD,IAAIqJ,EAAmBlF,2BAA2Ba,uBAAuBj/E,KAAMA,KAAKu9E,gBACpFv9E,KAAKu9E,eAAeM,yBAAyByF,GAExB,IAAjBtjF,KAAKqK,KAAKu4C,IAAY5iD,KAAKqK,KAAK2gD,GAClChrD,KAAKkrD,cAAgBk0B,wBAAwBp/E,MACnB,IAAjBA,KAAKqK,KAAKu4C,IACnB5iD,KAAKu9E,eAAeN,eAAiB6C,yBAAyB9/E,KAAKujF,WAAYvjF,KAAKwjF,UAAWxjF,KAAKu9E,gBACpGv9E,KAAKu9E,eAAen4E,QAAUpF,KAAKu9E,eAAeN,gBACxB,IAAjBj9E,KAAKqK,KAAKu4C,KACnB5iD,KAAKu9E,eAAeJ,cAAgB0E,wBAAwB7hF,MAC5DA,KAAKu9E,eAAez3D,KAAO9lB,KAAKu9E,eAAeJ,gBAGnDsG,aAAc,WACZ,IAAIC,EAAiBvB,aAAaniF,KAAKqK,KAAKs5E,KACjC3jF,KAAK4jF,aAAe5jF,KAAK6jF,cAC/B57D,MAAM,kBAAoBy7D,GAEjCI,aAAc,SAAsBz5E,EAAM6iD,EAAYhK,GACpDljD,KAAKktD,WAAaA,EAClBltD,KAAKkjD,KAAOA,EACZljD,KAAKqK,KAAOA,EACZrK,KAAK+jF,QAAUxkC,kBAEVv/C,KAAKqK,KAAKm6C,KACbxkD,KAAKqK,KAAKm6C,GAAK,GAIjBxkD,KAAKk/E,eAAiB,IAAI4D,eAAe9iF,KAAKqK,KAAMrK,KAAMA,KAAKwhE,oBAEjEwiB,QAAS,WACP,OAAOhkF,KAAK2gB,MAEd84D,iBAAkB,cAWpByJ,aAAajhF,UAAY,CAMvBk5D,UAAW,WAETn7D,KAAKygE,eAAgB,EAErBzgE,KAAKwhE,kBAAoB,GAEzBxhE,KAAKogE,MAAO,GAad6jB,kBAAmB,SAA2B/uD,EAAK1U,GACjD,IAAI7W,EACA6X,EAAMxhB,KAAKwhE,kBAAkBn9D,OAEjC,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,GACpB6W,GAAaxgB,KAAKkkF,WAAoD,cAAvClkF,KAAKwhE,kBAAkB73D,GAAG+xD,YAC3D17D,KAAKwhE,kBAAkB73D,GAAGs3D,WAEtBjhE,KAAKwhE,kBAAkB73D,GAAGy2D,OAC5BpgE,KAAKktD,WAAWkT,MAAO,EACvBpgE,KAAKogE,MAAO,KAKpBU,mBAAoB,SAA4Bl5C,IACA,IAA1C5nB,KAAKwhE,kBAAkBj+D,QAAQqkB,IACjC5nB,KAAKwhE,kBAAkBr6D,KAAKygB,KAOlC,IAAIu8D,kBA0CEC,qBAAuB,SAA8B7uD,GACvD,SAASyoD,EAAkBt7E,GACzB,MAAc,YAAVA,EACKs7E,EAAkBqG,mBAGpB,KAKT,OAFArG,EAAkBL,MAAQ,UAC1BK,EAAkBqG,iBAnDU,SAAiC9uD,GAC7D,IAAI+uD,EAAsB,GACtBC,EAAkBhvD,EAAKivD,iBAQ3B,SAASC,EAAe/hF,GACtB,GAAI6hF,EAAgB7hF,GAIlB,OAHA4hF,EAAsB5hF,EAGa,WAA/BygF,UAFJoB,EAAkBA,EAAgB7hF,IAGzB+hF,EAGFF,EAGT,IAAIG,EAAoBhiF,EAAMa,QAAQ+gF,GAEtC,IAA2B,IAAvBI,EAA0B,CAC5B,IAAI3wE,EAAQ1U,SAASqD,EAAM4/B,OAAOoiD,EAAoBJ,EAAoBjgF,QAAS,IAGnF,MAAmC,WAA/B8+E,UAFJoB,EAAkBA,EAAgBxwE,IAGzB0wE,EAGFF,EAGT,MAAO,GAGT,OAlCA,WAGE,OAFAD,EAAsB,GACtBC,EAAkBhvD,EAAKivD,iBAChBC,GA4C4BE,CAAwBpvD,GACtDyoD,GAGF,SAAUzoD,GACf,SAASqsD,EAAmBl/E,GAC1B,MAAc,SAAVA,EACKk/E,EAAmBgD,cAGrB,KAKT,OAFAhD,EAAmBjE,MAAQ,OAC3BiE,EAAmBgD,cAAgBR,qBAAqB7uD,GACjDqsD,IAzBLwC,qBA6BN,SAASS,eAAex6E,EAAM6iD,EAAYhK,GACxCljD,KAAKm7D,YACLn7D,KAAKy4E,iBACLz4E,KAAKwnD,UAAY0F,EAAWkE,aAAa/mD,EAAKy4C,OAC9C9iD,KAAKsoD,YAAc4E,EAAW43B,YAAY97B,SAAShpD,KAAKwnD,WACxDxnD,KAAK8jF,aAAaz5E,EAAM6iD,EAAYhK,GAuBtC,SAAS6hC,aAAa16E,EAAM6iD,EAAYhK,GACtCljD,KAAKm7D,YACLn7D,KAAKy4E,iBACLz4E,KAAKwnD,UAAY0F,EAAWkE,aAAa/mD,EAAKy4C,OAC9C9iD,KAAK8jF,aAAaz5E,EAAM6iD,EAAYhK,GACpCljD,KAAKglF,YAAa,EAClBhlF,KAAKilF,UAAW,EAChB,IAAI9pC,EAAYn7C,KAAKktD,WAAW3F,cAAcvnD,KAAKwnD,WACnDxnD,KAAK66C,MAAQ76C,KAAKktD,WAAWP,gBAAgBzR,YAAYC,GACzDn7C,KAAKklF,aAAe,EACpBllF,KAAKktD,WAAWP,gBAAgB/R,SAAS56C,MACzCA,KAAKsqD,GAAKjgD,EAAKigD,GAAK4Q,gBAAgBoG,QAAQthE,KAAMqK,EAAKigD,GAAI,EAAG4C,EAAWxB,UAAW1rD,MAAQ,CAC1FmlF,cAAc,GAkElB,SAASC,gBA6KT,SAASC,oBAsFT,SAASC,YAAYj7E,EAAM+O,EAAS8zC,GAClCltD,KAAKqK,KAAOA,EACZrK,KAAKoZ,QAAUA,EACfpZ,KAAKktD,WAAaA,EAClBltD,KAAKi4D,WAAa,GAClBj4D,KAAKyiD,gBAAkBziD,KAAKqK,KAAKo4C,iBAAmB,GACpDziD,KAAKulF,YAAc,KACnB,IACI57E,EAIAo2B,EALAotB,EAAOntD,KAAKktD,WAAWC,KAEvB3rC,EAAMxhB,KAAKyiD,gBAAkBziD,KAAKyiD,gBAAgBp+C,OAAS,EAC/DrE,KAAKm6E,SAAW99B,iBAAiB76B,GACjCxhB,KAAKwlF,UAAY,GAEjB,IAGI37E,EACAq4C,EAEAujC,EACAC,EACAC,EACA17C,EATAhW,EAAaj0B,KAAKyiD,gBAClBh0B,EAAQ,EACRm3D,EAAe,GAGf7B,EAAUxkC,kBAKVsmC,EAAW,WACXC,EAAU,YAEd,IAAKn8E,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAkBxB,IAjB2B,MAAvBsqB,EAAWtqB,GAAG04E,MAAuC,MAAvBpuD,EAAWtqB,GAAG04E,MAAgBpuD,EAAWtqB,GAAG8oE,KAA6B,MAAtBx+C,EAAWtqB,GAAGgO,EAAEs5B,GAAahd,EAAWtqB,GAAGgO,EAAEsyB,KAChI47C,EAAW,OACXC,EAAU,QAGgB,MAAvB7xD,EAAWtqB,GAAG04E,MAAuC,MAAvBpuD,EAAWtqB,GAAG04E,MAA2B,IAAV5zD,EAOhEg3D,EAAO,OANPA,EAAO5kC,SAAS,SACX9tB,aAAa,OAAQ,WAC1B0yD,EAAK1yD,aAAa,QAAS/yB,KAAKoZ,QAAQ8pC,KAAK74C,KAAK0qE,GAAK,GACvD0Q,EAAK1yD,aAAa,SAAU/yB,KAAKoZ,QAAQ8pC,KAAK74C,KAAKq1C,GAAK,GACxDkmC,EAAaz+E,KAAKs+E,IAKpB1lD,EAAO8gB,SAAS,QAEW,MAAvB5sB,EAAWtqB,GAAG04E,KAEhBriF,KAAKm6E,SAASxwE,GAAK,CACjB26C,GAAI4W,gBAAgBoG,QAAQthE,KAAKoZ,QAAS6a,EAAWtqB,GAAGgO,EAAG,EAAG,IAAM3X,KAAKoZ,SACzEwO,KAAM67C,qBAAqBsiB,aAAa/lF,KAAKoZ,QAAS6a,EAAWtqB,GAAI,GACrE4rB,KAAMwK,EACNimD,SAAU,IAEZ74B,EAAKl7C,YAAY8tB,OACZ,CAIL,IAAIkmD,EAgCJ,GAnCAx3D,GAAS,EACTsR,EAAKhN,aAAa,OAA+B,MAAvBkB,EAAWtqB,GAAG04E,KAAe,UAAY,WACnEtiD,EAAKhN,aAAa,YAAa,WAGL,IAAtBkB,EAAWtqB,GAAGsgC,EAAEgH,GAClB40C,EAAW,OACXC,EAAU,OACV77C,EAAIixB,gBAAgBoG,QAAQthE,KAAKoZ,QAAS6a,EAAWtqB,GAAGsgC,EAAG,EAAG,KAAMjqC,KAAKoZ,SACzE6sE,EAAW1mC,mBACXmmC,EAAW7kC,SAAS,WACX9tB,aAAa,KAAMkzD,IAC5BN,EAAU9kC,SAAS,iBACX9tB,aAAa,WAAY,SACjC4yD,EAAQ5yD,aAAa,KAAM,iBAC3B4yD,EAAQ5yD,aAAa,SAAU,KAC/B2yD,EAASzzE,YAAY0zE,GACrBx4B,EAAKl7C,YAAYyzE,GACjB3lD,EAAKhN,aAAa,SAAiC,MAAvBkB,EAAWtqB,GAAG04E,KAAe,UAAY,aAErEsD,EAAU,KACV17C,EAAI,MAINjqC,KAAKi4D,WAAWtuD,GAAK,CACnB4rB,KAAMwK,EACNkK,EAAGA,EACHi8C,MAAOP,EACPK,SAAU,GACVG,aAAc,GACdC,SAAUH,EACVI,WAAY,GAGa,MAAvBpyD,EAAWtqB,GAAG04E,KAAc,CAC9BngC,EAAO0jC,EAAavhF,OACpB,IAAImQ,EAAIqsC,SAAS,KAEjB,IAAKh3C,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACzB2K,EAAEvC,YAAY2zE,EAAa/7E,IAG7B,IAAIiwE,EAAOj5B,SAAS,QACpBi5B,EAAK/mD,aAAa,YAAa,SAC/B+mD,EAAK/mD,aAAa,KAAMgxD,EAAU,IAAMt1D,GACxCqrD,EAAK7nE,YAAY8tB,GACjBotB,EAAKl7C,YAAY6nE,GACjBtlE,EAAEue,aAAa,OAAQ,OAASgnB,kBAAoB,IAAMgqC,EAAU,IAAMt1D,EAAQ,KAClFm3D,EAAavhF,OAAS,EACtBuhF,EAAaz+E,KAAKqN,QAElBoxE,EAAaz+E,KAAK44B,GAGhB9L,EAAWtqB,GAAG8oE,MAAQzyE,KAAKwlF,YAC7BxlF,KAAKwlF,UAAYxlF,KAAKsmF,wBAIxBtmF,KAAKm6E,SAASxwE,GAAK,CACjB4rB,KAAMwK,EACNimD,SAAU,GACV1hC,GAAI4W,gBAAgBoG,QAAQthE,KAAKoZ,QAAS6a,EAAWtqB,GAAGgO,EAAG,EAAG,IAAM3X,KAAKoZ,SACzEwO,KAAM67C,qBAAqBsiB,aAAa/lF,KAAKoZ,QAAS6a,EAAWtqB,GAAI,GACrE48E,QAASd,GAGNzlF,KAAKm6E,SAASxwE,GAAGie,KAAKqpB,GACzBjxC,KAAKwmF,SAASvyD,EAAWtqB,GAAI3J,KAAKm6E,SAASxwE,GAAGie,KAAK2Z,EAAGvhC,KAAKm6E,SAASxwE,IAQ1E,IAHA3J,KAAKulF,YAAc1kC,SAASglC,GAC5BrkE,EAAMokE,EAAavhF,OAEdsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKulF,YAAYtzE,YAAY2zE,EAAaj8E,IAGxC8kB,EAAQ,IACVzuB,KAAKulF,YAAYxyD,aAAa,KAAMgxD,GACpC/jF,KAAKoZ,QAAQqtE,cAAc1zD,aAAa+yD,EAAS,OAAS/rC,kBAAoB,IAAMgqC,EAAU,KAC9F52B,EAAKl7C,YAAYjS,KAAKulF,cAGpBvlF,KAAKm6E,SAAS91E,QAChBrE,KAAKoZ,QAAQ0/D,uBAAuB94E,MAnfxC6kF,eAAe5iF,UAAU8oD,aAAe,aAExC9Q,gBAAgB,CAACu+B,kBAAmByK,YAAaC,cAAe2B,gBAEhEA,eAAe5iF,UAAUykF,eAAiB,WACxC,OAAO,MAGT7B,eAAe5iF,UAAUqtD,YAAc,aAEvCu1B,eAAe5iF,UAAUma,QAAU,aAEnCyoE,eAAe5iF,UAAUksD,gBAAkB,WACzCnuD,KAAKu9E,eAAiB4G,iBAAiBnkF,OAGzC6kF,eAAe5iF,UAAUuiF,eAAiB,WACxC,OAAOxkF,KAAKsoD,aAmBdy8B,aAAa9iF,UAAU8oD,aAAe,SAAU71B,GAI9C,GAHAl1B,KAAKi5E,uBAAuB/jD,GAAK,GACjCl1B,KAAKikF,kBAAkB/uD,GAAK,GAEvBl1B,KAAKsqD,GAAG66B,aAIXnlF,KAAKklF,aAAehwD,EAAMl1B,KAAKqK,KAAKm6C,OAJX,CACzB,IAAImiC,EAAe3mF,KAAKsqD,GAAG/oB,EAC3BvhC,KAAKklF,aAAeyB,IAMxB1sC,gBAAgB,CAACu+B,kBAAmByK,YAAaC,cAAe6B,cAEhEA,aAAa9iF,UAAUqtD,YAAc,WAC/BtvD,KAAK04E,WAAa14E,KAAKilF,WACpBjlF,KAAKglF,aAIEhlF,KAAK66C,MAAMW,WAAax0C,KAAKk7B,IAAIliC,KAAKklF,aAAellF,KAAKktD,WAAWxB,UAAY1rD,KAAK66C,MAAMU,QAAU,KAChHv7C,KAAK66C,MAAMU,KAAKv7C,KAAKklF,aAAellF,KAAKktD,WAAWxB,YAJpD1rD,KAAK66C,MAAMS,OACXt7C,KAAK66C,MAAMU,KAAKv7C,KAAKklF,aAAellF,KAAKktD,WAAWxB,WACpD1rD,KAAKglF,YAAa,KAOxBD,aAAa9iF,UAAUsc,KAAO,aAG9BwmE,aAAa9iF,UAAUob,KAAO,WAC5Brd,KAAK66C,MAAMC,QACX96C,KAAKglF,YAAa,GAGpBD,aAAa9iF,UAAU64C,MAAQ,WAC7B96C,KAAK66C,MAAMC,QACX96C,KAAKglF,YAAa,EAClBhlF,KAAKilF,UAAW,GAGlBF,aAAa9iF,UAAU84C,OAAS,WAC9B/6C,KAAKilF,UAAW,GAGlBF,aAAa9iF,UAAU+4C,QAAU,SAAUC,GACzCj7C,KAAK66C,MAAMY,KAAKR,IAGlB8pC,aAAa9iF,UAAU+5C,OAAS,SAAU4qC,GACxC5mF,KAAK66C,MAAMmB,OAAO4qC,IAGpB7B,aAAa9iF,UAAUykF,eAAiB,WACtC,OAAO,MAGT3B,aAAa9iF,UAAUma,QAAU,aAEjC2oE,aAAa9iF,UAAUw3E,iBAAmB,aAE1CsL,aAAa9iF,UAAUksD,gBAAkB,aAIzCi3B,aAAanjF,UAAU4kF,YAAc,SAAU3xD,GAC7C,IAAIvrB,EAEAU,EADAmX,EAAMxhB,KAAK+hD,OAAO19C,OAItB,IAFArE,KAAK8hD,gBAAiB,EAEjBn4C,EAAI6X,EAAM,EAAG7X,GAAK,EAAGA,GAAK,EACxB3J,KAAK21B,SAAShsB,KACjBU,EAAOrK,KAAK+hD,OAAOp4C,IAEV06C,GAAKh6C,EAAKk6C,IAAMrvB,EAAMl1B,KAAK+hD,OAAOp4C,GAAG46C,IAAMl6C,EAAKi6C,GAAKj6C,EAAKk6C,GAAKrvB,EAAMl1B,KAAK+hD,OAAOp4C,GAAG46C,IAC3FvkD,KAAK8mF,UAAUn9E,GAInB3J,KAAK8hD,iBAAiB9hD,KAAK21B,SAAShsB,IAAK3J,KAAK8hD,eAGhD9hD,KAAK+mF,wBAGP3B,aAAanjF,UAAU+kF,WAAa,SAAU3H,GAC5C,OAAQA,EAAMz8B,IACZ,KAAK,EACH,OAAO5iD,KAAKinF,YAAY5H,GAE1B,KAAK,EACH,OAAOr/E,KAAKknF,WAAW7H,GAEzB,KAAK,EACH,OAAOr/E,KAAKmnF,YAAY9H,GAE1B,KAAK,EAkBL,QACE,OAAOr/E,KAAKonF,WAAW/H,GAhBzB,KAAK,EACH,OAAOr/E,KAAKqnF,YAAYhI,GAE1B,KAAK,EACH,OAAOr/E,KAAKsnF,WAAWjI,GAEzB,KAAK,EACH,OAAOr/E,KAAKk7C,YAAYmkC,GAE1B,KAAK,GACH,OAAOr/E,KAAKunF,aAAalI,GAE3B,KAAK,GACH,OAAOr/E,KAAKwnF,cAAcnI,KAOhC+F,aAAanjF,UAAUslF,aAAe,WACpC,MAAM,IAAI9+E,MAAM,qDAGlB28E,aAAanjF,UAAUi5C,YAAc,SAAU7wC,GAC7C,OAAO,IAAI06E,aAAa16E,EAAMrK,KAAKktD,WAAYltD,OAGjDolF,aAAanjF,UAAUulF,cAAgB,SAAUn9E,GAC/C,OAAO,IAAIw6E,eAAex6E,EAAMrK,KAAKktD,WAAYltD,OAGnDolF,aAAanjF,UAAUwlF,cAAgB,WACrC,IAAI99E,EACA6X,EAAMxhB,KAAK+hD,OAAO19C,OAEtB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAK8mF,UAAUn9E,GAGjB3J,KAAK+mF,wBAGP3B,aAAanjF,UAAU4rD,cAAgB,SAAUC,GAE/C,IAAInkD,EADJ3J,KAAK8hD,gBAAiB,EAEtB,IACIj4C,EADA2X,EAAMssC,EAAUzpD,OAEhB69C,EAAOliD,KAAK+hD,OAAO19C,OAEvB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAGxB,IAFAE,EAAI,EAEGA,EAAIq4C,GAAM,CACf,GAAIliD,KAAK+hD,OAAOl4C,GAAGqR,KAAO4yC,EAAUnkD,GAAGuR,GAAI,CACzClb,KAAK+hD,OAAOl4C,GAAKikD,EAAUnkD,GAC3B,MAGFE,GAAK,IAKXu7E,aAAanjF,UAAUmrD,oBAAsB,SAAUs6B,GACrD1nF,KAAKktD,WAAWT,iBAAmBi7B,GAGrCtC,aAAanjF,UAAUitD,UAAY,WAC5BlvD,KAAKktD,WAAWy6B,iBACnB3nF,KAAKynF,iBAITrC,aAAanjF,UAAU2lF,sBAAwB,SAAUxuE,EAASyuE,EAAYjL,GAM5E,IALA,IAAIjnD,EAAW31B,KAAK21B,SAChBosB,EAAS/hD,KAAK+hD,OACdp4C,EAAI,EACJ6X,EAAMugC,EAAO19C,OAEVsF,EAAI6X,GACLugC,EAAOp4C,GAAGszD,KAAO4qB,IAEdlyD,EAAShsB,KAAsB,IAAhBgsB,EAAShsB,IAI3BizE,EAAUz1E,KAAKwuB,EAAShsB,IACxBgsB,EAAShsB,GAAGm+E,mBAEavmF,IAArBwgD,EAAOp4C,GAAG6T,OACZxd,KAAK4nF,sBAAsBxuE,EAAS2oC,EAAOp4C,GAAG6T,OAAQo/D,GAEtDxjE,EAAQ2uE,aAAanL,KATvB58E,KAAK8mF,UAAUn9E,GACf3J,KAAKgoF,kBAAkB5uE,KAa3BzP,GAAK,GAITy7E,aAAanjF,UAAU+lF,kBAAoB,SAAU5uE,GACnDpZ,KAAKioF,gBAAgB9gF,KAAKiS,IAG5BgsE,aAAanjF,UAAU4sD,wBAA0B,SAAU5K,GACzD,IAAIt6C,EACA6X,EAAMyiC,EAAO5/C,OAEjB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB,GAAIs6C,EAAOt6C,GAAGqhD,GAAI,CAChB,IAAI9H,EAAOljD,KAAKknF,WAAWjjC,EAAOt6C,IAClCu5C,EAAKiL,kBACLnuD,KAAKktD,WAAWT,iBAAiB9B,oBAAoBzH,KAK3DkiC,aAAanjF,UAAUimF,gBAAkB,SAAUv5B,EAAUw5B,GAC3DnoF,KAAKktD,WAAWc,YAAc,IAAI6mB,YAClC70E,KAAKktD,WAAWc,YAAYC,SAASU,EAASxK,OAC9CnkD,KAAKktD,WAAWc,YAAYE,SAASS,EAASZ,MAAOo6B,GACrDnoF,KAAKktD,WAAWkE,aAAepxD,KAAKooF,cAAch3B,aAAar1C,KAAK/b,KAAKooF,eACzEpoF,KAAKktD,WAAW3F,cAAgBvnD,KAAKooF,cAAc7gC,cAAcxrC,KAAK/b,KAAKooF,eAC3EpoF,KAAKktD,WAAW43B,YAAc9kF,KAAKooF,cAAc17B,eACjD1sD,KAAKktD,WAAWP,gBAAkB3sD,KAAKooF,cAAcz7B,gBACrD3sD,KAAKktD,WAAWoT,QAAU,EAC1BtgE,KAAKktD,WAAWxB,UAAYiD,EAASC,GACrC5uD,KAAKktD,WAAWpC,GAAK6D,EAAS7D,GAC9B9qD,KAAKktD,WAAWqyB,SAAW,CACzBxK,EAAGpmB,EAASomB,EACZr1B,EAAGiP,EAASjP,IAMhB2lC,iBAAiBpjF,UAAY,CAC3BomF,cAAe,WACbroF,KAAKo5E,eAAiB,CACpBC,MAAOr5E,KAAKqK,KAAKg5C,GAAK8sB,yBAAyBoB,qBAAqBvxE,KAAMA,KAAKqK,KAAKg5C,GAAIrjD,MAAQ,CAC9F2X,EAAG,GAEL2wE,SAAS,EACTC,QAAQ,EACRxX,IAAK,IAAIhK,QAGP/mE,KAAKqK,KAAKm+E,KACZxoF,KAAKo5E,eAAeC,MAAMnI,cAAe,GAIvClxE,KAAKqK,KAAKu4C,IAGhB6lC,gBAAiB,WAIf,GAHAzoF,KAAKo5E,eAAemP,OAASvoF,KAAKo5E,eAAeC,MAAM1hE,EAAEyoD,MAAQpgE,KAAKygE,cACtEzgE,KAAKo5E,eAAekP,QAAUtoF,KAAKo5E,eAAeC,MAAMjZ,MAAQpgE,KAAKygE,cAEjEzgE,KAAK48E,UAAW,CAClB,IAAI7L,EACA2X,EAAW1oF,KAAKo5E,eAAerI,IAC/BpnE,EAAI,EACJ6X,EAAMxhB,KAAK48E,UAAUv4E,OAEzB,IAAKrE,KAAKo5E,eAAekP,QACvB,KAAO3+E,EAAI6X,GAAK,CACd,GAAIxhB,KAAK48E,UAAUjzE,GAAGyvE,eAAeC,MAAMjZ,KAAM,CAC/CpgE,KAAKo5E,eAAekP,SAAU,EAC9B,MAGF3+E,GAAK,EAIT,GAAI3J,KAAKo5E,eAAekP,QAItB,IAHAvX,EAAM/wE,KAAKo5E,eAAeC,MAAM93C,EAAE1I,MAClC6vD,EAASje,eAAesG,GAEnBpnE,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBonE,EAAM/wE,KAAK48E,UAAUjzE,GAAGyvE,eAAeC,MAAM93C,EAAE1I,MAC/C6vD,EAASpgB,UAAUyI,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAAKA,EAAI,IAAKA,EAAI,IAAKA,EAAI,IAAKA,EAAI,IAAKA,EAAI,OAK5J4X,cAAe,SAAuBjmC,GACpC,IAAIkmC,EAAa,GACjBA,EAAWzhF,KAAKnH,KAAKo5E,gBAIrB,IAHA,IAeIzvE,EAfAggC,GAAO,EACPuZ,EAAOljD,KAAKkjD,KAETvZ,GACDuZ,EAAKk2B,gBACHl2B,EAAK74C,KAAKk4C,SACZqmC,EAAW7yD,OAAO,EAAG,EAAGmtB,EAAKk2B,gBAG/Bl2B,EAAOA,EAAKA,MAEZvZ,GAAO,EAKX,IACIk/C,EADArnE,EAAMonE,EAAWvkF,OAGrB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBk/E,EAAQD,EAAWj/E,GAAGonE,IAAI5F,kBAAkB,EAAG,EAAG,GAElDzoB,EAAK,CAACA,EAAG,GAAKmmC,EAAM,GAAInmC,EAAG,GAAKmmC,EAAM,GAAI,GAG5C,OAAOnmC,GAETomC,QAAS,IAAI/hB,QAqJfue,YAAYrjF,UAAU8mF,gBAAkB,SAAU7mB,GAChD,OAAOliE,KAAKm6E,SAASjY,GAAKt6C,MAG5B09D,YAAYrjF,UAAUqtD,YAAc,SAAU05B,GAC5C,IACIr/E,EADA++E,EAAW1oF,KAAKoZ,QAAQggE,eAAerI,IAEvCvvD,EAAMxhB,KAAKyiD,gBAAgBp+C,OAE/B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EASxB,IARI3J,KAAKm6E,SAASxwE,GAAGie,KAAKw4C,MAAQ4oB,IAChChpF,KAAKwmF,SAASxmF,KAAKyiD,gBAAgB94C,GAAI3J,KAAKm6E,SAASxwE,GAAGie,KAAK2Z,EAAGvhC,KAAKm6E,SAASxwE,KAG5E3J,KAAKm6E,SAASxwE,GAAG26C,GAAG8b,MAAQ4oB,IAC9BhpF,KAAKm6E,SAASxwE,GAAG4rB,KAAKxC,aAAa,eAAgB/yB,KAAKm6E,SAASxwE,GAAG26C,GAAG/iB,GAGpC,MAAjCvhC,KAAKyiD,gBAAgB94C,GAAG04E,OACtBriF,KAAKm6E,SAASxwE,GAAG48E,UAAYvmF,KAAKoZ,QAAQggE,eAAeC,MAAMjZ,MAAQ4oB,IACzEhpF,KAAKm6E,SAASxwE,GAAG48E,QAAQxzD,aAAa,YAAa21D,EAAS3d,mBAAmBiB,WAG7EhsE,KAAKi4D,WAAWtuD,GAAGsgC,IAAMjqC,KAAKi4D,WAAWtuD,GAAGsgC,EAAEm2B,MAAQ4oB,IAAe,CACvE,IAAIrD,EAAU3lF,KAAKi4D,WAAWtuD,GAAGu8E,MAE7BlmF,KAAKi4D,WAAWtuD,GAAGsgC,EAAE1I,EAAI,GACa,UAApCvhC,KAAKi4D,WAAWtuD,GAAGw8E,eACrBnmF,KAAKi4D,WAAWtuD,GAAGw8E,aAAe,QAClCnmF,KAAKi4D,WAAWtuD,GAAG4rB,KAAKxC,aAAa,SAAU,OAASgnB,kBAAoB,IAAM/5C,KAAKi4D,WAAWtuD,GAAGy8E,SAAW,MAGlHT,EAAQ5yD,aAAa,UAAW/yB,KAAKi4D,WAAWtuD,GAAGsgC,EAAE1I,KAEb,WAApCvhC,KAAKi4D,WAAWtuD,GAAGw8E,eACrBnmF,KAAKi4D,WAAWtuD,GAAGw8E,aAAe,SAClCnmF,KAAKi4D,WAAWtuD,GAAG4rB,KAAKxC,aAAa,SAAU,OAGjD/yB,KAAKi4D,WAAWtuD,GAAG4rB,KAAKxC,aAAa,eAAyC,EAAzB/yB,KAAKi4D,WAAWtuD,GAAGsgC,EAAE1I,MAOpF+jD,YAAYrjF,UAAUgnF,eAAiB,WACrC,OAAOjpF,KAAKulF,aAGdD,YAAYrjF,UAAUqkF,qBAAuB,WAC3C,IAAIvmD,EAAO,QAKX,OAJAA,GAAQ,KAAO//B,KAAKktD,WAAWqyB,SAASxK,EACxCh1C,GAAQ,KAAO//B,KAAKktD,WAAWqyB,SAAS7/B,EACxC3f,GAAQ,MAAQ//B,KAAKktD,WAAWqyB,SAASxK,EACzCh1C,GAAQ,MAAQ//B,KAAKktD,WAAWqyB,SAAS7/B,EAAI,KAI/C4lC,YAAYrjF,UAAUukF,SAAW,SAAU5hC,EAAUskC,EAAW/O,GAC9D,IACIxwE,EACA6X,EAFA2nE,EAAa,KAAOD,EAAU3nD,EAAE,GAAG,GAAK,IAAM2nD,EAAU3nD,EAAE,GAAG,GAKjE,IAFA/f,EAAM0nE,EAAUtzB,QAEXjsD,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAExBw/E,GAAc,KAAOD,EAAUvxE,EAAEhO,EAAI,GAAG,GAAK,IAAMu/E,EAAUvxE,EAAEhO,EAAI,GAAG,GAAK,IAAMu/E,EAAUv/E,EAAEA,GAAG,GAAK,IAAMu/E,EAAUv/E,EAAEA,GAAG,GAAK,IAAMu/E,EAAU3nD,EAAE53B,GAAG,GAAK,IAAMu/E,EAAU3nD,EAAE53B,GAAG,GAShL,GALIu/E,EAAUxoD,GAAKlf,EAAM,IACvB2nE,GAAc,KAAOD,EAAUvxE,EAAEhO,EAAI,GAAG,GAAK,IAAMu/E,EAAUvxE,EAAEhO,EAAI,GAAG,GAAK,IAAMu/E,EAAUv/E,EAAE,GAAG,GAAK,IAAMu/E,EAAUv/E,EAAE,GAAG,GAAK,IAAMu/E,EAAU3nD,EAAE,GAAG,GAAK,IAAM2nD,EAAU3nD,EAAE,GAAG,IAI5K44C,EAAS6L,WAAamD,EAAY,CACpC,IAAIC,EAAiB,GAEjBjP,EAAS5kD,OACP2zD,EAAUxoD,IACZ0oD,EAAiBxkC,EAAS6tB,IAAMzyE,KAAKwlF,UAAY2D,EAAaA,GAGhEhP,EAAS5kD,KAAKxC,aAAa,IAAKq2D,IAGlCjP,EAAS6L,SAAWmD,IAIxB7D,YAAYrjF,UAAUma,QAAU,WAC9Bpc,KAAKoZ,QAAU,KACfpZ,KAAKktD,WAAa,KAClBltD,KAAKulF,YAAc,KACnBvlF,KAAKqK,KAAO,KACZrK,KAAKyiD,gBAAkB,MAGzB,IAAI4mC,eAAiB,WACnB,IAAIhhC,EAAK,CACTA,aAGA,SAAsBihC,EAAOC,GAC3B,IAAIC,EAAM3oC,SAAS,UAWnB,OAVA2oC,EAAIz2D,aAAa,KAAMu2D,IAEC,IAApBC,IACFC,EAAIz2D,aAAa,cAAe,qBAChCy2D,EAAIz2D,aAAa,IAAK,MACtBy2D,EAAIz2D,aAAa,IAAK,MACtBy2D,EAAIz2D,aAAa,QAAS,QAC1By2D,EAAIz2D,aAAa,SAAU,SAGtBy2D,GAdTnhC,6BAiBA,WACE,IAAIohC,EAAgB5oC,SAAS,iBAI7B,OAHA4oC,EAAc12D,aAAa,OAAQ,UACnC02D,EAAc12D,aAAa,8BAA+B,QAC1D02D,EAAc12D,aAAa,SAAU,8CAC9B02D,IAGT,OAAOphC,EA5BY,GA+BjBqhC,eAAiB,WACnB,IAAIrhC,EAAK,CACPw9B,UAAU,GAOZ,OAJI,WAAWplF,KAAKgsB,UAAUC,YAAc,UAAUjsB,KAAKgsB,UAAUC,YAAc,WAAWjsB,KAAKgsB,UAAUC,YAAc,aAAajsB,KAAKgsB,UAAUC,cACrJ27B,EAAGw9B,UAAW,GAGTx9B,EATY,GAYrB,SAASshC,cAAcz5D,EAAQ05D,GAC7B5pF,KAAK4pF,cAAgBA,EACrB,IAAIH,EAAgB5oC,SAAS,iBAc7B,GAbA4oC,EAAc12D,aAAa,OAAQ,UACnC02D,EAAc12D,aAAa,8BAA+B,aAC1D02D,EAAc12D,aAAa,SAAU,wFACrC02D,EAAc12D,aAAa,SAAU,MACrC7C,EAAOje,YAAYw3E,IACnBA,EAAgB5oC,SAAS,kBACX9tB,aAAa,OAAQ,UACnC02D,EAAc12D,aAAa,8BAA+B,QAC1D02D,EAAc12D,aAAa,SAAU,2CACrC02D,EAAc12D,aAAa,SAAU,MACrC7C,EAAOje,YAAYw3E,GACnBzpF,KAAK6pF,aAAeJ,EAEwB,MAAxCG,EAAcnL,eAAe,GAAG9+B,EAAEpe,GAAaqoD,EAAcnL,eAAe,GAAG9+B,EAAE1O,EAAG,CACtF,IAEI64C,EAFAC,EAAUlpC,SAAS,WACvB3wB,EAAOje,YAAY83E,IAEnBD,EAAcjpC,SAAS,gBACX9tB,aAAa,KAAM,iBAC/Bg3D,EAAQ93E,YAAY63E,IACpBA,EAAcjpC,SAAS,gBACX9tB,aAAa,KAAM,MAC/Bg3D,EAAQ93E,YAAY63E,IAaxB,SAASE,cAAc95D,EAAQ05D,GAC7B5pF,KAAK4pF,cAAgBA,EACrB,IAAIH,EAAgB5oC,SAAS,iBAC7B4oC,EAAc12D,aAAa,OAAQ,UACnC02D,EAAc12D,aAAa,8BAA+B,QAC1D02D,EAAc12D,aAAa,SAAU,2CACrC7C,EAAOje,YAAYw3E,GACnBzpF,KAAK6pF,aAAeJ,EAWtB,SAASQ,gBAAgB10D,EAAMq0D,GAC7B5pF,KAAKkqF,aAAc,EACnBlqF,KAAK4pF,cAAgBA,EACrB5pF,KAAKu1B,KAAOA,EACZv1B,KAAKkkE,MAAQ,GAiIf,SAASimB,iBAAiBj6D,EAAQ05D,GAChC5pF,KAAK4pF,cAAgBA,EACrB,IAAIH,EAAgB5oC,SAAS,iBAC7B4oC,EAAc12D,aAAa,OAAQ,UACnC02D,EAAc12D,aAAa,8BAA+B,aAC1D02D,EAAc12D,aAAa,SAAU,wFACrC02D,EAAc12D,aAAa,SAAU,MACrC7C,EAAOje,YAAYw3E,GACnB,IAAIW,EAAsBvpC,SAAS,uBACnCupC,EAAoBr3D,aAAa,8BAA+B,QAChE7C,EAAOje,YAAYm4E,GACnBpqF,KAAK6pF,aAAeO,EACpB,IAAIC,EAAUxpC,SAAS,WACvBwpC,EAAQt3D,aAAa,OAAQ,SAC7Bq3D,EAAoBn4E,YAAYo4E,GAChCrqF,KAAKqqF,QAAUA,EACf,IAAIC,EAAUzpC,SAAS,WACvBypC,EAAQv3D,aAAa,OAAQ,SAC7Bq3D,EAAoBn4E,YAAYq4E,GAChCtqF,KAAKsqF,QAAUA,EACf,IAAIC,EAAU1pC,SAAS,WACvB0pC,EAAQx3D,aAAa,OAAQ,SAC7Bq3D,EAAoBn4E,YAAYs4E,GAChCvqF,KAAKuqF,QAAUA,EAkBjB,SAASC,mBAAmBt6D,EAAQ05D,GAClC5pF,KAAK4pF,cAAgBA,EACrB,IAAInL,EAAiBz+E,KAAK4pF,cAAcnL,eACpC2L,EAAsBvpC,SAAS,wBAE/B49B,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,KACzRvhC,KAAKqqF,QAAUrqF,KAAKyqF,aAAa,UAAWL,KAG1C3L,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,KACzRvhC,KAAKsqF,QAAUtqF,KAAKyqF,aAAa,UAAWL,KAG1C3L,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,KACzRvhC,KAAKuqF,QAAUvqF,KAAKyqF,aAAa,UAAWL,KAG1C3L,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,GAAWk9C,EAAe,IAAI9+B,EAAE1O,GAAgC,IAA3BwtC,EAAe,IAAI9+B,EAAEpe,KACzRvhC,KAAK0qF,QAAU1qF,KAAKyqF,aAAa,UAAWL,KAG1CpqF,KAAKqqF,SAAWrqF,KAAKsqF,SAAWtqF,KAAKuqF,SAAWvqF,KAAK0qF,WACvDN,EAAoBr3D,aAAa,8BAA+B,QAChE7C,EAAOje,YAAYm4E,GACnBA,EAAsBvpC,SAAS,yBAG7B49B,EAAe,GAAG9+B,EAAE1O,GAA+B,IAA1BwtC,EAAe,GAAG9+B,EAAEpe,GAAWk9C,EAAe,GAAG9+B,EAAE1O,GAA+B,IAA1BwtC,EAAe,GAAG9+B,EAAEpe,GAAWk9C,EAAe,GAAG9+B,EAAE1O,GAA+B,IAA1BwtC,EAAe,GAAG9+B,EAAEpe,GAAWk9C,EAAe,GAAG9+B,EAAE1O,GAA+B,IAA1BwtC,EAAe,GAAG9+B,EAAEpe,GAAWk9C,EAAe,GAAG9+B,EAAE1O,GAA+B,IAA1BwtC,EAAe,GAAG9+B,EAAEpe,KAC/Q6oD,EAAoBr3D,aAAa,8BAA+B,QAChE7C,EAAOje,YAAYm4E,GACnBpqF,KAAK2qF,gBAAkB3qF,KAAKyqF,aAAa,UAAWL,GACpDpqF,KAAK4qF,gBAAkB5qF,KAAKyqF,aAAa,UAAWL,GACpDpqF,KAAK6qF,gBAAkB7qF,KAAKyqF,aAAa,UAAWL,IA8ExD,SAASU,oBAAoB56D,EAAQ05D,GACnC,IAAImB,EAAanB,EAAc11D,UAAUg5B,WAAWosB,aAAayR,WACjE76D,EAAO6C,aAAa,IAAKg4D,EAAW9gD,GACpC/Z,EAAO6C,aAAa,IAAKg4D,EAAW3tB,GACpCltC,EAAO6C,aAAa,QAASg4D,EAAWllE,OACxCqK,EAAO6C,aAAa,SAAUg4D,EAAWrrE,QACzC1f,KAAK4pF,cAAgBA,EACrB,IAAIoB,EAAiBnqC,SAAS,kBAC9BmqC,EAAej4D,aAAa,KAAM,eAClCi4D,EAAej4D,aAAa,SAAU,iBACtCi4D,EAAej4D,aAAa,eAAgB,KAC5C/yB,KAAKgrF,eAAiBA,EACtB96D,EAAOje,YAAY+4E,GACnB,IAAIC,EAAWpqC,SAAS,YACxBoqC,EAASl4D,aAAa,KAAM,MAC5Bk4D,EAASl4D,aAAa,KAAM,KAC5Bk4D,EAASl4D,aAAa,KAAM,iBAC5Bk4D,EAASl4D,aAAa,SAAU,iBAChC/yB,KAAKirF,SAAWA,EAChB/6D,EAAOje,YAAYg5E,GACnB,IAAIC,EAAUrqC,SAAS,WACvBqqC,EAAQn4D,aAAa,cAAe,WACpCm4D,EAAQn4D,aAAa,gBAAiB,KACtCm4D,EAAQn4D,aAAa,SAAU,iBAC/B/yB,KAAKkrF,QAAUA,EACfh7D,EAAOje,YAAYi5E,GACnB,IAAIC,EAActqC,SAAS,eAC3BsqC,EAAYp4D,aAAa,KAAM,iBAC/Bo4D,EAAYp4D,aAAa,MAAO,iBAChCo4D,EAAYp4D,aAAa,WAAY,MACrCo4D,EAAYp4D,aAAa,SAAU,iBACnC7C,EAAOje,YAAYk5E,GACnB,IAEIrB,EAFAC,EAAUlpC,SAAS,WACvB3wB,EAAOje,YAAY83E,GAEnBD,EAAcjpC,SAAS,eACvBkpC,EAAQ93E,YAAY63E,IACpBA,EAAcjpC,SAAS,gBACX9tB,aAAa,KAAM,iBAC/B/yB,KAAK8pF,YAAcA,EACnB9pF,KAAK+pF,QAAUA,EACf/pF,KAAKorF,mBAAoB,EACzBrB,EAAQ93E,YAAY63E,GAjWtBH,cAAc1nF,UAAUqtD,YAAc,SAAU0hB,GAC9C,GAAIA,GAAehxE,KAAK4pF,cAAcxpB,KAAM,CAC1C,IAAIirB,EAAarrF,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EACpD+pD,EAAatrF,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EACpD7rB,EAAU1V,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAI,IACzDvhC,KAAK6pF,aAAa92D,aAAa,SAAUu4D,EAAW,GAAKD,EAAW,GAAK,UAAYA,EAAW,GAAK,KAAOC,EAAW,GAAKD,EAAW,IAAM,UAAYA,EAAW,GAAK,KAAOC,EAAW,GAAKD,EAAW,IAAM,UAAYA,EAAW,GAAK,UAAY31E,EAAU,QAcvQs0E,cAAc/nF,UAAUqtD,YAAc,SAAU0hB,GAC9C,GAAIA,GAAehxE,KAAK4pF,cAAcxpB,KAAM,CAC1C,IAAIz/B,EAAQ3gC,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAC/C7rB,EAAU1V,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EACrDvhC,KAAK6pF,aAAa92D,aAAa,SAAU,WAAa4N,EAAM,GAAK,YAAcA,EAAM,GAAK,YAAcA,EAAM,GAAK,UAAYjrB,EAAU,QAW7Iu0E,gBAAgBhoF,UAAUspF,WAAa,WACrC,IACIxrD,EACAyrD,EACA7hF,EACA6X,EAJAiqE,EAAezrF,KAAKu1B,KAAKsuD,aAAa1oE,UAAYnb,KAAKu1B,KAAKsuD,aAAavxD,WAmB7E,IAbiD,IAA7CtyB,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,GACzC/f,EAAMxhB,KAAKu1B,KAAK0kD,YAAYx3B,gBAAgBp+C,OAC5CsF,EAAI,GAGJ6X,EAAU,GADV7X,EAAI3J,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAI,IAIjDiqD,EAAY3qC,SAAS,MACX9tB,aAAa,OAAQ,QAC/By4D,EAAUz4D,aAAa,iBAAkB,SACzCy4D,EAAUz4D,aAAa,oBAAqB,GAEpCppB,EAAI6X,EAAK7X,GAAK,EACpBo2B,EAAO8gB,SAAS,QAChB2qC,EAAUv5E,YAAY8tB,GACtB//B,KAAKkkE,MAAM/8D,KAAK,CACdw4C,EAAG5f,EACH/F,EAAGrwB,IAIP,GAAkD,IAA9C3J,KAAK4pF,cAAcnL,eAAe,IAAI9+B,EAAEpe,EAAS,CACnD,IAAIu4C,EAAOj5B,SAAS,QAChB3lC,EAAKqkC,kBACTu6B,EAAK/mD,aAAa,KAAM7X,GACxB4+D,EAAK/mD,aAAa,YAAa,SAC/B+mD,EAAK7nE,YAAYu5E,GACjBxrF,KAAKu1B,KAAK23B,WAAWC,KAAKl7C,YAAY6nE,GACtC,IAAItlE,EAAIqsC,SAAS,KAGjB,IAFArsC,EAAEue,aAAa,OAAQ,OAASgnB,kBAAoB,IAAM7+B,EAAK,KAExDuwE,EAAa,IAClBj3E,EAAEvC,YAAYw5E,EAAa,IAG7BzrF,KAAKu1B,KAAKsuD,aAAa5xE,YAAYuC,GACnCxU,KAAK0rF,OAAS5R,EACd0R,EAAUz4D,aAAa,SAAU,aAC5B,GAAkD,IAA9C/yB,KAAK4pF,cAAcnL,eAAe,IAAI9+B,EAAEpe,GAAyD,IAA9CvhC,KAAK4pF,cAAcnL,eAAe,IAAI9+B,EAAEpe,EAAS,CAC7G,GAAkD,IAA9CvhC,KAAK4pF,cAAcnL,eAAe,IAAI9+B,EAAEpe,EAG1C,IAFAkqD,EAAezrF,KAAKu1B,KAAKsuD,aAAa1oE,UAAYnb,KAAKu1B,KAAKsuD,aAAavxD,WAElEm5D,EAAapnF,QAClBrE,KAAKu1B,KAAKsuD,aAAajyE,YAAY65E,EAAa,IAIpDzrF,KAAKu1B,KAAKsuD,aAAa5xE,YAAYu5E,GACnCxrF,KAAKu1B,KAAKsuD,aAAa7wD,gBAAgB,QACvCw4D,EAAUz4D,aAAa,SAAU,QAGnC/yB,KAAKkqF,aAAc,EACnBlqF,KAAK2rF,WAAaH,GAGpBvB,gBAAgBhoF,UAAUqtD,YAAc,SAAU0hB,GAKhD,IAAIrnE,EAJC3J,KAAKkqF,aACRlqF,KAAKurF,aAIP,IACIzR,EACA/5C,EAFAve,EAAMxhB,KAAKkkE,MAAM7/D,OAIrB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB,IAAyB,IAArB3J,KAAKkkE,MAAMv6D,GAAGqwB,IAChB8/C,EAAO95E,KAAKu1B,KAAK0kD,YAAYE,SAASn6E,KAAKkkE,MAAMv6D,GAAGqwB,GACpD+F,EAAO//B,KAAKkkE,MAAMv6D,GAAGg2C,GAEjBqxB,GAAehxE,KAAK4pF,cAAcxpB,MAAQ0Z,EAAKlyD,KAAKw4C,OACtDrgC,EAAKhN,aAAa,IAAK+mD,EAAKkM,UAG1BhV,GAAehxE,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEygB,MAAQpgE,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEygB,MAAQpgE,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEygB,MAAQpgE,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEygB,MAAQ0Z,EAAKlyD,KAAKw4C,MAAM,CAC7N,IAAIwrB,EAEJ,GAAiD,IAA7C5rF,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,GAAwD,MAA7CvhC,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAW,CACtG,IAAI5U,EAAmG,IAA/F3lB,KAAKm2C,IAAIn9C,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAGvhC,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,GAC9FzxB,EAAmG,IAA/F9I,KAAKiF,IAAIjM,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAGvhC,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,GAC9FyP,EAAIjR,EAAK8rD,iBACbD,EAAiB,SAAW56C,EAAIrkB,EAAI,IACpC,IAGI9iB,EAHAiiF,EAAa96C,GAAKlhC,EAAI6c,GACtB0hC,EAAU,EAA+C,EAA3CruD,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAQvhC,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAI,IACxGwqD,EAAQ/kF,KAAKC,MAAM6kF,EAAaz9B,GAGpC,IAAKxkD,EAAI,EAAGA,EAAIkiF,EAAOliF,GAAK,EAC1B+hF,GAAkB,KAAkD,EAA3C5rF,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAQvhC,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAI,IAAO,IAG5HqqD,GAAkB,KAAW,GAAJ56C,EAAS,YAElC46C,EAAiB,KAAkD,EAA3C5rF,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAQvhC,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAI,IAGpHxB,EAAKhN,aAAa,mBAAoB64D,GAa5C,IARI5a,GAAehxE,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEygB,OACxDpgE,KAAK2rF,WAAW54D,aAAa,eAA2D,EAA3C/yB,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,IAGlFyvC,GAAehxE,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEygB,OACxDpgE,KAAK2rF,WAAW54D,aAAa,UAAW/yB,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,IAG/B,IAA9CvhC,KAAK4pF,cAAcnL,eAAe,IAAI9+B,EAAEpe,GAAyD,IAA9CvhC,KAAK4pF,cAAcnL,eAAe,IAAI9+B,EAAEpe,KACzFyvC,GAAehxE,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEygB,MAAM,CAC9D,IAAIz/B,EAAQ3gC,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EACnDvhC,KAAK2rF,WAAW54D,aAAa,SAAU,OAASiqB,QAAmB,IAAXrc,EAAM,IAAY,IAAMqc,QAAmB,IAAXrc,EAAM,IAAY,IAAMqc,QAAmB,IAAXrc,EAAM,IAAY,OA+BhJwpD,iBAAiBloF,UAAUqtD,YAAc,SAAU0hB,GACjD,GAAIA,GAAehxE,KAAK4pF,cAAcxpB,KAAM,CAC1C,IAAI4rB,EAAShsF,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAChD0qD,EAASjsF,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAChD2qD,EAASlsF,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAChD4qD,EAASD,EAAO,GAAK,IAAMD,EAAO,GAAK,IAAMD,EAAO,GACpDI,EAASF,EAAO,GAAK,IAAMD,EAAO,GAAK,IAAMD,EAAO,GACpDK,EAASH,EAAO,GAAK,IAAMD,EAAO,GAAK,IAAMD,EAAO,GACxDhsF,KAAKqqF,QAAQt3D,aAAa,cAAeo5D,GACzCnsF,KAAKsqF,QAAQv3D,aAAa,cAAeq5D,GACzCpsF,KAAKuqF,QAAQx3D,aAAa,cAAes5D,KAyC7C7B,mBAAmBvoF,UAAUwoF,aAAe,SAAU9pE,EAAMypE,GAC1D,IAAIkC,EAASzrC,SAASlgC,GAGtB,OAFA2rE,EAAOv5D,aAAa,OAAQ,SAC5Bq3D,EAAoBn4E,YAAYq6E,GACzBA,GAGT9B,mBAAmBvoF,UAAUsqF,cAAgB,SAAUC,EAAYC,EAAYC,EAAOC,EAAaC,GAcjG,IAbA,IAEIr1B,EAMAs1B,EARA/pB,EAAM,EAGN3lB,EAAMn2C,KAAKm2C,IAAIqvC,EAAYC,GAC3BxgF,EAAMjF,KAAKiF,IAAIugF,EAAYC,GAC3B57D,EAAQ7uB,MAAMa,KAAK,KAAM,CAC3BwB,OALa,MAQX69D,EAAM,EACN4qB,EAAcF,EAAcD,EAC5BI,EAAaN,EAAaD,EAEvB1pB,GAAO,KAIV+pB,GAHFt1B,EAAOuL,EAAM,MAED3lB,EACG4vC,EAAa,EAAIH,EAAcD,EACnCp1B,GAAQtrD,EACJ8gF,EAAa,EAAIJ,EAAcC,EAE/BD,EAAcG,EAAc9lF,KAAK61C,KAAK0a,EAAOi1B,GAAcO,EAAY,EAAIL,GAG1F77D,EAAMqxC,GAAO2qB,EACb3qB,GAAO,EACPY,GAAO,IAAM,IAGf,OAAOjyC,EAAM/nB,KAAK,MAGpB0hF,mBAAmBvoF,UAAUqtD,YAAc,SAAU0hB,GACnD,GAAIA,GAAehxE,KAAK4pF,cAAcxpB,KAAM,CAC1C,IAAI7vD,EACAkuE,EAAiBz+E,KAAK4pF,cAAcnL,eAEpCz+E,KAAK2qF,kBAAoB3Z,GAAeyN,EAAe,GAAG9+B,EAAEygB,MAAQqe,EAAe,GAAG9+B,EAAEygB,MAAQqe,EAAe,GAAG9+B,EAAEygB,MAAQqe,EAAe,GAAG9+B,EAAEygB,MAAQqe,EAAe,GAAG9+B,EAAEygB,QAC9K7vD,EAAMvQ,KAAKusF,cAAc9N,EAAe,GAAG9+B,EAAEpe,EAAGk9C,EAAe,GAAG9+B,EAAEpe,EAAGk9C,EAAe,GAAG9+B,EAAEpe,EAAGk9C,EAAe,GAAG9+B,EAAEpe,EAAGk9C,EAAe,GAAG9+B,EAAEpe,GACzIvhC,KAAK2qF,gBAAgB53D,aAAa,cAAexiB,GACjDvQ,KAAK4qF,gBAAgB73D,aAAa,cAAexiB,GACjDvQ,KAAK6qF,gBAAgB93D,aAAa,cAAexiB,IAG/CvQ,KAAKqqF,UAAYrZ,GAAeyN,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,QAC3K7vD,EAAMvQ,KAAKusF,cAAc9N,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,GAC9IvhC,KAAKqqF,QAAQt3D,aAAa,cAAexiB,IAGvCvQ,KAAKsqF,UAAYtZ,GAAeyN,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,QAC3K7vD,EAAMvQ,KAAKusF,cAAc9N,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,GAC9IvhC,KAAKsqF,QAAQv3D,aAAa,cAAexiB,IAGvCvQ,KAAKuqF,UAAYvZ,GAAeyN,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,QAC3K7vD,EAAMvQ,KAAKusF,cAAc9N,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,GAC9IvhC,KAAKuqF,QAAQx3D,aAAa,cAAexiB,IAGvCvQ,KAAK0qF,UAAY1Z,GAAeyN,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,MAAQqe,EAAe,IAAI9+B,EAAEygB,QAC3K7vD,EAAMvQ,KAAKusF,cAAc9N,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,EAAGk9C,EAAe,IAAI9+B,EAAEpe,GAC9IvhC,KAAK0qF,QAAQ33D,aAAa,cAAexiB,MAkD/Cu6E,oBAAoB7oF,UAAUqtD,YAAc,SAAU0hB,GACpD,GAAIA,GAAehxE,KAAK4pF,cAAcxpB,KAAM,CAK1C,IAJI4Q,GAAehxE,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEygB,OACxDpgE,KAAKgrF,eAAej4D,aAAa,eAAgB/yB,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAI,GAG1FyvC,GAAehxE,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEygB,KAAM,CAC9D,IAAI4sB,EAAMhtF,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EACjDvhC,KAAKkrF,QAAQn4D,aAAa,cAAemtB,SAASl5C,KAAKgyB,MAAe,IAATg0D,EAAI,IAAWhmF,KAAKgyB,MAAe,IAATg0D,EAAI,IAAWhmF,KAAKgyB,MAAe,IAATg0D,EAAI,MAOvH,IAJIhc,GAAehxE,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEygB,OACxDpgE,KAAKkrF,QAAQn4D,aAAa,gBAAiB/yB,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAI,KAGpFyvC,GAAehxE,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEygB,MAAQpgE,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEygB,KAAM,CAC7G,IAAIuU,EAAW30E,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAClDwkC,GAAS/lE,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAI,IAAMkc,UAC1DxT,EAAI0qC,EAAW3tE,KAAKu4D,IAAIwG,GACxB3I,EAAIuX,EAAW3tE,KAAKk4D,IAAI6G,GAC5B/lE,KAAKirF,SAASl4D,aAAa,KAAMkX,GACjCjqC,KAAKirF,SAASl4D,aAAa,KAAMqqC,MAevC,IAAI6vB,iBAAmB,GAEvB,SAASC,gBAAgBC,EAAYvD,EAAer0D,GAClDv1B,KAAKkqF,aAAc,EACnBlqF,KAAK4pF,cAAgBA,EACrB5pF,KAAKmtF,WAAaA,EAClBntF,KAAKu1B,KAAOA,EACZA,EAAK63D,aAAevsC,SAAS,KAC7BtrB,EAAK63D,aAAan7E,YAAYsjB,EAAKsuD,cACnCtuD,EAAK63D,aAAan7E,YAAYsjB,EAAK83D,oBACnC93D,EAAKquD,YAAcruD,EAAK63D,aAsG1B,SAASE,sBAAsBp9D,EAAQ05D,GAErC15D,EAAO6C,aAAa,IAAK,SACzB7C,EAAO6C,aAAa,IAAK,SACzB7C,EAAO6C,aAAa,QAAS,QAC7B7C,EAAO6C,aAAa,SAAU,QAC9B/yB,KAAK4pF,cAAgBA,EACrB,IAAIoB,EAAiBnqC,SAAS,kBAC9B3wB,EAAOje,YAAY+4E,GACnBhrF,KAAKgrF,eAAiBA,EA5GxBkC,gBAAgBjrF,UAAUsrF,WAAa,SAAUzT,GAI/C,IAHA,IAAInwE,EAAI,EACJ6X,EAAMyrE,iBAAiB5oF,OAEpBsF,EAAI6X,GAAK,CACd,GAAIyrE,iBAAiBtjF,KAAOmwE,EAC1B,OAAOmT,iBAAiBtjF,GAG1BA,GAAK,EAGP,OAAO,MAGTujF,gBAAgBjrF,UAAUurF,gBAAkB,SAAU1T,EAAM2T,GAC1D,IAAIp7D,EAAaynD,EAAK+J,aAAaxxD,WAEnC,GAAKA,EAAL,CAQA,IAJA,IAYIq7D,EAZAvyE,EAAWkX,EAAWlX,SACtBxR,EAAI,EACJ6X,EAAMrG,EAAS9W,OAEZsF,EAAI6X,GACLrG,EAASxR,KAAOmwE,EAAK+J,cAIzBl6E,GAAK,EAKHA,GAAK6X,EAAM,IACbksE,EAAYvyE,EAASxR,EAAI,IAG3B,IAAIgkF,EAAU9sC,SAAS,OACvB8sC,EAAQ56D,aAAa,OAAQ,IAAM06D,GAE/BC,EACFr7D,EAAWoI,aAAakzD,EAASD,GAEjCr7D,EAAWpgB,YAAY07E,KAI3BT,gBAAgBjrF,UAAU2rF,iBAAmB,SAAUr4D,EAAMukD,GAC3D,IAAK95E,KAAKutF,WAAWzT,GAAO,CAC1B,IAAI2T,EAAWluC,kBACXmsC,EAAS7qC,SAAS,QACtB6qC,EAAO34D,aAAa,KAAM+mD,EAAKiK,SAC/B2H,EAAO34D,aAAa,YAAa,SAEjCk6D,iBAAiB9lF,KAAK2yE,GAEtB,IAAI3sB,EAAO53B,EAAK23B,WAAWC,KAC3BA,EAAKl7C,YAAYy5E,GACjB,IAAIn1C,EAASsK,SAAS,UACtBtK,EAAOxjB,aAAa,KAAM06D,GAC1BztF,KAAKwtF,gBAAgB1T,EAAM2T,GAC3Bl3C,EAAOtkC,YAAY6nE,EAAK+J,cACxB12B,EAAKl7C,YAAYskC,GACjB,IAAIo3C,EAAU9sC,SAAS,OACvB8sC,EAAQ56D,aAAa,OAAQ,IAAM06D,GACnC/B,EAAOz5E,YAAY07E,GACnB7T,EAAKzvE,KAAKwjF,IAAK,EACf/T,EAAKv7D,OAGPgX,EAAKu4D,SAAShU,EAAKiK,UAGrBmJ,gBAAgBjrF,UAAUspF,WAAa,WAMrC,IALA,IAAItuB,EAAMj9D,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAC7C5L,EAAW31B,KAAKu1B,KAAK2tB,KAAKvtB,SAC1BhsB,EAAI,EACJ6X,EAAMmU,EAAStxB,OAEZsF,EAAI6X,GACLmU,EAAShsB,IAAMgsB,EAAShsB,GAAGU,KAAK4yD,MAAQA,GAC1Cj9D,KAAK4tF,iBAAiB5tF,KAAKu1B,KAAMI,EAAShsB,IAG5CA,GAAK,EAGP3J,KAAKkqF,aAAc,GAGrBgD,gBAAgBjrF,UAAUqtD,YAAc,WACjCtvD,KAAKkqF,aACRlqF,KAAKurF,cAgBT+B,sBAAsBrrF,UAAUqtD,YAAc,SAAU0hB,GACtD,GAAIA,GAAehxE,KAAK4pF,cAAcxpB,KAAM,CAE1C,IACI2tB,EADqB,GACb/tF,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAO/CysD,EAAahuF,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EACpD0sD,EAAuB,GAAdD,EAAkB,EAAID,EAE/BG,EAAuB,GAAdF,EAAkB,EAAID,EAEnC/tF,KAAKgrF,eAAej4D,aAAa,eAAgBk7D,EAAS,IAAMC,GAKhE,IAAIC,EAAuD,GAA5CnuF,KAAK4pF,cAAcnL,eAAe,GAAG9+B,EAAEpe,EAAS,OAAS,YAExEvhC,KAAKgrF,eAAej4D,aAAa,WAAYo7D,KAIjD,IAAIC,kBAAoB,GAExB,SAASC,WAAW94D,GAClB,IAAI5rB,EAMAigF,EALApoE,EAAM+T,EAAKlrB,KAAKk0E,GAAKhpD,EAAKlrB,KAAKk0E,GAAGl6E,OAAS,EAC3CilF,EAAQ/pC,kBACRiqC,EAAMH,eAAeiF,aAAahF,GAAO,GACzC76D,EAAQ,EAIZ,IAHAzuB,KAAKuuF,QAAU,GAGV5kF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAC3BigF,EAAgB,KAChB,IAAIjpE,EAAO4U,EAAKlrB,KAAKk0E,GAAG50E,GAAGi5C,GAEvBwrC,kBAAkBztE,KAEpBipE,EAAgB,IAAI4E,EADPJ,kBAAkBztE,GAAMu8D,QACVsM,EAAKj0D,EAAK2pD,eAAeT,eAAe90E,GAAI4rB,GAEnE64D,kBAAkBztE,GAAM8tE,iBAC1BhgE,GAAS,IAIc,KAAvB8G,EAAKlrB,KAAKk0E,GAAG50E,GAAGi5C,IAClBn0B,GAAS,EACTm7D,EAAgB,IAAID,cAAcH,EAAKj0D,EAAK2pD,eAAeT,eAAe90E,KAC1C,KAAvB4rB,EAAKlrB,KAAKk0E,GAAG50E,GAAGi5C,IACzBn0B,GAAS,EACTm7D,EAAgB,IAAII,cAAcR,EAAKj0D,EAAK2pD,eAAeT,eAAe90E,KAC1C,KAAvB4rB,EAAKlrB,KAAKk0E,GAAG50E,GAAGi5C,GACzBgnC,EAAgB,IAAIK,gBAAgB10D,EAAMA,EAAK2pD,eAAeT,eAAe90E,IAC7C,KAAvB4rB,EAAKlrB,KAAKk0E,GAAG50E,GAAGi5C,IACzBn0B,GAAS,EACTm7D,EAAgB,IAAIO,iBAAiBX,EAAKj0D,EAAK2pD,eAAeT,eAAe90E,KAC7C,KAAvB4rB,EAAKlrB,KAAKk0E,GAAG50E,GAAGi5C,IACzBn0B,GAAS,EACTm7D,EAAgB,IAAIY,mBAAmBhB,EAAKj0D,EAAK2pD,eAAeT,eAAe90E,KAC/C,KAAvB4rB,EAAKlrB,KAAKk0E,GAAG50E,GAAGi5C,IACzBn0B,GAAS,EACTm7D,EAAgB,IAAIkB,oBAAoBtB,EAAKj0D,EAAK2pD,eAAeT,eAAe90E,KAChD,KAAvB4rB,EAAKlrB,KAAKk0E,GAAG50E,GAAGi5C,GAEzBgnC,EAAgB,IAAIsD,gBAAgB1D,EAAKj0D,EAAK2pD,eAAeT,eAAe90E,GAAI4rB,GAChD,KAAvBA,EAAKlrB,KAAKk0E,GAAG50E,GAAGi5C,KACzBn0B,GAAS,EACTm7D,EAAgB,IAAI0D,sBAAsB9D,EAAKj0D,EAAK2pD,eAAeT,eAAe90E,KAGhFigF,GACF5pF,KAAKuuF,QAAQpnF,KAAKyiF,GAIlBn7D,IACF8G,EAAK23B,WAAWC,KAAKl7C,YAAYu3E,GACjCj0D,EAAKsuD,aAAa9wD,aAAa,SAAU,OAASgnB,kBAAoB,IAAMuvC,EAAQ,MAGlFtpF,KAAKuuF,QAAQlqF,QACfkxB,EAAKujD,uBAAuB94E,MAahC,SAAS0uF,eAAexzE,EAAIgiE,EAAQuR,GAClCL,kBAAkBlzE,GAAM,CACtBgiE,OAAQA,EACRuR,eAAgBA,GAIpB,SAASE,kBAiLT,SAASC,oBAgDT,SAASC,wBAmET,SAASC,cAAczkF,EAAM6iD,EAAYhK,GACvCljD,KAAKwnD,UAAY0F,EAAWkE,aAAa/mD,EAAKy4C,OAC9C9iD,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GACnCljD,KAAKgvF,WAAa,CAChB15E,IAAK,EACLC,KAAM,EACNsQ,MAAO7lB,KAAKwnD,UAAUutB,EACtBr1D,OAAQ1f,KAAKwnD,UAAU9H,GAoB3B,SAASuvC,iBAAiB71E,EAASjE,GACjCnV,KAAKu1B,KAAOnc,EACZpZ,KAAKkiE,IAAM/sD,EAGb,SAAS+5E,iBApVTb,WAAWpsF,UAAUqtD,YAAc,SAAUmR,GAC3C,IAAI92D,EACA6X,EAAMxhB,KAAKuuF,QAAQlqF,OAEvB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKuuF,QAAQ5kF,GAAG2lD,YAAYmR,IAahCkuB,eAAe1sF,UAAY,CACzBktF,oBAAqB,WACnBnvF,KAAK6jF,aAAehjC,SAAS,MAE/BuuC,wBAAyB,WACvBpvF,KAAKotF,aAAevsC,SAAS,KAC7B7gD,KAAKqtF,mBAAqBrtF,KAAK6jF,aAC/B7jF,KAAKymF,cAAgBzmF,KAAK6jF,aAC1B7jF,KAAKqvF,cAAe,EACpB,IAEI/F,EACAE,EACA8F,EAJAC,EAAqB,KAMzB,GAAIvvF,KAAKqK,KAAKi4C,IACZ,GAAoB,GAAhBtiD,KAAKqK,KAAKi4C,IAA2B,GAAhBtiD,KAAKqK,KAAKi4C,GAAS,CAE1C,IAAIopC,EAAS7qC,SAAS,QACtB6qC,EAAO34D,aAAa,KAAM/yB,KAAK+jF,SAC/B2H,EAAO34D,aAAa,YAA6B,GAAhB/yB,KAAKqK,KAAKi4C,GAAU,YAAc,SAEnEopC,EAAOz5E,YAAYjS,KAAK6jF,cACxB0L,EAAqB7D,EACrB1rF,KAAKktD,WAAWC,KAAKl7C,YAAYy5E,GAE5BhC,eAAe7D,UAA4B,GAAhB7lF,KAAKqK,KAAKi4C,KAExCopC,EAAO34D,aAAa,YAAa,aACjCu2D,EAAQ/pC,kBACRiqC,EAAMH,eAAeiF,aAAahF,GAClCtpF,KAAKktD,WAAWC,KAAKl7C,YAAYu3E,GACjCA,EAAIv3E,YAAYo3E,eAAemG,iCAC/BF,EAAKzuC,SAAS,MACX5uC,YAAYjS,KAAK6jF,cACpB0L,EAAqBD,EACrB5D,EAAOz5E,YAAYq9E,GACnBA,EAAGv8D,aAAa,SAAU,OAASgnB,kBAAoB,IAAMuvC,EAAQ,WAElE,GAAoB,GAAhBtpF,KAAKqK,KAAKi4C,GAAS,CAE5B,IAAImtC,EAAY5uC,SAAS,QACzB4uC,EAAU18D,aAAa,KAAM/yB,KAAK+jF,SAClC0L,EAAU18D,aAAa,YAAa,SACpC,IAAI28D,EAAc7uC,SAAS,KAC3B4uC,EAAUx9E,YAAYy9E,GACtBpG,EAAQ/pC,kBACRiqC,EAAMH,eAAeiF,aAAahF,GAUlC,IAAIqG,EAAQ9uC,SAAS,uBACrB8uC,EAAM58D,aAAa,KAAM,iBACzBy2D,EAAIv3E,YAAY09E,GAChB,IAAIrD,EAASzrC,SAAS,WACtByrC,EAAOv5D,aAAa,OAAQ,SAC5Bu5D,EAAOv5D,aAAa,cAAe,WACnC48D,EAAM19E,YAAYq6E,GAElBtsF,KAAKktD,WAAWC,KAAKl7C,YAAYu3E,GACjC,IAAIoG,EAAY/uC,SAAS,QACzB+uC,EAAU78D,aAAa,QAAS/yB,KAAKkjD,KAAK74C,KAAK0qE,GAC/C6a,EAAU78D,aAAa,SAAU/yB,KAAKkjD,KAAK74C,KAAKq1C,GAChDkwC,EAAU78D,aAAa,IAAK,KAC5B68D,EAAU78D,aAAa,IAAK,KAC5B68D,EAAU78D,aAAa,OAAQ,WAC/B68D,EAAU78D,aAAa,UAAW,KAClC28D,EAAY38D,aAAa,SAAU,OAASgnB,kBAAoB,IAAMuvC,EAAQ,KAC9EoG,EAAYz9E,YAAY29E,GACxBF,EAAYz9E,YAAYjS,KAAK6jF,cAC7B0L,EAAqBG,EAEhBhG,eAAe7D,WAClB4J,EAAU18D,aAAa,YAAa,aACpCy2D,EAAIv3E,YAAYo3E,eAAemG,gCAC/BF,EAAKzuC,SAAS,KACd6uC,EAAYz9E,YAAY29E,GACxBN,EAAGr9E,YAAYjS,KAAK6jF,cACpB0L,EAAqBD,EACrBI,EAAYz9E,YAAYq9E,IAG1BtvF,KAAKktD,WAAWC,KAAKl7C,YAAYw9E,SAE1BzvF,KAAKqK,KAAKg4C,IACnBriD,KAAKotF,aAAan7E,YAAYjS,KAAK6jF,cACnC0L,EAAqBvvF,KAAKotF,aAC1BptF,KAAK4jF,YAAc5jF,KAAKotF,cAExBptF,KAAK4jF,YAAc5jF,KAAK6jF,aAY1B,GATI7jF,KAAKqK,KAAKwlF,IACZ7vF,KAAK6jF,aAAa9wD,aAAa,KAAM/yB,KAAKqK,KAAKwlF,IAG7C7vF,KAAKqK,KAAK66C,IACZllD,KAAK6jF,aAAa9wD,aAAa,QAAS/yB,KAAKqK,KAAK66C,IAI/B,IAAjBllD,KAAKqK,KAAKu4C,KAAa5iD,KAAKqK,KAAKwjF,GAAI,CACvC,IAAIiC,EAAKjvC,SAAS,YACd6B,EAAK7B,SAAS,QAClB6B,EAAG3vB,aAAa,IAAK,SAAW/yB,KAAKqK,KAAK0qE,EAAI,OAAS/0E,KAAKqK,KAAK0qE,EAAI,IAAM/0E,KAAKqK,KAAKq1C,EAAI,OAAS1/C,KAAKqK,KAAKq1C,EAAI,KAChH,IAAIqwC,EAASxwC,kBAKb,GAJAuwC,EAAG/8D,aAAa,KAAMg9D,GACtBD,EAAG79E,YAAYywC,GACf1iD,KAAKktD,WAAWC,KAAKl7C,YAAY69E,GAE7B9vF,KAAKqjF,aAAc,CACrB,IAAI2M,EAAUnvC,SAAS,KACvBmvC,EAAQj9D,aAAa,YAAa,OAASgnB,kBAAoB,IAAMg2C,EAAS,KAC9EC,EAAQ/9E,YAAYjS,KAAK6jF,cACzB7jF,KAAKqtF,mBAAqB2C,EAEtBT,EACFA,EAAmBt9E,YAAYjS,KAAKqtF,oBAEpCrtF,KAAK4jF,YAAc5jF,KAAKqtF,wBAG1BrtF,KAAK6jF,aAAa9wD,aAAa,YAAa,OAASgnB,kBAAoB,IAAMg2C,EAAS,KAIvE,IAAjB/vF,KAAKqK,KAAKs5E,IACZ3jF,KAAKyjF,gBAGTwM,cAAe,WACTjwF,KAAKo5E,eAAekP,SACtBtoF,KAAKqtF,mBAAmBt6D,aAAa,YAAa/yB,KAAKo5E,eAAerI,IAAI/E,WAGxEhsE,KAAKo5E,eAAemP,QACtBvoF,KAAKqtF,mBAAmBt6D,aAAa,UAAW/yB,KAAKo5E,eAAeC,MAAM1hE,EAAE4pB,IAGhF2uD,mBAAoB,WAClBlwF,KAAK6jF,aAAe,KACpB7jF,KAAKotF,aAAe,KACpBptF,KAAKi6E,YAAY79D,WAEnBsqE,eAAgB,WACd,OAAI1mF,KAAKqK,KAAKwjF,GACL,KAGF7tF,KAAK4jF,aAEduM,2BAA4B,WAC1BnwF,KAAKi6E,YAAc,IAAIqL,YAAYtlF,KAAKqK,KAAMrK,KAAMA,KAAKktD,YACzDltD,KAAKowF,yBAA2B,IAAI/B,WAAWruF,OAEjD8tF,SAAU,SAAkB5yE,GACrBlb,KAAKotF,cAIVptF,KAAKotF,aAAar6D,aAAa,OAAQ,OAASgnB,kBAAoB,IAAM7+B,EAAK,OAWnF0zE,iBAAiB3sF,UAAY,CAM3BouF,cAAe,WAEbrwF,KAAK48E,UAAY,GAEjB58E,KAAKkkF,WAAY,EACjBlkF,KAAKswF,kBAUPvI,aAAc,SAAsBnL,GAClC58E,KAAK48E,UAAYA,GAQnBkL,YAAa,WACX9nF,KAAKkkF,WAAY,GAQnBoM,eAAgB,gBACW/uF,IAArBvB,KAAKqK,KAAKmT,QACZxd,KAAKkjD,KAAK0kC,sBAAsB5nF,KAAMA,KAAKqK,KAAKmT,OAAQ,MAqE5Dy8B,gBAAgB,CAACu+B,kBAAmBp+B,oBA7DnB,CACf20C,YAAa,SAAqB1kF,EAAM6iD,EAAYhK,GAClDljD,KAAKm7D,YACLn7D,KAAK8jF,aAAaz5E,EAAM6iD,EAAYhK,GACpCljD,KAAKqoF,cAAch+E,EAAM6iD,EAAYhK,GACrCljD,KAAKqwF,gBACLrwF,KAAKy4E,iBACLz4E,KAAKmvF,sBACLnvF,KAAKovF,0BACLpvF,KAAKmwF,6BACLnwF,KAAKuwF,gBACLvwF,KAAKqd,QAEPA,KAAM,WAECrd,KAAK24E,QAAY34E,KAAK04E,YAAa14E,KAAK44E,iBAChC54E,KAAK4jF,aAAe5jF,KAAK6jF,cAC/B57D,MAAM7S,QAAU,OACrBpV,KAAK24E,QAAS,IAGlBp6D,KAAM,WAEAve,KAAK04E,YAAc14E,KAAK44E,gBACrB54E,KAAKqK,KAAKwjF,MACF7tF,KAAK4jF,aAAe5jF,KAAK6jF,cAC/B57D,MAAM7S,QAAU,SAGvBpV,KAAK24E,QAAS,EACd34E,KAAKygE,eAAgB,IAGzBnR,YAAa,WAGPtvD,KAAKqK,KAAKwjF,IAAM7tF,KAAK24E,SAIzB34E,KAAKyoF,kBACLzoF,KAAKw5E,mBACLx5E,KAAKiwF,gBACLjwF,KAAKwwF,qBAEDxwF,KAAKygE,gBACPzgE,KAAKygE,eAAgB,KAGzB+vB,mBAAoB,aACpBzlC,aAAc,SAAsB71B,GAClCl1B,KAAKogE,MAAO,EACZpgE,KAAKi5E,uBAAuB/jD,GAC5Bl1B,KAAKikF,kBAAkB/uD,EAAKl1B,KAAK04E,WACjC14E,KAAKm5E,qBAEP/8D,QAAS,WACPpc,KAAKywF,UAAY,KACjBzwF,KAAKkwF,yBAG6DrB,sBAcxE50C,gBAAgB,CAACgpC,YAAaoC,iBAAkBsJ,eAAgBC,iBAAkB1L,aAAc2L,sBAAuBC,eAEvHA,cAAc7sF,UAAUsuF,cAAgB,WACtC,IAAIp1C,EAAYn7C,KAAKktD,WAAW3F,cAAcvnD,KAAKwnD,WACnDxnD,KAAKywF,UAAY5vC,SAAS,SAC1B7gD,KAAKywF,UAAU19D,aAAa,QAAS/yB,KAAKwnD,UAAUutB,EAAI,MACxD/0E,KAAKywF,UAAU19D,aAAa,SAAU/yB,KAAKwnD,UAAU9H,EAAI,MACzD1/C,KAAKywF,UAAU19D,aAAa,sBAAuB/yB,KAAKwnD,UAAUkpC,IAAM1wF,KAAKktD,WAAWosB,aAAaqX,0BACrG3wF,KAAKywF,UAAUrnC,eAAe,+BAAgC,OAAQjO,GACtEn7C,KAAK6jF,aAAa5xE,YAAYjS,KAAKywF,YAGrC3B,cAAc7sF,UAAUw3E,iBAAmB,WACzC,OAAOz5E,KAAKgvF,YAUdE,cAAcjtF,UAAY,CACxB2uF,oBAAqB,SAA6BvmF,GAChD,IAAIV,EACA6X,EAAMxhB,KAAK6wF,eAAexsF,OAE9B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAK6wF,eAAelnF,GAAGy5D,SAAS/4D,IAGpCymF,2BAA4B,SAAoCzmF,GAI9D,IAHA,IACImX,EAAMxhB,KAAK6wF,eAAexsF,OADtB,EAGGmd,GACT,GAAIxhB,KAAK6wF,eAJH,GAIqBE,oBAAoB1mF,GAC7C,OAAO,EAIX,OAAO,GAET2mF,gBAAiB,WACf,GAAKhxF,KAAK6wF,eAAexsF,OAAzB,CAIA,IAAIsF,EACA6X,EAAMxhB,KAAKgjD,OAAO3+C,OAEtB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKgjD,OAAOr5C,GAAGq0D,GAAGh3B,QAMpB,IAAKr9B,GAHL6X,EAAMxhB,KAAK6wF,eAAexsF,QAGX,EAAGsF,GAAK,IACA3J,KAAK6wF,eAAelnF,GAAGmlE,cAAc9uE,KAAKygE,eADvC92D,GAAK,MASjCsnF,uBAAwB,SAAgC17D,GAKtD,IAJA,IAAII,EAAW31B,KAAKkxF,kBAChBvnF,EAAI,EACJ6X,EAAMmU,EAAStxB,OAEZsF,EAAI6X,GAAK,CACd,GAAImU,EAAShsB,GAAG4rB,OAASA,EACvB,OAAOI,EAAShsB,GAAGu4D,IAGrBv4D,GAAK,EAGP,OAAO,GAETwnF,oBAAqB,SAA6B57D,EAAM2sC,GAItD,IAHA,IAAIvsC,EAAW31B,KAAKkxF,kBAChBvnF,EAAIgsB,EAAStxB,OAEVsF,GAGL,GAAIgsB,EAFJhsB,GAAK,GAEW4rB,OAASA,EAEvB,YADAI,EAAShsB,GAAGu4D,IAAMA,GAKtBvsC,EAASxuB,KAAK,IAAI8nF,iBAAiB15D,EAAM2sC,KAE3CnX,aAAc,SAAsB71B,GAClCl1B,KAAKi5E,uBAAuB/jD,GAC5Bl1B,KAAKikF,kBAAkB/uD,EAAKl1B,KAAK04E,aAIrC,IAAI0Y,YAAc,CAChB,EAAG,OACH,EAAG,QACH,EAAG,UAEDC,aAAe,CACjB,EAAG,QACH,EAAG,QACH,EAAG,SAGL,SAASC,aAAaC,EAAchqD,EAAO07B,GACzCjjE,KAAKwxF,OAAS,GACdxxF,KAAK4xE,OAAS,GACd5xE,KAAKuxF,aAAeA,EACpBvxF,KAAKyxF,KAAO,GACZzxF,KAAKg+D,GAAKiF,EACVjjE,KAAK0xF,IAAMnqD,EAIXvnC,KAAKyhE,cAAgBwB,EAAMhyB,EAK3B,IAHA,IAAItnC,EAAI,EACJ6X,EAAM+vE,EAAaltF,OAEhBsF,EAAI6X,GAAK,CACd,GAAI+vE,EAAa5nF,GAAG0qE,OAAO7S,kBAAkBn9D,OAAQ,CACnDrE,KAAKyhE,aAAc,EACnB,MAGF93D,GAAK,GAQT,SAASgoF,aAAatnF,EAAMk9B,GAC1BvnC,KAAKqK,KAAOA,EACZrK,KAAK2gB,KAAOtW,EAAKu4C,GACjB5iD,KAAKw3C,EAAI,GACTx3C,KAAK0xF,IAAMnqD,EACXvnC,KAAKogE,MAAO,EACZpgE,KAAKilD,QAAqB,IAAZ56C,EAAKwjF,GACnB7tF,KAAK4xF,MAAQ/wC,SAAS,QACtB7gD,KAAK6xF,OAAS,KAQhB,SAASC,aAAav8D,EAAMlrB,EAAM4hD,EAAU/3B,GAU1C,IAAIvqB,EATJ3J,KAAKu1B,KAAOA,EACZv1B,KAAKsgE,SAAW,EAChBtgE,KAAKmhF,UAAY9kC,iBAAiBhyC,EAAKhG,QACvCrE,KAAKisD,SAAWA,EAChBjsD,KAAKixC,GAAI,EACTjxC,KAAK+xF,QAAU,GACf/xF,KAAKgyF,UAAY/1C,iBAAiB,UAAW5xC,EAAKhG,OAASgG,EAAKhG,OAAS,EAAI,GAC7ErE,KAAKiyF,WAAah2C,iBAAiB,UAAW,GAC9Cj8C,KAAK2hE,6BAA6BztC,GAElC,IACItM,EADApG,EAAMnX,EAAKhG,QAAU,EAGzB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBie,EAAOszC,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKV,GAAG43B,EAAG,EAAG,EAAGvhC,MACtDA,KAAKixC,EAAIrpB,EAAKqpB,GAAKjxC,KAAKixC,EACxBjxC,KAAKmhF,UAAUx3E,GAAK,CAClBkoC,EAAGxnC,EAAKV,GAAGkoC,EACX8N,EAAG/3B,GAIF5nB,KAAKixC,GACRjxC,KAAKihE,UAAS,GAGhBjhE,KAAKyhE,YAAczhE,KAAKixC,EAoC1B,SAASihD,mBAAmB38D,EAAMlrB,EAAM8nF,GACtCnyF,KAAK2hE,6BAA6BpsC,GAClCv1B,KAAKihE,SAAWjhE,KAAK0hE,yBACrB1hE,KAAK2X,EAAIujD,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsN,EAAG,EAAG,IAAM3X,MACxDA,KAAK+0E,EAAI7Z,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAK0qE,EAAG,EAAG,KAAM/0E,MACxDA,KAAKw3C,EAAI,IAAIs6C,aAAav8D,EAAMlrB,EAAKmtC,GAAK,GAAI,MAAOx3C,MACrDA,KAAK0gC,EAAIw6B,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKq2B,EAAG,EAAG,IAAK1gC,MACvDA,KAAKioB,MAAQkqE,EACbnyF,KAAKyhE,cAAgBzhE,KAAKyhE,YAK5B,SAAS2wB,iBAAiB78D,EAAMlrB,EAAM8nF,GACpCnyF,KAAK2hE,6BAA6BpsC,GAClCv1B,KAAKihE,SAAWjhE,KAAK0hE,yBACrB1hE,KAAK2X,EAAIujD,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsN,EAAG,EAAG,IAAM3X,MACxDA,KAAK0gC,EAAIw6B,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKq2B,EAAG,EAAG,IAAK1gC,MACvDA,KAAKioB,MAAQkqE,EAKf,SAASE,eAAe98D,EAAMlrB,EAAM8nF,GAClCnyF,KAAK2hE,6BAA6BpsC,GAClCv1B,KAAKihE,SAAWjhE,KAAK0hE,yBACrB1hE,KAAKioB,MAAQkqE,EAKf,SAASG,iBAAiB/8D,EAAMlrB,EAAM6pB,GACpCl0B,KAAKqK,KAAOA,EACZrK,KAAK0gC,EAAIub,iBAAiB,SAAmB,EAAT5xC,EAAKs1C,GACzC,IAAI4yC,EAAUloF,EAAK4mC,EAAEA,EAAE,GAAGtkB,EAAItiB,EAAK4mC,EAAEA,EAAE,GAAGtkB,EAAEtoB,OAAkB,EAATgG,EAAKs1C,EAAQt1C,EAAK4mC,EAAEA,EAAE5sC,OAAkB,EAATgG,EAAKs1C,EACzF3/C,KAAK2X,EAAIskC,iBAAiB,UAAWs2C,GACrCvyF,KAAKwyF,OAAQ,EACbxyF,KAAKyyF,OAAQ,EACbzyF,KAAK0yF,aAAe1yF,KAAK2yF,mBACzB3yF,KAAK4yF,YAAcL,EACnBvyF,KAAK2hE,6BAA6BztC,GAClCl0B,KAAK4nB,KAAOszC,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAK4mC,EAAG,EAAG,KAAMjxC,MAC3DA,KAAKixC,EAAIjxC,KAAK4nB,KAAKqpB,EACnBjxC,KAAKihE,UAAS,GAsFhB,SAAS4xB,yBAAyBt9D,EAAMlrB,EAAM8nF,GAC5CnyF,KAAK2hE,6BAA6BpsC,GAClCv1B,KAAKihE,SAAWjhE,KAAK0hE,yBACrB1hE,KAAK8yF,iBAAiBv9D,EAAMlrB,EAAM8nF,GA0FpC,SAASY,2BAA2Bx9D,EAAMlrB,EAAM8nF,GAC9CnyF,KAAK2hE,6BAA6BpsC,GAClCv1B,KAAKihE,SAAWjhE,KAAK0hE,yBACrB1hE,KAAK+0E,EAAI7Z,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAK0qE,EAAG,EAAG,KAAM/0E,MACxDA,KAAKw3C,EAAI,IAAIs6C,aAAav8D,EAAMlrB,EAAKmtC,GAAK,GAAI,MAAOx3C,MACrDA,KAAK8yF,iBAAiBv9D,EAAMlrB,EAAM8nF,GAClCnyF,KAAKyhE,cAAgBzhE,KAAKyhE,YAK5B,SAASuxB,iBACPhzF,KAAKsjD,GAAK,GACVtjD,KAAKizF,aAAe,GACpBjzF,KAAKkzF,GAAKryC,SAAS,KAGrB,SAASsyC,iBAAiB9e,EAAQ/vB,EAAIpwB,GACpCl0B,KAAKsoE,UAAY,CACf+L,OAAQA,EACR/vB,GAAIA,EACJpwB,UAAWA,GAEbl0B,KAAK21B,SAAW,GAChB31B,KAAKyhE,YAAczhE,KAAKsoE,UAAU+L,OAAO7S,kBAAkBn9D,QAAUrE,KAAKsoE,UAAUhkB,GAAGic,gBAAgBl8D,OAzUzGitF,aAAarvF,UAAUgsE,cAAgB,WACrCjuE,KAAKyhE,aAAc,GAcrBkwB,aAAa1vF,UAAU+kC,MAAQ,WAC7BhnC,KAAKw3C,EAAI,GACTx3C,KAAKogE,MAAO,GAiCd0xB,aAAa7vF,UAAUg/D,SAAW,SAAU+P,GAC1C,IAAIhxE,KAAKu1B,KAAK23B,WAAWoT,UAAYtgE,KAAKsgE,SAAY0Q,KAItDhxE,KAAKsgE,QAAUtgE,KAAKu1B,KAAK23B,WAAWoT,QACpCtgE,KAAK0hE,2BACL1hE,KAAKogE,KAAOpgE,KAAKogE,MAAQ4Q,EAErBhxE,KAAKogE,MAAM,CACb,IAAIz2D,EAAI,EACJ6X,EAAMxhB,KAAKmhF,UAAU98E,OAMzB,IAJsB,QAAlBrE,KAAKisD,WACPjsD,KAAK+xF,QAAU,IAGZpoF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACI,MAAxB3J,KAAKmhF,UAAUx3E,GAAGkoC,EACE,QAAlB7xC,KAAKisD,SACPjsD,KAAK+xF,SAAW,IAAM/xF,KAAKmhF,UAAUx3E,GAAGg2C,EAAEpe,EAE1CvhC,KAAKgyF,UAAUroF,GAAK3J,KAAKmhF,UAAUx3E,GAAGg2C,EAAEpe,EAG1CvhC,KAAKiyF,WAAW,GAAKjyF,KAAKmhF,UAAUx3E,GAAGg2C,EAAEpe,IAMjD0Y,gBAAgB,CAACsnB,0BAA2BuwB,cAa5C73C,gBAAgB,CAACsnB,0BAA2B2wB,oBAU5Cj4C,gBAAgB,CAACsnB,0BAA2B6wB,kBAQ5Cn4C,gBAAgB,CAACsnB,0BAA2B8wB,gBAiB5CC,iBAAiBrwF,UAAUmxF,cAAgB,SAAUxkE,EAAQilC,GAK3D,IAJA,IAAIlqD,EAAI,EACJ6X,EAAMxhB,KAAK2X,EAAEtT,OAAS,EAGnBsF,EAAI6X,GAAK,CAGd,GAFOxa,KAAKk7B,IAAItT,EAAW,EAAJjlB,GAASilB,EAAgB,EAATilC,EAAiB,EAAJlqD,IAEzC,IACT,OAAO,EAGTA,GAAK,EAGP,OAAO,GAGT2oF,iBAAiBrwF,UAAU0wF,iBAAmB,WAC5C,GAAI3yF,KAAK2X,EAAEtT,OAAS,GAAMrE,KAAK0gC,EAAEr8B,OAAS,EACxC,OAAO,EAGT,GAAIrE,KAAKqK,KAAK4mC,EAAEA,EAAE,GAAGtkB,EAInB,IAHA,IAAIhjB,EAAI,EACJ6X,EAAMxhB,KAAKqK,KAAK4mC,EAAEA,EAAE5sC,OAEjBsF,EAAI6X,GAAK,CACd,IAAKxhB,KAAKozF,cAAcpzF,KAAKqK,KAAK4mC,EAAEA,EAAEtnC,GAAGgjB,EAAG3sB,KAAKqK,KAAKs1C,GACpD,OAAO,EAGTh2C,GAAK,OAEF,IAAK3J,KAAKozF,cAAcpzF,KAAKqK,KAAK4mC,EAAEA,EAAGjxC,KAAKqK,KAAKs1C,GACtD,OAAO,EAGT,OAAO,GAGT2yC,iBAAiBrwF,UAAUg/D,SAAW,SAAU+P,GAM9C,GALAhxE,KAAK4nB,KAAKq5C,WACVjhE,KAAKogE,MAAO,EACZpgE,KAAKwyF,OAAQ,EACbxyF,KAAKyyF,OAAQ,EAETzyF,KAAK4nB,KAAKw4C,MAAQ4Q,EAAa,CACjC,IAAIrnE,EAEAw2D,EACA5vD,EAFAiR,EAAoB,EAAdxhB,KAAKqK,KAAKs1C,EAIpB,IAAKh2C,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBw2D,EAAOx2D,EAAI,GAAM,EAAI,IAAM,IAC3B4G,EAAMvJ,KAAKgyB,MAAMh5B,KAAK4nB,KAAK2Z,EAAE53B,GAAKw2D,GAE9BngE,KAAK0gC,EAAE/2B,KAAO4G,IAChBvQ,KAAK0gC,EAAE/2B,GAAK4G,EACZvQ,KAAKwyF,OAASxhB,GAIlB,GAAIhxE,KAAK2X,EAAEtT,OAGT,IAFAmd,EAAMxhB,KAAK4nB,KAAK2Z,EAAEl9B,OAEbsF,EAAkB,EAAd3J,KAAKqK,KAAKs1C,EAAOh2C,EAAI6X,EAAK7X,GAAK,EACtCw2D,EAAOx2D,EAAI,GAAM,EAAI,IAAM,EAC3B4G,EAAM5G,EAAI,GAAM,EAAI3C,KAAKgyB,MAAuB,IAAjBh5B,KAAK4nB,KAAK2Z,EAAE53B,IAAY3J,KAAK4nB,KAAK2Z,EAAE53B,GAE/D3J,KAAK2X,EAAEhO,EAAkB,EAAd3J,KAAKqK,KAAKs1C,KAAWpvC,IAClCvQ,KAAK2X,EAAEhO,EAAkB,EAAd3J,KAAKqK,KAAKs1C,GAASpvC,EAC9BvQ,KAAKyyF,OAASzhB,GAKpBhxE,KAAKogE,MAAQ4Q,IAIjB/2B,gBAAgB,CAACsnB,0BAA2B+wB,kBAQ5CO,yBAAyB5wF,UAAU6wF,iBAAmB,SAAUv9D,EAAMlrB,EAAM8nF,GAC1EnyF,KAAK2X,EAAIujD,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsN,EAAG,EAAG,IAAM3X,MACxDA,KAAK2sB,EAAIuuC,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsiB,EAAG,EAAG,KAAM3sB,MACxDA,KAAK8P,EAAIorD,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKyF,EAAG,EAAG,KAAM9P,MACxDA,KAAK0/C,EAAIwb,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKq1C,GAAK,CAC/CzO,EAAG,GACF,EAAG,IAAMjxC,MACZA,KAAK4kB,EAAIs2C,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKua,GAAK,CAC/CqsB,EAAG,GACF,EAAGwM,UAAWz9C,MACjBA,KAAKwU,EAAI,IAAI89E,iBAAiB/8D,EAAMlrB,EAAKmK,EAAGxU,MAC5CA,KAAKioB,MAAQkqE,EACbnyF,KAAKqzF,MAAQ,GACbrzF,KAAKszF,gBAAgBnB,EAAQP,MAAOvnF,GACpCrK,KAAKuzF,mBAAmBlpF,EAAM8nF,GAC9BnyF,KAAKyhE,cAAgBzhE,KAAKyhE,aAG5BoxB,yBAAyB5wF,UAAUqxF,gBAAkB,SAAUE,EAAanpF,GAC1E,IAAIopF,EAAal0C,kBACbm0C,EAAQ7yC,SAAoB,IAAXx2C,EAAK+rC,EAAU,iBAAmB,kBACvDs9C,EAAM3gE,aAAa,KAAM0gE,GACzBC,EAAM3gE,aAAa,eAAgB,OACnC2gE,EAAM3gE,aAAa,gBAAiB,kBACpC,IACI08B,EACA5lD,EACAq4C,EAHAmxC,EAAQ,GAMZ,IAFAnxC,EAAkB,EAAX73C,EAAKmK,EAAEmrC,EAET91C,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACzB4lD,EAAO5O,SAAS,QAChB6yC,EAAMzhF,YAAYw9C,GAClB4jC,EAAMlsF,KAAKsoD,GAGb+jC,EAAYzgE,aAAyB,OAAZ1oB,EAAKu4C,GAAc,OAAS,SAAU,OAAS7I,kBAAoB,IAAM05C,EAAa,KAC/GzzF,KAAK2zF,GAAKD,EACV1zF,KAAK4zF,IAAMP,GAGbR,yBAAyB5wF,UAAUsxF,mBAAqB,SAAUlpF,EAAM8nF,GACtE,GAAInyF,KAAKwU,EAAEo+E,cAAgB5yF,KAAKwU,EAAEk+E,aAAc,CAC9C,IAAIjjC,EACA5lD,EACAq4C,EACA43B,EAAOj5B,SAAS,QAChB0kC,EAAc1kC,SAAS,QAC3Bi5B,EAAK7nE,YAAYszE,GACjB,IAAIsO,EAAYt0C,kBACZu0C,EAASv0C,kBACbu6B,EAAK/mD,aAAa,KAAM+gE,GACxB,IAAIC,EAASlzC,SAAoB,IAAXx2C,EAAK+rC,EAAU,iBAAmB,kBACxD29C,EAAOhhE,aAAa,KAAM8gE,GAC1BE,EAAOhhE,aAAa,eAAgB,OACpCghE,EAAOhhE,aAAa,gBAAiB,kBACrCmvB,EAAO73C,EAAKmK,EAAEy8B,EAAEA,EAAE,GAAGtkB,EAAItiB,EAAKmK,EAAEy8B,EAAEA,EAAE,GAAGtkB,EAAEtoB,OAASgG,EAAKmK,EAAEy8B,EAAEA,EAAE5sC,OAC7D,IAAIgvF,EAAQrzF,KAAKqzF,MAEjB,IAAKxpF,EAAe,EAAXQ,EAAKmK,EAAEmrC,EAAO91C,EAAIq4C,EAAMr4C,GAAK,GACpC4lD,EAAO5O,SAAS,SACX9tB,aAAa,aAAc,oBAChCghE,EAAO9hF,YAAYw9C,GACnB4jC,EAAMlsF,KAAKsoD,GAGb81B,EAAYxyD,aAAyB,OAAZ1oB,EAAKu4C,GAAc,OAAS,SAAU,OAAS7I,kBAAoB,IAAM85C,EAAY,KAE9F,OAAZxpF,EAAKu4C,KACP2iC,EAAYxyD,aAAa,iBAAkBq+D,YAAY/mF,EAAK2pF,IAAM,IAClEzO,EAAYxyD,aAAa,kBAAmBs+D,aAAahnF,EAAK4pF,IAAM,IAEpD,IAAZ5pF,EAAK4pF,IACP1O,EAAYxyD,aAAa,oBAAqB1oB,EAAK6pF,KAIvDl0F,KAAKm0F,GAAKJ,EACV/zF,KAAKyQ,GAAKqpE,EACV95E,KAAKo0F,IAAMf,EACXrzF,KAAK8zF,OAASA,EACd3B,EAAQN,OAAStM,IAIrBtrC,gBAAgB,CAACsnB,0BAA2BsxB,0BAW5C54C,gBAAgB,CAAC44C,yBAA0BtxB,0BAA2BwxB,4BAkBtE,IAAIsB,iBAAmB,SAA0BnL,EAAW7kF,EAAQ4gD,EAAQ8rB,GAC1E,GAAe,IAAX1sE,EACF,MAAO,GAGT,IAGIsF,EAHA2qF,EAAKpL,EAAUvxE,EACf48E,EAAKrL,EAAUv/E,EACfs7D,EAAKikB,EAAU3nD,EAEfizD,EAAc,KAAOzjB,EAAInF,wBAAwB3G,EAAG,GAAG,GAAIA,EAAG,GAAG,IAErE,IAAKt7D,EAAI,EAAGA,EAAItF,EAAQsF,GAAK,EAC3B6qF,GAAe,KAAOzjB,EAAInF,wBAAwB0oB,EAAG3qF,EAAI,GAAG,GAAI2qF,EAAG3qF,EAAI,GAAG,IAAM,IAAMonE,EAAInF,wBAAwB2oB,EAAG5qF,GAAG,GAAI4qF,EAAG5qF,GAAG,IAAM,IAAMonE,EAAInF,wBAAwB3G,EAAGt7D,GAAG,GAAIs7D,EAAGt7D,GAAG,IAQ5L,OALIs7C,GAAU5gD,IACZmwF,GAAe,KAAOzjB,EAAInF,wBAAwB0oB,EAAG3qF,EAAI,GAAG,GAAI2qF,EAAG3qF,EAAI,GAAG,IAAM,IAAMonE,EAAInF,wBAAwB2oB,EAAG,GAAG,GAAIA,EAAG,GAAG,IAAM,IAAMxjB,EAAInF,wBAAwB3G,EAAG,GAAG,GAAIA,EAAG,GAAG,IAC1LuvB,GAAe,KAGVA,GAGLC,oBAAsB,WACxB,IAAIC,EAAkB,IAAI3tB,OAEtB4tB,EAAgB,IAAI5tB,OAqCxB,SAAS6tB,EAAuBC,EAAWC,EAAU9L,IAC/CA,GAAgB8L,EAASxsB,UAAUhkB,GAAG8b,OACxC00B,EAASxsB,UAAUp0C,UAAUnB,aAAa,UAAW+hE,EAASxsB,UAAUhkB,GAAG/iB,IAGzEynD,GAAgB8L,EAASxsB,UAAU+L,OAAOjU,OAC5C00B,EAASxsB,UAAUp0C,UAAUnB,aAAa,YAAa+hE,EAASxsB,UAAU+L,OAAO9yC,EAAEyqC,WAIvF,SAAS+oB,KAET,SAASC,EAAWH,EAAWC,EAAU9L,GACvC,IAAIn/E,EACAq4C,EACA+yC,EACAC,EACAhM,EACAl4C,EAGAkzB,EACA6M,EACAl4C,EACA8S,EACAsF,EANAkkD,EAAOL,EAASljB,OAAOvtE,OACvBqtF,EAAMoD,EAASpD,IAOnB,IAAK1gD,EAAI,EAAGA,EAAImkD,EAAMnkD,GAAK,EAAG,CAG5B,GAFAkkD,EAASJ,EAAS92B,GAAGoC,MAAQ4oB,EAEzB8L,EAASljB,OAAO5gC,GAAG0gD,IAAMA,EAAK,CAKhC,IAJA3gB,EAAM4jB,EAAc3tD,QACpB2E,EAAa+lD,EAAMoD,EAASljB,OAAO5gC,GAAG0gD,IACtCzgD,EAAI6jD,EAASvD,aAAaltF,OAAS,GAE3B6wF,GAAUvpD,EAAa,GAC7BupD,EAASJ,EAASvD,aAAatgD,GAAGojC,OAAOjU,MAAQ80B,EACjDvpD,GAAc,EACdsF,GAAK,EAGP,GAAIikD,EAIF,IAHAvpD,EAAa+lD,EAAMoD,EAASljB,OAAO5gC,GAAG0gD,IACtCzgD,EAAI6jD,EAASvD,aAAaltF,OAAS,EAE5BsnC,EAAa,GAClB9S,EAAQi8D,EAASvD,aAAatgD,GAAGojC,OAAO9yC,EAAE1I,MAC1Ck4C,EAAIzI,UAAUzvC,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,IAAKA,EAAM,IAAKA,EAAM,IAAKA,EAAM,IAAKA,EAAM,IAAKA,EAAM,KAC/K8S,GAAc,EACdsF,GAAK,OAIT8/B,EAAM2jB,EAMR,GAFAxyC,GADAgiB,EAAQ4wB,EAAS92B,GAAGkG,OACPtO,QAETs/B,EAAQ,CAGV,IAFAD,EAAwB,GAEnBprF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,GACzBq/E,EAAYhlB,EAAMlhB,OAAOn5C,KAERq/E,EAAUtzB,UACzBq/B,GAAyBZ,iBAAiBnL,EAAWA,EAAUtzB,QAASszB,EAAUxoD,EAAGqwC,IAIzF+jB,EAAStD,OAAOxgD,GAAKikD,OAErBA,EAAwBH,EAAStD,OAAOxgD,GAG1C8jD,EAASljB,OAAO5gC,GAAGwG,IAAsB,IAAjBq9C,EAAUhH,GAAc,GAAKoH,EACrDH,EAASljB,OAAO5gC,GAAGovB,KAAO80B,GAAUJ,EAASljB,OAAO5gC,GAAGovB,MAI3D,SAASg1B,EAAWP,EAAWC,EAAU9L,GACvC,IAAIqM,EAAYP,EAAS7sE,OAErB6sE,EAASp0D,EAAE0/B,MAAQ4oB,IACrBqM,EAAUzD,MAAM7+D,aAAa,OAAQ,OAASiqB,QAAQ83C,EAASp0D,EAAEa,EAAE,IAAM,IAAMyb,QAAQ83C,EAASp0D,EAAEa,EAAE,IAAM,IAAMyb,QAAQ83C,EAASp0D,EAAEa,EAAE,IAAM,MAGzIuzD,EAASn9E,EAAEyoD,MAAQ4oB,IACrBqM,EAAUzD,MAAM7+D,aAAa,eAAgB+hE,EAASn9E,EAAE4pB,GAI5D,SAAS+zD,EAAqBT,EAAWC,EAAU9L,GACjDuM,EAAeV,EAAWC,EAAU9L,GACpCwM,EAAaX,EAAWC,EAAU9L,GAGpC,SAASuM,EAAeV,EAAWC,EAAU9L,GAC3C,IAsBIqK,EACA1pF,EACA6X,EACAiuC,EA+CEkW,EAxEF+tB,EAAQoB,EAASnB,GACjB8B,EAAaX,EAAStgF,EAAEo+E,YACxB17B,EAAM49B,EAASnoE,EAAE4U,EACjB41B,EAAM29B,EAAShlF,EAAEyxB,EAErB,GAAIuzD,EAASn9E,EAAEyoD,MAAQ4oB,EAAc,CACnC,IAAIhuE,EAAwB,OAAjB65E,EAAUjyC,GAAc,eAAiB,iBACpDkyC,EAAS7sE,MAAM2pE,MAAM7+D,aAAa/X,EAAM85E,EAASn9E,EAAE4pB,GAGrD,GAAIuzD,EAASnoE,EAAEyzC,MAAQ4oB,EAAc,CACnC,IAAI0M,EAAwB,IAAhBb,EAAUz+C,EAAU,KAAO,KACnCu/C,EAAkB,OAAVD,EAAiB,KAAO,KACpChC,EAAM3gE,aAAa2iE,EAAOx+B,EAAI,IAC9Bw8B,EAAM3gE,aAAa4iE,EAAOz+B,EAAI,IAE1Bu+B,IAAeX,EAAStgF,EAAEk+E,eAC5BoC,EAASX,GAAGphE,aAAa2iE,EAAOx+B,EAAI,IACpC49B,EAASX,GAAGphE,aAAa4iE,EAAOz+B,EAAI,KASxC,GAAI49B,EAAStgF,EAAEg+E,OAASxJ,EAAc,CACpCqK,EAAQyB,EAASlB,IACjB,IAAIgC,EAAUd,EAAStgF,EAAEksB,EAGzB,IAFAlf,EAAM6xE,EAAMhvF,OAEPsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,GACxB8lD,EAAO4jC,EAAM1pF,IACRopB,aAAa,SAAU6iE,EAAY,EAAJjsF,GAAS,KAC7C8lD,EAAK18B,aAAa,aAAc,OAAS6iE,EAAY,EAAJjsF,EAAQ,GAAK,IAAMisF,EAAY,EAAJjsF,EAAQ,GAAK,IAAMisF,EAAY,EAAJjsF,EAAQ,GAAK,KAIxH,GAAI8rF,IAAeX,EAAStgF,EAAEi+E,OAASzJ,GAAe,CACpD,IAAI6M,EAAUf,EAAStgF,EAAEmD,EAUzB,IAFA6J,GALE6xE,EADEyB,EAAStgF,EAAEk+E,aACLoC,EAASlB,IAETkB,EAASV,KAGP/vF,OAEPsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB8lD,EAAO4jC,EAAM1pF,GAERmrF,EAAStgF,EAAEk+E,cACdjjC,EAAK18B,aAAa,SAAU8iE,EAAY,EAAJlsF,GAAS,KAG/C8lD,EAAK18B,aAAa,eAAgB8iE,EAAY,EAAJlsF,EAAQ,IAItD,GAAoB,IAAhBkrF,EAAUz+C,GACR0+C,EAAShlF,EAAEswD,MAAQ4oB,KACrB0K,EAAM3gE,aAAa,KAAMokC,EAAI,IAC7Bu8B,EAAM3gE,aAAa,KAAMokC,EAAI,IAEzBs+B,IAAeX,EAAStgF,EAAEk+E,eAC5BoC,EAASX,GAAGphE,aAAa,KAAMokC,EAAI,IACnC29B,EAASX,GAAGphE,aAAa,KAAMokC,EAAI,WAevC,IATI29B,EAASnoE,EAAEyzC,MAAQ00B,EAAShlF,EAAEswD,MAAQ4oB,KACxCrjB,EAAM3+D,KAAK+1C,KAAK/1C,KAAK61C,IAAIqa,EAAI,GAAKC,EAAI,GAAI,GAAKnwD,KAAK61C,IAAIqa,EAAI,GAAKC,EAAI,GAAI,IACzEu8B,EAAM3gE,aAAa,IAAK4yC,GAEpB8vB,IAAeX,EAAStgF,EAAEk+E,cAC5BoC,EAASX,GAAGphE,aAAa,IAAK4yC,IAI9BmvB,EAAShlF,EAAEswD,MAAQ00B,EAASp1C,EAAE0gB,MAAQ00B,EAASlwE,EAAEw7C,MAAQ4oB,EAAc,CACpErjB,IACHA,EAAM3+D,KAAK+1C,KAAK/1C,KAAK61C,IAAIqa,EAAI,GAAKC,EAAI,GAAI,GAAKnwD,KAAK61C,IAAIqa,EAAI,GAAKC,EAAI,GAAI,KAG3E,IAAI2+B,EAAM9uF,KAAKo4D,MAAMjI,EAAI,GAAKD,EAAI,GAAIC,EAAI,GAAKD,EAAI,IAC/CsD,EAAUs6B,EAASp1C,EAAEne,EAErBi5B,GAAW,EACbA,EAAU,IACDA,IAAY,IACrBA,GAAW,KAGb,IAAIu7B,EAAOpwB,EAAMnL,EACbvwB,EAAIjjC,KAAKu4D,IAAIu2B,EAAMhB,EAASlwE,EAAE2c,GAAKw0D,EAAO7+B,EAAI,GAC9CkG,EAAIp2D,KAAKk4D,IAAI42B,EAAMhB,EAASlwE,EAAE2c,GAAKw0D,EAAO7+B,EAAI,GAClDw8B,EAAM3gE,aAAa,KAAMkX,GACzBypD,EAAM3gE,aAAa,KAAMqqC,GAErBq4B,IAAeX,EAAStgF,EAAEk+E,eAC5BoC,EAASX,GAAGphE,aAAa,KAAMkX,GAC/B6qD,EAASX,GAAGphE,aAAa,KAAMqqC,KAOvC,SAASo4B,EAAaX,EAAWC,EAAU9L,GACzC,IAAIqM,EAAYP,EAAS7sE,MACrBuvB,EAAIs9C,EAASt9C,EAEbA,IAAMA,EAAE4oB,MAAQ4oB,IAAiBxxC,EAAEu6C,UACrCsD,EAAUzD,MAAM7+D,aAAa,mBAAoBykB,EAAEu6C,SACnDsD,EAAUzD,MAAM7+D,aAAa,oBAAqBykB,EAAEy6C,WAAW,KAG7D6C,EAASp0D,IAAMo0D,EAASp0D,EAAE0/B,MAAQ4oB,IACpCqM,EAAUzD,MAAM7+D,aAAa,SAAU,OAASiqB,QAAQ83C,EAASp0D,EAAEa,EAAE,IAAM,IAAMyb,QAAQ83C,EAASp0D,EAAEa,EAAE,IAAM,IAAMyb,QAAQ83C,EAASp0D,EAAEa,EAAE,IAAM,MAG3IuzD,EAASn9E,EAAEyoD,MAAQ4oB,IACrBqM,EAAUzD,MAAM7+D,aAAa,iBAAkB+hE,EAASn9E,EAAE4pB,IAGxDuzD,EAAS/f,EAAE3U,MAAQ4oB,KACrBqM,EAAUzD,MAAM7+D,aAAa,eAAgB+hE,EAAS/f,EAAExzC,GAEpD8zD,EAAUxD,QACZwD,EAAUxD,OAAO9+D,aAAa,eAAgB+hE,EAAS/f,EAAExzC,IAK/D,MA/QS,CACPy0D,qBAGF,SAA8B3rF,GAC5B,OAAQA,EAAKu4C,IACX,IAAK,KACH,OAAOwyC,EAET,IAAK,KACH,OAAOG,EAET,IAAK,KACH,OAAOD,EAET,IAAK,KACH,OAAOE,EAET,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACH,OAAOR,EAET,IAAK,KACH,OAAOJ,EAET,IAAK,KACH,OAAOG,EAET,QACE,OAAO,QApCW,GAuR1B,SAASkB,gBAAgB5rF,EAAM6iD,EAAYhK,GAEzCljD,KAAKgjD,OAAS,GAEdhjD,KAAKujF,WAAal5E,EAAK24C,OAEvBhjD,KAAKk2F,WAAa,GAElBl2F,KAAK6wF,eAAiB,GAEtB7wF,KAAKwjF,UAAY,GAEjBxjF,KAAKkxF,kBAAoB,GAEzBlxF,KAAKm2F,iBAAmB,GACxBn2F,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GAGnCljD,KAAKizF,aAAe,GA0WtB,SAASmD,YAAYz+E,EAAG0+E,EAAI1e,EAAI2e,EAAIt8D,EAAG2lB,GACrC3/C,KAAK2X,EAAIA,EACT3X,KAAKq2F,GAAKA,EACVr2F,KAAK23E,GAAKA,EACV33E,KAAKs2F,GAAKA,EACVt2F,KAAKg6B,EAAIA,EACTh6B,KAAK2/C,EAAIA,EACT3/C,KAAKogE,KAAO,CACVzoD,GAAG,EACH0+E,KAAMA,EACN1e,KAAMA,EACN2e,KAAMA,EACNt8D,GAAG,EACH2lB,GAAG,GAoDP,SAAS42C,aAAahhE,EAAMlrB,GAC1BrK,KAAKw2F,SAAW78C,oBAChB35C,KAAK27D,GAAK,GACV37D,KAAKuhC,EAAI,GACTvhC,KAAK2gE,IAAK,EACV3gE,KAAKygE,eAAgB,EACrBzgE,KAAKogE,MAAO,EACZpgE,KAAKqK,KAAOA,EACZrK,KAAKu1B,KAAOA,EACZv1B,KAAKkjD,KAAOljD,KAAKu1B,KAAK2tB,KACtBljD,KAAKy2F,UAAY,EACjBz2F,KAAK02F,WAAY,EACjB12F,KAAK22F,gBAAkB,EACvB32F,KAAKugE,gBAAkB,GACvBvgE,KAAK4L,YAAc,CACjBgrF,OAAQ,EACRC,SAAU72F,KAAK82F,gBACfp/C,EAAG,GACHm6B,OAAQ,GACRC,QAAS,GACTwkB,GAAI,GACJzsF,EAAG,GACHktF,cAAe,GACf/lD,EAAG,GACHgmD,GAAI,EACJC,WAAY,GACZp/C,GAAI,GACJs8C,GAAI,GACJxnE,EAAG,GACHgrD,GAAI,GACJ0e,GAAI,EACJjgD,EAAG,EACH47B,GAAI,EACJ/J,GAAI,EACJivB,GAAI,KACJC,eAAe,EACfC,iBAAiB,EACjBC,iBAAiB,EACjBC,QAAS,EACTC,UAAW,EACXC,UAAW,GACXC,gBAAiB,EACjBryC,YAAY,GAEdplD,KAAK03F,SAAS13F,KAAK4L,YAAa5L,KAAKqK,KAAKmtC,EAAEvG,EAAE,GAAGtkB,GAE5C3sB,KAAKykF,kBACRzkF,KAAK23F,iBAAiB33F,KAAK4L,aAvd/BquC,gBAAgB,CAACgpC,YAAaoC,iBAAkBsJ,eAAgBO,cAAeN,iBAAkB1L,aAAc2L,sBAAuBoH,iBAEtIA,gBAAgBh0F,UAAU21F,qBAAuB,aAEjD3B,gBAAgBh0F,UAAU41F,eAAiB,IAAI9wB,OAE/CkvB,gBAAgBh0F,UAAU61F,yBAA2B,aAErD7B,gBAAgBh0F,UAAUsuF,cAAgB,WACxCvwF,KAAK+3F,aAAa/3F,KAAKujF,WAAYvjF,KAAKwjF,UAAWxjF,KAAKizF,aAAcjzF,KAAK6jF,aAAc,EAAG,IAAI,GAChG7jF,KAAKg4F,sBAOP/B,gBAAgBh0F,UAAU+1F,mBAAqB,WAC7C,IAAIruF,EAEAs5D,EACAp5D,EAEAoe,EAJAzG,EAAMxhB,KAAKgjD,OAAO3+C,OAGlB69C,EAAOliD,KAAKk2F,WAAW7xF,OAEvB4zF,EAAa,GACbC,GAAc,EAElB,IAAKruF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EAAG,CAK5B,IAJAoe,EAAQjoB,KAAKk2F,WAAWrsF,GACxBquF,GAAc,EACdD,EAAW5zF,OAAS,EAEfsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,GAGa,KAFrCs5D,EAAQjjE,KAAKgjD,OAAOr5C,IAEVioE,OAAOruE,QAAQ0kB,KACvBgwE,EAAW9wF,KAAK87D,GAChBi1B,EAAcj1B,EAAMxB,aAAey2B,GAInCD,EAAW5zF,OAAS,GAAK6zF,GAC3Bl4F,KAAKm4F,oBAAoBF,KAK/BhC,gBAAgBh0F,UAAUk2F,oBAAsB,SAAUn1C,GACxD,IAAIr5C,EACA6X,EAAMwhC,EAAO3+C,OAEjB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBq5C,EAAOr5C,GAAGskE,iBAIdgoB,gBAAgBh0F,UAAUm2F,mBAAqB,SAAU/tF,EAAMk9B,GAE7D,IAAI8wD,EACAlG,EAAU,IAAIR,aAAatnF,EAAMk9B,GACjCisD,EAAcrB,EAAQP,MAgD1B,MA9CgB,OAAZvnF,EAAKu4C,GACPy1C,EAAc,IAAInG,mBAAmBlyF,KAAMqK,EAAM8nF,GAC5B,OAAZ9nF,EAAKu4C,GACdy1C,EAAc,IAAIjG,iBAAiBpyF,KAAMqK,EAAM8nF,GAC1B,OAAZ9nF,EAAKu4C,IAA2B,OAAZv4C,EAAKu4C,IAElCy1C,EAAc,IADwB,OAAZhuF,EAAKu4C,GAAciwC,yBAA2BE,4BAClC/yF,KAAMqK,EAAM8nF,GAClDnyF,KAAKktD,WAAWC,KAAKl7C,YAAYomF,EAAY1E,IAEzC0E,EAAYvE,SACd9zF,KAAKktD,WAAWC,KAAKl7C,YAAYomF,EAAY5nF,IAC7CzQ,KAAKktD,WAAWC,KAAKl7C,YAAYomF,EAAYlE,IAC7CX,EAAYzgE,aAAa,OAAQ,OAASgnB,kBAAoB,IAAMs+C,EAAYvE,OAAS,OAEtE,OAAZzpF,EAAKu4C,KACdy1C,EAAc,IAAIhG,eAAeryF,KAAMqK,EAAM8nF,IAG/B,OAAZ9nF,EAAKu4C,IAA2B,OAAZv4C,EAAKu4C,KAC3B4wC,EAAYzgE,aAAa,iBAAkBq+D,YAAY/mF,EAAK2pF,IAAM,IAClER,EAAYzgE,aAAa,kBAAmBs+D,aAAahnF,EAAK4pF,IAAM,IACpET,EAAYzgE,aAAa,eAAgB,KAEzB,IAAZ1oB,EAAK4pF,IACPT,EAAYzgE,aAAa,oBAAqB1oB,EAAK6pF,KAIxC,IAAX7pF,EAAK41B,GACPuzD,EAAYzgE,aAAa,YAAa,WAGpC1oB,EAAKwlF,IACP2D,EAAYzgE,aAAa,KAAM1oB,EAAKwlF,IAGlCxlF,EAAK66C,IACPsuC,EAAYzgE,aAAa,QAAS1oB,EAAK66C,IAGrC76C,EAAKs5E,KACP6P,EAAYvrE,MAAM,kBAAoBk6D,aAAa93E,EAAKs5E,KAG1D3jF,KAAKk2F,WAAW/uF,KAAKgrF,GACrBnyF,KAAKs4F,sBAAsBjuF,EAAMguF,GAC1BA,GAGTpC,gBAAgBh0F,UAAUs2F,mBAAqB,SAAUluF,GACvD,IAAIguF,EAAc,IAAIrF,eActB,OAZI3oF,EAAKwlF,IACPwI,EAAYnF,GAAGngE,aAAa,KAAM1oB,EAAKwlF,IAGrCxlF,EAAK66C,IACPmzC,EAAYnF,GAAGngE,aAAa,QAAS1oB,EAAK66C,IAGxC76C,EAAKs5E,KACP0U,EAAYnF,GAAGjrE,MAAM,kBAAoBk6D,aAAa93E,EAAKs5E,KAGtD0U,GAGTpC,gBAAgBh0F,UAAUu2F,uBAAyB,SAAUnuF,EAAM6pB,GACjE,IAAIukE,EAAoBtoB,yBAAyBoB,qBAAqBvxE,KAAMqK,EAAMrK,MAC9Eq4F,EAAc,IAAIlF,iBAAiBsF,EAAmBA,EAAkB9gF,EAAGuc,GAE/E,OADAl0B,KAAKs4F,sBAAsBjuF,EAAMguF,GAC1BA,GAGTpC,gBAAgBh0F,UAAUy2F,mBAAqB,SAAUruF,EAAMsuF,EAAiBpxD,GAC9E,IAAIqb,EAAK,EAEO,OAAZv4C,EAAKu4C,GACPA,EAAK,EACgB,OAAZv4C,EAAKu4C,GACdA,EAAK,EACgB,OAAZv4C,EAAKu4C,KACdA,EAAK,GAGP,IACIy1C,EAAc,IAAI/G,aAAaqH,EAAiBpxD,EADhCk8B,qBAAqBsiB,aAAa/lF,KAAMqK,EAAMu4C,EAAI5iD,OAKtE,OAHAA,KAAKgjD,OAAO77C,KAAKkxF,GACjBr4F,KAAK4wF,oBAAoByH,GACzBr4F,KAAKs4F,sBAAsBjuF,EAAMguF,GAC1BA,GAGTpC,gBAAgBh0F,UAAUq2F,sBAAwB,SAAUjuF,EAAM+O,GAIhE,IAHA,IAAIzP,EAAI,EACJ6X,EAAMxhB,KAAKm2F,iBAAiB9xF,OAEzBsF,EAAI6X,GAAK,CACd,GAAIxhB,KAAKm2F,iBAAiBxsF,GAAGyP,UAAYA,EACvC,OAGFzP,GAAK,EAGP3J,KAAKm2F,iBAAiBhvF,KAAK,CACzBgL,GAAIsiF,oBAAoBuB,qBAAqB3rF,GAC7C+O,QAASA,EACT/O,KAAMA,KAIV4rF,gBAAgBh0F,UAAU22F,iBAAmB,SAAUP,GACrD,IACIxuF,EADAwJ,EAAMglF,EAAYzmB,OAElB1vB,EAAOliD,KAAKk2F,WAAW7xF,OAE3B,IAAKwF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACpB7J,KAAKk2F,WAAWrsF,GAAGo7C,QACtB5xC,EAAIlM,KAAKnH,KAAKk2F,WAAWrsF,KAK/BosF,gBAAgBh0F,UAAU4xE,aAAe,WAEvC,IAAIlqE,EADJ3J,KAAKygE,eAAgB,EAErB,IAAIj/C,EAAMxhB,KAAKwjF,UAAUn/E,OAEzB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKizF,aAAatpF,GAAK3J,KAAKwjF,UAAU75E,GAOxC,IAJA3J,KAAK+3F,aAAa/3F,KAAKujF,WAAYvjF,KAAKwjF,UAAWxjF,KAAKizF,aAAcjzF,KAAK6jF,aAAc,EAAG,IAAI,GAChG7jF,KAAKg4F,qBACLx2E,EAAMxhB,KAAKwhE,kBAAkBn9D,OAExBsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKwhE,kBAAkB73D,GAAGs3D,WAG5BjhE,KAAKgxF,mBAGPiF,gBAAgBh0F,UAAU81F,aAAe,SAAU1kF,EAAKmwE,EAAWyP,EAAc/+D,EAAWqT,EAAOgqD,EAAc5oD,GAC/G,IACIh/B,EAEAE,EACAq4C,EAGA22C,EACAC,EACAC,EATAJ,EAAkB,GAAG33F,OAAOuwF,GAE5B/vE,EAAMnO,EAAIhP,OAAS,EAGnB20F,EAAY,GACZC,EAAe,GAKnB,IAAKtvF,EAAI6X,EAAK7X,GAAK,EAAGA,GAAK,EAAG,CAS5B,IARAovF,EAAe/4F,KAAKixF,uBAAuB59E,EAAI1J,KAK7C65E,EAAU75E,GAAKspF,EAAa8F,EAAe,GAF3C1lF,EAAI1J,GAAGgQ,QAAUgvB,EAKD,OAAdt1B,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,GAC5Fm2C,EAGHvV,EAAU75E,GAAGse,MAAMg9B,QAAS,EAF5Bu+B,EAAU75E,GAAK3J,KAAKo4F,mBAAmB/kF,EAAI1J,GAAI49B,GAK7Cl0B,EAAI1J,GAAGgQ,SACL6pE,EAAU75E,GAAGse,MAAM2pE,MAAMv/D,aAAe6B,GAC1CA,EAAUjiB,YAAYuxE,EAAU75E,GAAGse,MAAM2pE,OAI7CoH,EAAU7xF,KAAKq8E,EAAU75E,GAAGse,YACvB,GAAkB,OAAd5U,EAAI1J,GAAGi5C,GAAa,CAC7B,GAAKm2C,EAKH,IAFA72C,EAAOshC,EAAU75E,GAAG25C,GAAGj/C,OAElBwF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACzB25E,EAAU75E,GAAGspF,aAAappF,GAAK25E,EAAU75E,GAAG25C,GAAGz5C,QALjD25E,EAAU75E,GAAK3J,KAAKu4F,mBAAmBllF,EAAI1J,IAS7C3J,KAAK+3F,aAAa1kF,EAAI1J,GAAG25C,GAAIkgC,EAAU75E,GAAG25C,GAAIkgC,EAAU75E,GAAGspF,aAAczP,EAAU75E,GAAGupF,GAAI3rD,EAAQ,EAAGoxD,EAAiBhwD,GAElHt1B,EAAI1J,GAAGgQ,SACL6pE,EAAU75E,GAAGupF,GAAG7gE,aAAe6B,GACjCA,EAAUjiB,YAAYuxE,EAAU75E,GAAGupF,QAGhB,OAAd7/E,EAAI1J,GAAGi5C,IACXm2C,IACHvV,EAAU75E,GAAK3J,KAAKw4F,uBAAuBnlF,EAAI1J,GAAIuqB,IAGrD2kE,EAAmBrV,EAAU75E,GAAG2+D,UAChCqwB,EAAgBxxF,KAAK0xF,IACE,OAAdxlF,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IAC7Em2C,IACHvV,EAAU75E,GAAK3J,KAAK04F,mBAAmBrlF,EAAI1J,GAAIgvF,EAAiBpxD,IAGlEvnC,KAAK44F,iBAAiBpV,EAAU75E,KACT,OAAd0J,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IAC7Em2C,GAMHD,EAAWtV,EAAU75E,IACZs7C,QAAS,IANlB6zC,EAAWtrB,eAAeG,YAAYt6D,EAAI1J,GAAGi5C,KACpCvuB,KAAKr0B,KAAMqT,EAAI1J,IACxB65E,EAAU75E,GAAKmvF,EACf94F,KAAK6wF,eAAe1pF,KAAK2xF,IAM3BG,EAAa9xF,KAAK2xF,IACK,OAAdzlF,EAAI1J,GAAGi5C,KACXm2C,GAOHD,EAAWtV,EAAU75E,IACZs7C,QAAS,GAPlB6zC,EAAWtrB,eAAeG,YAAYt6D,EAAI1J,GAAGi5C,IAC7C4gC,EAAU75E,GAAKmvF,EACfA,EAASzkE,KAAKr0B,KAAMqT,EAAK1J,EAAG65E,GAC5BxjF,KAAK6wF,eAAe1pF,KAAK2xF,GACzBnwD,GAAS,GAMXswD,EAAa9xF,KAAK2xF,IAGpB94F,KAAKmxF,oBAAoB99E,EAAI1J,GAAIA,EAAI,GAKvC,IAFA6X,EAAMw3E,EAAU30F,OAEXsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBqvF,EAAUrvF,GAAGs7C,QAAS,EAKxB,IAFAzjC,EAAMy3E,EAAa50F,OAEdsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBsvF,EAAatvF,GAAGs7C,QAAS,GAI7BgxC,gBAAgBh0F,UAAUuuF,mBAAqB,WAE7C,IAAI7mF,EADJ3J,KAAKgxF,kBAEL,IAAIxvE,EAAMxhB,KAAKk2F,WAAW7xF,OAE1B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKk2F,WAAWvsF,GAAGq9B,QAKrB,IAFAhnC,KAAKk5F,cAEAvvF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,GACpB3J,KAAKk2F,WAAWvsF,GAAGy2D,MAAQpgE,KAAKygE,iBAC9BzgE,KAAKk2F,WAAWvsF,GAAGkoF,SACrB7xF,KAAKk2F,WAAWvsF,GAAGkoF,OAAO9+D,aAAa,IAAK/yB,KAAKk2F,WAAWvsF,GAAG6tC,GAE/Dx3C,KAAKk2F,WAAWvsF,GAAG6tC,EAAI,OAASx3C,KAAKk2F,WAAWvsF,GAAG6tC,GAGrDx3C,KAAKk2F,WAAWvsF,GAAGioF,MAAM7+D,aAAa,IAAK/yB,KAAKk2F,WAAWvsF,GAAG6tC,GAAK,UAKzEy+C,gBAAgBh0F,UAAUi3F,YAAc,WACtC,IAAIvvF,EAEAwvF,EADA33E,EAAMxhB,KAAKm2F,iBAAiB9xF,OAGhC,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBwvF,EAAkBn5F,KAAKm2F,iBAAiBxsF,IAEnC3J,KAAKygE,eAAiB04B,EAAgB//E,QAAQqoD,eAAyC,IAAzB03B,EAAgB9uF,MACjF8uF,EAAgBhnF,GAAGgnF,EAAgB9uF,KAAM8uF,EAAgB//E,QAASpZ,KAAKygE,gBAK7Ew1B,gBAAgBh0F,UAAUma,QAAU,WAClCpc,KAAKkwF,qBACLlwF,KAAKujF,WAAa,KAClBvjF,KAAKwjF,UAAY,MAoBnB4S,YAAYn0F,UAAUqZ,OAAS,SAAU3D,EAAG0+E,EAAI1e,EAAI2e,EAAIt8D,EAAG2lB,GACzD3/C,KAAKogE,KAAKzoD,GAAI,EACd3X,KAAKogE,KAAKi2B,IAAK,EACfr2F,KAAKogE,KAAKuX,IAAK,EACf33E,KAAKogE,KAAKk2B,IAAK,EACft2F,KAAKogE,KAAKpmC,GAAI,EACdh6B,KAAKogE,KAAKzgB,GAAI,EACd,IAAIy5C,GAAU,EAsCd,OApCIp5F,KAAK2X,IAAMA,IACb3X,KAAK2X,EAAIA,EACT3X,KAAKogE,KAAKzoD,GAAI,EACdyhF,GAAU,GAGRp5F,KAAKq2F,KAAOA,IACdr2F,KAAKq2F,GAAKA,EACVr2F,KAAKogE,KAAKi2B,IAAK,EACf+C,GAAU,GAGRp5F,KAAK23E,KAAOA,IACd33E,KAAK23E,GAAKA,EACV33E,KAAKogE,KAAKuX,IAAK,EACfyhB,GAAU,GAGRp5F,KAAKs2F,KAAOA,IACdt2F,KAAKs2F,GAAKA,EACVt2F,KAAKogE,KAAKk2B,IAAK,EACf8C,GAAU,GAGRp5F,KAAKg6B,IAAMA,IACbh6B,KAAKg6B,EAAIA,EACTh6B,KAAKogE,KAAKpmC,GAAI,EACdo/D,GAAU,IAGRz5C,EAAEt7C,QAAWrE,KAAK2/C,EAAE,KAAOA,EAAE,IAAM3/C,KAAK2/C,EAAE,KAAOA,EAAE,IAAM3/C,KAAK2/C,EAAE,KAAOA,EAAE,IAAM3/C,KAAK2/C,EAAE,KAAOA,EAAE,IAAM3/C,KAAK2/C,EAAE,MAAQA,EAAE,KAAO3/C,KAAK2/C,EAAE,MAAQA,EAAE,MAChJ3/C,KAAK2/C,EAAIA,EACT3/C,KAAKogE,KAAKzgB,GAAI,EACdy5C,GAAU,GAGLA,GAsDT7C,aAAat0F,UAAU60F,gBAAkB,CAAC,EAAG,GAE7CP,aAAat0F,UAAUy1F,SAAW,SAAU31F,EAAKsI,GAC/C,IAAK,IAAIsiB,KAAKtiB,EACR1H,OAAOV,UAAUW,eAAeC,KAAKwH,EAAMsiB,KAC7C5qB,EAAI4qB,GAAKtiB,EAAKsiB,IAIlB,OAAO5qB,GAGTw0F,aAAat0F,UAAUo3F,eAAiB,SAAUhvF,GAC3CA,EAAK+6C,YACRplD,KAAK23F,iBAAiBttF,GAGxBrK,KAAK4L,YAAcvB,EACnBrK,KAAK4L,YAAYirF,SAAW72F,KAAK4L,YAAYirF,UAAY72F,KAAK82F,gBAC9D92F,KAAKogE,MAAO,GAGdm2B,aAAat0F,UAAUwiF,eAAiB,WACtC,OAAOzkF,KAAKs5F,mBAGd/C,aAAat0F,UAAUq3F,gBAAkB,WAOvC,OANAt5F,KAAK2gE,GAAK3gE,KAAKqK,KAAKmtC,EAAEvG,EAAE5sC,OAAS,EAE7BrE,KAAK2gE,IACP3gE,KAAK4gE,UAAU5gE,KAAKu5F,iBAAiBx9E,KAAK/b,OAGrCA,KAAK2gE,IAGd41B,aAAat0F,UAAU2+D,UAAY,SAAUC,GAC3C7gE,KAAKugE,gBAAgBp5D,KAAK05D,GAC1B7gE,KAAKu1B,KAAKurC,mBAAmB9gE,OAG/Bu2F,aAAat0F,UAAUg/D,SAAW,SAAUu4B,GAC1C,GAAKx5F,KAAKu1B,KAAK23B,WAAWoT,UAAYtgE,KAAKsgE,SAAYtgE,KAAKugE,gBAAgBl8D,QAAYm1F,EAAxF,CAIAx5F,KAAK4L,YAAYwqC,EAAIp2C,KAAKqK,KAAKmtC,EAAEvG,EAAEjxC,KAAKy2F,WAAW9pE,EAAEypB,EACrD,IAAIqjD,EAAez5F,KAAK4L,YACpBP,EAAerL,KAAKy2F,UAExB,GAAIz2F,KAAKwgE,KACPxgE,KAAKq5F,eAAer5F,KAAK4L,iBAD3B,CAOA,IAAIjC,EAFJ3J,KAAKwgE,MAAO,EACZxgE,KAAKogE,MAAO,EAEZ,IAAI5+C,EAAMxhB,KAAKugE,gBAAgBl8D,OAC3Bq8D,EAAa84B,GAAex5F,KAAKqK,KAAKmtC,EAAEvG,EAAEjxC,KAAKy2F,WAAW9pE,EAE9D,IAAKhjB,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAGtB+2D,EADEr1D,IAAiBrL,KAAKy2F,UACXz2F,KAAKugE,gBAAgB52D,GAAG+2D,EAAYA,EAAWtqB,GAE/Cp2C,KAAKugE,gBAAgB52D,GAAG3J,KAAK4L,YAAa80D,EAAWtqB,GAIlEqjD,IAAiB/4B,GACnB1gE,KAAKq5F,eAAe34B,GAGtB1gE,KAAKuhC,EAAIvhC,KAAK4L,YACd5L,KAAK27D,GAAK37D,KAAKuhC,EACfvhC,KAAKwgE,MAAO,EACZxgE,KAAKsgE,QAAUtgE,KAAKu1B,KAAK23B,WAAWoT,WAGtCi2B,aAAat0F,UAAUs3F,iBAAmB,WAMxC,IALA,IAAIG,EAAW15F,KAAKqK,KAAKmtC,EAAEvG,EACvBqqB,EAAWt7D,KAAKu1B,KAAK2tB,KAAK4c,cAC1Bn2D,EAAI,EACJ6X,EAAMk4E,EAASr1F,OAEZsF,GAAK6X,EAAM,KACZ7X,IAAM6X,EAAM,GAAKk4E,EAAS/vF,EAAI,GAAGysC,EAAIklB,IAIzC3xD,GAAK,EAOP,OAJI3J,KAAKy2F,YAAc9sF,IACrB3J,KAAKy2F,UAAY9sF,GAGZ3J,KAAKqK,KAAKmtC,EAAEvG,EAAEjxC,KAAKy2F,WAAW9pE,GAGvC4pE,aAAat0F,UAAU03F,eAAiB,SAAU7zE,GAQhD,IAPA,IAGI8zE,EACAnjB,EAJAojB,EAAkB,GAClBlwF,EAAI,EACJ6X,EAAMsE,EAAKzhB,OAGXy1F,GAAgB,EAEbnwF,EAAI6X,GACTo4E,EAAW9zE,EAAKsE,WAAWzgB,GAEvBkrE,YAAY+B,oBAAoBgjB,GAClCC,EAAgBA,EAAgBx1F,OAAS,IAAMyhB,EAAKksB,OAAOroC,GAClDiwF,GAAY,OAAUA,GAAY,OAC3CnjB,EAAiB3wD,EAAKsE,WAAWzgB,EAAI,KAEf,OAAU8sE,GAAkB,OAC5CqjB,GAAiBjlB,YAAY0B,WAAWqjB,EAAUnjB,IACpDojB,EAAgBA,EAAgBx1F,OAAS,IAAMyhB,EAAKwc,OAAO34B,EAAG,GAC9DmwF,GAAgB,GAEhBD,EAAgB1yF,KAAK2e,EAAKwc,OAAO34B,EAAG,IAGtCA,GAAK,GAELkwF,EAAgB1yF,KAAK2e,EAAKksB,OAAOroC,IAE1BiwF,EAAW,OACpBnjB,EAAiB3wD,EAAKsE,WAAWzgB,EAAI,GAEjCkrE,YAAY8B,kBAAkBijB,EAAUnjB,IAC1CqjB,GAAgB,EAChBD,EAAgBA,EAAgBx1F,OAAS,IAAMyhB,EAAKwc,OAAO34B,EAAG,GAC9DA,GAAK,GAELkwF,EAAgB1yF,KAAK2e,EAAKksB,OAAOroC,KAE1BkrE,YAAY8B,kBAAkBijB,IACvCC,EAAgBA,EAAgBx1F,OAAS,IAAMyhB,EAAKksB,OAAOroC,GAC3DmwF,GAAgB,GAEhBD,EAAgB1yF,KAAK2e,EAAKksB,OAAOroC,IAGnCA,GAAK,EAGP,OAAOkwF,GAGTtD,aAAat0F,UAAU01F,iBAAmB,SAAU5zC,GAClDA,EAAaqB,YAAa,EAC1B,IAGIz7C,EACA6X,EACAu4E,EAEAxpF,EAQA1G,EACAq4C,EAEAkC,EAlBA4J,EAAchuD,KAAKu1B,KAAK23B,WAAWc,YACnC3jD,EAAOrK,KAAKqK,KACZ2vF,EAAU,GAIVjmF,EAAQ,EAERkmF,EAAiB5vF,EAAK2vB,EAAExlB,EACxB0lF,EAAc,EACdC,EAAa,EACbC,EAAc,EACdnD,EAAa,GACboD,EAAY,EACZC,EAAe,EAGf3oB,EAAW3jB,EAAY+pB,cAAch0B,EAAarM,GAElD66C,EAAU,EACV1c,EAAYnE,kBAAkBC,GAClC5tB,EAAa+tB,QAAU+D,EAAU9D,OACjChuB,EAAa8tB,OAASgE,EAAU5tD,MAChC87B,EAAawzC,UAAYxzC,EAAap3B,EACtCo3B,EAAayzC,UAAYx3F,KAAK25F,eAAe51C,EAAa3N,GAC1D50B,EAAMuiC,EAAayzC,UAAUnzF,OAC7B0/C,EAAa0zC,gBAAkB1zC,EAAaizC,GAC5C,IACI4C,EADAW,EAAiBx2C,EAAaiuB,GAAK,IAAOjuB,EAAawzC,UAG3D,GAAIxzC,EAAakkB,GAOf,IANA,IAGIuyB,EACAhD,EAJA7tD,GAAO,EACPktD,EAAW9yC,EAAakkB,GAAG,GAC3BwyB,EAAY12C,EAAakkB,GAAG,GAIzBt+B,GAAM,CAEX6wD,EAAgB,EAChBH,EAAY,EACZ74E,GAHAg2E,EAAYx3F,KAAK25F,eAAe51C,EAAa3N,IAG7B/xC,OAChBk2F,EAAiBx2C,EAAaiuB,GAAK,IAAOjuB,EAAawzC,UACvD,IAAImD,GAAkB,EAEtB,IAAK/wF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBiwF,EAAWpC,EAAU7tF,GAAGygB,WAAW,GACnC2vE,GAAc,EAEO,MAAjBvC,EAAU7tF,GACZ+wF,EAAiB/wF,EACK,KAAbiwF,GAAgC,IAAbA,IAC5BS,EAAY,EACZN,GAAc,EACdS,GAAiBz2C,EAAa0zC,iBAA4C,IAAzB1zC,EAAawzC,WAG5DvpC,EAAY7J,OACdC,EAAW4J,EAAY6pB,YAAY2f,EAAU7tF,GAAIgoE,EAASE,OAAQF,EAASmE,SAC3Eyc,EAAUwH,EAAc,EAAI31C,EAAS2wB,EAAIhxB,EAAawzC,UAAY,KAGlEhF,EAAUvkC,EAAYiqB,YAAYuf,EAAU7tF,GAAIo6C,EAAarM,EAAGqM,EAAawzC,WAG3E8C,EAAY9H,EAAUsE,GAA6B,MAAjBW,EAAU7tF,KACtB,IAApB+wF,EACFl5E,GAAO,EAEP7X,EAAI+wF,EAGNF,GAAiBz2C,EAAa0zC,iBAA4C,IAAzB1zC,EAAawzC,UAC9DC,EAAUzhE,OAAOpsB,EAAG+wF,IAAmB/wF,EAAI,EAAI,EAAG,MAElD+wF,GAAkB,EAClBL,EAAY,IAEZA,GAAa9H,EACb8H,GAAaE,GAIjBC,GAAiB7oB,EAASilB,OAAS7yC,EAAawzC,UAAY,IAExDv3F,KAAK02F,WAAa3yC,EAAawzC,UAAYv3F,KAAK22F,iBAAmB8D,EAAYD,GACjFz2C,EAAawzC,WAAa,EAC1BxzC,EAAa0zC,gBAAkB1zC,EAAawzC,UAAYxzC,EAAaizC,GAAKjzC,EAAap3B,IAEvFo3B,EAAayzC,UAAYA,EACzBh2E,EAAMuiC,EAAayzC,UAAUnzF,OAC7BslC,GAAO,GAKb0wD,GAAaE,EACbhI,EAAU,EACV,IACIoI,EADAC,EAAoB,EAGxB,IAAKjxF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EA6CxB,GA5CAowF,GAAc,EAIG,MAFjBH,GADAe,EAAc52C,EAAayzC,UAAU7tF,IACdygB,WAAW,KAEE,IAAbwvE,GACrBgB,EAAoB,EACpB3D,EAAW9vF,KAAKkzF,GAChBC,EAAeD,EAAYC,EAAeD,EAAYC,EACtDD,GAAa,EAAIE,EACjBhqF,EAAM,GACNwpF,GAAc,EACdK,GAAe,GAEf7pF,EAAMoqF,EAGJ3sC,EAAY7J,OACdC,EAAW4J,EAAY6pB,YAAY8iB,EAAahpB,EAASE,OAAQ7jB,EAAY+pB,cAAch0B,EAAarM,GAAGo+B,SAC3Gyc,EAAUwH,EAAc,EAAI31C,EAAS2wB,EAAIhxB,EAAawzC,UAAY,KAIlEhF,EAAUvkC,EAAYiqB,YAAY1nE,EAAKwzC,EAAarM,EAAGqM,EAAawzC,WAIlD,MAAhBoD,EACFC,GAAqBrI,EAAUgI,GAE/BF,GAAa9H,EAAUgI,EAAiBK,EACxCA,EAAoB,GAGtBZ,EAAQ7yF,KAAK,CACX6pC,EAAGuhD,EACHsI,GAAItI,EACJn8D,IAAK8jE,EACLroD,EAAGkoD,EACHe,UAAW,GACXvqF,IAAKA,EACLu5C,KAAMswC,EACNW,sBAAuB,IAGH,GAAlBd,GAIF,GAFAC,GAAe3H,EAEH,KAARhiF,GAAsB,MAARA,GAAe5G,IAAM6X,EAAM,EAAG,CAK9C,IAJY,KAARjR,GAAsB,MAARA,IAChB2pF,GAAe3H,GAGV4H,GAAcxwF,GACnBqwF,EAAQG,GAAYU,GAAKX,EACzBF,EAAQG,GAAYl9B,IAAMlpD,EAC1BimF,EAAQG,GAAYa,MAAQzI,EAC5B4H,GAAc,EAGhBpmF,GAAS,EACTmmF,EAAc,QAEX,GAAsB,GAAlBD,GAIT,GAFAC,GAAe3H,EAEH,KAARhiF,GAAc5G,IAAM6X,EAAM,EAAG,CAK/B,IAJY,KAARjR,IACF2pF,GAAe3H,GAGV4H,GAAcxwF,GACnBqwF,EAAQG,GAAYU,GAAKX,EACzBF,EAAQG,GAAYl9B,IAAMlpD,EAC1BimF,EAAQG,GAAYa,MAAQzI,EAC5B4H,GAAc,EAGhBD,EAAc,EACdnmF,GAAS,QAGXimF,EAAQjmF,GAAOkpD,IAAMlpD,EACrBimF,EAAQjmF,GAAOinF,MAAQ,EACvBjnF,GAAS,EAQb,GAJAgwC,EAAa/S,EAAIgpD,EACjBM,EAAeD,EAAYC,EAAeD,EAAYC,EACtDrD,EAAW9vF,KAAKkzF,GAEZt2C,EAAakkB,GACflkB,EAAa8yC,SAAW9yC,EAAakkB,GAAG,GACxClkB,EAAagzC,cAAgB,OAI7B,OAFAhzC,EAAa8yC,SAAWyD,EAEhBv2C,EAAal6C,GACnB,KAAK,EACHk6C,EAAagzC,eAAiBhzC,EAAa8yC,SAC3C,MAEF,KAAK,EACH9yC,EAAagzC,eAAiBhzC,EAAa8yC,SAAW,EACtD,MAEF,QACE9yC,EAAagzC,cAAgB,EAInChzC,EAAakzC,WAAaA,EAC1B,IACIgE,EACAC,EAEAC,EACAl+B,EALAm+B,EAAY/wF,EAAKua,EAGrBs9B,EAAOk5C,EAAU/2F,OAGjB,IAAIg3F,EAAU,GAEd,IAAKxxF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EAAG,CAkB5B,KAjBAoxF,EAAeG,EAAUvxF,IAER+a,EAAE+yD,KACjB5zB,EAAaqzC,iBAAkB,GAG7B6D,EAAar2E,EAAEyxE,KACjBtyC,EAAaszC,iBAAkB,IAG7B4D,EAAar2E,EAAE0xE,IAAM2E,EAAar2E,EAAE02E,IAAML,EAAar2E,EAAE22E,IAAMN,EAAar2E,EAAE42E,MAChFz3C,EAAaozC,eAAgB,GAG/Bl6B,EAAM,EACNk+B,EAAQF,EAAatuE,EAAE9H,EAElBlb,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,GACxBuxF,EAAalB,EAAQrwF,IACVmxF,UAAUjxF,GAAKozD,GAEb,GAATk+B,GAAiC,KAAnBD,EAAW3qF,KAAuB,GAAT4qF,GAAiC,KAAnBD,EAAW3qF,KAAiC,MAAnB2qF,EAAW3qF,KAAwB,GAAT4qF,IAAeD,EAAWrpD,GAAuB,KAAlBqpD,EAAW3qF,KAAc5G,GAAK6X,EAAM,IAAe,GAAT25E,IAAeD,EAAWrpD,GAAKloC,GAAK6X,EAAM,MAEnM,IAAtBy5E,EAAatuE,EAAE8uE,IACjBJ,EAAQl0F,KAAK81D,GAGfA,GAAO,GAIX5yD,EAAKua,EAAE/a,GAAG8iB,EAAE+uE,WAAaz+B,EACzB,IACI0+B,EADAC,GAAc,EAGlB,GAA0B,IAAtBX,EAAatuE,EAAE8uE,GACjB,IAAK9xF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAGpBiyF,IAFJV,EAAalB,EAAQrwF,IAEQmxF,UAAUjxF,KAErC+xF,EAAaV,EAAWJ,UAAUjxF,GAClC8xF,EAASN,EAAQtlE,OAAO/uB,KAAKC,MAAMD,KAAKsE,SAAW+vF,EAAQh3F,QAAS,GAAG,IAGzE62F,EAAWJ,UAAUjxF,GAAK8xF,EAKhC53C,EAAauzC,QAAUvzC,EAAa0zC,iBAA4C,IAAzB1zC,EAAawzC,UACpExzC,EAAalM,GAAKkM,EAAalM,IAAM,EACrCkM,EAAa6yC,OAASjlB,EAASilB,OAAS7yC,EAAawzC,UAAY,KAGnEhB,aAAat0F,UAAU45F,mBAAqB,SAAU/wF,EAASiJ,GAC7DA,OAAkBxS,IAAVwS,EAAsB/T,KAAKy2F,UAAY1iF,EAC/C,IAAI+nF,EAAQ97F,KAAK03F,SAAS,GAAI13F,KAAKqK,KAAKmtC,EAAEvG,EAAEl9B,GAAO4Y,GACnDmvE,EAAQ97F,KAAK03F,SAASoE,EAAOhxF,GAC7B9K,KAAKqK,KAAKmtC,EAAEvG,EAAEl9B,GAAO4Y,EAAImvE,EACzB97F,KAAK+7F,YAAYhoF,GACjB/T,KAAKu1B,KAAKurC,mBAAmB9gE,OAG/Bu2F,aAAat0F,UAAU85F,YAAc,SAAUhoF,GAC7C,IAAI+nF,EAAQ97F,KAAKqK,KAAKmtC,EAAEvG,EAAEl9B,GAAO4Y,EACjCmvE,EAAM12C,YAAa,EACnBplD,KAAKy2F,UAAY,EACjBz2F,KAAKygE,eAAgB,EACrBzgE,KAAKihE,SAAS66B,IAGhBvF,aAAat0F,UAAU+5F,cAAgB,SAAUC,GAC/Cj8F,KAAK02F,UAAYuF,EACjBj8F,KAAK+7F,YAAY/7F,KAAKy2F,WACtBz2F,KAAKu1B,KAAKurC,mBAAmB9gE,OAG/Bu2F,aAAat0F,UAAUi6F,mBAAqB,SAAUC,GACpDn8F,KAAK22F,gBAAkB3vF,KAAKC,MAAMk1F,IAAe,EACjDn8F,KAAK+7F,YAAY/7F,KAAKy2F,WACtBz2F,KAAKu1B,KAAKurC,mBAAmB9gE,OAG/B,IAAIo8F,iBAAmB,WACrB,IAAInwF,EAAMjF,KAAKiF,IACXkxC,EAAMn2C,KAAKm2C,IACXl2C,EAAQD,KAAKC,MAEjB,SAASo1F,EAAwB9mE,EAAMlrB,GACrCrK,KAAKs8F,oBAAsB,EAC3Bt8F,KAAKixC,GAAI,EACTjxC,KAAKqK,KAAOA,EACZrK,KAAKu1B,KAAOA,EACZv1B,KAAKkjD,KAAO3tB,EAAK2tB,KACjBljD,KAAKu8F,OAAS,EACdv8F,KAAKw8F,OAAS,EACdx8F,KAAK2hE,6BAA6BpsC,GAClCv1B,KAAK2sB,EAAIuuC,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsiB,GAAK,CAC/CskB,EAAG,GACF,EAAG,EAAGjxC,MAGPA,KAAK8P,EADH,MAAOzF,EACA6wD,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKyF,EAAG,EAAG,EAAG9P,MAE5C,CACPuhC,EAAG,KAIPvhC,KAAK2X,EAAIujD,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsN,GAAK,CAC/Cs5B,EAAG,GACF,EAAG,EAAGjxC,MACTA,KAAKy8F,GAAKvhC,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKoyF,IAAM,CACjDxrD,EAAG,GACF,EAAG,EAAGjxC,MACTA,KAAK08F,GAAKxhC,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKqyF,IAAM,CACjDzrD,EAAG,GACF,EAAG,EAAGjxC,MACTA,KAAK28F,GAAKzhC,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKsyF,IAAM,CACjD1rD,EAAG,KACF,EAAG,EAAGjxC,MACTA,KAAK4kB,EAAIs2C,gBAAgBoG,QAAQ/rC,EAAMlrB,EAAKua,EAAG,EAAG,IAAM5kB,MAEnDA,KAAKwhE,kBAAkBn9D,QAC1BrE,KAAKihE,WAiKT,OA7JAo7B,EAAwBp6F,UAAY,CAClC26F,QAAS,SAAiB3/B,GACpBj9D,KAAKs8F,qBAAuBt8F,KAAKu1B,KAAK0sD,aAAar2E,YAAYolC,EAAE3sC,QACnErE,KAAKihE,WAGP,IAAIvK,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EAEL72D,KAAK08F,GAAGn7D,EAAI,EACdm1B,EAAK12D,KAAK08F,GAAGn7D,EAAI,IAEjBo1B,GAAM32D,KAAK08F,GAAGn7D,EAAI,IAGhBvhC,KAAKy8F,GAAGl7D,EAAI,EACdq1B,EAAK,EAAM52D,KAAKy8F,GAAGl7D,EAAI,IAEvBs1B,EAAK,EAAM72D,KAAKy8F,GAAGl7D,EAAI,IAGzB,IAAIs7D,EAAQ9pC,cAAcoK,gBAAgBzG,EAAIC,EAAIC,EAAIC,GAAIvsD,IACtD61D,EAAO,EACPxzC,EAAI3sB,KAAKu8F,OACTzsF,EAAI9P,KAAKw8F,OACT77E,EAAO3gB,KAAKqK,KAAK2zD,GAErB,GAAa,IAATr9C,EAOFw/C,EAAO08B,EALL18B,EADErwD,IAAM6c,EACDswC,GAAOntD,EAAI,EAAI,EAEf7D,EAAI,EAAGkxC,EAAI,IAAOrtC,EAAI6c,IAAMswC,EAAMtwC,IAAM7c,EAAI6c,GAAI,UAIpD,GAAa,IAAThM,EAOTw/C,EAAO08B,EALL18B,EADErwD,IAAM6c,EACDswC,GAAOntD,EAAI,EAAI,EAEf,EAAI7D,EAAI,EAAGkxC,EAAI,IAAOrtC,EAAI6c,IAAMswC,EAAMtwC,IAAM7c,EAAI6c,GAAI,UAIxD,GAAa,IAAThM,EACL7Q,IAAM6c,EACRwzC,EAAO,GAEPA,EAAOl0D,EAAI,EAAGkxC,EAAI,IAAOrtC,EAAI6c,IAAMswC,EAAMtwC,IAAM7c,EAAI6c,GAAI,KAE5C,GACTwzC,GAAQ,EAERA,EAAO,EAAI,GAAKA,EAAO,IAI3BA,EAAO08B,EAAM18B,QACR,GAAa,IAATx/C,EAAY,CACrB,GAAI7Q,IAAM6c,EACRwzC,EAAO,MACF,CACL,IAAI28B,EAAMhtF,EAAI6c,EAKVsd,GAAK6yD,EAAM,GADf7/B,EAAM9f,EAAIlxC,EAAI,EAAGgxD,EAAM,GAAMtwC,GAAI7c,EAAI6c,IAEjC/H,EAAIk4E,EAAM,EACd38B,EAAOn5D,KAAK+1C,KAAK,EAAI9S,EAAIA,GAAKrlB,EAAIA,IAGpCu7C,EAAO08B,EAAM18B,QACK,IAATx/C,GACL7Q,IAAM6c,EACRwzC,EAAO,GAEPlD,EAAM9f,EAAIlxC,EAAI,EAAGgxD,EAAM,GAAMtwC,GAAI7c,EAAI6c,GACrCwzC,GAAQ,EAAIn5D,KAAKu4D,IAAIv4D,KAAK02C,GAAe,EAAV12C,KAAK02C,GAASuf,GAAOntD,EAAI6c,KAAO,GAGjEwzC,EAAO08B,EAAM18B,KAETlD,GAAOh2D,EAAM0lB,KAEbwzC,EAAOl0D,EAAI,EAAGkxC,EADZ8f,EAAMtwC,EAAI,EACMwwB,EAAIrtC,EAAG,IAAM6c,EAAIswC,GAEjBntD,EAAImtD,EAFmB,KAM7CkD,EAAO08B,EAAM18B,IAaf,GAAkB,MAAdngE,KAAK28F,GAAGp7D,EAAW,CACrB,IAAIw7D,EAAyB,IAAZ/8F,KAAK28F,GAAGp7D,EAEN,IAAfw7D,IACFA,EAAa,MAGf,IAAIC,EAAY,GAAmB,GAAbD,EAElB58B,EAAO68B,EACT78B,EAAO,GAEPA,GAAQA,EAAO68B,GAAaD,GAEjB,IACT58B,EAAO,GAKb,OAAOA,EAAOngE,KAAK4kB,EAAE2c,GAEvB0/B,SAAU,SAAkBg8B,GAC1Bj9F,KAAK0hE,2BACL1hE,KAAKogE,KAAO68B,GAAgBj9F,KAAKogE,KACjCpgE,KAAKs8F,mBAAqBt8F,KAAKu1B,KAAK0sD,aAAar2E,YAAYolC,EAAE3sC,QAAU,EAErE44F,GAAgC,IAAhBj9F,KAAKqK,KAAK41B,IAC5BjgC,KAAK8P,EAAEyxB,EAAIvhC,KAAKs8F,oBAGlB,IAAIY,EAA0B,IAAhBl9F,KAAKqK,KAAK41B,EAAU,EAAI,IAAMjgC,KAAKqK,KAAKqxF,WAClD/jF,EAAI3X,KAAK2X,EAAE4pB,EAAI27D,EACfvwE,EAAI3sB,KAAK2sB,EAAE4U,EAAI27D,EAAUvlF,EACzB7H,EAAI9P,KAAK8P,EAAEyxB,EAAI27D,EAAUvlF,EAE7B,GAAIgV,EAAI7c,EAAG,CACT,IAAIk/D,EAAKriD,EACTA,EAAI7c,EACJA,EAAIk/D,EAGNhvE,KAAKu8F,OAAS5vE,EACd3sB,KAAKw8F,OAAS1sF,IAGlBmqC,gBAAgB,CAACsnB,0BAA2B86B,GAMrC,CACLc,oBALF,SAA6B5nE,EAAMlrB,EAAMgJ,GACvC,OAAO,IAAIgpF,EAAwB9mE,EAAMlrB,EAAMgJ,KAvM5B,GA+MvB,SAAS+pF,yBAAyB7nE,EAAM8nE,EAAenpE,GACrD,IAAIopE,EAAc,CAChB5hC,UAAU,GAER4F,EAAUpG,gBAAgBoG,QAC1Bi8B,EAA0BF,EAAcz4E,EAC5C5kB,KAAK4kB,EAAI,CACPqb,EAAGs9D,EAAwBt9D,EAAIqhC,EAAQ/rC,EAAMgoE,EAAwBt9D,EAAG,EAAGwd,UAAWvpB,GAAaopE,EACnG5sB,GAAI6sB,EAAwB7sB,GAAKpP,EAAQ/rC,EAAMgoE,EAAwB7sB,GAAI,EAAGjzB,UAAWvpB,GAAaopE,EACtG3sB,GAAI4sB,EAAwB5sB,GAAKrP,EAAQ/rC,EAAMgoE,EAAwB5sB,GAAI,EAAGlzB,UAAWvpB,GAAaopE,EACtG74C,GAAI84C,EAAwB94C,GAAK6c,EAAQ/rC,EAAMgoE,EAAwB94C,GAAI,EAAGhH,UAAWvpB,GAAaopE,EACtG54C,GAAI64C,EAAwB74C,GAAK4c,EAAQ/rC,EAAMgoE,EAAwB74C,GAAI,EAAGjH,UAAWvpB,GAAaopE,EACtG3wE,EAAG4wE,EAAwB5wE,EAAI20C,EAAQ/rC,EAAMgoE,EAAwB5wE,EAAG,EAAG,IAAMuH,GAAaopE,EAC9F14E,EAAG24E,EAAwB34E,EAAI08C,EAAQ/rC,EAAMgoE,EAAwB34E,EAAG,EAAG,EAAGsP,GAAaopE,EAC3F3lF,EAAG4lF,EAAwB5lF,EAAI2pD,EAAQ/rC,EAAMgoE,EAAwB5lF,EAAG,EAAG,IAAMuc,GAAaopE,EAC9F39C,EAAG49C,EAAwB59C,EAAI2hB,EAAQ/rC,EAAMgoE,EAAwB59C,EAAG,EAAG,EAAGzrB,GAAaopE,EAC3FjH,GAAIkH,EAAwBlH,GAAK/0B,EAAQ/rC,EAAMgoE,EAAwBlH,GAAI,EAAG,EAAGniE,GAAaopE,EAC9F3lB,GAAI4lB,EAAwB5lB,GAAKrW,EAAQ/rC,EAAMgoE,EAAwB5lB,GAAI,EAAG,EAAGzjD,GAAaopE,EAC9FhH,GAAIiH,EAAwBjH,GAAKh1B,EAAQ/rC,EAAMgoE,EAAwBjH,GAAI,EAAG,EAAGpiE,GAAaopE,EAC9FhC,GAAIiC,EAAwBjC,GAAKh6B,EAAQ/rC,EAAMgoE,EAAwBjC,GAAI,EAAG,EAAGpnE,GAAaopE,EAC9F/B,GAAIgC,EAAwBhC,GAAKj6B,EAAQ/rC,EAAMgoE,EAAwBhC,GAAI,EAAG,IAAMrnE,GAAaopE,EACjG9B,GAAI+B,EAAwB/B,GAAKl6B,EAAQ/rC,EAAMgoE,EAAwB/B,GAAI,EAAG,IAAMtnE,GAAaopE,EACjGlnD,EAAGmnD,EAAwBnnD,EAAIkrB,EAAQ/rC,EAAMgoE,EAAwBnnD,EAAG,EAAG,EAAGliB,GAAaopE,GAE7Ft9F,KAAK2sB,EAAIyvE,iBAAiBe,oBAAoB5nE,EAAM8nE,EAAc1wE,EAAGuH,GACrEl0B,KAAK2sB,EAAEypB,EAAIinD,EAAc1wE,EAAEypB,EAG7B,SAASonD,qBAAqB7jB,EAAU8jB,EAAYloE,GAClDv1B,KAAKygE,eAAgB,EACrBzgE,KAAK09F,gBAAiB,EACtB19F,KAAKw2F,UAAY,EACjBx2F,KAAK29F,UAAYhkB,EACjB35E,KAAK49F,YAAcH,EACnBz9F,KAAKq8E,MAAQ9mD,EACbv1B,KAAK69F,eAAiBxhD,iBAAiBr8C,KAAK29F,UAAU/4E,EAAEvgB,QACxDrE,KAAK89F,UAAY,GACjB99F,KAAK+9F,aAAe,CAClBC,UAAW,IAEbh+F,KAAKi+F,gBAAkB,GACvBj+F,KAAKk+F,oBAAqB,EAC1Bl+F,KAAK2hE,6BAA6BpsC,GAyoBpC,SAAS4oE,gBAtoBTX,qBAAqBv7F,UAAUm8F,iBAAmB,WAChD,IAAIz0F,EAEA0zF,EADA77E,EAAMxhB,KAAK29F,UAAU/4E,EAAEvgB,OAEvBi9D,EAAUpG,gBAAgBoG,QAE9B,IAAK33D,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB0zF,EAAgBr9F,KAAK29F,UAAU/4E,EAAEjb,GACjC3J,KAAK69F,eAAel0F,GAAK,IAAIyzF,yBAAyBp9F,KAAKq8E,MAAOghB,EAAer9F,MAG/EA,KAAK29F,UAAUh+C,GAAK,MAAO3/C,KAAK29F,UAAUh+C,GAC5C3/C,KAAK89F,UAAY,CACfl5E,EAAG08C,EAAQthE,KAAKq8E,MAAOr8E,KAAK29F,UAAUh+C,EAAE/6B,EAAG,EAAG,EAAG5kB,MACjD03C,EAAG4pB,EAAQthE,KAAKq8E,MAAOr8E,KAAK29F,UAAUh+C,EAAEjI,EAAG,EAAG,EAAG13C,MACjDgxC,EAAGswB,EAAQthE,KAAKq8E,MAAOr8E,KAAK29F,UAAUh+C,EAAE3O,EAAG,EAAG,EAAGhxC,MACjDigC,EAAGqhC,EAAQthE,KAAKq8E,MAAOr8E,KAAK29F,UAAUh+C,EAAE1f,EAAG,EAAG,EAAGjgC,MACjD2/C,EAAG2hB,EAAQthE,KAAKq8E,MAAOr8E,KAAK29F,UAAUh+C,EAAEA,EAAG,EAAG,EAAG3/C,MACjDg6B,EAAGh6B,KAAKq8E,MAAMpC,YAAY8O,gBAAgB/oF,KAAK29F,UAAUh+C,EAAE3lB,IAE7Dh6B,KAAK09F,gBAAiB,GAEtB19F,KAAK09F,gBAAiB,EAGxB19F,KAAK+9F,aAAaC,UAAY18B,EAAQthE,KAAKq8E,MAAOr8E,KAAK29F,UAAU3jE,EAAEpV,EAAG,EAAG,EAAG5kB,OAG9Ew9F,qBAAqBv7F,UAAUo8F,YAAc,SAAUt6C,EAAcm6C,GAGnE,GAFAl+F,KAAKk+F,mBAAqBA,EAErBl+F,KAAKogE,MAASpgE,KAAKygE,eAAkBy9B,GAAwBl+F,KAAK09F,gBAAmB19F,KAAK89F,UAAU9jE,EAAEomC,KAA3G,CAIApgE,KAAKygE,eAAgB,EACrB,IAMI69B,EACAC,EACA50F,EACA6X,EAEAg9E,EACAC,EACAC,EACA5mC,EACAnuB,EACAg1D,EACAC,EACAC,EACAhrC,EACAvH,EACA0L,EACA1B,EACAiB,EACAunC,EACAhlB,EAzBAkkB,EAAYh+F,KAAK+9F,aAAaC,UAAUz8D,EACxC65D,EAAYp7F,KAAK69F,eACjBlkB,EAAW35E,KAAK29F,UAChBoB,EAAe/+F,KAAK8oF,QACpB2U,EAAaz9F,KAAK49F,YAClBoB,EAAuBh/F,KAAKi+F,gBAAgB55F,OAK5C21F,EAAUj2C,EAAa/S,EAiB3B,GAAIhxC,KAAK09F,eAAgB,CAGvB,GAFA5jB,EAAO95E,KAAK89F,UAAU9jE,GAEjBh6B,KAAK89F,UAAUjsD,GAAK7xC,KAAK89F,UAAU19B,KAAM,CAC5C,IAYIhI,EAZA8L,EAAQ4V,EAAKv4C,EAejB,IAbIvhC,KAAK89F,UAAU79D,EAAEsB,IACnB2iC,EAAQA,EAAMlwD,WAIhBwqF,EAAW,CACTS,QAAS,EACT3yC,SAAU,IAEZ9qC,EAAM0iD,EAAMtO,QAAU,EAEtBU,EAAc,EAET3sD,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxByuD,EAAa6C,IAAI/C,gBAAgBgM,EAAM3iC,EAAE53B,GAAIu6D,EAAM3iC,EAAE53B,EAAI,GAAI,CAACu6D,EAAMvsD,EAAEhO,GAAG,GAAKu6D,EAAM3iC,EAAE53B,GAAG,GAAIu6D,EAAMvsD,EAAEhO,GAAG,GAAKu6D,EAAM3iC,EAAE53B,GAAG,IAAK,CAACu6D,EAAMv6D,EAAEA,EAAI,GAAG,GAAKu6D,EAAM3iC,EAAE53B,EAAI,GAAG,GAAIu6D,EAAMv6D,EAAEA,EAAI,GAAG,GAAKu6D,EAAM3iC,EAAE53B,EAAI,GAAG,KACxM60F,EAASS,SAAW7mC,EAAWN,cAC/B0mC,EAASlyC,SAASnlD,KAAKixD,GACvB9B,GAAe8B,EAAWN,cAG5BnuD,EAAI6X,EAEAs4D,EAAKv4C,EAAEb,IACT03B,EAAa6C,IAAI/C,gBAAgBgM,EAAM3iC,EAAE53B,GAAIu6D,EAAM3iC,EAAE,GAAI,CAAC2iC,EAAMvsD,EAAEhO,GAAG,GAAKu6D,EAAM3iC,EAAE53B,GAAG,GAAIu6D,EAAMvsD,EAAEhO,GAAG,GAAKu6D,EAAM3iC,EAAE53B,GAAG,IAAK,CAACu6D,EAAMv6D,EAAE,GAAG,GAAKu6D,EAAM3iC,EAAE,GAAG,GAAI2iC,EAAMv6D,EAAE,GAAG,GAAKu6D,EAAM3iC,EAAE,GAAG,KACpLi9D,EAASS,SAAW7mC,EAAWN,cAC/B0mC,EAASlyC,SAASnlD,KAAKixD,GACvB9B,GAAe8B,EAAWN,eAG5B93D,KAAK89F,UAAUoB,GAAKV,EAWtB,GARAA,EAAWx+F,KAAK89F,UAAUoB,GAC1BT,EAAgBz+F,KAAK89F,UAAUpmD,EAAEnW,EACjCq9D,EAAa,EACbD,EAAW,EACX7mC,EAAgB,EAChBnuB,GAAO,EACP2iB,EAAWkyC,EAASlyC,SAEhBmyC,EAAgB,GAAK3kB,EAAKv4C,EAAEb,EAS9B,IARI89D,EAASS,QAAUj4F,KAAKk7B,IAAIu8D,KAC9BA,GAAiBz3F,KAAKk7B,IAAIu8D,GAAiBD,EAASS,SAKtDN,GADA9qC,EAASvH,EADTsyC,EAAatyC,EAASjoD,OAAS,GACDwvD,QACZxvD,OAAS,EAEpBo6F,EAAgB,GACrBA,GAAiB5qC,EAAO8qC,GAAU3mC,eAClC2mC,GAAY,GAEG,IAGbA,GADA9qC,EAASvH,EADTsyC,GAAc,GACgB/qC,QACZxvD,OAAS,GAMjCw6F,GADAhrC,EAASvH,EAASsyC,GAAY/qC,QACX8qC,EAAW,GAE9B3mC,GADA0mC,EAAe7qC,EAAO8qC,IACO3mC,cAG/Bx2C,EAAMw4E,EAAQ31F,OACdi6F,EAAO,EACPC,EAAO,EACP,IAEIlB,EAEAxzF,EACAq4C,EACAi9C,EAEAh/B,EARAi/B,EAAgC,IAAzBr7C,EAAawzC,UAAkB,KACtC8H,GAAY,EAMhBn9C,EAAOk5C,EAAU/2F,OAEjB,IACIi7F,EACAC,EACAC,EAKAC,EACA9nB,EACA0e,EACAC,EACArlD,EACAyuD,EACAC,EACAC,EAGAC,EAlBA5iC,GAAO,EAIP6iC,EAAcrB,EACdsB,EAAiBnB,EACjBoB,EAAerB,EACfvE,GAAe,EASf6F,GAAU,GACVC,GAAUlgG,KAAKmgG,kBAGnB,GAAuB,IAAnBp8C,EAAal6C,GAA8B,IAAnBk6C,EAAal6C,EAAS,CAChD,IAAIkxF,GAAwB,EACxBqF,GAA0B,EAC1BC,GAAuC,IAAnBt8C,EAAal6C,GAAW,IAAO,EACnDoyD,GAAY,EACZqkC,IAAY,EAEhB,IAAK32F,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB,GAAIqwF,EAAQrwF,GAAGkoC,EAAG,CAKhB,IAJIkpD,KACFA,IAAyBqF,IAGpBnkC,GAAYtyD,GACjBqwF,EAAQ/9B,IAAW8+B,sBAAwBA,GAC3C9+B,IAAa,EAGf8+B,GAAwB,EACxBuF,IAAY,MACP,CACL,IAAKz2F,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,GACzBwzF,EAAgBjC,EAAUvxF,GAAG+a,GAEXwxB,EAAEslB,WACd4kC,IAAgC,IAAnBv8C,EAAal6C,IAC5Bu2F,IAA2B/C,EAAcjnD,EAAE7U,EAAI8+D,KAIjDlgC,EADmBi7B,EAAUvxF,GAAG8iB,EACRiwE,QAAQ5C,EAAQrwF,GAAGmxF,UAAUjxF,GAAI8vE,EAAS/0D,EAAE/a,GAAG8iB,EAAE+uE,aAEhEr3F,OACP02F,IAAyBsC,EAAcjnD,EAAE7U,EAAI4+B,EAAK,GAAKkgC,GAEvDtF,IAAyBsC,EAAcjnD,EAAE7U,EAAI4+B,EAAOkgC,IAK1DC,IAAY,EAQhB,IAJIvF,KACFA,IAAyBqF,IAGpBnkC,GAAYtyD,GACjBqwF,EAAQ/9B,IAAW8+B,sBAAwBA,GAC3C9+B,IAAa,EAKjB,IAAKtyD,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAI3B,GAHAo1F,EAAa/3D,QACby4D,EAAc,EAEVzF,EAAQrwF,GAAGkoC,EACbysD,EAAO,EACPC,GAAQx6C,EAAauzC,QACrBiH,GAAQc,EAAY,EAAI,EACxBZ,EAAgBqB,EAChBT,GAAY,EAERr/F,KAAK09F,iBAEPiB,EAAWqB,EAEXnB,GADAhrC,EAASvH,EAFTsyC,EAAamB,GAEiBlsC,QACX8qC,EAAW,GAE9B3mC,GADA0mC,EAAe7qC,EAAO8qC,IACO3mC,cAC7BF,EAAgB,GAGlBmoC,GAAU,GACVL,EAAW,GACXF,EAAW,GACXG,EAAU,GACVK,GAAUlgG,KAAKmgG,sBACV,CACL,GAAIngG,KAAK09F,eAAgB,CACvB,GAAItD,IAAgBJ,EAAQrwF,GAAGmgD,KAAM,CACnC,OAAQ/F,EAAal6C,GACnB,KAAK,EACH40F,GAAiBnoC,EAAcvS,EAAakzC,WAAW+C,EAAQrwF,GAAGmgD,MAClE,MAEF,KAAK,EACH20C,IAAkBnoC,EAAcvS,EAAakzC,WAAW+C,EAAQrwF,GAAGmgD,OAAS,EAOhFswC,EAAcJ,EAAQrwF,GAAGmgD,KAGvBmT,IAAQ+8B,EAAQrwF,GAAGszD,MACjB+8B,EAAQ/8B,KACVwhC,GAAiBzE,EAAQ/8B,GAAK+9B,OAGhCyD,GAAiBzE,EAAQrwF,GAAGkxF,GAAK,EACjC59B,EAAM+8B,EAAQrwF,GAAGszD,KAGnBwhC,GAAiBT,EAAU,GAAKhE,EAAQrwF,GAAGkxF,GAAK,KAChD,IAAI0F,GAAiB,EAErB,IAAK12F,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,GACzBwzF,EAAgBjC,EAAUvxF,GAAG+a,GAEX+6B,EAAE+b,YAElByE,EADmBi7B,EAAUvxF,GAAG8iB,EACRiwE,QAAQ5C,EAAQrwF,GAAGmxF,UAAUjxF,GAAI8vE,EAAS/0D,EAAE/a,GAAG8iB,EAAE+uE,aAEhEr3F,OACPk8F,IAAkBlD,EAAc19C,EAAEpe,EAAE,GAAK4+B,EAAK,GAE9CogC,IAAkBlD,EAAc19C,EAAEpe,EAAE,GAAK4+B,GAIzCk9B,EAAcz4E,EAAE82C,YAElByE,EADmBi7B,EAAUvxF,GAAG8iB,EACRiwE,QAAQ5C,EAAQrwF,GAAGmxF,UAAUjxF,GAAI8vE,EAAS/0D,EAAE/a,GAAG8iB,EAAE+uE,aAEhEr3F,OACPk8F,IAAkBlD,EAAcz4E,EAAE2c,EAAE,GAAK4+B,EAAK,GAE9CogC,IAAkBlD,EAAcz4E,EAAE2c,EAAE,GAAK4+B,GAY/C,IAPAx2B,GAAO,EAEH3pC,KAAK89F,UAAUl5E,EAAE2c,IACnBk9D,EAAgC,GAAhBzE,EAAQ,GAAGa,IAAYvkC,EAAct2D,KAAK89F,UAAUpmD,EAAEnW,EAAoB,GAAhBy4D,EAAQ,GAAGa,GAA4C,GAAjCb,EAAQA,EAAQ31F,OAAS,GAAGw2F,IAAY59B,GAAOz7C,EAAM,GACrJi9E,GAAiBz+F,KAAK89F,UAAUpmD,EAAEnW,GAG7BoI,GACDmuB,EAAgBE,GAAiBymC,EAAgB8B,KAAmB1sC,GACtE0D,GAAQknC,EAAgB8B,GAAiBzoC,GAAiB4mC,EAAa1mC,cACvEunC,EAAWV,EAAUnnC,MAAM,IAAMgnC,EAAahnC,MAAM,GAAKmnC,EAAUnnC,MAAM,IAAMH,EAC/EioC,EAAWX,EAAUnnC,MAAM,IAAMgnC,EAAahnC,MAAM,GAAKmnC,EAAUnnC,MAAM,IAAMH,EAC/EwnC,EAAa52B,WAAW61B,EAAU,GAAKhE,EAAQrwF,GAAGkxF,GAAK,MAASmD,EAAU,GAAKoB,EAAQ,KACvFz1D,GAAO,GACEkqB,IACTiE,GAAiB4mC,EAAa1mC,eAC9B2mC,GAAY,IAEI9qC,EAAOxvD,SACrBs6F,EAAW,EAGNryC,EAFLsyC,GAAc,GAYZ/qC,EAASvH,EAASsyC,GAAY/qC,OAT1BimB,EAAKv4C,EAAEb,GACTi+D,EAAW,EAEX9qC,EAASvH,EADTsyC,EAAa,GACiB/qC,SAE9BiE,GAAiB4mC,EAAa1mC,cAC9BnE,EAAS,OAOXA,IACFgrC,EAAYH,EAEZ1mC,GADA0mC,EAAe7qC,EAAO8qC,IACO3mC,gBAKnCsnC,EAAOtF,EAAQrwF,GAAGkxF,GAAK,EAAIb,EAAQrwF,GAAGysB,IACtC2oE,EAAa52B,WAAWm3B,EAAM,EAAG,QAEjCA,EAAOtF,EAAQrwF,GAAGkxF,GAAK,EAAIb,EAAQrwF,GAAGysB,IACtC2oE,EAAa52B,WAAWm3B,EAAM,EAAG,GAEjCP,EAAa52B,WAAW61B,EAAU,GAAKhE,EAAQrwF,GAAGkxF,GAAK,MAAQmD,EAAU,GAAKoB,EAAO,IAAM,GAG7F,IAAKv1F,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,GACzBwzF,EAAgBjC,EAAUvxF,GAAG+a,GAEXwxB,EAAEslB,WAElByE,EADmBi7B,EAAUvxF,GAAG8iB,EACRiwE,QAAQ5C,EAAQrwF,GAAGmxF,UAAUjxF,GAAI8vE,EAAS/0D,EAAE/a,GAAG8iB,EAAE+uE,YAE5D,IAAT4C,GAAiC,IAAnBv6C,EAAal6C,IACzB7J,KAAK09F,eACHv9B,EAAK97D,OACPo6F,GAAiBpB,EAAcjnD,EAAE7U,EAAI4+B,EAAK,GAE1Cs+B,GAAiBpB,EAAcjnD,EAAE7U,EAAI4+B,EAE9BA,EAAK97D,OACdi6F,GAAQjB,EAAcjnD,EAAE7U,EAAI4+B,EAAK,GAEjCm+B,GAAQjB,EAAcjnD,EAAE7U,EAAI4+B,IAsBpC,IAhBIpc,EAAaszC,kBACfhB,EAAKtyC,EAAasyC,IAAM,GAGtBtyC,EAAaqzC,kBAEbzf,EADE5zB,EAAa4zB,GACV,CAAC5zB,EAAa4zB,GAAG,GAAI5zB,EAAa4zB,GAAG,GAAI5zB,EAAa4zB,GAAG,IAEzD,CAAC,EAAG,EAAG,IAIZ5zB,EAAaozC,eAAiBpzC,EAAauyC,KAC7CA,EAAK,CAACvyC,EAAauyC,GAAG,GAAIvyC,EAAauyC,GAAG,GAAIvyC,EAAauyC,GAAG,KAG3DzsF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,GACzBwzF,EAAgBjC,EAAUvxF,GAAG+a,GAEXA,EAAE82C,YAElByE,EADmBi7B,EAAUvxF,GAAG8iB,EACRiwE,QAAQ5C,EAAQrwF,GAAGmxF,UAAUjxF,GAAI8vE,EAAS/0D,EAAE/a,GAAG8iB,EAAE+uE,aAEhEr3F,OACP06F,EAAa52B,WAAWk1B,EAAcz4E,EAAE2c,EAAE,GAAK4+B,EAAK,IAAKk9B,EAAcz4E,EAAE2c,EAAE,GAAK4+B,EAAK,GAAIk9B,EAAcz4E,EAAE2c,EAAE,GAAK4+B,EAAK,IAErH4+B,EAAa52B,WAAWk1B,EAAcz4E,EAAE2c,EAAE,GAAK4+B,GAAOk9B,EAAcz4E,EAAE2c,EAAE,GAAK4+B,EAAMk9B,EAAcz4E,EAAE2c,EAAE,GAAK4+B,IAKhH,IAAKt2D,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,GACzBwzF,EAAgBjC,EAAUvxF,GAAG+a,GAEX+H,EAAE+uC,YAElByE,EADmBi7B,EAAUvxF,GAAG8iB,EACRiwE,QAAQ5C,EAAQrwF,GAAGmxF,UAAUjxF,GAAI8vE,EAAS/0D,EAAE/a,GAAG8iB,EAAE+uE,aAEhEr3F,OACP06F,EAAa/2B,MAAM,GAAKq1B,EAAc1wE,EAAE4U,EAAE,GAAK,GAAK4+B,EAAK,GAAI,GAAKk9B,EAAc1wE,EAAE4U,EAAE,GAAK,GAAK4+B,EAAK,GAAI,GAEvG4+B,EAAa/2B,MAAM,GAAKq1B,EAAc1wE,EAAE4U,EAAE,GAAK,GAAK4+B,EAAM,GAAKk9B,EAAc1wE,EAAE4U,EAAE,GAAK,GAAK4+B,EAAM,IAKvG,IAAKt2D,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EAAG,CAqD5B,GApDAwzF,EAAgBjC,EAAUvxF,GAAG+a,EAE7Bu7C,EADmBi7B,EAAUvxF,GAAG8iB,EACRiwE,QAAQ5C,EAAQrwF,GAAGmxF,UAAUjxF,GAAI8vE,EAAS/0D,EAAE/a,GAAG8iB,EAAE+uE,YAErE2B,EAAc54C,GAAGiX,WACfyE,EAAK97D,OACP06F,EAAah3B,cAAcs1B,EAAc54C,GAAGljB,EAAI4+B,EAAK,GAAIk9B,EAAc34C,GAAGnjB,EAAI4+B,EAAK,IAEnF4+B,EAAah3B,cAAcs1B,EAAc54C,GAAGljB,EAAI4+B,EAAMk9B,EAAc34C,GAAGnjB,EAAI4+B,IAI3Ek9B,EAAcp9D,EAAEy7B,WACdyE,EAAK97D,OACP06F,EAAap3B,SAAS01B,EAAcp9D,EAAEsB,EAAI4+B,EAAK,IAE/C4+B,EAAap3B,SAAS01B,EAAcp9D,EAAEsB,EAAI4+B,IAI1Ck9B,EAAc1sB,GAAGjV,WACfyE,EAAK97D,OACP06F,EAAar3B,QAAQ21B,EAAc1sB,GAAGpvC,EAAI4+B,EAAK,IAE/C4+B,EAAar3B,QAAQ21B,EAAc1sB,GAAGpvC,EAAI4+B,IAI1Ck9B,EAAc3sB,GAAGhV,WACfyE,EAAK97D,OACP06F,EAAat3B,QAAQ41B,EAAc3sB,GAAGnvC,EAAI4+B,EAAK,IAE/C4+B,EAAat3B,QAAQ41B,EAAc3sB,GAAGnvC,EAAI4+B,IAI1Ck9B,EAAc1lF,EAAE+jD,WACdyE,EAAK97D,OACPo7F,IAAgBpC,EAAc1lF,EAAE4pB,EAAI4+B,EAAK,GAAKs/B,GAAet/B,EAAK,GAElEs/B,IAAgBpC,EAAc1lF,EAAE4pB,EAAI4+B,EAAOs/B,GAAet/B,GAI1Dpc,EAAaszC,iBAAmBgG,EAAchH,GAAG36B,WAC/CyE,EAAK97D,OACPgyF,GAAMgH,EAAchH,GAAG90D,EAAI4+B,EAAK,GAEhCk2B,GAAMgH,EAAchH,GAAG90D,EAAI4+B,GAI3Bpc,EAAaqzC,iBAAmBiG,EAAc1lB,GAAGjc,SACnD,IAAKzqB,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAClBkvB,EAAK97D,OACPszE,EAAG1mC,KAAOosD,EAAc1lB,GAAGp2C,EAAE0P,GAAK0mC,EAAG1mC,IAAMkvB,EAAK,GAEhDwX,EAAG1mC,KAAOosD,EAAc1lB,GAAGp2C,EAAE0P,GAAK0mC,EAAG1mC,IAAMkvB,EAKjD,GAAIpc,EAAaozC,eAAiBpzC,EAAauyC,GAAI,CACjD,GAAI+G,EAAc/G,GAAG56B,SACnB,IAAKzqB,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAClBkvB,EAAK97D,OACPiyF,EAAGrlD,KAAOosD,EAAc/G,GAAG/0D,EAAE0P,GAAKqlD,EAAGrlD,IAAMkvB,EAAK,GAEhDm2B,EAAGrlD,KAAOosD,EAAc/G,GAAG/0D,EAAE0P,GAAKqlD,EAAGrlD,IAAMkvB,EAK7Ck9B,EAAc/B,GAAG5/B,WAEjB46B,EADEn2B,EAAK97D,OACF47C,YAAYq2C,EAAI+G,EAAc/B,GAAG/5D,EAAI4+B,EAAK,IAE1ClgB,YAAYq2C,EAAI+G,EAAc/B,GAAG/5D,EAAI4+B,IAI1Ck9B,EAAc9B,GAAG7/B,WAEjB46B,EADEn2B,EAAK97D,OACFy7C,mBAAmBw2C,EAAI+G,EAAc9B,GAAGh6D,EAAI4+B,EAAK,IAEjDrgB,mBAAmBw2C,EAAI+G,EAAc9B,GAAGh6D,EAAI4+B,IAIjDk9B,EAAc7B,GAAG9/B,WAEjB46B,EADEn2B,EAAK97D,OACF27C,mBAAmBs2C,EAAI+G,EAAc7B,GAAGj6D,EAAI4+B,EAAK,IAEjDngB,mBAAmBs2C,EAAI+G,EAAc7B,GAAGj6D,EAAI4+B,KAMzD,IAAKt2D,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,GACzBwzF,EAAgBjC,EAAUvxF,GAAG+a,GAEX+6B,EAAE+b,WAElByE,EADmBi7B,EAAUvxF,GAAG8iB,EACRiwE,QAAQ5C,EAAQrwF,GAAGmxF,UAAUjxF,GAAI8vE,EAAS/0D,EAAE/a,GAAG8iB,EAAE+uE,YAErE17F,KAAK09F,eACHv9B,EAAK97D,OACP06F,EAAa52B,UAAU,EAAGk1B,EAAc19C,EAAEpe,EAAE,GAAK4+B,EAAK,IAAKk9B,EAAc19C,EAAEpe,EAAE,GAAK4+B,EAAK,IAEvF4+B,EAAa52B,UAAU,EAAGk1B,EAAc19C,EAAEpe,EAAE,GAAK4+B,GAAOk9B,EAAc19C,EAAEpe,EAAE,GAAK4+B,GAExEA,EAAK97D,OACd06F,EAAa52B,UAAUk1B,EAAc19C,EAAEpe,EAAE,GAAK4+B,EAAK,GAAIk9B,EAAc19C,EAAEpe,EAAE,GAAK4+B,EAAK,IAAKk9B,EAAc19C,EAAEpe,EAAE,GAAK4+B,EAAK,IAEpH4+B,EAAa52B,UAAUk1B,EAAc19C,EAAEpe,EAAE,GAAK4+B,EAAMk9B,EAAc19C,EAAEpe,EAAE,GAAK4+B,GAAOk9B,EAAc19C,EAAEpe,EAAE,GAAK4+B,IAiB/G,GAZIpc,EAAaszC,kBACfqI,EAAWrJ,EAAK,EAAI,EAAIA,GAGtBtyC,EAAaqzC,kBACfuI,EAAW,OAAS34F,KAAKgyB,MAAc,IAAR2+C,EAAG,IAAY,IAAM3wE,KAAKgyB,MAAc,IAAR2+C,EAAG,IAAY,IAAM3wE,KAAKgyB,MAAc,IAAR2+C,EAAG,IAAY,KAG5G5zB,EAAaozC,eAAiBpzC,EAAauyC,KAC7CsJ,EAAW,OAAS54F,KAAKgyB,MAAc,IAARs9D,EAAG,IAAY,IAAMtvF,KAAKgyB,MAAc,IAARs9D,EAAG,IAAY,IAAMtvF,KAAKgyB,MAAc,IAARs9D,EAAG,IAAY,KAG5Gt2F,KAAK09F,eAAgB,CAIvB,GAHAqB,EAAa52B,UAAU,GAAIpkB,EAAalM,IACxCknD,EAAa52B,UAAU,EAAG61B,EAAU,GAAKoB,EAAO,IAAOb,EAAM,GAEzDv+F,KAAK89F,UAAUn+C,EAAEpe,EAAG,CACtBu9D,GAAYJ,EAAahnC,MAAM,GAAKmnC,EAAUnnC,MAAM,KAAOgnC,EAAahnC,MAAM,GAAKmnC,EAAUnnC,MAAM,IACnG,IAAI8oC,GAA4B,IAAtBx5F,KAAKy5F,KAAK3B,GAAkB93F,KAAK02C,GAEvCghD,EAAahnC,MAAM,GAAKmnC,EAAUnnC,MAAM,KAC1C8oC,IAAO,KAGTzB,EAAa13B,QAAQm5B,GAAMx5F,KAAK02C,GAAK,KAGvCqhD,EAAa52B,UAAUo3B,EAAUC,EAAU,GAC3Cf,GAAiBT,EAAU,GAAKhE,EAAQrwF,GAAGkxF,GAAK,KAE5Cb,EAAQrwF,EAAI,IAAMszD,IAAQ+8B,EAAQrwF,EAAI,GAAGszD,MAC3CwhC,GAAiBzE,EAAQrwF,GAAGkxF,GAAK,EACjC4D,GAAmC,KAAlB16C,EAAaiuB,GAAajuB,EAAawzC,eAErD,CAQL,OAPAwH,EAAa52B,UAAUm2B,EAAMC,EAAM,GAE/Bx6C,EAAamzC,IAEf6H,EAAa52B,UAAUpkB,EAAamzC,GAAG,GAAInzC,EAAamzC,GAAG,GAAKnzC,EAAa6yC,OAAQ,GAG/E7yC,EAAal6C,GACnB,KAAK,EACHk1F,EAAa52B,UAAU6xB,EAAQrwF,GAAGoxF,sBAAwBh3C,EAAagzC,eAAiBhzC,EAAa8yC,SAAW9yC,EAAakzC,WAAW+C,EAAQrwF,GAAGmgD,OAAQ,EAAG,GAC9J,MAEF,KAAK,EACHi1C,EAAa52B,UAAU6xB,EAAQrwF,GAAGoxF,sBAAwBh3C,EAAagzC,eAAiBhzC,EAAa8yC,SAAW9yC,EAAakzC,WAAW+C,EAAQrwF,GAAGmgD,OAAS,EAAG,EAAG,GAOtKi1C,EAAa52B,UAAU,GAAIpkB,EAAalM,IACxCknD,EAAa52B,UAAUm3B,EAAM,EAAG,GAChCP,EAAa52B,UAAU61B,EAAU,GAAKhE,EAAQrwF,GAAGkxF,GAAK,KAAOmD,EAAU,GAAKoB,EAAO,IAAM,GACzFd,GAAQtE,EAAQrwF,GAAGqnC,EAAsB,KAAlB+S,EAAaiuB,GAAajuB,EAAawzC,UAG7C,SAAfkG,EACFwC,GAAUlB,EAAalzB,QACC,QAAf4xB,EACTwC,GAAUlB,EAAa/yB,UAEvBk0B,GAAU,CAACnB,EAAalmE,MAAM,GAAIkmE,EAAalmE,MAAM,GAAIkmE,EAAalmE,MAAM,GAAIkmE,EAAalmE,MAAM,GAAIkmE,EAAalmE,MAAM,GAAIkmE,EAAalmE,MAAM,GAAIkmE,EAAalmE,MAAM,GAAIkmE,EAAalmE,MAAM,GAAIkmE,EAAalmE,MAAM,GAAIkmE,EAAalmE,MAAM,GAAIkmE,EAAalmE,MAAM,IAAKkmE,EAAalmE,MAAM,IAAKkmE,EAAalmE,MAAM,IAAKkmE,EAAalmE,MAAM,IAAKkmE,EAAalmE,MAAM,IAAKkmE,EAAalmE,MAAM,KAG9XgnE,EAAUJ,EAGRT,GAAwBr1F,GAC1Bw1F,EAAc,IAAI/I,YAAYyJ,EAASH,EAAUC,EAAUC,EAAUK,GAASC,IAC9ElgG,KAAKi+F,gBAAgB92F,KAAKg4F,GAC1BH,GAAwB,EACxBh/F,KAAKk+F,oBAAqB,IAE1BiB,EAAcn/F,KAAKi+F,gBAAgBt0F,GACnC3J,KAAKk+F,mBAAqBiB,EAAY7jF,OAAOukF,EAASH,EAAUC,EAAUC,EAAUK,GAASC,KAAYlgG,KAAKk+F,uBAKpHV,qBAAqBv7F,UAAUg/D,SAAW,WACpCjhE,KAAKq8E,MAAMnvB,WAAWoT,UAAYtgE,KAAKw2F,WAI3Cx2F,KAAKw2F,SAAWx2F,KAAKq8E,MAAMnvB,WAAWoT,QACtCtgE,KAAK0hE,6BAGP87B,qBAAqBv7F,UAAU6mF,QAAU,IAAI/hB,OAC7Cy2B,qBAAqBv7F,UAAUk+F,kBAAoB,GACnDlmD,gBAAgB,CAACsnB,0BAA2Bi8B,sBAI5CW,aAAal8F,UAAU8sF,YAAc,SAAU1kF,EAAM6iD,EAAYhK,GAC/DljD,KAAKk+F,oBAAqB,EAC1Bl+F,KAAKm7D,YACLn7D,KAAK8jF,aAAaz5E,EAAM6iD,EAAYhK,GACpCljD,KAAKiiF,aAAe,IAAIsU,aAAav2F,KAAMqK,EAAK+rC,EAAGp2C,KAAKwhE,mBACxDxhE,KAAK0gG,aAAe,IAAIlD,qBAAqBnzF,EAAK+rC,EAAGp2C,KAAKy9F,WAAYz9F,MACtEA,KAAKqoF,cAAch+E,EAAM6iD,EAAYhK,GACrCljD,KAAKqwF,gBACLrwF,KAAKy4E,iBACLz4E,KAAKmvF,sBACLnvF,KAAKovF,0BACLpvF,KAAKmwF,6BACLnwF,KAAKuwF,gBACLvwF,KAAKqd,OACLrd,KAAK0gG,aAAatC,iBAAiBp+F,KAAKwhE,oBAG1C28B,aAAal8F,UAAU8oD,aAAe,SAAU71B,GAC9Cl1B,KAAKogE,MAAO,EACZpgE,KAAKi5E,uBAAuB/jD,GAC5Bl1B,KAAKikF,kBAAkB/uD,EAAKl1B,KAAK04E,YAE7B14E,KAAKiiF,aAAa7hB,MAAQpgE,KAAKiiF,aAAaxhB,iBAC9CzgE,KAAK2gG,eACL3gG,KAAKiiF,aAAaxhB,eAAgB,EAClCzgE,KAAKiiF,aAAa7hB,MAAO,IAI7B+9B,aAAal8F,UAAU2+F,gBAAkB,SAAU7B,EAAc/7C,GAC/D,IAAIn5C,EAEAq/E,EADAhnC,EAAOc,EAAO3+C,OAEdw8F,EAAW,GAEf,IAAKh3F,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACJ,OAAjBm5C,EAAOn5C,GAAG+4C,KACZsmC,EAAYlmC,EAAOn5C,GAAGw5C,GAAGpS,EACzB4vD,GAAYxM,iBAAiBnL,EAAWA,EAAUv/E,EAAEtF,QAAQ,EAAM06F,IAItE,OAAO8B,GAGT1C,aAAal8F,UAAU45F,mBAAqB,SAAU/wF,EAASiJ,GAC7D/T,KAAKiiF,aAAa4Z,mBAAmB/wF,EAASiJ,IAGhDoqF,aAAal8F,UAAU+5F,cAAgB,SAAUC,GAC/Cj8F,KAAKiiF,aAAa+Z,cAAcC,IAGlCkC,aAAal8F,UAAUi6F,mBAAqB,SAAU4E,GACpD9gG,KAAKiiF,aAAaia,mBAAmB4E,IAGvC3C,aAAal8F,UAAU8+F,4BAA8B,SAAUh9C,EAAcg7C,EAAciC,EAAY1C,EAAMC,GAO3G,OANIx6C,EAAamzC,IACf6H,EAAa52B,UAAUpkB,EAAamzC,GAAG,GAAInzC,EAAamzC,GAAG,GAAKnzC,EAAa6yC,OAAQ,GAGvFmI,EAAa52B,UAAU,GAAIpkB,EAAalM,GAAI,GAEpCkM,EAAal6C,GACnB,KAAK,EACHk1F,EAAa52B,UAAUpkB,EAAagzC,eAAiBhzC,EAAa8yC,SAAW9yC,EAAakzC,WAAW+J,IAAc,EAAG,GACtH,MAEF,KAAK,EACHjC,EAAa52B,UAAUpkB,EAAagzC,eAAiBhzC,EAAa8yC,SAAW9yC,EAAakzC,WAAW+J,IAAe,EAAG,EAAG,GAO9HjC,EAAa52B,UAAUm2B,EAAMC,EAAM,IAGrCJ,aAAal8F,UAAUg/F,WAAa,SAAUC,GAC5C,MAAO,OAASl6F,KAAKgyB,MAAqB,IAAfkoE,EAAU,IAAY,IAAMl6F,KAAKgyB,MAAqB,IAAfkoE,EAAU,IAAY,IAAMl6F,KAAKgyB,MAAqB,IAAfkoE,EAAU,IAAY,KAGjI/C,aAAal8F,UAAUk/F,UAAY,IAAI/K,YAEvC+H,aAAal8F,UAAUma,QAAU,aAEjC,IAAIglF,eAAiB,CACnBp+C,OAAQ,IAGV,SAASq+C,qBAAqBh3F,EAAM6iD,EAAYhK,GAC9CljD,KAAKshG,UAAY,GACjBthG,KAAKy9F,WAAa,MAClBz9F,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GAiTrC,SAASq+C,cAAcl3F,EAAM6iD,EAAYhK,GACvCljD,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GAgBrC,SAASs+C,YAAYn3F,EAAM6iD,EAAYhK,GACrCljD,KAAKm7D,YACLn7D,KAAK8jF,aAAaz5E,EAAM6iD,EAAYhK,GACpCljD,KAAKm7D,YACLn7D,KAAKqoF,cAAch+E,EAAM6iD,EAAYhK,GACrCljD,KAAKqwF,gBAqBP,SAASoR,mBAiOT,SAASC,gBA4GT,SAASC,eAAet3F,EAAM6iD,EAAYhK,GACxCljD,KAAK+hD,OAAS13C,EAAK03C,OACnB/hD,KAAK4hG,YAAa,EAClB5hG,KAAK8hD,gBAAiB,EACtB9hD,KAAKioF,gBAAkB,GACvBjoF,KAAK21B,SAAW31B,KAAK+hD,OAAS1F,iBAAiBr8C,KAAK+hD,OAAO19C,QAAU,GACrErE,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GACnCljD,KAAKsqD,GAAKjgD,EAAKigD,GAAK4Q,gBAAgBoG,QAAQthE,KAAMqK,EAAKigD,GAAI,EAAG4C,EAAWxB,UAAW1rD,MAAQ,CAC1FmlF,cAAc,GAUlB,SAAS0c,YAAYzZ,EAAe0Z,GAClC9hG,KAAKooF,cAAgBA,EACrBpoF,KAAK+hD,OAAS,KACd/hD,KAAK8/D,eAAiB,EACtB9/D,KAAK+hG,WAAalhD,SAAS,OAC3B,IAAI34B,EAAY,GAEhB,GAAI45E,GAAUA,EAAOt5D,MAAO,CAC1B,IAAIw5D,EAAenhD,SAAS,SACxBohD,EAAU1iD,kBACdyiD,EAAajvE,aAAa,KAAMkvE,GAChCD,EAAa9pE,YAAc4pE,EAAOt5D,MAClCxoC,KAAK+hG,WAAW9vF,YAAY+vF,GAC5B95E,GAAa+5E,EAGf,GAAIH,GAAUA,EAAOI,YAAa,CAChC,IAAIC,EAActhD,SAAS,QACvBuhD,EAAS7iD,kBACb4iD,EAAYpvE,aAAa,KAAMqvE,GAC/BD,EAAYjqE,YAAc4pE,EAAOI,YACjCliG,KAAK+hG,WAAW9vF,YAAYkwF,GAC5Bj6E,GAAa,IAAMk6E,EAGjBl6E,GACFloB,KAAK+hG,WAAWhvE,aAAa,kBAAmB7K,GAGlD,IAAIilC,EAAOtM,SAAS,QACpB7gD,KAAK+hG,WAAW9vF,YAAYk7C,GAC5B,IAAIo4B,EAAc1kC,SAAS,KAC3B7gD,KAAK+hG,WAAW9vF,YAAYszE,GAC5BvlF,KAAK6jF,aAAe0B,EACpBvlF,KAAKs5E,aAAe,CAClB+oB,oBAAqBP,GAAUA,EAAOO,qBAAuB,gBAC7D1R,yBAA0BmR,GAAUA,EAAOnR,0BAA4B,iBACvE2R,kBAAmBR,GAAUA,EAAOQ,mBAAqB,UACzD3a,gBAAiBma,GAAUA,EAAOna,kBAAmB,EACrDpO,oBAAqBuoB,IAAuC,IAA7BA,EAAOvoB,mBACtCgpB,YAAaT,GAAUA,EAAOS,cAAe,EAC7CC,YAAaV,GAAUA,EAAOU,cAAe,EAC7CxpF,UAAW8oF,GAAUA,EAAO9oF,WAAa,GACzCkC,GAAI4mF,GAAUA,EAAO5mF,IAAM,GAC3BunF,UAAWX,GAAUA,EAAOW,UAC5B1X,WAAY,CACVllE,MAAOi8E,GAAUA,EAAO/W,YAAc+W,EAAO/W,WAAWllE,OAAS,OACjEnG,OAAQoiF,GAAUA,EAAO/W,YAAc+W,EAAO/W,WAAWrrE,QAAU,OACnEuqB,EAAG63D,GAAUA,EAAO/W,YAAc+W,EAAO/W,WAAW9gD,GAAK,KACzDmzB,EAAG0kC,GAAUA,EAAO/W,YAAc+W,EAAO/W,WAAW3tB,GAAK,OAG7Dp9D,KAAKktD,WAAa,CAChBkT,MAAM,EACN9E,UAAW,EACXnO,KAAMA,EACNmsB,aAAct5E,KAAKs5E,cAErBt5E,KAAK21B,SAAW,GAChB31B,KAAKioF,gBAAkB,GACvBjoF,KAAK0iG,WAAY,EACjB1iG,KAAKivD,aAAe,MAStB,SAAS0zC,gBAKP,IAAIh5F,EAIJ,IARA3J,KAAK4iG,MAAQ,GACb5iG,KAAK6iG,QAAU,EACf7iG,KAAK8iG,IAAM,IAAI/7B,OACf/mE,KAAK+iG,GAAK,EAGV/iG,KAAKgjG,QAAU/mD,iBAAiB,UADtB,IAGLtyC,EAAI,EAAGA,EAHF,GAGWA,GAAK,EACxB3J,KAAK4iG,MAAMj5F,GAAKsyC,iBAAiB,UAAW,IAG9Cj8C,KAAK41D,QAPK,GA8BZ,SAASqtC,wBACPjjG,KAAKkjG,UAAY,GACjBljG,KAAKmjG,aAAe,GACpBnjG,KAAKojG,oBAAsB,EAmE7B,SAASC,aAIT,SAASC,cAAcj5F,EAAM+O,GAK3B,IAAIzP,EAJJ3J,KAAKqK,KAAOA,EACZrK,KAAKoZ,QAAUA,EACfpZ,KAAKyiD,gBAAkBziD,KAAKqK,KAAKo4C,iBAAmB,GACpDziD,KAAKm6E,SAAW99B,iBAAiBr8C,KAAKyiD,gBAAgBp+C,QAEtD,IAAImd,EAAMxhB,KAAKyiD,gBAAgBp+C,OAC3Bk/F,GAAW,EAEf,IAAK55F,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACa,MAAjC3J,KAAKyiD,gBAAgB94C,GAAG04E,OAC1BkhB,GAAW,GAGbvjG,KAAKm6E,SAASxwE,GAAK85D,qBAAqBsiB,aAAa/lF,KAAKoZ,QAASpZ,KAAKyiD,gBAAgB94C,GAAI,GAG9F3J,KAAKujG,SAAWA,EAEZA,GACFvjG,KAAKoZ,QAAQ0/D,uBAAuB94E,MAsDxC,SAASwjG,iBAoET,SAASC,YAAYrqF,EAAS/O,EAAMunE,EAAQ8xB,GAC1C1jG,KAAK2jG,aAAe,GACpB3jG,KAAKgyE,GAAK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1B,IAWIroE,EAXAi5C,EAAK,EAEO,OAAZv4C,EAAKu4C,GACPA,EAAK,EACgB,OAAZv4C,EAAKu4C,GACdA,EAAK,EACgB,OAAZv4C,EAAKu4C,KACdA,EAAK,GAGP5iD,KAAKg+D,GAAKyF,qBAAqBsiB,aAAa3sE,EAAS/O,EAAMu4C,EAAIxpC,GAE/D,IACIwqF,EADApiF,EAAMowD,EAAOvtE,OAGjB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACnBioE,EAAOjoE,GAAGs7C,SACb2+C,EAAc,CACZhb,WAAY8a,EAAkBG,qBAAqBjyB,EAAOjoE,GAAGi/E,YAC7Dkb,QAAS,IAEX9jG,KAAK2jG,aAAax8F,KAAKy8F,GACvBhyB,EAAOjoE,GAAGgsB,SAASxuB,KAAKy8F,IAO9B,SAASG,eAAe15F,EAAM6iD,EAAYhK,GACxCljD,KAAKgjD,OAAS,GACdhjD,KAAKujF,WAAal5E,EAAK24C,OACvBhjD,KAAKk2F,WAAa,GAClBl2F,KAAKwjF,UAAY,GACjBxjF,KAAKizF,aAAe,GACpBjzF,KAAK6wF,eAAiB,GACtB7wF,KAAKkxF,kBAAoB,GACzBlxF,KAAK0jG,kBAAoB,IAAIT,sBAC7BjjG,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GAuhBrC,SAAS8gD,cAAc35F,EAAM6iD,EAAYhK,GACvCljD,KAAKshG,UAAY,GACjBthG,KAAKs3F,QAAU,EACft3F,KAAKm3F,eAAgB,EACrBn3F,KAAKo3F,iBAAkB,EACvBp3F,KAAKq3F,iBAAkB,EACvBr3F,KAAKikG,QAAS,EACdjkG,KAAKkkG,MAAO,EACZlkG,KAAK+2F,cAAgB,EACrB/2F,KAAKmkG,cAAgB,KACrBnkG,KAAKy9F,WAAa,SAClBz9F,KAAK4uB,OAAS,CACZs1E,KAAM,gBACND,OAAQ,gBACRG,OAAQ,EACRC,OAAQ,IAEVrkG,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GAiOrC,SAASohD,eAAej6F,EAAM6iD,EAAYhK,GACxCljD,KAAKwnD,UAAY0F,EAAWkE,aAAa/mD,EAAKy4C,OAC9C9iD,KAAK8nD,IAAMoF,EAAW43B,YAAY97B,SAAShpD,KAAKwnD,WAChDxnD,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GA0CrC,SAASqhD,eAAel6F,EAAM6iD,EAAYhK,GACxCljD,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GAarC,SAASshD,mBAAmBpc,EAAe0Z,GACzC9hG,KAAKooF,cAAgBA,EACrBpoF,KAAKs5E,aAAe,CAClBmrB,aAAa3C,QAAiCvgG,IAAvBugG,EAAO2C,aAA4B3C,EAAO2C,YACjE/rF,QAASopF,GAAUA,EAAOppF,SAAW,KACrCivE,gBAAiBma,GAAUA,EAAOna,kBAAmB,EACrD0a,oBAAqBP,GAAUA,EAAOO,qBAAuB,gBAC7D1R,yBAA0BmR,GAAUA,EAAOnR,0BAA4B,iBACvE2R,kBAAmBR,GAAUA,EAAOQ,mBAAqB,UACzDtpF,UAAW8oF,GAAUA,EAAO9oF,WAAa,GACzCkC,GAAI4mF,GAAUA,EAAO5mF,IAAM,IAE7Blb,KAAKs5E,aAAaorB,IAAM5C,GAAUA,EAAO4C,KAAO,EAE5C1kG,KAAKooF,cAAclzE,UACrBlV,KAAKs5E,aAAaorB,IAAM5C,GAAUA,EAAO4C,KAAOpzF,OAAOqzF,kBAAoB,GAG7E3kG,KAAK8/D,eAAiB,EACtB9/D,KAAKktD,WAAa,CAChBoO,UAAW,EACX8E,MAAM,EACNkZ,aAAct5E,KAAKs5E,aACnBsrB,oBAAqB,GAEvB5kG,KAAK6kG,YAAc,IAAIlC,cACvB3iG,KAAK21B,SAAW,GAChB31B,KAAKioF,gBAAkB,GACvBjoF,KAAK8kG,aAAe,IAAI/9B,OACxB/mE,KAAK8hD,gBAAiB,EACtB9hD,KAAKivD,aAAe,SAwVtB,SAAS81C,cAAc16F,EAAM6iD,EAAYhK,GACvCljD,KAAK8hD,gBAAiB,EACtB9hD,KAAK+hD,OAAS13C,EAAK03C,OACnB/hD,KAAKioF,gBAAkB,GACvBjoF,KAAK21B,SAAW0mB,iBAAiBr8C,KAAK+hD,OAAO19C,QAC7CrE,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GACnCljD,KAAKsqD,GAAKjgD,EAAKigD,GAAK4Q,gBAAgBoG,QAAQthE,KAAMqK,EAAKigD,GAAI,EAAG4C,EAAWxB,UAAW1rD,MAAQ,CAC1FmlF,cAAc,GA2ClB,SAAS6f,eAAe5c,EAAe0Z,GACrC9hG,KAAKooF,cAAgBA,EACrBpoF,KAAKs5E,aAAe,CAClBmrB,aAAa3C,QAAiCvgG,IAAvBugG,EAAO2C,aAA4B3C,EAAO2C,YACjE/rF,QAASopF,GAAUA,EAAOppF,SAAW,KACrCivE,gBAAiBma,GAAUA,EAAOna,kBAAmB,EACrD0a,oBAAqBP,GAAUA,EAAOO,qBAAuB,gBAC7D1R,yBAA0BmR,GAAUA,EAAOnR,0BAA4B,iBACvE2R,kBAAmBR,GAAUA,EAAOQ,mBAAqB,UACzDtpF,UAAW8oF,GAAUA,EAAO9oF,WAAa,GACzCkC,GAAI4mF,GAAUA,EAAO5mF,IAAM,IAE7Blb,KAAKs5E,aAAaorB,IAAM5C,GAAUA,EAAO4C,KAAO,EAE5C1kG,KAAKooF,cAAclzE,UACrBlV,KAAKs5E,aAAaorB,IAAM5C,GAAUA,EAAO4C,KAAOpzF,OAAOqzF,kBAAoB,GAG7E3kG,KAAK8/D,eAAiB,EACtB9/D,KAAKktD,WAAa,CAChBoO,UAAW,EACX8E,MAAM,EACNkZ,aAAct5E,KAAKs5E,aACnBsrB,oBAAqB,GAEvB5kG,KAAK6kG,YAAc,IAAIlC,cACvB3iG,KAAK21B,SAAW,GAChB31B,KAAKioF,gBAAkB,GACvBjoF,KAAK8kG,aAAe,IAAI/9B,OACxB/mE,KAAK8hD,gBAAiB,EACtB9hD,KAAKivD,aAAe,SAStB,SAASg2C,gBAwFT,SAASC,cAAc76F,EAAM6iD,EAAYhK,GACvCljD,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GAyBrC,SAASiiD,cAAc96F,EAAM6iD,EAAYhK,GAEvCljD,KAAKgjD,OAAS,GAEdhjD,KAAKujF,WAAal5E,EAAK24C,OAEvBhjD,KAAKk2F,WAAa,GAElBl2F,KAAK6wF,eAAiB,GAEtB7wF,KAAKwjF,UAAY,GAEjBxjF,KAAKkxF,kBAAoB,GAEzBlxF,KAAKm2F,iBAAmB,GACxBn2F,KAAKolG,gBAAkBvkD,SAAS,KAChC7gD,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GAGnCljD,KAAKizF,aAAe,GACpBjzF,KAAKqlG,YAAc,CACjBp7D,EAAG,OACHmzB,GAAI,OACJ1d,EAAG,EACHq1B,EAAG,GAwMP,SAASuwB,aAAaj7F,EAAM6iD,EAAYhK,GACtCljD,KAAKshG,UAAY,GACjBthG,KAAKulG,UAAY,GACjBvlG,KAAKqlG,YAAc,CACjBp7D,EAAG,OACHmzB,GAAI,OACJ1d,EAAG,EACHq1B,EAAG,GAEL/0E,KAAKy9F,WAAa,MAClBz9F,KAAKwlG,UAAW,EAChBxlG,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GA0RrC,SAASuiD,eAAep7F,EAAM6iD,EAAYhK,GACxCljD,KAAKm7D,YACLn7D,KAAK8jF,aAAaz5E,EAAM6iD,EAAYhK,GACpCljD,KAAKqwF,gBACL,IAAI/uB,EAAUpG,gBAAgBoG,QAe9B,GAdAthE,KAAK0lG,GAAKpkC,EAAQthE,KAAMqK,EAAKq7F,GAAI,EAAG,EAAG1lG,MAEnCqK,EAAKg5C,GAAG1D,EAAEhzB,GACZ3sB,KAAKuwE,GAAKjP,EAAQthE,KAAMqK,EAAKg5C,GAAG1D,EAAE1V,EAAG,EAAG,EAAGjqC,MAC3CA,KAAKwwE,GAAKlP,EAAQthE,KAAMqK,EAAKg5C,GAAG1D,EAAEyd,EAAG,EAAG,EAAGp9D,MAC3CA,KAAKywE,GAAKnP,EAAQthE,KAAMqK,EAAKg5C,GAAG1D,EAAEgrB,EAAG,EAAG,EAAG3qE,OAE3CA,KAAK2/C,EAAI2hB,EAAQthE,KAAMqK,EAAKg5C,GAAG1D,EAAG,EAAG,EAAG3/C,MAGtCqK,EAAKg5C,GAAGz+B,IACV5kB,KAAK4kB,EAAI08C,EAAQthE,KAAMqK,EAAKg5C,GAAGz+B,EAAG,EAAG,EAAG5kB,OAGtCqK,EAAKg5C,GAAGoiB,GAAGx0B,EAAE5sC,QAAUgG,EAAKg5C,GAAGoiB,GAAGx0B,EAAE,GAAG8rB,GAAI,CAC7C,IAAIpzD,EACA6X,EAAMnX,EAAKg5C,GAAGoiB,GAAGx0B,EAAE5sC,OAEvB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBU,EAAKg5C,GAAGoiB,GAAGx0B,EAAEtnC,GAAGozD,GAAK,KACrB1yD,EAAKg5C,GAAGoiB,GAAGx0B,EAAEtnC,GAAGqzD,GAAK,KAIzBh9D,KAAKylE,GAAKnE,EAAQthE,KAAMqK,EAAKg5C,GAAGoiB,GAAI,EAAGhoB,UAAWz9C,MAClDA,KAAKylE,GAAGzH,IAAK,EACbh+D,KAAK0wE,GAAKpP,EAAQthE,KAAMqK,EAAKg5C,GAAGqtB,GAAI,EAAGjzB,UAAWz9C,MAClDA,KAAK2wE,GAAKrP,EAAQthE,KAAMqK,EAAKg5C,GAAGstB,GAAI,EAAGlzB,UAAWz9C,MAClDA,KAAK4wE,GAAKtP,EAAQthE,KAAMqK,EAAKg5C,GAAGutB,GAAI,EAAGnzB,UAAWz9C,MAClDA,KAAK+wE,IAAM,IAAIhK,OACf/mE,KAAK2lG,SAAW,IAAI5+B,OACpB/mE,KAAKygE,eAAgB,EAErBzgE,KAAKo5E,eAAiB,CACpBC,MAAOr5E,MA2IX,SAAS4lG,cAAcv7F,EAAM6iD,EAAYhK,GACvCljD,KAAKwnD,UAAY0F,EAAWkE,aAAa/mD,EAAKy4C,OAC9C9iD,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GA6BrC,SAAS2iD,mBAAmBzd,EAAe0Z,GACzC9hG,KAAKooF,cAAgBA,EACrBpoF,KAAK+hD,OAAS,KACd/hD,KAAK8/D,eAAiB,EACtB9/D,KAAKs5E,aAAe,CAClBtgE,UAAW8oF,GAAUA,EAAO9oF,WAAa,GACzC23E,yBAA0BmR,GAAUA,EAAOnR,0BAA4B,iBACvEpX,oBAAqBuoB,IAAuC,IAA7BA,EAAOvoB,mBACtCwR,WAAY,CACVllE,MAAOi8E,GAAUA,EAAO/W,YAAc+W,EAAO/W,WAAWllE,OAAS,OACjEnG,OAAQoiF,GAAUA,EAAO/W,YAAc+W,EAAO/W,WAAWrrE,QAAU,OACnEuqB,EAAG63D,GAAUA,EAAO/W,YAAc+W,EAAO/W,WAAW9gD,GAAK,QACzDmzB,EAAG0kC,GAAUA,EAAO/W,YAAc+W,EAAO/W,WAAW3tB,GAAK,UAG7Dp9D,KAAKktD,WAAa,CAChBkT,MAAM,EACN9E,UAAW,EACXge,aAAct5E,KAAKs5E,cAErBt5E,KAAKioF,gBAAkB,GACvBjoF,KAAK21B,SAAW,GAChB31B,KAAK8lG,eAAiB,GACtB9lG,KAAK0iG,WAAY,EACjB1iG,KAAK+lG,OAAS,KACd/lG,KAAK4hG,YAAa,EAClB5hG,KAAKivD,aAAe,OAwUtB,SAAS+2C,aAAa37F,EAAM6iD,EAAYhK,GACtCljD,KAAK+hD,OAAS13C,EAAK03C,OACnB/hD,KAAK4hG,YAAcv3F,EAAKk4C,QACxBviD,KAAK8hD,gBAAiB,EACtB9hD,KAAKioF,gBAAkB,GACvBjoF,KAAK21B,SAAW31B,KAAK+hD,OAAS1F,iBAAiBr8C,KAAK+hD,OAAO19C,QAAU,GACrErE,KAAK+uF,YAAY1kF,EAAM6iD,EAAYhK,GACnCljD,KAAKsqD,GAAKjgD,EAAKigD,GAAK4Q,gBAAgBoG,QAAQthE,KAAMqK,EAAKigD,GAAI,EAAG4C,EAAWxB,UAAW1rD,MAAQ,CAC1FmlF,cAAc,GA+ClB,SAAS8gB,eAAe7d,EAAe0Z,GACrC9hG,KAAKooF,cAAgBA,EACrBpoF,KAAK+hD,OAAS,KACd/hD,KAAK8/D,eAAiB,EACtB9/D,KAAKs5E,aAAe,CAClBtgE,UAAW8oF,GAAUA,EAAO9oF,WAAa,GACzC23E,yBAA0BmR,GAAUA,EAAOnR,0BAA4B,iBACvEpX,oBAAqBuoB,IAAuC,IAA7BA,EAAOvoB,mBACtCwR,WAAY,CACVllE,MAAOi8E,GAAUA,EAAO/W,YAAc+W,EAAO/W,WAAWllE,OAAS,OACjEnG,OAAQoiF,GAAUA,EAAO/W,YAAc+W,EAAO/W,WAAWrrE,QAAU,OACnEuqB,EAAG63D,GAAUA,EAAO/W,YAAc+W,EAAO/W,WAAW9gD,GAAK,QACzDmzB,EAAG0kC,GAAUA,EAAO/W,YAAc+W,EAAO/W,WAAW3tB,GAAK,UAG7Dp9D,KAAKktD,WAAa,CAChBkT,MAAM,EACN9E,UAAW,EACXge,aAAct5E,KAAKs5E,cAErBt5E,KAAKioF,gBAAkB,GACvBjoF,KAAK21B,SAAW,GAChB31B,KAAK8lG,eAAiB,GACtB9lG,KAAK0iG,WAAY,EACjB1iG,KAAK+lG,OAAS,KACd/lG,KAAK4hG,YAAa,EAClB5hG,KAAKivD,aAAe,OAjjHtBhV,gBAAgB,CAACgpC,YAAaoC,iBAAkBsJ,eAAgBC,iBAAkB1L,aAAc2L,qBAAsBsP,cAAekD,sBAErIA,qBAAqBp/F,UAAUsuF,cAAgB,WACzCvwF,KAAKqK,KAAK67F,cAAgBlmG,KAAKktD,WAAWc,YAAY7J,QACxDnkD,KAAKmmG,cAAgBtlD,SAAS,UAIlCwgD,qBAAqBp/F,UAAUmkG,kBAAoB,SAAUC,GAM3D,IALA,IAAI18F,EAAI,EACJ6X,EAAM6kF,EAAUhiG,OAChBiiG,EAAe,GACfC,EAAqB,GAElB58F,EAAI6X,GACL6kF,EAAU18F,KAAOqjB,OAAOw5E,aAAa,KAAOH,EAAU18F,KAAOqjB,OAAOw5E,aAAa,IACnFF,EAAan/F,KAAKo/F,GAClBA,EAAqB,IAErBA,GAAsBF,EAAU18F,GAGlCA,GAAK,EAIP,OADA28F,EAAan/F,KAAKo/F,GACXD,GAGTjF,qBAAqBp/F,UAAU0+F,aAAe,WAE5C,IAAIh3F,EACA6X,EAFJxhB,KAAK8gE,mBAAmB9gE,MAGxB,IAAI+jD,EAAe/jD,KAAKiiF,aAAar2E,YACrC5L,KAAKi+F,gBAAkB5hD,iBAAiB0H,EAAeA,EAAa/S,EAAE3sC,OAAS,GAE3E0/C,EAAauyC,GACft2F,KAAK6jF,aAAa9wD,aAAa,OAAQ/yB,KAAKihG,WAAWl9C,EAAauyC,KAEpEt2F,KAAK6jF,aAAa9wD,aAAa,OAAQ,iBAGrCgxB,EAAa4zB,KACf33E,KAAK6jF,aAAa9wD,aAAa,SAAU/yB,KAAKihG,WAAWl9C,EAAa4zB,KACtE33E,KAAK6jF,aAAa9wD,aAAa,eAAgBgxB,EAAasyC,KAG9Dr2F,KAAK6jF,aAAa9wD,aAAa,YAAagxB,EAAawzC,WACzD,IAAI5lB,EAAW3xE,KAAKktD,WAAWc,YAAY+pB,cAAch0B,EAAarM,GAEtE,GAAIi6B,EAASoE,OACX/1E,KAAK6jF,aAAa9wD,aAAa,QAAS4+C,EAASoE,YAC5C,CACL/1E,KAAK6jF,aAAa9wD,aAAa,cAAe4+C,EAASmE,SACvD,IAAIhE,EAAU/tB,EAAa+tB,QACvBD,EAAS9tB,EAAa8tB,OAC1B7xE,KAAK6jF,aAAa9wD,aAAa,aAAc8+C,GAC7C7xE,KAAK6jF,aAAa9wD,aAAa,cAAe++C,GAGhD9xE,KAAK6jF,aAAa9wD,aAAa,aAAcgxB,EAAa3N,GAC1D,IAGIqwD,EAHAzM,EAAUj2C,EAAa/S,GAAK,GAC5B01D,IAAe1mG,KAAKktD,WAAWc,YAAY7J,MAC/C3iC,EAAMw4E,EAAQ31F,OAEd,IAAI06F,EAAe/+F,KAAK8oF,QAEpBod,EAAclmG,KAAKqK,KAAK67F,YACxB5H,EAAO,EACPC,EAAO,EACPc,GAAY,EACZ9E,EAAmC,KAAlBx2C,EAAaiuB,GAAajuB,EAAawzC,UAE5D,IAAI2O,GAAgBQ,GAAe3iD,EAAakkB,GA4CzC,CACL,IACI7jB,EADAuiD,EAAoB3mG,KAAKshG,UAAUj9F,OAGvC,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAS3B,GARK3J,KAAKshG,UAAU33F,KAClB3J,KAAKshG,UAAU33F,GAAK,CAClBi9F,KAAM,KACNC,UAAW,KACXC,MAAO,QAINJ,IAAeR,GAAqB,IAANv8F,EAAS,CAG1C,GAFA88F,EAAQE,EAAoBh9F,EAAI3J,KAAKshG,UAAU33F,GAAGi9F,KAAO/lD,SAAS6lD,EAAa,IAAM,QAEjFC,GAAqBh9F,EAAG,CAM1B,GALA88F,EAAM1zE,aAAa,iBAAkB,QACrC0zE,EAAM1zE,aAAa,kBAAmB,SACtC0zE,EAAM1zE,aAAa,oBAAqB,KACxC/yB,KAAKshG,UAAU33F,GAAGi9F,KAAOH,EAErBC,EAAY,CACd,IAAIG,EAAYhmD,SAAS,KACzB4lD,EAAMx0F,YAAY40F,GAClB7mG,KAAKshG,UAAU33F,GAAGk9F,UAAYA,EAGhC7mG,KAAKshG,UAAU33F,GAAGi9F,KAAOH,EACzBzmG,KAAK6jF,aAAa5xE,YAAYw0F,GAGhCA,EAAMx+E,MAAM7S,QAAU,UAoBxB,GAjBA2pF,EAAa/3D,QACb+3D,EAAa/2B,MAAMjkB,EAAawzC,UAAY,IAAKxzC,EAAawzC,UAAY,KAEtE2O,IACElM,EAAQrwF,GAAGkoC,IACbysD,GAAQ/D,EACRgE,GAAQx6C,EAAauzC,QACrBiH,GAAQc,EAAY,EAAI,EACxBA,GAAY,GAGdr/F,KAAK+gG,4BAA4Bh9C,EAAcg7C,EAAc/E,EAAQrwF,GAAGmgD,KAAMw0C,EAAMC,GACpFD,GAAQtE,EAAQrwF,GAAGqnC,GAAK,EAExBstD,GAAQ/D,GAGNmM,EAAY,CAEd,IAAIK,EAEJ,GAAmB,KAHnB3iD,EAAWpkD,KAAKktD,WAAWc,YAAY6pB,YAAY9zB,EAAayzC,UAAU7tF,GAAIgoE,EAASE,OAAQ7xE,KAAKktD,WAAWc,YAAY+pB,cAAch0B,EAAarM,GAAGo+B,UAG5I1/B,EACX2wD,EAAe,IAAIpF,eAAev9C,EAAS/5C,KAAMrK,KAAKktD,WAAYltD,UAC7D,CACL,IAAIqK,EAAO+2F,eAEPh9C,EAAS/5C,MAAQ+5C,EAAS/5C,KAAK24C,SACjC34C,EAAO+5C,EAAS/5C,MAGlB08F,EAAe,IAAI9Q,gBAAgB5rF,EAAMrK,KAAKktD,WAAYltD,MAG5DA,KAAKshG,UAAU33F,GAAGm9F,MAAQC,EAC1BA,EAAaC,QAAS,EACtBD,EAAah8C,aAAa,GAC1Bg8C,EAAaz3C,cACbtvD,KAAKshG,UAAU33F,GAAGk9F,UAAU50F,YAAY80F,EAAaljB,cACrD7jF,KAAKshG,UAAU33F,GAAGk9F,UAAU9zE,aAAa,YAAa,SAAWgxB,EAAawzC,UAAY,IAAM,IAAMxzC,EAAawzC,UAAY,IAAM,UAEjI2O,GACFO,EAAM1zE,aAAa,YAAa,aAAegsE,EAAalmE,MAAM,IAAM,IAAMkmE,EAAalmE,MAAM,IAAM,KAGzG4tE,EAAMvuE,YAAc8hE,EAAQrwF,GAAG4G,IAC/Bk2F,EAAMr9C,eAAe,uCAAwC,YAAa,YAK1E88C,GAAeO,GACjBA,EAAM1zE,aAAa,IAzIR,QAOqC,CAClD,IAAIk0E,EAAWjnG,KAAKmmG,cAChBe,EAAU,QAEd,OAAQnjD,EAAal6C,GACnB,KAAK,EACHq9F,EAAU,MACV,MAEF,KAAK,EACHA,EAAU,SACV,MAEF,QACEA,EAAU,QAIdD,EAASl0E,aAAa,cAAem0E,GACrCD,EAASl0E,aAAa,iBAAkBwnE,GACxC,IAAIriE,EAAcl4B,KAAKomG,kBAAkBriD,EAAayzC,WAItD,IAHAh2E,EAAM0W,EAAY7zB,OAClBk6F,EAAOx6C,EAAamzC,GAAKnzC,EAAamzC,GAAG,GAAKnzC,EAAa6yC,OAAS,EAE/DjtF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,GACxB88F,EAAQzmG,KAAKshG,UAAU33F,GAAGi9F,MAAQ/lD,SAAS,UACrC3oB,YAAcA,EAAYvuB,GAChC88F,EAAM1zE,aAAa,IAAK,GACxB0zE,EAAM1zE,aAAa,IAAKwrE,GACxBkI,EAAMx+E,MAAM7S,QAAU,UACtB6xF,EAASh1F,YAAYw0F,GAEhBzmG,KAAKshG,UAAU33F,KAClB3J,KAAKshG,UAAU33F,GAAK,CAClBi9F,KAAM,KACNE,MAAO,OAIX9mG,KAAKshG,UAAU33F,GAAGi9F,KAAOH,EACzBlI,GAAQx6C,EAAa0zC,gBAGvBz3F,KAAK6jF,aAAa5xE,YAAYg1F,GA2FhC,KAAOt9F,EAAI3J,KAAKshG,UAAUj9F,QACxBrE,KAAKshG,UAAU33F,GAAGi9F,KAAK3+E,MAAM7S,QAAU,OACvCzL,GAAK,EAGP3J,KAAKqvF,cAAe,GAGtBgS,qBAAqBp/F,UAAUw3E,iBAAmB,WAIhD,GAHAz5E,KAAK+qD,aAAa/qD,KAAKkjD,KAAK4c,cAAgB9/D,KAAKqK,KAAKk6C,IACtDvkD,KAAKwwF,qBAEDxwF,KAAKqvF,aAAc,CACrBrvF,KAAKqvF,cAAe,EACpB,IAAI8X,EAAUnnG,KAAK6jF,aAAa57B,UAChCjoD,KAAKonG,KAAO,CACV9xF,IAAK6xF,EAAQ/pC,EACb7nD,KAAM4xF,EAAQl9D,EACdpkB,MAAOshF,EAAQthF,MACfnG,OAAQynF,EAAQznF,QAIpB,OAAO1f,KAAKonG,MAGd/F,qBAAqBp/F,UAAUg/D,SAAW,WACxC,IAAIt3D,EAEAo9F,EADAvlF,EAAMxhB,KAAKshG,UAAUj9F,OAIzB,IAFArE,KAAK8/D,cAAgB9/D,KAAKkjD,KAAK4c,cAE1Bn2D,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,GACxBo9F,EAAe/mG,KAAKshG,UAAU33F,GAAGm9F,SAG/BC,EAAah8C,aAAa/qD,KAAKkjD,KAAK4c,cAAgB9/D,KAAKqK,KAAKk6C,IAE1DwiD,EAAa3mC,OACfpgE,KAAKogE,MAAO,KAMpBihC,qBAAqBp/F,UAAUuuF,mBAAqB,WAClD,KAAKxwF,KAAKqK,KAAK67F,aAAelmG,KAAKogE,QACjCpgE,KAAK0gG,aAAarC,YAAYr+F,KAAKiiF,aAAar2E,YAAa5L,KAAKk+F,oBAE9Dl+F,KAAKk+F,oBAAsBl+F,KAAK0gG,aAAaxC,oBAAoB,CAEnE,IAAIv0F,EACA6X,EAFJxhB,KAAKqvF,cAAe,EAGpB,IAGIgY,EACAC,EACAP,EALA9I,EAAkBj+F,KAAK0gG,aAAazC,gBACpCjE,EAAUh6F,KAAKiiF,aAAar2E,YAAYolC,EAM5C,IALAxvB,EAAMw4E,EAAQ31F,OAKTsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACnBqwF,EAAQrwF,GAAGkoC,IACdw1D,EAAiBpJ,EAAgBt0F,GACjC29F,EAAWtnG,KAAKshG,UAAU33F,GAAGi9F,MAC7BG,EAAe/mG,KAAKshG,UAAU33F,GAAGm9F,QAG/BC,EAAaz3C,cAGX+3C,EAAejnC,KAAKpmC,GACtBstE,EAASv0E,aAAa,YAAas0E,EAAertE,GAGhDqtE,EAAejnC,KAAKzoD,GACtB2vF,EAASv0E,aAAa,UAAWs0E,EAAe1vF,GAG9C0vF,EAAejnC,KAAKi2B,IACtBiR,EAASv0E,aAAa,eAAgBs0E,EAAehR,IAGnDgR,EAAejnC,KAAKuX,IACtB2vB,EAASv0E,aAAa,SAAUs0E,EAAe1vB,IAG7C0vB,EAAejnC,KAAKk2B,IACtBgR,EAASv0E,aAAa,OAAQs0E,EAAe/Q,OAYzDr8C,gBAAgB,CAAC60C,eAAgByS,eAEjCA,cAAct/F,UAAUsuF,cAAgB,WACtC,IAAI9K,EAAO5kC,SAAS,QAIpB4kC,EAAK1yD,aAAa,QAAS/yB,KAAKqK,KAAKgsF,IACrC5Q,EAAK1yD,aAAa,SAAU/yB,KAAKqK,KAAK2zD,IACtCynB,EAAK1yD,aAAa,OAAQ/yB,KAAKqK,KAAKstE,IACpC33E,KAAK6jF,aAAa5xE,YAAYwzE,IAWhC+b,YAAYv/F,UAAU8oD,aAAe,SAAU71B,GAC7Cl1B,KAAKikF,kBAAkB/uD,GAAK,IAG9BssE,YAAYv/F,UAAUqtD,YAAc,aAEpCkyC,YAAYv/F,UAAUykF,eAAiB,WACrC,OAAO,MAGT8a,YAAYv/F,UAAUma,QAAU,aAEhColF,YAAYv/F,UAAUw3E,iBAAmB,aAEzC+nB,YAAYv/F,UAAUob,KAAO,aAE7B48B,gBAAgB,CAACgpC,YAAaoC,iBAAkBuJ,iBAAkB1L,cAAese,aAIjFvnD,gBAAgB,CAACmrC,cAAeqc,iBAEhCA,gBAAgBx/F,UAAUmlF,WAAa,SAAU/8E,GAC/C,OAAO,IAAIm3F,YAAYn3F,EAAMrK,KAAKktD,WAAYltD,OAGhDyhG,gBAAgBx/F,UAAUolF,YAAc,SAAUh9E,GAChD,OAAO,IAAI4rF,gBAAgB5rF,EAAMrK,KAAKktD,WAAYltD,OAGpDyhG,gBAAgBx/F,UAAUqlF,WAAa,SAAUj9E,GAC/C,OAAO,IAAIg3F,qBAAqBh3F,EAAMrK,KAAKktD,WAAYltD,OAGzDyhG,gBAAgBx/F,UAAUglF,YAAc,SAAU58E,GAChD,OAAO,IAAIykF,cAAczkF,EAAMrK,KAAKktD,WAAYltD,OAGlDyhG,gBAAgBx/F,UAAUklF,YAAc,SAAU98E,GAChD,OAAO,IAAIk3F,cAAcl3F,EAAMrK,KAAKktD,WAAYltD,OAGlDyhG,gBAAgBx/F,UAAU2qD,gBAAkB,SAAU+B,GACpD3uD,KAAK+hG,WAAWhvE,aAAa,QAAS,8BAElC/yB,KAAKs5E,aAAakpB,YACpBxiG,KAAK+hG,WAAWhvE,aAAa,UAAW/yB,KAAKs5E,aAAakpB,aAE1DxiG,KAAK+hG,WAAWhvE,aAAa,UAAW,OAAS47B,EAASomB,EAAI,IAAMpmB,EAASjP,GAG1E1/C,KAAKs5E,aAAaipB,cACrBviG,KAAK+hG,WAAWhvE,aAAa,QAAS47B,EAASomB,GAC/C/0E,KAAK+hG,WAAWhvE,aAAa,SAAU47B,EAASjP,GAChD1/C,KAAK+hG,WAAW95E,MAAMpC,MAAQ,OAC9B7lB,KAAK+hG,WAAW95E,MAAMvI,OAAS,OAC/B1f,KAAK+hG,WAAW95E,MAAMqgD,UAAY,qBAClCtoE,KAAK+hG,WAAW95E,MAAMq6E,kBAAoBtiG,KAAKs5E,aAAagpB,mBAG1DtiG,KAAKs5E,aAAatgE,WACpBhZ,KAAK+hG,WAAWhvE,aAAa,QAAS/yB,KAAKs5E,aAAatgE,WAGtDhZ,KAAKs5E,aAAap+D,IACpBlb,KAAK+hG,WAAWhvE,aAAa,KAAM/yB,KAAKs5E,aAAap+D,SAGnB3Z,IAAhCvB,KAAKs5E,aAAampB,WACpBziG,KAAK+hG,WAAWhvE,aAAa,YAAa/yB,KAAKs5E,aAAampB,WAG9DziG,KAAK+hG,WAAWhvE,aAAa,sBAAuB/yB,KAAKs5E,aAAa+oB,qBAGtEriG,KAAKooF,cAAclzE,QAAQjD,YAAYjS,KAAK+hG,YAE5C,IAAI50C,EAAOntD,KAAKktD,WAAWC,KAC3BntD,KAAKkoF,gBAAgBv5B,EAAUxB,GAC/BntD,KAAKktD,WAAWy6B,gBAAkB3nF,KAAKs5E,aAAaqO,gBACpD3nF,KAAKqK,KAAOskD,EACZ,IAAI42B,EAAc1kC,SAAS,YACvB4kC,EAAO5kC,SAAS,QACpB4kC,EAAK1yD,aAAa,QAAS47B,EAASomB,GACpC0Q,EAAK1yD,aAAa,SAAU47B,EAASjP,GACrC+lC,EAAK1yD,aAAa,IAAK,GACvB0yD,EAAK1yD,aAAa,IAAK,GACvB,IAAI+gE,EAASv0C,kBACbgmC,EAAYxyD,aAAa,KAAM+gE,GAC/BvO,EAAYtzE,YAAYwzE,GACxBzlF,KAAK6jF,aAAa9wD,aAAa,YAAa,OAASgnB,kBAAoB,IAAM+5C,EAAS,KACxF3mC,EAAKl7C,YAAYszE,GACjBvlF,KAAK+hD,OAAS4M,EAAS5M,OACvB/hD,KAAK21B,SAAW0mB,iBAAiBsS,EAAS5M,OAAO19C,SAGnDo9F,gBAAgBx/F,UAAUma,QAAU,WAOlC,IAAIzS,EANA3J,KAAKooF,cAAclzE,UACrBlV,KAAKooF,cAAclzE,QAAQw9C,UAAY,IAGzC1yD,KAAK6jF,aAAe,KACpB7jF,KAAKktD,WAAWC,KAAO,KAEvB,IAAI3rC,EAAMxhB,KAAK+hD,OAAS/hD,KAAK+hD,OAAO19C,OAAS,EAE7C,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACpB3J,KAAK21B,SAAShsB,IAChB3J,KAAK21B,SAAShsB,GAAGyS,UAIrBpc,KAAK21B,SAAStxB,OAAS,EACvBrE,KAAK0iG,WAAY,EACjB1iG,KAAKooF,cAAgB,MAGvBqZ,gBAAgBx/F,UAAUmtD,oBAAsB,aAEhDqyC,gBAAgBx/F,UAAU6kF,UAAY,SAAU5kB,GAC9C,IAAIvsC,EAAW31B,KAAK21B,SAEpB,IAAIA,EAASusC,IAAgC,KAAxBliE,KAAK+hD,OAAOmgB,GAAKtf,GAAtC,CAIAjtB,EAASusC,IAAO,EAChB,IAAI9oD,EAAUpZ,KAAKgnF,WAAWhnF,KAAK+hD,OAAOmgB,IAC1CvsC,EAASusC,GAAO9oD,EAEZonC,yBAC0B,IAAxBxgD,KAAK+hD,OAAOmgB,GAAKtf,IACnB5iD,KAAKktD,WAAWT,iBAAiB9B,oBAAoBvxC,GAGvDA,EAAQ+0C,mBAGVnuD,KAAKunG,mBAAmBnuF,EAAS8oD,GAE7BliE,KAAK+hD,OAAOmgB,GAAK7f,KACdriD,KAAK21B,SAASusC,EAAM,KAAiC,IAA3BliE,KAAK21B,SAASusC,EAAM,GAIjD9oD,EAAQ00E,SAASn4D,EAASusC,EAAM,GAAG6hB,UAHnC/jF,KAAK8mF,UAAU5kB,EAAM,GACrBliE,KAAKgoF,kBAAkB5uE,OAO7BqoF,gBAAgBx/F,UAAU8kF,qBAAuB,WAC/C,KAAO/mF,KAAKioF,gBAAgB5jF,QAAQ,CAClC,IAAI+U,EAAUpZ,KAAKioF,gBAAgBt0C,MAGnC,GAFAv6B,EAAQk3E,iBAEJl3E,EAAQ/O,KAAKg4C,GAIf,IAHA,IAAI14C,EAAI,EACJ6X,EAAMxhB,KAAK21B,SAAStxB,OAEjBsF,EAAI6X,GAAK,CACd,GAAIxhB,KAAK21B,SAAShsB,KAAOyP,EAAS,CAChCA,EAAQ00E,SAAS9tF,KAAK21B,SAAShsB,EAAI,GAAGo6E,SACtC,MAGFp6E,GAAK,KAMb83F,gBAAgBx/F,UAAUqtD,YAAc,SAAUp6B,GAChD,GAAIl1B,KAAK8/D,gBAAkB5qC,IAAOl1B,KAAK0iG,UAAvC,CAgBA,IAAI/4F,EAZQ,OAARurB,EACFA,EAAMl1B,KAAK8/D,cAEX9/D,KAAK8/D,cAAgB5qC,EAKvBl1B,KAAKktD,WAAWoO,SAAWpmC,EAC3Bl1B,KAAKktD,WAAWoT,SAAW,EAC3BtgE,KAAKktD,WAAWT,iBAAiBxB,aAAe/1B,EAChDl1B,KAAKktD,WAAWkT,MAAO,EAEvB,IAAI5+C,EAAMxhB,KAAK+hD,OAAO19C,OAMtB,IAJKrE,KAAK8hD,gBACR9hD,KAAK6mF,YAAY3xD,GAGdvrB,EAAI6X,EAAM,EAAG7X,GAAK,EAAGA,GAAK,GACzB3J,KAAK8hD,gBAAkB9hD,KAAK21B,SAAShsB,KACvC3J,KAAK21B,SAAShsB,GAAGohD,aAAa71B,EAAMl1B,KAAK+hD,OAAOp4C,GAAG46C,IAIvD,GAAIvkD,KAAKktD,WAAWkT,KAClB,IAAKz2D,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,GACpB3J,KAAK8hD,gBAAkB9hD,KAAK21B,SAAShsB,KACvC3J,KAAK21B,SAAShsB,GAAG2lD,gBAMzBmyC,gBAAgBx/F,UAAUslG,mBAAqB,SAAUnuF,EAAS8oD,GAChE,IAAInM,EAAa38C,EAAQstE,iBAEzB,GAAK3wB,EAAL,CAOA,IAHA,IACIyxC,EADA79F,EAAI,EAGDA,EAAIu4D,GACLliE,KAAK21B,SAAShsB,KAA2B,IAArB3J,KAAK21B,SAAShsB,IAAe3J,KAAK21B,SAAShsB,GAAG+8E,mBACpE8gB,EAAcxnG,KAAK21B,SAAShsB,GAAG+8E,kBAGjC/8E,GAAK,EAGH69F,EACFxnG,KAAK6jF,aAAappD,aAAas7B,EAAYyxC,GAE3CxnG,KAAK6jF,aAAa5xE,YAAY8jD,KAIlC0rC,gBAAgBx/F,UAAUob,KAAO,WAC/Brd,KAAK6jF,aAAa57D,MAAM7S,QAAU,QAGpCqsF,gBAAgBx/F,UAAUsc,KAAO,WAC/Bve,KAAK6jF,aAAa57D,MAAM7S,QAAU,SAKpC6kC,gBAAgB,CAACgpC,YAAaoC,iBAAkBuJ,iBAAkB1L,aAAc2L,sBAAuB6S,cAEvGA,aAAaz/F,UAAU8sF,YAAc,SAAU1kF,EAAM6iD,EAAYhK,GAC/DljD,KAAKm7D,YACLn7D,KAAK8jF,aAAaz5E,EAAM6iD,EAAYhK,GACpCljD,KAAKqoF,cAAch+E,EAAM6iD,EAAYhK,GACrCljD,KAAKy4E,iBACLz4E,KAAKqwF,gBACLrwF,KAAKmvF,sBACLnvF,KAAKovF,0BACLpvF,KAAKmwF,8BAEDnwF,KAAKqK,KAAK2gD,IAAOkC,EAAWy6B,iBAC9B3nF,KAAKynF,gBAGPznF,KAAKqd,QAePqkF,aAAaz/F,UAAU8oD,aAAe,SAAU71B,GAK9C,GAJAl1B,KAAKogE,MAAO,EACZpgE,KAAKi5E,uBAAuB/jD,GAC5Bl1B,KAAKikF,kBAAkB/uD,EAAKl1B,KAAK04E,WAE5B14E,KAAK04E,WAAc14E,KAAKqK,KAAK2gD,GAAlC,CAIA,GAAKhrD,KAAKsqD,GAAG66B,aASXnlF,KAAK8/D,cAAgB5qC,EAAMl1B,KAAKqK,KAAKm6C,OATZ,CACzB,IAAImiC,EAAe3mF,KAAKsqD,GAAG/oB,EAEvBolD,IAAiB3mF,KAAKqK,KAAKi6C,KAC7BqiC,EAAe3mF,KAAKqK,KAAKi6C,GAAK,GAGhCtkD,KAAK8/D,cAAgB6mB,EAKvB,IAAIh9E,EACA6X,EAAMxhB,KAAK21B,SAAStxB,OAOxB,IALKrE,KAAK8hD,gBACR9hD,KAAK6mF,YAAY7mF,KAAK8/D,eAInBn2D,EAAI6X,EAAM,EAAG7X,GAAK,EAAGA,GAAK,GACzB3J,KAAK8hD,gBAAkB9hD,KAAK21B,SAAShsB,MACvC3J,KAAK21B,SAAShsB,GAAGohD,aAAa/qD,KAAK8/D,cAAgB9/D,KAAK+hD,OAAOp4C,GAAG46C,IAE9DvkD,KAAK21B,SAAShsB,GAAGy2D,OACnBpgE,KAAKogE,MAAO,MAMpBshC,aAAaz/F,UAAUuuF,mBAAqB,WAC1C,IAAI7mF,EACA6X,EAAMxhB,KAAK+hD,OAAO19C,OAEtB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,GACpB3J,KAAK8hD,gBAAkB9hD,KAAK21B,SAAShsB,KACvC3J,KAAK21B,SAAShsB,GAAG2lD,eAKvBoyC,aAAaz/F,UAAUwlG,YAAc,SAAU3zB,GAC7C9zE,KAAK21B,SAAWm+C,GAGlB4tB,aAAaz/F,UAAUylG,YAAc,WACnC,OAAO1nG,KAAK21B,UAGd+rE,aAAaz/F,UAAU0lG,gBAAkB,WACvC,IAAIh+F,EACA6X,EAAMxhB,KAAK+hD,OAAO19C,OAEtB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACpB3J,KAAK21B,SAAShsB,IAChB3J,KAAK21B,SAAShsB,GAAGyS,WAKvBslF,aAAaz/F,UAAUma,QAAU,WAC/Bpc,KAAK2nG,kBACL3nG,KAAKkwF,sBAePj2C,gBAAgB,CAACwnD,gBAAiBC,aAAc/S,gBAAiBgT,gBAEjEA,eAAe1/F,UAAUilF,WAAa,SAAU78E,GAC9C,OAAO,IAAIs3F,eAAet3F,EAAMrK,KAAKktD,WAAYltD,OAmEnDi6C,gBAAgB,CAACwnD,iBAAkBI,aAEnCA,YAAY5/F,UAAUilF,WAAa,SAAU78E,GAC3C,OAAO,IAAIs3F,eAAet3F,EAAMrK,KAAKktD,WAAYltD,OAmBnD2iG,cAAc1gG,UAAU2lG,UAAY,WAClC,IAAIC,EAA2B,EAAf7nG,KAAK41D,QACjBkyC,EAAiB9nG,KAAKgjG,QAC1BhjG,KAAKgjG,QAAU/mD,iBAAiB,UAAW4rD,GAC3C7nG,KAAKgjG,QAAQr4F,IAAIm9F,GACjB,IAAIn+F,EAAI,EAER,IAAKA,EAAI3J,KAAK41D,QAASjsD,EAAIk+F,EAAWl+F,GAAK,EACzC3J,KAAK4iG,MAAMj5F,GAAKsyC,iBAAiB,UAAW,IAG9Cj8C,KAAK41D,QAAUiyC,GAGjBlF,cAAc1gG,UAAU+kC,MAAQ,WAC9BhnC,KAAK6iG,QAAU,EACf7iG,KAAK8iG,IAAI97D,QACThnC,KAAK+iG,GAAK,GASZE,sBAAsBhhG,UAAY,CAChC4hG,qBAAsB,SAA8Bjb,GAClD,IAAIj/E,EACA6X,EAAMonE,EAAWvkF,OACjB2D,EAAM,IAEV,IAAK2B,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3B,GAAO4gF,EAAWj/E,GAAG2+D,UAAUtgE,IAAM,IAGvC,IAAI+/F,EAAW/nG,KAAKkjG,UAAUl7F,GAY9B,OAVK+/F,IACHA,EAAW,CACTnf,WAAY,GAAG5nF,OAAO4nF,GACtBxP,eAAgB,IAAIrS,OACpB3G,MAAM,GAERpgE,KAAKkjG,UAAUl7F,GAAO+/F,EACtB/nG,KAAKmjG,aAAah8F,KAAK4gG,IAGlBA,GAETC,gBAAiB,SAAyBD,EAAU/e,GAKlD,IAJA,IAcMnwD,EAdFlvB,EAAI,EACJ6X,EAAMumF,EAASnf,WAAWvkF,OAC1B+7D,EAAO4oB,EAEJr/E,EAAI6X,IAAQwnE,GAAc,CAC/B,GAAI+e,EAASnf,WAAWj/E,GAAG2+D,UAAU+L,OAAOjU,KAAM,CAChDA,GAAO,EACP,MAGFz2D,GAAK,EAGP,GAAIy2D,EAIF,IAFA2nC,EAAS3uB,eAAepyC,QAEnBr9B,EAAI6X,EAAM,EAAG7X,GAAK,EAAGA,GAAK,EAC7BkvB,EAAQkvE,EAASnf,WAAWj/E,GAAG2+D,UAAU+L,OAAO9yC,EAAE1I,MAClDkvE,EAAS3uB,eAAe9Q,UAAUzvC,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,IAAKA,EAAM,IAAKA,EAAM,IAAKA,EAAM,IAAKA,EAAM,IAAKA,EAAM,KAIvMkvE,EAAS3nC,KAAOA,GAElB6nC,iBAAkB,SAA0Bjf,GAC1C,IAAIr/E,EACA6X,EAAMxhB,KAAKmjG,aAAa9+F,OAE5B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKgoG,gBAAgBhoG,KAAKmjG,aAAax5F,GAAIq/E,IAG/Ckf,UAAW,WAET,OADAloG,KAAKojG,qBAAuB,EACrB,IAAMpjG,KAAKojG,sBAMtBC,UAAUphG,UAAUqtD,YAAc,aA0BlCg0C,cAAcrhG,UAAUqtD,YAAc,WACpC,GAAKtvD,KAAKujG,SAAV,CAIA,IAEI55F,EAEA+4C,EACA2oB,EACAhhE,EANAi+D,EAAYtoE,KAAKoZ,QAAQggE,eAAerI,IACxChgC,EAAM/wC,KAAKoZ,QAAQ+uF,cAEnB3mF,EAAMxhB,KAAKyiD,gBAAgBp+C,OAM/B,IAFA0sC,EAAIq3D,YAECz+F,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB,GAAqC,MAAjC3J,KAAKyiD,gBAAgB94C,GAAG04E,KAAc,CAYxC,IAAIx4E,EAXA7J,KAAKyiD,gBAAgB94C,GAAG8oE,MAC1B1hC,EAAIs3D,OAAO,EAAG,GACdt3D,EAAIu3D,OAAOtoG,KAAKoZ,QAAQ8zC,WAAWqyB,SAASxK,EAAG,GAC/ChkC,EAAIu3D,OAAOtoG,KAAKoZ,QAAQ8zC,WAAWqyB,SAASxK,EAAG/0E,KAAKoZ,QAAQ8zC,WAAWqyB,SAAS7/B,GAChF3O,EAAIu3D,OAAO,EAAGtoG,KAAKoZ,QAAQ8zC,WAAWqyB,SAAS7/B,GAC/C3O,EAAIu3D,OAAO,EAAG,IAGhBj+F,EAAOrK,KAAKm6E,SAASxwE,GAAG43B,EACxBmhB,EAAK4lB,EAAU6C,kBAAkB9gE,EAAKk3B,EAAE,GAAG,GAAIl3B,EAAKk3B,EAAE,GAAG,GAAI,GAC7DwP,EAAIs3D,OAAO3lD,EAAG,GAAIA,EAAG,IAErB,IAAIR,EAAO73C,EAAKurD,QAEhB,IAAK/rD,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACzBwhE,EAAM/C,EAAUiD,oBAAoBlhE,EAAKsN,EAAE9N,EAAI,GAAIQ,EAAKV,EAAEE,GAAIQ,EAAKk3B,EAAE13B,IACrEknC,EAAIw3D,cAAcl9B,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAGhEA,EAAM/C,EAAUiD,oBAAoBlhE,EAAKsN,EAAE9N,EAAI,GAAIQ,EAAKV,EAAE,GAAIU,EAAKk3B,EAAE,IACrEwP,EAAIw3D,cAAcl9B,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAIlErrE,KAAKoZ,QAAQ8zC,WAAWjB,SAASprB,MAAK,GACtCkQ,EAAIy3D,SAGNlF,cAAcrhG,UAAU8mF,gBAAkBzD,YAAYrjF,UAAU8mF,gBAEhEua,cAAcrhG,UAAUma,QAAU,WAChCpc,KAAKoZ,QAAU,MAKjBoqF,cAAcvhG,UAAY,CACxBwmG,eAAgB,aAChBtZ,oBAAqB,aACrBC,wBAAyB,WACvBpvF,KAAKmoG,cAAgBnoG,KAAKktD,WAAWi7C,cACrCnoG,KAAKowF,yBAA2B,IAAIiT,UAAUrjG,OAEhDuwF,cAAe,aACf9M,aAAc,WACZ,IAAIv2B,EAAaltD,KAAKktD,WAEtB,GAAIA,EAAWw7C,YAAc1oG,KAAKqK,KAAKs5E,GAAI,CACzCz2B,EAAWw7C,UAAY1oG,KAAKqK,KAAKs5E,GACjC,IAAID,EAAiBvB,aAAaniF,KAAKqK,KAAKs5E,IAC5Cz2B,EAAWi7C,cAAcQ,yBAA2BjlB,IAGxDyM,2BAA4B,WAC1BnwF,KAAKi6E,YAAc,IAAIqpB,cAActjG,KAAKqK,KAAMrK,OAElD4oG,YAAa,WACN5oG,KAAK24E,QAAY34E,KAAK04E,YAAa14E,KAAK44E,gBAC3C54E,KAAK24E,QAAS,IAGlBkwB,YAAa,WACP7oG,KAAK04E,YAAc14E,KAAK44E,gBAC1B54E,KAAK24E,QAAS,EACd34E,KAAKygE,eAAgB,EACrBzgE,KAAKi6E,YAAYxZ,eAAgB,IAGrCnR,YAAa,WACX,IAAItvD,KAAK24E,SAAU34E,KAAKqK,KAAKwjF,GAA7B,CAIA7tF,KAAKyoF,kBACLzoF,KAAKw5E,mBACLx5E,KAAKyjF,eACL,IAAIqlB,EAAkC,IAAjB9oG,KAAKqK,KAAKu4C,GAC/B5iD,KAAKktD,WAAWjB,SAASprB,KAAKioE,GAC9B9oG,KAAKktD,WAAWjB,SAAS88C,aAAa/oG,KAAKo5E,eAAerI,IAAIl4C,OAC9D74B,KAAKktD,WAAWjB,SAAS+8C,WAAWhpG,KAAKo5E,eAAeC,MAAM1hE,EAAE4pB,GAChEvhC,KAAKwwF,qBACLxwF,KAAKktD,WAAWjB,SAASg9C,QAAQH,GAE7B9oG,KAAKi6E,YAAYspB,UACnBvjG,KAAKktD,WAAWjB,SAASg9C,SAAQ,GAG/BjpG,KAAKygE,gBACPzgE,KAAKygE,eAAgB,KAGzBrkD,QAAS,WACPpc,KAAKmoG,cAAgB,KACrBnoG,KAAKqK,KAAO,KACZrK,KAAKktD,WAAa,KAClBltD,KAAKi6E,YAAY79D,WAEnB0sE,QAAS,IAAI/hB,QAEfy8B,cAAcvhG,UAAUob,KAAOmmF,cAAcvhG,UAAU2mG,YACvDpF,cAAcvhG,UAAUsc,KAAOilF,cAAcvhG,UAAU4mG,YAgCvDpF,YAAYxhG,UAAUgsE,cAAgBqjB,aAAarvF,UAAUgsE,cAc7Dh0B,gBAAgB,CAACgpC,YAAaoC,iBAAkBme,cAAetU,cAAeN,iBAAkB1L,aAAc1K,mBAAoBurB,gBAClIA,eAAe9hG,UAAU8sF,YAAcF,qBAAqB5sF,UAAU8sF,YACtEgV,eAAe9hG,UAAUinG,gBAAkB,CACzCxzF,QAAS,EACT6yE,QAAQ,GAEVwb,eAAe9hG,UAAUknG,aAAe,GAExCpF,eAAe9hG,UAAUsuF,cAAgB,WACvCvwF,KAAK+3F,aAAa/3F,KAAKujF,WAAYvjF,KAAKwjF,UAAWxjF,KAAKizF,cAAc,EAAM,KAG9E8Q,eAAe9hG,UAAUm2F,mBAAqB,SAAU/tF,EAAMu+E,GAC5D,IAAIyM,EAAY,CACdhrF,KAAMA,EACNsW,KAAMtW,EAAKu4C,GACXwmD,cAAeppG,KAAK0jG,kBAAkBG,qBAAqBjb,GAC3DA,WAAY,GACZjzD,SAAU,GACVsvB,QAAoB,IAAZ56C,EAAKwjF,IAEXwK,EAAc,GAsBlB,GApBgB,OAAZhuF,EAAKu4C,IAA2B,OAAZv4C,EAAKu4C,IAC3By1C,EAAY33D,EAAIw6B,gBAAgBoG,QAAQthE,KAAMqK,EAAKq2B,EAAG,EAAG,IAAK1gC,MAEzDq4F,EAAY33D,EAAEuQ,IACjBokD,EAAUgU,GAAK,OAASrsD,QAAQq7C,EAAY33D,EAAEa,EAAE,IAAM,IAAMyb,QAAQq7C,EAAY33D,EAAEa,EAAE,IAAM,IAAMyb,QAAQq7C,EAAY33D,EAAEa,EAAE,IAAM,MAE3G,OAAZl3B,EAAKu4C,IAA2B,OAAZv4C,EAAKu4C,KAClCy1C,EAAY1rE,EAAIuuC,gBAAgBoG,QAAQthE,KAAMqK,EAAKsiB,EAAG,EAAG,KAAM3sB,MAC/Dq4F,EAAYvoF,EAAIorD,gBAAgBoG,QAAQthE,KAAMqK,EAAKyF,EAAG,EAAG,KAAM9P,MAC/Dq4F,EAAY34C,EAAIwb,gBAAgBoG,QAAQthE,KAAMqK,EAAKq1C,GAAK,CACtDzO,EAAG,GACF,EAAG,IAAMjxC,MACZq4F,EAAYzzE,EAAIs2C,gBAAgBoG,QAAQthE,KAAMqK,EAAKua,GAAK,CACtDqsB,EAAG,GACF,EAAGwM,UAAWz9C,MACjBq4F,EAAY7jF,EAAI,IAAI89E,iBAAiBtyF,KAAMqK,EAAKmK,EAAGxU,OAGrDq4F,EAAY1gF,EAAIujD,gBAAgBoG,QAAQthE,KAAMqK,EAAKsN,EAAG,EAAG,IAAM3X,MAE/C,OAAZqK,EAAKu4C,IAA2B,OAAZv4C,EAAKu4C,IAe3B,GAdAyyC,EAAUrB,GAAK5C,YAAY/mF,EAAK2pF,IAAM,GACtCqB,EAAUpB,GAAK5C,aAAahnF,EAAK4pF,IAAM,GAExB,GAAX5pF,EAAK4pF,KAEPoB,EAAUnB,GAAK7pF,EAAK6pF,IAGtBmE,EAAYtjB,EAAI7Z,gBAAgBoG,QAAQthE,KAAMqK,EAAK0qE,EAAG,EAAG,KAAM/0E,MAE1Dq4F,EAAYtjB,EAAE9jC,IACjBokD,EAAUiU,GAAKjR,EAAYtjB,EAAExzC,GAG3Bl3B,EAAKmtC,EAAG,CACV,IAAIA,EAAI,IAAIs6C,aAAa9xF,KAAMqK,EAAKmtC,EAAG,SAAUx3C,MACjDq4F,EAAY7gD,EAAIA,EAEX6gD,EAAY7gD,EAAEvG,IACjBokD,EAAUkU,GAAKlR,EAAY7gD,EAAEw6C,UAC7BqD,EAAc,GAAIgD,EAAY7gD,EAAEy6C,WAAW,UAI/CoD,EAAUp1D,EAAe,IAAX51B,EAAK41B,EAAU,UAAY,UAK3C,OAFAjgC,KAAKk2F,WAAW/uF,KAAKkuF,GACrBgD,EAAYpwE,MAAQotE,EACbgD,GAGT0L,eAAe9hG,UAAUs2F,mBAAqB,WAK5C,MAJkB,CAChBj1C,GAAI,GACJ2vC,aAAc,KAKlB8Q,eAAe9hG,UAAUu2F,uBAAyB,SAAUnuF,GAU1D,MATkB,CAChBi+D,UAAW,CACT5yD,QAAS,EACT6yE,QAAQ,EACRvgF,IAAKhI,KAAK0jG,kBAAkBwE,YAC5B5jD,GAAI4W,gBAAgBoG,QAAQthE,KAAMqK,EAAKsN,EAAG,EAAG,IAAM3X,MACnDq0E,OAAQlE,yBAAyBoB,qBAAqBvxE,KAAMqK,EAAMrK,SAMxE+jG,eAAe9hG,UAAUy2F,mBAAqB,SAAUruF,GACtD,IAAIguF,EAAc,IAAIoL,YAAYzjG,KAAMqK,EAAMrK,KAAKk2F,WAAYl2F,KAAK0jG,mBAGpE,OAFA1jG,KAAKgjD,OAAO77C,KAAKkxF,GACjBr4F,KAAK4wF,oBAAoByH,GAClBA,GAGT0L,eAAe9hG,UAAU4xE,aAAe,WAEtC,IAAIlqE,EADJ3J,KAAKygE,eAAgB,EAErB,IAAIj/C,EAAMxhB,KAAKwjF,UAAUn/E,OAEzB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKizF,aAAatpF,GAAK3J,KAAKwjF,UAAU75E,GAMxC,IAHA3J,KAAK+3F,aAAa/3F,KAAKujF,WAAYvjF,KAAKwjF,UAAWxjF,KAAKizF,cAAc,EAAM,IAC5EzxE,EAAMxhB,KAAKwhE,kBAAkBn9D,OAExBsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAKwhE,kBAAkB73D,GAAGs3D,WAG5BjhE,KAAKgxF,kBACLhxF,KAAK0jG,kBAAkBuE,iBAAiBjoG,KAAKygE,gBAG/CsjC,eAAe9hG,UAAUunG,wBAA0B,SAAUlhC,GAC3D,IAAI3+D,EACA6X,EAAMxhB,KAAKk2F,WAAW7xF,OAE1B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACnB3J,KAAKk2F,WAAWvsF,GAAGs7C,QACtBjlD,KAAKk2F,WAAWvsF,GAAGi/E,WAAWzhF,KAAKmhE,IAKzCy7B,eAAe9hG,UAAUwnG,6BAA+B,WACtD,IAAI9/F,EACA6X,EAAMxhB,KAAKk2F,WAAW7xF,OAE1B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACnB3J,KAAKk2F,WAAWvsF,GAAGs7C,QACtBjlD,KAAKk2F,WAAWvsF,GAAGi/E,WAAWj1C,OAKpCowD,eAAe9hG,UAAUynG,YAAc,SAAU93B,GAC/C,IAAIjoE,EACA6X,EAAMowD,EAAOvtE,OAEjB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBioE,EAAOjoE,GAAGs7C,QAAS,GAIvB8+C,eAAe9hG,UAAU81F,aAAe,SAAU1kF,EAAKmwE,EAAWyP,EAAc0W,EAAc/gB,GAC5F,IAAIj/E,EAEAE,EACAq4C,EAGA62C,EACAD,EACAD,EAPAr3E,EAAMnO,EAAIhP,OAAS,EAGnB20F,EAAY,GACZC,EAAe,GAIf2Q,EAAgB,GAAG5oG,OAAO4nF,GAE9B,IAAKj/E,EAAI6X,EAAK7X,GAAK,EAAGA,GAAK,EAAG,CAS5B,IARAovF,EAAe/4F,KAAKixF,uBAAuB59E,EAAI1J,KAK7C65E,EAAU75E,GAAKspF,EAAa8F,EAAe,GAF3C1lF,EAAI1J,GAAGkgG,cAAgBF,EAKP,OAAdt2F,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,GACtEm2C,EAGHvV,EAAU75E,GAAGse,MAAMg9B,QAAS,EAF5Bu+B,EAAU75E,GAAK3J,KAAKo4F,mBAAmB/kF,EAAI1J,GAAIigG,GAKjD5Q,EAAU7xF,KAAKq8E,EAAU75E,GAAGse,YACvB,GAAkB,OAAd5U,EAAI1J,GAAGi5C,GAAa,CAC7B,GAAKm2C,EAKH,IAFA72C,EAAOshC,EAAU75E,GAAG25C,GAAGj/C,OAElBwF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACzB25E,EAAU75E,GAAGspF,aAAappF,GAAK25E,EAAU75E,GAAG25C,GAAGz5C,QALjD25E,EAAU75E,GAAK3J,KAAKu4F,mBAAmBllF,EAAI1J,IAS7C3J,KAAK+3F,aAAa1kF,EAAI1J,GAAG25C,GAAIkgC,EAAU75E,GAAG25C,GAAIkgC,EAAU75E,GAAGspF,aAAc0W,EAAcC,OAChE,OAAdv2F,EAAI1J,GAAGi5C,IACXm2C,IACHF,EAAmB74F,KAAKw4F,uBAAuBnlF,EAAI1J,IACnD65E,EAAU75E,GAAKkvF,GAGjB+Q,EAAcziG,KAAKq8E,EAAU75E,IAC7B3J,KAAKwpG,wBAAwBhmB,EAAU75E,KAChB,OAAd0J,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,GAC7Em2C,IACHvV,EAAU75E,GAAK3J,KAAK04F,mBAAmBrlF,EAAI1J,KAEtB,OAAd0J,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IAA6B,OAAdvvC,EAAI1J,GAAGi5C,IACvDm2C,GAMHD,EAAWtV,EAAU75E,IACZs7C,QAAS,IANlB6zC,EAAWtrB,eAAeG,YAAYt6D,EAAI1J,GAAGi5C,KACpCvuB,KAAKr0B,KAAMqT,EAAI1J,IACxB65E,EAAU75E,GAAKmvF,EACf94F,KAAK6wF,eAAe1pF,KAAK2xF,IAM3BG,EAAa9xF,KAAK2xF,IACK,OAAdzlF,EAAI1J,GAAGi5C,KACXm2C,GAOHD,EAAWtV,EAAU75E,IACZs7C,QAAS,GAPlB6zC,EAAWtrB,eAAeG,YAAYt6D,EAAI1J,GAAGi5C,IAC7C4gC,EAAU75E,GAAKmvF,EACfA,EAASzkE,KAAKr0B,KAAMqT,EAAK1J,EAAG65E,GAC5BxjF,KAAK6wF,eAAe1pF,KAAK2xF,GACzB6Q,GAAe,GAMjB1Q,EAAa9xF,KAAK2xF,IAGpB94F,KAAKmxF,oBAAoB99E,EAAI1J,GAAIA,EAAI,GAOvC,IAJA3J,KAAKypG,+BACLzpG,KAAK0pG,YAAY1Q,GACjBx3E,EAAMy3E,EAAa50F,OAEdsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBsvF,EAAatvF,GAAGs7C,QAAS,GAI7B8+C,eAAe9hG,UAAUuuF,mBAAqB,WAC5CxwF,KAAKkpG,gBAAgBxzF,QAAU,EAC/B1V,KAAKkpG,gBAAgB3gB,QAAS,EAC9BvoF,KAAKgxF,kBACLhxF,KAAK0jG,kBAAkBuE,iBAAiBjoG,KAAKygE,eAC7CzgE,KAAKk5F,YAAYl5F,KAAKkpG,gBAAiBlpG,KAAKujF,WAAYvjF,KAAKwjF,WAAW,IAG1EugB,eAAe9hG,UAAU6nG,qBAAuB,SAAUC,EAAiBC,IACrED,EAAgBxhB,QAAUyhB,EAAe1lD,GAAG8b,MAAQpgE,KAAKygE,iBAC3DupC,EAAet0F,QAAUq0F,EAAgBr0F,QACzCs0F,EAAet0F,SAAWs0F,EAAe1lD,GAAG/iB,EAC5CyoE,EAAezhB,QAAS,IAI5Bwb,eAAe9hG,UAAUgoG,UAAY,WACnC,IAAItgG,EAEAE,EACAq4C,EACAjR,EACAkR,EACA2xB,EACAn5D,EAGAgG,EACAupF,EAVA1oF,EAAMxhB,KAAKk2F,WAAW7xF,OAOtB4nD,EAAWjsD,KAAKktD,WAAWjB,SAC3Blb,EAAM/wC,KAAKktD,WAAWi7C,cAI1B,IAAKx+F,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAQxB,IAAgB,QANhBgX,GADAupF,EAAelqG,KAAKk2F,WAAWvsF,IACXgX,OAMa,OAATA,GAAsC,IAApBupF,EAAaZ,KAAaY,EAAa7/F,KAAKw/F,eAAuC,IAAtBK,EAAaC,MAAqD,IAAvCnqG,KAAKktD,WAAW03C,mBAA2B,CAuB3K,IAtBA34C,EAASprB,OACTizC,EAAQo2B,EAAav0E,SAER,OAAThV,GAA0B,OAATA,GACnBowB,EAAIq5D,YAAuB,OAATzpF,EAAgBupF,EAAab,GAAKa,EAAaG,IACjEt5D,EAAIspD,UAAY6P,EAAaZ,GAC7Bv4D,EAAIu5D,QAAUJ,EAAalW,GAC3BjjD,EAAIw5D,SAAWL,EAAajW,GAC5BljD,EAAIy5D,WAAaN,EAAahW,IAAM,GAEpCnjD,EAAI+V,UAAqB,OAATnmC,EAAgBupF,EAAab,GAAKa,EAAaG,IAGjEp+C,EAAS+8C,WAAWkB,EAAaC,MAEpB,OAATxpF,GAA0B,OAATA,GACnBowB,EAAIq3D,YAGNn8C,EAAS88C,aAAamB,EAAad,cAAchwB,eAAevgD,OAChEqpB,EAAO4xB,EAAMzvE,OAERwF,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EAAG,CAa5B,IAZa,OAAT8W,GAA0B,OAATA,IACnBowB,EAAIq3D,YAEA8B,EAAaX,KACfx4D,EAAI05D,YAAYP,EAAaX,IAC7Bx4D,EAAI25D,eAAiBR,EAAiB,KAK1C/nD,GADAxnC,EAAQm5D,EAAMjqE,GAAGi6F,SACJz/F,OAER4sC,EAAI,EAAGA,EAAIkR,EAAMlR,GAAK,EACN,MAAft2B,EAAMs2B,GAAGmF,EACXrF,EAAIs3D,OAAO1tF,EAAMs2B,GAAG0O,EAAE,GAAIhlC,EAAMs2B,GAAG0O,EAAE,IACb,MAAfhlC,EAAMs2B,GAAGmF,EAClBrF,EAAIw3D,cAAc5tF,EAAMs2B,GAAGo6B,IAAI,GAAI1wD,EAAMs2B,GAAGo6B,IAAI,GAAI1wD,EAAMs2B,GAAGo6B,IAAI,GAAI1wD,EAAMs2B,GAAGo6B,IAAI,GAAI1wD,EAAMs2B,GAAGo6B,IAAI,GAAI1wD,EAAMs2B,GAAGo6B,IAAI,IAEpHt6B,EAAI45D,YAIK,OAAThqF,GAA0B,OAATA,IACnBowB,EAAIkzD,SAEAiG,EAAaX,IACfx4D,EAAI05D,YAAYzqG,KAAKmpG,eAKd,OAATxoF,GAA0B,OAATA,GACnBowB,EAAImzD,KAAKgG,EAAajqE,GAGxBgsB,EAASg9C,YAKflF,eAAe9hG,UAAUi3F,YAAc,SAAU6Q,EAAiB71D,EAAO7pC,EAAMugG,GAC7E,IAAIjhG,EAEAqgG,EAGJ,IAFAA,EAAiBD,EAEZpgG,EAJKuqC,EAAM7vC,OAAS,EAIXsF,GAAK,EAAGA,GAAK,EACL,OAAhBuqC,EAAMvqC,GAAGi5C,IACXonD,EAAiB3/F,EAAKV,GAAG2+D,UACzBtoE,KAAK8pG,qBAAqBC,EAAiBC,IAClB,OAAhB91D,EAAMvqC,GAAGi5C,IAA+B,OAAhB1O,EAAMvqC,GAAGi5C,IAA+B,OAAhB1O,EAAMvqC,GAAGi5C,IAA+B,OAAhB1O,EAAMvqC,GAAGi5C,GAC1F5iD,KAAKg1F,WAAW9gD,EAAMvqC,GAAIU,EAAKV,IACN,OAAhBuqC,EAAMvqC,GAAGi5C,GAClB5iD,KAAKo1F,WAAWlhD,EAAMvqC,GAAIU,EAAKV,GAAIqgG,GACV,OAAhB91D,EAAMvqC,GAAGi5C,GAClB5iD,KAAKw1F,aAAathD,EAAMvqC,GAAIU,EAAKV,GAAIqgG,GACZ,OAAhB91D,EAAMvqC,GAAGi5C,IAA+B,OAAhB1O,EAAMvqC,GAAGi5C,GAC1C5iD,KAAK6qG,mBAAmB32D,EAAMvqC,GAAIU,EAAKV,GAAIqgG,GAClB,OAAhB91D,EAAMvqC,GAAGi5C,GAClB5iD,KAAKk5F,YAAY8Q,EAAgB91D,EAAMvqC,GAAG25C,GAAIj5C,EAAKV,GAAG25C,IAC7CpP,EAAMvqC,GAAGi5C,GAIlBgoD,GACF5qG,KAAKiqG,aAITlG,eAAe9hG,UAAU6oG,kBAAoB,SAAUlH,EAAa3gC,GAClE,GAAIjjE,KAAKygE,eAAiBwC,EAAM7C,MAAQwjC,EAAYhb,WAAWxoB,KAAM,CACnE,IAEIz2D,EACA6X,EACA3X,EAJAkhG,EAAanH,EAAYE,QACzB5/B,EAAQjB,EAAMiB,MAIdhiB,EAAOgiB,EAAMtO,QACjBm1C,EAAW1mG,OAAS,EACpB,IAAI2mG,EAAoBpH,EAAYhb,WAAWxP,eAE/C,IAAKvvE,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EAAG,CAC5B,IAAIq/E,EAAYhlB,EAAMlhB,OAAOn5C,GAE7B,GAAIq/E,GAAaA,EAAU3nD,EAAG,CAG5B,IAFA/f,EAAM0nE,EAAUtzB,QAEXjsD,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACd,IAANA,GACFohG,EAAW5jG,KAAK,CACdivC,EAAG,IACHuJ,EAAGqrD,EAAkB7/B,kBAAkB+d,EAAU3nD,EAAE,GAAG,GAAI2nD,EAAU3nD,EAAE,GAAG,GAAI,KAIjFwpE,EAAW5jG,KAAK,CACdivC,EAAG,IACHi1B,IAAK2/B,EAAkBz/B,oBAAoB2d,EAAUvxE,EAAEhO,EAAI,GAAIu/E,EAAUv/E,EAAEA,GAAIu/E,EAAU3nD,EAAE53B,MAInF,IAAR6X,GACFupF,EAAW5jG,KAAK,CACdivC,EAAG,IACHuJ,EAAGqrD,EAAkB7/B,kBAAkB+d,EAAU3nD,EAAE,GAAG,GAAI2nD,EAAU3nD,EAAE,GAAG,GAAI,KAI7E2nD,EAAUxoD,GAAKlf,IACjBupF,EAAW5jG,KAAK,CACdivC,EAAG,IACHi1B,IAAK2/B,EAAkBz/B,oBAAoB2d,EAAUvxE,EAAEhO,EAAI,GAAIu/E,EAAUv/E,EAAE,GAAIu/E,EAAU3nD,EAAE,MAE7FwpE,EAAW5jG,KAAK,CACdivC,EAAG,QAMXwtD,EAAYE,QAAUiH,IAI1BhH,eAAe9hG,UAAU+yF,WAAa,SAAUpwC,EAAUkwC,GACxD,IAAoB,IAAhBlwC,EAASipC,IAAejpC,EAASilD,cAAe,CAClD,IAAIlgG,EACA6X,EAAMszE,EAAS6O,aAAat/F,OAEhC,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAK8qG,kBAAkBhW,EAAS6O,aAAah6F,GAAImrF,EAAS92B,MAKhE+lC,eAAe9hG,UAAUmzF,WAAa,SAAUP,EAAWC,EAAUkV,GACnE,IAAI3U,EAAYP,EAAS7sE,OAErB6sE,EAASp0D,EAAE0/B,MAAQpgE,KAAKygE,iBAC1B40B,EAAUgU,GAAK,OAASrsD,QAAQ83C,EAASp0D,EAAEa,EAAE,IAAM,IAAMyb,QAAQ83C,EAASp0D,EAAEa,EAAE,IAAM,IAAMyb,QAAQ83C,EAASp0D,EAAEa,EAAE,IAAM,MAGnHuzD,EAASn9E,EAAEyoD,MAAQ4pC,EAAezhB,QAAUvoF,KAAKygE,iBACnD40B,EAAU8U,KAAOrV,EAASn9E,EAAE4pB,EAAIyoE,EAAet0F,UAInDquF,eAAe9hG,UAAU4oG,mBAAqB,SAAUhW,EAAWC,EAAUkV,GAC3E,IACIK,EADAhV,EAAYP,EAAS7sE,MAGzB,IAAKotE,EAAUgV,KAAOvV,EAAStgF,EAAE4rD,MAAQ00B,EAASnoE,EAAEyzC,MAAQ00B,EAAShlF,EAAEswD,MAAwB,IAAhBy0B,EAAUz+C,IAAY0+C,EAASp1C,EAAE0gB,MAAQ00B,EAASlwE,EAAEw7C,MAAO,CACxI,IAuBIz2D,EAvBAonC,EAAM/wC,KAAKktD,WAAWi7C,cACtBjxC,EAAM49B,EAASnoE,EAAE4U,EACjB41B,EAAM29B,EAAShlF,EAAEyxB,EAErB,GAAoB,IAAhBszD,EAAUz+C,EACZi0D,EAAMt5D,EAAIk6D,qBAAqB/zC,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,QACtD,CACL,IAAIwO,EAAM3+D,KAAK+1C,KAAK/1C,KAAK61C,IAAIqa,EAAI,GAAKC,EAAI,GAAI,GAAKnwD,KAAK61C,IAAIqa,EAAI,GAAKC,EAAI,GAAI,IACzE2+B,EAAM9uF,KAAKo4D,MAAMjI,EAAI,GAAKD,EAAI,GAAIC,EAAI,GAAKD,EAAI,IAC/CsD,EAAUs6B,EAASp1C,EAAEne,EAErBi5B,GAAW,EACbA,EAAU,IACDA,IAAY,IACrBA,GAAW,KAGb,IAAIu7B,EAAOpwB,EAAMnL,EACbvwB,EAAIjjC,KAAKu4D,IAAIu2B,EAAMhB,EAASlwE,EAAE2c,GAAKw0D,EAAO7+B,EAAI,GAC9CkG,EAAIp2D,KAAKk4D,IAAI42B,EAAMhB,EAASlwE,EAAE2c,GAAKw0D,EAAO7+B,EAAI,GAClDmzC,EAAMt5D,EAAIm6D,qBAAqBjhE,EAAGmzB,EAAG,EAAGlG,EAAI,GAAIA,EAAI,GAAIyO,GAI1D,IAAInkD,EAAMqzE,EAAUrgF,EAAEmrC,EAClBi2C,EAAUd,EAAStgF,EAAEksB,EACrBhrB,EAAU,EAEd,IAAK/L,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACpBmrF,EAAStgF,EAAEo+E,aAAekC,EAAStgF,EAAEk+E,eACvCh9E,EAAUo/E,EAAStgF,EAAEmD,EAAM,EAAJhO,EAAQ,IAGjC0gG,EAAIc,aAAavV,EAAY,EAAJjsF,GAAS,IAAK,QAAUisF,EAAY,EAAJjsF,EAAQ,GAAK,IAAMisF,EAAY,EAAJjsF,EAAQ,GAAK,IAAMisF,EAAY,EAAJjsF,EAAQ,GAAK,IAAM+L,EAAU,KAG9I2/E,EAAUgV,IAAMA,EAGlBhV,EAAU8U,KAAOrV,EAASn9E,EAAE4pB,EAAIyoE,EAAet0F,SAGjDquF,eAAe9hG,UAAUuzF,aAAe,SAAUX,EAAWC,EAAUkV,GACrE,IAAI3U,EAAYP,EAAS7sE,MACrBuvB,EAAIs9C,EAASt9C,EAEbA,IAAMA,EAAE4oB,MAAQpgE,KAAKygE,iBACvB40B,EAAUkU,GAAK/xD,EAAEw6C,UACjBqD,EAAc,GAAI79C,EAAEy6C,WAAW,KAG7B6C,EAASp0D,EAAE0/B,MAAQpgE,KAAKygE,iBAC1B40B,EAAUgU,GAAK,OAASrsD,QAAQ83C,EAASp0D,EAAEa,EAAE,IAAM,IAAMyb,QAAQ83C,EAASp0D,EAAEa,EAAE,IAAM,IAAMyb,QAAQ83C,EAASp0D,EAAEa,EAAE,IAAM,MAGnHuzD,EAASn9E,EAAEyoD,MAAQ4pC,EAAezhB,QAAUvoF,KAAKygE,iBACnD40B,EAAU8U,KAAOrV,EAASn9E,EAAE4pB,EAAIyoE,EAAet0F,UAG7Co/E,EAAS/f,EAAE3U,MAAQpgE,KAAKygE,iBAC1B40B,EAAUiU,GAAKxU,EAAS/f,EAAExzC,IAI9BwiE,eAAe9hG,UAAUma,QAAU,WACjCpc,KAAKujF,WAAa,KAClBvjF,KAAKktD,WAAa,KAClBltD,KAAKmoG,cAAgB,KACrBnoG,KAAKk2F,WAAW7xF,OAAS,EACzBrE,KAAKwjF,UAAUn/E,OAAS,GAuB1B41C,gBAAgB,CAACgpC,YAAaoC,iBAAkBme,cAAe5U,iBAAkB1L,aAAc1K,kBAAmB2lB,cAAe6F,eACjIA,cAAc/hG,UAAU2zE,QAAU57B,UAAU,UAAU6M,WAAW,MAEjEm9C,cAAc/hG,UAAU0+F,aAAe,WACrC,IAAI58C,EAAe/jD,KAAKiiF,aAAar2E,YACrC5L,KAAKi+F,gBAAkB5hD,iBAAiB0H,EAAa/S,EAAI+S,EAAa/S,EAAE3sC,OAAS,GACjF,IAAI+mG,GAAU,EAEVrnD,EAAauyC,IACf8U,GAAU,EACVprG,KAAK4uB,OAAOs1E,KAAOlkG,KAAKihG,WAAWl9C,EAAauyC,KAEhDt2F,KAAK4uB,OAAOs1E,KAAO,gBAGrBlkG,KAAKkkG,KAAOkH,EACZ,IAAIC,GAAY,EAEZtnD,EAAa4zB,KACf0zB,GAAY,EACZrrG,KAAK4uB,OAAOq1E,OAASjkG,KAAKihG,WAAWl9C,EAAa4zB,IAClD33E,KAAK4uB,OAAOw1E,OAASrgD,EAAasyC,IAGpC,IACI1sF,EACA6X,EAOA4iC,EACAuU,EACA1nB,EACAkR,EACAa,EACAn5C,EACAq4C,EACAgnC,EACAoiB,EACAC,EAlBA55B,EAAW3xE,KAAKktD,WAAWc,YAAY+pB,cAAch0B,EAAarM,GAGlEsiD,EAAUj2C,EAAa/S,EACvB+tD,EAAe/+F,KAAK8oF,QACxB9oF,KAAKikG,OAASoH,EACdrrG,KAAK4uB,OAAOy1E,OAAStgD,EAAawzC,UAAY,MAAQv3F,KAAKktD,WAAWc,YAAY+pB,cAAch0B,EAAarM,GAAGo+B,QAChHt0D,EAAMuiC,EAAayzC,UAAUnzF,OAY7B,IAAI6hG,EAAclmG,KAAKqK,KAAK67F,YACxB3L,EAAmC,KAAlBx2C,EAAaiuB,GAAajuB,EAAawzC,UACxD+G,EAAO,EACPC,EAAO,EACPc,GAAY,EACZv8B,EAAM,EAEV,IAAKn5D,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAE3BgvD,GADAvU,EAAWpkD,KAAKktD,WAAWc,YAAY6pB,YAAY9zB,EAAayzC,UAAU7tF,GAAIgoE,EAASE,OAAQ7xE,KAAKktD,WAAWc,YAAY+pB,cAAch0B,EAAarM,GAAGo+B,WACjI1xB,EAAS/5C,MAAQ,GACzC00F,EAAa/3D,QAETk/D,GAAelM,EAAQrwF,GAAGkoC,IAC5BysD,GAAQ/D,EACRgE,GAAQx6C,EAAauzC,QACrBiH,GAAQc,EAAY,EAAI,EACxBA,GAAY,GAIdn9C,GADAc,EAAS2V,EAAU3V,OAAS2V,EAAU3V,OAAO,GAAGM,GAAK,IACvCj/C,OACd06F,EAAa/2B,MAAMjkB,EAAawzC,UAAY,IAAKxzC,EAAawzC,UAAY,KAEtE2O,GACFlmG,KAAK+gG,4BAA4Bh9C,EAAcg7C,EAAc/E,EAAQrwF,GAAGmgD,KAAMw0C,EAAMC,GAGtF+M,EAAWjvD,iBAAiB6F,EAAO,GACnC,IAAIspD,EAAkB,EAEtB,IAAK3hG,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EACzB,GAAqB,OAAjBm5C,EAAOn5C,GAAG+4C,GAAa,CAKzB,IAJAT,EAAOa,EAAOn5C,GAAGw5C,GAAGpS,EAAEtnC,EAAEtF,OACxB6kF,EAAYlmC,EAAOn5C,GAAGw5C,GAAGpS,EACzBs6D,EAAU,GAELt6D,EAAI,EAAGA,EAAIkR,EAAMlR,GAAK,EACf,IAANA,GACFs6D,EAAQpkG,KAAK43F,EAAan0B,SAASse,EAAU3nD,EAAE,GAAG,GAAI2nD,EAAU3nD,EAAE,GAAG,GAAI,GAAIw9D,EAAal0B,SAASqe,EAAU3nD,EAAE,GAAG,GAAI2nD,EAAU3nD,EAAE,GAAG,GAAI,IAG3IgqE,EAAQpkG,KAAK43F,EAAan0B,SAASse,EAAUvxE,EAAEs5B,EAAI,GAAG,GAAIi4C,EAAUvxE,EAAEs5B,EAAI,GAAG,GAAI,GAAI8tD,EAAal0B,SAASqe,EAAUvxE,EAAEs5B,EAAI,GAAG,GAAIi4C,EAAUvxE,EAAEs5B,EAAI,GAAG,GAAI,GAAI8tD,EAAan0B,SAASse,EAAUv/E,EAAEsnC,GAAG,GAAIi4C,EAAUv/E,EAAEsnC,GAAG,GAAI,GAAI8tD,EAAal0B,SAASqe,EAAUv/E,EAAEsnC,GAAG,GAAIi4C,EAAUv/E,EAAEsnC,GAAG,GAAI,GAAI8tD,EAAan0B,SAASse,EAAU3nD,EAAE0P,GAAG,GAAIi4C,EAAU3nD,EAAE0P,GAAG,GAAI,GAAI8tD,EAAal0B,SAASqe,EAAU3nD,EAAE0P,GAAG,GAAIi4C,EAAU3nD,EAAE0P,GAAG,GAAI,IAG3Zs6D,EAAQpkG,KAAK43F,EAAan0B,SAASse,EAAUvxE,EAAEs5B,EAAI,GAAG,GAAIi4C,EAAUvxE,EAAEs5B,EAAI,GAAG,GAAI,GAAI8tD,EAAal0B,SAASqe,EAAUvxE,EAAEs5B,EAAI,GAAG,GAAIi4C,EAAUvxE,EAAEs5B,EAAI,GAAG,GAAI,GAAI8tD,EAAan0B,SAASse,EAAUv/E,EAAE,GAAG,GAAIu/E,EAAUv/E,EAAE,GAAG,GAAI,GAAIo1F,EAAal0B,SAASqe,EAAUv/E,EAAE,GAAG,GAAIu/E,EAAUv/E,EAAE,GAAG,GAAI,GAAIo1F,EAAan0B,SAASse,EAAU3nD,EAAE,GAAG,GAAI2nD,EAAU3nD,EAAE,GAAG,GAAI,GAAIw9D,EAAal0B,SAASqe,EAAU3nD,EAAE,GAAG,GAAI2nD,EAAU3nD,EAAE,GAAG,GAAI,IACzZ+pE,EAASE,GAAmBD,EAC5BC,GAAmB,EAInBtF,IACF5H,GAAQtE,EAAQrwF,GAAGqnC,EACnBstD,GAAQ/D,GAGNv6F,KAAKshG,UAAUx+B,GACjB9iE,KAAKshG,UAAUx+B,GAAKvtC,KAAO+1E,EAE3BtrG,KAAKshG,UAAUx+B,GAAO,CACpBvtC,KAAM+1E,GAIVxoC,GAAO,IAIXkhC,cAAc/hG,UAAUuuF,mBAAqB,WAC3C,IAUI7mF,EACA6X,EACA3X,EACAq4C,EACAjR,EACAkR,EAfApR,EAAM/wC,KAAKmoG,cACfp3D,EAAIqkC,KAAOp1E,KAAK4uB,OAAOy1E,OACvBtzD,EAAIu5D,QAAU,OACdv5D,EAAIw5D,SAAW,QACfx5D,EAAIy5D,WAAa,EAEZxqG,KAAKqK,KAAK67F,aACblmG,KAAK0gG,aAAarC,YAAYr+F,KAAKiiF,aAAar2E,YAAa5L,KAAKk+F,oBASpE,IAGImJ,EAHApJ,EAAkBj+F,KAAK0gG,aAAazC,gBACpCjE,EAAUh6F,KAAKiiF,aAAar2E,YAAYolC,EAC5CxvB,EAAMw4E,EAAQ31F,OAEd,IAGIinG,EACAC,EAJAE,EAAW,KACXC,EAAa,KACbC,EAAc,KAIlB,IAAKhiG,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB,IAAKqwF,EAAQrwF,GAAGkoC,EAAG,CASjB,IARAw1D,EAAiBpJ,EAAgBt0F,MAG/B3J,KAAKktD,WAAWjB,SAASprB,OACzB7gC,KAAKktD,WAAWjB,SAAS88C,aAAa1B,EAAe1nD,GACrD3/C,KAAKktD,WAAWjB,SAAS+8C,WAAW3B,EAAe1vF,IAGjD3X,KAAKkkG,KAAM,CAeb,IAdImD,GAAkBA,EAAe/Q,GAC/BmV,IAAapE,EAAe/Q,KAC9BmV,EAAWpE,EAAe/Q,GAC1BvlD,EAAI+V,UAAYugD,EAAe/Q,IAExBmV,IAAazrG,KAAK4uB,OAAOs1E,OAClCuH,EAAWzrG,KAAK4uB,OAAOs1E,KACvBnzD,EAAI+V,UAAY9mD,KAAK4uB,OAAOs1E,MAI9BhiD,GADAopD,EAAWtrG,KAAKshG,UAAU33F,GAAG4rB,MACblxB,OAChBrE,KAAKktD,WAAWi7C,cAAcC,YAEzBv+F,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EAKzB,IAHAs4C,GADAopD,EAAUD,EAASzhG,IACJxF,OACfrE,KAAKktD,WAAWi7C,cAAcE,OAAOkD,EAAQ,GAAIA,EAAQ,IAEpDt6D,EAAI,EAAGA,EAAIkR,EAAMlR,GAAK,EACzBjxC,KAAKktD,WAAWi7C,cAAcI,cAAcgD,EAAQt6D,GAAIs6D,EAAQt6D,EAAI,GAAIs6D,EAAQt6D,EAAI,GAAIs6D,EAAQt6D,EAAI,GAAIs6D,EAAQt6D,EAAI,GAAIs6D,EAAQt6D,EAAI,IAIxIjxC,KAAKktD,WAAWi7C,cAAcwC,YAC9B3qG,KAAKktD,WAAWi7C,cAAcjE,OAGhC,GAAIlkG,KAAKikG,OAAQ,CAyBf,IAxBIoD,GAAkBA,EAAehR,GAC/BsV,IAAgBtE,EAAehR,KACjCsV,EAActE,EAAehR,GAC7BtlD,EAAIspD,UAAYgN,EAAehR,IAExBsV,IAAgB3rG,KAAK4uB,OAAOw1E,SACrCuH,EAAc3rG,KAAK4uB,OAAOw1E,OAC1BrzD,EAAIspD,UAAYr6F,KAAK4uB,OAAOw1E,QAG1BiD,GAAkBA,EAAe1vB,GAC/B+zB,IAAerE,EAAe1vB,KAChC+zB,EAAarE,EAAe1vB,GAC5B5mC,EAAIq5D,YAAc/C,EAAe1vB,IAE1B+zB,IAAe1rG,KAAK4uB,OAAOq1E,SACpCyH,EAAa1rG,KAAK4uB,OAAOq1E,OACzBlzD,EAAIq5D,YAAcpqG,KAAK4uB,OAAOq1E,QAIhC/hD,GADAopD,EAAWtrG,KAAKshG,UAAU33F,GAAG4rB,MACblxB,OAChBrE,KAAKktD,WAAWi7C,cAAcC,YAEzBv+F,EAAI,EAAGA,EAAIq4C,EAAMr4C,GAAK,EAKzB,IAHAs4C,GADAopD,EAAUD,EAASzhG,IACJxF,OACfrE,KAAKktD,WAAWi7C,cAAcE,OAAOkD,EAAQ,GAAIA,EAAQ,IAEpDt6D,EAAI,EAAGA,EAAIkR,EAAMlR,GAAK,EACzBjxC,KAAKktD,WAAWi7C,cAAcI,cAAcgD,EAAQt6D,GAAIs6D,EAAQt6D,EAAI,GAAIs6D,EAAQt6D,EAAI,GAAIs6D,EAAQt6D,EAAI,GAAIs6D,EAAQt6D,EAAI,GAAIs6D,EAAQt6D,EAAI,IAIxIjxC,KAAKktD,WAAWi7C,cAAcwC,YAC9B3qG,KAAKktD,WAAWi7C,cAAclE,SAG5BoD,GACFrnG,KAAKktD,WAAWjB,SAASg9C,YAYjChvD,gBAAgB,CAACgpC,YAAaoC,iBAAkBme,cAAe5U,iBAAkB1L,aAAc1K,mBAAoB8rB,gBACnHA,eAAeriG,UAAU8sF,YAAckH,gBAAgBh0F,UAAU8sF,YACjEuV,eAAeriG,UAAU8oD,aAAe+jC,cAAc7sF,UAAU8oD,aAEhEu5C,eAAeriG,UAAUsuF,cAAgB,WACvC,GAAIvwF,KAAK8nD,IAAIjiC,QAAU7lB,KAAKwnD,UAAUutB,IAAM/0E,KAAK8nD,IAAIjiC,OAAS7lB,KAAKwnD,UAAU9H,IAAM1/C,KAAK8nD,IAAIpoC,QAAS,CACnG,IAAIknC,EAAS5M,UAAU,UACvB4M,EAAO/gC,MAAQ7lB,KAAKwnD,UAAUutB,EAC9BnuB,EAAOlnC,OAAS1f,KAAKwnD,UAAU9H,EAC/B,IAKIksD,EACAC,EANA96D,EAAM6V,EAAOC,WAAW,MACxBilD,EAAO9rG,KAAK8nD,IAAIjiC,MAChBkmF,EAAO/rG,KAAK8nD,IAAIpoC,OAChBssF,EAASF,EAAOC,EAChBE,EAAYjsG,KAAKwnD,UAAUutB,EAAI/0E,KAAKwnD,UAAU9H,EAG9CwsD,EAAMlsG,KAAKwnD,UAAUkpC,IAAM1wF,KAAKktD,WAAWosB,aAAaqX,yBAExDqb,EAASC,GAAqB,mBAARC,GAA4BF,EAASC,GAAqB,mBAARC,EAE1EN,GADAC,EAAaE,GACYE,EAGzBJ,GADAD,EAAYE,GACaG,EAG3Bl7D,EAAIo7D,UAAUnsG,KAAK8nD,KAAMgkD,EAAOF,GAAa,GAAIG,EAAOF,GAAc,EAAGD,EAAWC,EAAY,EAAG,EAAG7rG,KAAKwnD,UAAUutB,EAAG/0E,KAAKwnD,UAAU9H,GACvI1/C,KAAK8nD,IAAMlB,IAIf09C,eAAeriG,UAAUuuF,mBAAqB,WAC5CxwF,KAAKmoG,cAAcgE,UAAUnsG,KAAK8nD,IAAK,EAAG,IAG5Cw8C,eAAeriG,UAAUma,QAAU,WACjCpc,KAAK8nD,IAAM,MAOb7N,gBAAgB,CAACgpC,YAAaoC,iBAAkBme,cAAe5U,iBAAkB1L,aAAc1K,mBAAoB+rB,gBACnHA,eAAetiG,UAAU8sF,YAAckH,gBAAgBh0F,UAAU8sF,YACjEwV,eAAetiG,UAAU8oD,aAAe+jC,cAAc7sF,UAAU8oD,aAEhEw5C,eAAetiG,UAAUuuF,mBAAqB,WAC5C,IAAIz/C,EAAM/wC,KAAKmoG,cACfp3D,EAAI+V,UAAY9mD,KAAKqK,KAAKstE,GAC1B5mC,EAAIgW,SAAS,EAAG,EAAG/mD,KAAKqK,KAAKgsF,GAAIr2F,KAAKqK,KAAK2zD,KAoC7C/jB,gBAAgB,CAACmrC,cAAeof,oBAEhCA,mBAAmBviG,UAAUolF,YAAc,SAAUh9E,GACnD,OAAO,IAAI05F,eAAe15F,EAAMrK,KAAKktD,WAAYltD,OAGnDwkG,mBAAmBviG,UAAUqlF,WAAa,SAAUj9E,GAClD,OAAO,IAAI25F,cAAc35F,EAAMrK,KAAKktD,WAAYltD,OAGlDwkG,mBAAmBviG,UAAUglF,YAAc,SAAU58E,GACnD,OAAO,IAAIi6F,eAAej6F,EAAMrK,KAAKktD,WAAYltD,OAGnDwkG,mBAAmBviG,UAAUklF,YAAc,SAAU98E,GACnD,OAAO,IAAIk6F,eAAel6F,EAAMrK,KAAKktD,WAAYltD,OAGnDwkG,mBAAmBviG,UAAUmlF,WAAaya,YAAY5/F,UAAUmlF,WAEhEod,mBAAmBviG,UAAU8mG,aAAe,SAAUlwE,GACpD,GAAiB,IAAbA,EAAM,IAAyB,IAAbA,EAAM,IAAyB,IAAbA,EAAM,IAAyB,IAAbA,EAAM,IAA0B,IAAdA,EAAM,KAA2B,IAAdA,EAAM,IAIrG,GAAK74B,KAAKs5E,aAAamrB,YAAvB,CAKAzkG,KAAK8kG,aAAar6B,eAAe5xC,GACjC,IAAIuzE,EAASpsG,KAAK6kG,YAAY/B,IAAIjqE,MAClC74B,KAAK8kG,aAAax8B,UAAU8jC,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,IAAKA,EAAO,KAE7MpsG,KAAK6kG,YAAY/B,IAAIr4B,eAAezqE,KAAK8kG,aAAajsE,OACtD,IAAIwzE,EAAUrsG,KAAK6kG,YAAY/B,IAAIjqE,MACnC74B,KAAKmoG,cAAcjgC,aAAamkC,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,GAAIA,EAAQ,IAAKA,EAAQ,UAVnGrsG,KAAKmoG,cAAc7/B,UAAUzvC,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,IAAKA,EAAM,MAa1F2rE,mBAAmBviG,UAAU+mG,WAAa,SAAU1kD,GAIlD,IAAKtkD,KAAKs5E,aAAamrB,YAGrB,OAFAzkG,KAAKmoG,cAAcmE,aAAehoD,EAAK,EAAI,EAAIA,OAC/CtkD,KAAKktD,WAAW03C,mBAAqB5kG,KAAK6kG,YAAY9B,IAIxD/iG,KAAK6kG,YAAY9B,IAAMz+C,EAAK,EAAI,EAAIA,EAEhCtkD,KAAKktD,WAAW03C,qBAAuB5kG,KAAK6kG,YAAY9B,KAC1D/iG,KAAKmoG,cAAcmE,YAActsG,KAAK6kG,YAAY9B,GAClD/iG,KAAKktD,WAAW03C,mBAAqB5kG,KAAK6kG,YAAY9B,KAI1DyB,mBAAmBviG,UAAU+kC,MAAQ,WAC9BhnC,KAAKs5E,aAAamrB,YAKvBzkG,KAAK6kG,YAAY79D,QAJfhnC,KAAKmoG,cAAcc,WAOvBzE,mBAAmBviG,UAAU4+B,KAAO,SAAU0rE,GAC5C,GAAKvsG,KAAKs5E,aAAamrB,YAAvB,CAKI8H,GACFvsG,KAAKmoG,cAActnE,OAGrB,IAMIl3B,EANAkvB,EAAQ74B,KAAK6kG,YAAY/B,IAAIjqE,MAE7B74B,KAAK6kG,YAAYjvC,SAAW51D,KAAK6kG,YAAYhC,SAC/C7iG,KAAK6kG,YAAY+C,YAInB,IAAIv0F,EAAMrT,KAAK6kG,YAAYjC,MAAM5iG,KAAK6kG,YAAYhC,SAElD,IAAKl5F,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACvB0J,EAAI1J,GAAKkvB,EAAMlvB,GAGjB3J,KAAK6kG,YAAY7B,QAAQhjG,KAAK6kG,YAAYhC,SAAW7iG,KAAK6kG,YAAY9B,GACtE/iG,KAAK6kG,YAAYhC,SAAW,OAtB1B7iG,KAAKmoG,cAActnE,QAyBvB2jE,mBAAmBviG,UAAUgnG,QAAU,SAAUsD,GAC/C,GAAKvsG,KAAKs5E,aAAamrB,YAAvB,CAKI8H,IACFvsG,KAAKmoG,cAAcc,UACnBjpG,KAAKktD,WAAWw7C,UAAY,eAG9B1oG,KAAK6kG,YAAYhC,SAAW,EAC5B,IACIl5F,EADA6iG,EAASxsG,KAAK6kG,YAAYjC,MAAM5iG,KAAK6kG,YAAYhC,SAEjDxvF,EAAMrT,KAAK6kG,YAAY/B,IAAIjqE,MAE/B,IAAKlvB,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACvB0J,EAAI1J,GAAK6iG,EAAO7iG,GAGlB3J,KAAKmoG,cAAcjgC,aAAaskC,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IAAKA,EAAO,KAC/FA,EAASxsG,KAAK6kG,YAAY7B,QAAQhjG,KAAK6kG,YAAYhC,SACnD7iG,KAAK6kG,YAAY9B,GAAKyJ,EAElBxsG,KAAKktD,WAAW03C,qBAAuB4H,IACzCxsG,KAAKmoG,cAAcmE,YAAcE,EACjCxsG,KAAKktD,WAAW03C,mBAAqB4H,QAxBrCxsG,KAAKmoG,cAAcc,WA4BvBzE,mBAAmBviG,UAAU2qD,gBAAkB,SAAU+B,GACvD,GAAI3uD,KAAKooF,cAAclzE,QAAS,CAC9BlV,KAAKooF,cAAcl0D,UAAY8lB,UAAU,UACzC,IAAIyyD,EAAiBzsG,KAAKooF,cAAcl0D,UAAUjM,MAClDwkF,EAAe5mF,MAAQ,OACvB4mF,EAAe/sF,OAAS,OACxB,IAAI2mC,EAAS,cACbomD,EAAe1uD,gBAAkBsI,EACjComD,EAAeC,mBAAqBrmD,EACpComD,EAAezuD,sBAAwBqI,EACvComD,EAAe,qBAAuBpmD,EACtComD,EAAenK,kBAAoBtiG,KAAKs5E,aAAagpB,kBACrDtiG,KAAKooF,cAAclzE,QAAQjD,YAAYjS,KAAKooF,cAAcl0D,WAC1Dl0B,KAAKmoG,cAAgBnoG,KAAKooF,cAAcl0D,UAAU2yB,WAAW,MAEzD7mD,KAAKs5E,aAAatgE,WACpBhZ,KAAKooF,cAAcl0D,UAAUnB,aAAa,QAAS/yB,KAAKs5E,aAAatgE,WAGnEhZ,KAAKs5E,aAAap+D,IACpBlb,KAAKooF,cAAcl0D,UAAUnB,aAAa,KAAM/yB,KAAKs5E,aAAap+D,SAGpElb,KAAKmoG,cAAgBnoG,KAAKs5E,aAAa5gE,QAGzC1Y,KAAKqK,KAAOskD,EACZ3uD,KAAK+hD,OAAS4M,EAAS5M,OACvB/hD,KAAK2sG,gBAAkB,CACrB53B,EAAGpmB,EAASomB,EACZr1B,EAAGiP,EAASjP,EACZmoB,GAAI,EACJzC,GAAI,EACJgD,GAAI,EACJxlB,GAAI,GAEN5iD,KAAKkoF,gBAAgBv5B,EAAU39C,SAAStN,MACxC1D,KAAKktD,WAAWi7C,cAAgBnoG,KAAKmoG,cACrCnoG,KAAKktD,WAAWjB,SAAWjsD,KAC3BA,KAAKktD,WAAW0/C,UAAW,EAC3B5sG,KAAKktD,WAAWy6B,gBAAkB3nF,KAAKs5E,aAAaqO,gBACpD3nF,KAAKktD,WAAWy/C,gBAAkB3sG,KAAK2sG,gBACvC3sG,KAAK21B,SAAW0mB,iBAAiBsS,EAAS5M,OAAO19C,QACjDrE,KAAKovD,uBAGPo1C,mBAAmBviG,UAAUmtD,oBAAsB,WAEjD,IAAIy9C,EACAC,EAYAC,EACAC,EAEJ,GAjBAhtG,KAAKgnC,QAIDhnC,KAAKooF,cAAclzE,SAAWlV,KAAKooF,cAAcl0D,WACnD24E,EAAe7sG,KAAKooF,cAAclzE,QAAQogE,YAC1Cw3B,EAAgB9sG,KAAKooF,cAAclzE,QAAQ+3F,aAC3CjtG,KAAKooF,cAAcl0D,UAAUnB,aAAa,QAAS85E,EAAe7sG,KAAKs5E,aAAaorB,KACpF1kG,KAAKooF,cAAcl0D,UAAUnB,aAAa,SAAU+5E,EAAgB9sG,KAAKs5E,aAAaorB,OAEtFmI,EAAe7sG,KAAKmoG,cAAcvhD,OAAO/gC,MAAQ7lB,KAAKs5E,aAAaorB,IACnEoI,EAAgB9sG,KAAKmoG,cAAcvhD,OAAOlnC,OAAS1f,KAAKs5E,aAAaorB,MAMR,IAA3D1kG,KAAKs5E,aAAa+oB,oBAAoB9+F,QAAQ,UAA8E,IAA5DvD,KAAKs5E,aAAa+oB,oBAAoB9+F,QAAQ,SAAiB,CACjI,IAAI2oG,EAAMlsG,KAAKs5E,aAAa+oB,oBAAoBrhF,MAAM,KAClDksF,EAAWhB,EAAI,IAAM,OACrBhqC,EAAMgqC,EAAI,IAAM,WAChB5N,EAAOp8B,EAAI5/B,OAAO,EAAG,GACrBi8D,EAAOr8B,EAAI5/B,OAAO,GACtByqE,EAAaF,EAAeC,GAC5BE,EAAehtG,KAAK2sG,gBAAgB53B,EAAI/0E,KAAK2sG,gBAAgBjtD,GAE1CqtD,GAA2B,SAAbG,GAAuBF,EAAeD,GAA2B,UAAbG,GACnFltG,KAAK2sG,gBAAgB9kC,GAAKglC,GAAgB7sG,KAAK2sG,gBAAgB53B,EAAI/0E,KAAKs5E,aAAaorB,KACrF1kG,KAAK2sG,gBAAgBvnC,GAAKynC,GAAgB7sG,KAAK2sG,gBAAgB53B,EAAI/0E,KAAKs5E,aAAaorB,OAErF1kG,KAAK2sG,gBAAgB9kC,GAAKilC,GAAiB9sG,KAAK2sG,gBAAgBjtD,EAAI1/C,KAAKs5E,aAAaorB,KACtF1kG,KAAK2sG,gBAAgBvnC,GAAK0nC,GAAiB9sG,KAAK2sG,gBAAgBjtD,EAAI1/C,KAAKs5E,aAAaorB,MAItF1kG,KAAK2sG,gBAAgBvkC,GADV,SAATk2B,IAAoB0O,EAAeD,GAA2B,SAAbG,GAAuBF,EAAeD,GAA2B,UAAbG,IAC5EL,EAAe7sG,KAAK2sG,gBAAgB53B,GAAK+3B,EAAgB9sG,KAAK2sG,gBAAgBjtD,IAAM,EAAI1/C,KAAKs5E,aAAaorB,IACnH,SAATpG,IAAoB0O,EAAeD,GAA2B,SAAbG,GAAuBF,EAAeD,GAA2B,UAAbG,IACnFL,EAAe7sG,KAAK2sG,gBAAgB53B,GAAK+3B,EAAgB9sG,KAAK2sG,gBAAgBjtD,IAAM1/C,KAAKs5E,aAAaorB,IAEvG,EAI1B1kG,KAAK2sG,gBAAgB/pD,GADV,SAAT27C,IAAoByO,EAAeD,GAA2B,SAAbG,GAAuBF,EAAeD,GAA2B,UAAbG,IAC5EJ,EAAgB9sG,KAAK2sG,gBAAgBjtD,GAAKmtD,EAAe7sG,KAAK2sG,gBAAgB53B,IAAM,EAAI/0E,KAAKs5E,aAAaorB,IACnH,SAATnG,IAAoByO,EAAeD,GAA2B,SAAbG,GAAuBF,EAAeD,GAA2B,UAAbG,IACnFJ,EAAgB9sG,KAAK2sG,gBAAgBjtD,GAAKmtD,EAAe7sG,KAAK2sG,gBAAgB53B,IAAM/0E,KAAKs5E,aAAaorB,IAEvG,MAEuB,SAA1C1kG,KAAKs5E,aAAa+oB,qBAC3BriG,KAAK2sG,gBAAgB9kC,GAAKglC,GAAgB7sG,KAAK2sG,gBAAgB53B,EAAI/0E,KAAKs5E,aAAaorB,KACrF1kG,KAAK2sG,gBAAgBvnC,GAAK0nC,GAAiB9sG,KAAK2sG,gBAAgBjtD,EAAI1/C,KAAKs5E,aAAaorB,KACtF1kG,KAAK2sG,gBAAgBvkC,GAAK,EAC1BpoE,KAAK2sG,gBAAgB/pD,GAAK,IAE1B5iD,KAAK2sG,gBAAgB9kC,GAAK7nE,KAAKs5E,aAAaorB,IAC5C1kG,KAAK2sG,gBAAgBvnC,GAAKplE,KAAKs5E,aAAaorB,IAC5C1kG,KAAK2sG,gBAAgBvkC,GAAK,EAC1BpoE,KAAK2sG,gBAAgB/pD,GAAK,GAG5B5iD,KAAK2sG,gBAAgB9zE,MAAQ,CAAC74B,KAAK2sG,gBAAgB9kC,GAAI,EAAG,EAAG,EAAG,EAAG7nE,KAAK2sG,gBAAgBvnC,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAGplE,KAAK2sG,gBAAgBvkC,GAAIpoE,KAAK2sG,gBAAgB/pD,GAAI,EAAG,GAQnK5iD,KAAK+oG,aAAa/oG,KAAK2sG,gBAAgB9zE,OACvC74B,KAAKmoG,cAAcC,YACnBpoG,KAAKmoG,cAAc1iB,KAAK,EAAG,EAAGzlF,KAAK2sG,gBAAgB53B,EAAG/0E,KAAK2sG,gBAAgBjtD,GAC3E1/C,KAAKmoG,cAAcwC,YACnB3qG,KAAKmoG,cAAcK,OACnBxoG,KAAKsvD,YAAYtvD,KAAK8/D,eAAe,IAGvC0kC,mBAAmBviG,UAAUma,QAAU,WAKrC,IAAIzS,EAGJ,IAPI3J,KAAKs5E,aAAamrB,aAAezkG,KAAKooF,cAAclzE,UACtDlV,KAAKooF,cAAclzE,QAAQw9C,UAAY,IAMpC/oD,GAFK3J,KAAK+hD,OAAS/hD,KAAK+hD,OAAO19C,OAAS,GAE9B,EAAGsF,GAAK,EAAGA,GAAK,EACzB3J,KAAK21B,SAAShsB,IAChB3J,KAAK21B,SAAShsB,GAAGyS,UAIrBpc,KAAK21B,SAAStxB,OAAS,EACvBrE,KAAKktD,WAAWi7C,cAAgB,KAChCnoG,KAAKooF,cAAcl0D,UAAY,KAC/Bl0B,KAAK0iG,WAAY,GAGnB8B,mBAAmBviG,UAAUqtD,YAAc,SAAUp6B,EAAK87C,GACxD,IAAIhxE,KAAK8/D,gBAAkB5qC,IAAyC,IAAlCl1B,KAAKs5E,aAAamrB,aAAyBzzB,KAAehxE,KAAK0iG,YAAsB,IAATxtE,EAA9G,CAWA,IAAIvrB,EAPJ3J,KAAK8/D,cAAgB5qC,EACrBl1B,KAAKktD,WAAWoO,SAAWpmC,EAAMl1B,KAAKooF,cAAc3nB,cACpDzgE,KAAKktD,WAAWoT,SAAW,EAC3BtgE,KAAKktD,WAAWkT,MAAQpgE,KAAKs5E,aAAamrB,aAAezzB,EACzDhxE,KAAKktD,WAAWT,iBAAiBxB,aAAe/1B,EAIhD,IAAI1T,EAAMxhB,KAAK+hD,OAAO19C,OAMtB,IAJKrE,KAAK8hD,gBACR9hD,KAAK6mF,YAAY3xD,GAGdvrB,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,GACpB3J,KAAK8hD,gBAAkB9hD,KAAK21B,SAAShsB,KACvC3J,KAAK21B,SAAShsB,GAAGohD,aAAa71B,EAAMl1B,KAAK+hD,OAAOp4C,GAAG46C,IAIvD,GAAIvkD,KAAKktD,WAAWkT,KAAM,CAOxB,KANsC,IAAlCpgE,KAAKs5E,aAAamrB,YACpBzkG,KAAKmoG,cAAcgF,UAAU,EAAG,EAAGntG,KAAK2sG,gBAAgB53B,EAAG/0E,KAAK2sG,gBAAgBjtD,GAEhF1/C,KAAK6gC,OAGFl3B,EAAI6X,EAAM,EAAG7X,GAAK,EAAGA,GAAK,GACzB3J,KAAK8hD,gBAAkB9hD,KAAK21B,SAAShsB,KACvC3J,KAAK21B,SAAShsB,GAAG2lD,eAIiB,IAAlCtvD,KAAKs5E,aAAamrB,aACpBzkG,KAAKipG,aAKXzE,mBAAmBviG,UAAU6kF,UAAY,SAAU5kB,GACjD,IAAIvsC,EAAW31B,KAAK21B,SAEpB,IAAIA,EAASusC,IAAgC,KAAxBliE,KAAK+hD,OAAOmgB,GAAKtf,GAAtC,CAIA,IAAIxpC,EAAUpZ,KAAKgnF,WAAWhnF,KAAK+hD,OAAOmgB,GAAMliE,KAAMA,KAAKktD,YAC3Dv3B,EAASusC,GAAO9oD,EAChBA,EAAQ+0C,oBAMVq2C,mBAAmBviG,UAAU8kF,qBAAuB,WAClD,KAAO/mF,KAAKioF,gBAAgB5jF,QACZrE,KAAKioF,gBAAgBt0C,MAC3B28C,kBAIZkU,mBAAmBviG,UAAUob,KAAO,WAClCrd,KAAKooF,cAAcl0D,UAAUjM,MAAM7S,QAAU,QAG/CovF,mBAAmBviG,UAAUsc,KAAO,WAClCve,KAAKooF,cAAcl0D,UAAUjM,MAAM7S,QAAU,SAc/C6kC,gBAAgB,CAACuqD,mBAAoB9C,aAAc8B,eAAgBuB,eAEnEA,cAAc9iG,UAAUuuF,mBAAqB,WAC3C,IAQI7mF,EARAonC,EAAM/wC,KAAKmoG,cAWf,IAVAp3D,EAAIq3D,YACJr3D,EAAIs3D,OAAO,EAAG,GACdt3D,EAAIu3D,OAAOtoG,KAAKqK,KAAK0qE,EAAG,GACxBhkC,EAAIu3D,OAAOtoG,KAAKqK,KAAK0qE,EAAG/0E,KAAKqK,KAAKq1C,GAClC3O,EAAIu3D,OAAO,EAAGtoG,KAAKqK,KAAKq1C,GACxB3O,EAAIu3D,OAAO,EAAG,GACdv3D,EAAIy3D,OAIC7+F,EAFK3J,KAAK+hD,OAAO19C,OAEP,EAAGsF,GAAK,EAAGA,GAAK,GACzB3J,KAAK8hD,gBAAkB9hD,KAAK21B,SAAShsB,KACvC3J,KAAK21B,SAAShsB,GAAG2lD,eAKvBy1C,cAAc9iG,UAAUma,QAAU,WAChC,IAAIzS,EAGJ,IAAKA,EAFK3J,KAAK+hD,OAAO19C,OAEP,EAAGsF,GAAK,EAAGA,GAAK,EACzB3J,KAAK21B,SAAShsB,IAChB3J,KAAK21B,SAAShsB,GAAGyS,UAIrBpc,KAAK+hD,OAAS,KACd/hD,KAAK21B,SAAW,MAGlBovE,cAAc9iG,UAAUilF,WAAa,SAAU78E,GAC7C,OAAO,IAAI06F,cAAc16F,EAAMrK,KAAKktD,WAAYltD,OAoClDi6C,gBAAgB,CAACuqD,oBAAqBQ,gBAEtCA,eAAe/iG,UAAUilF,WAAa,SAAU78E,GAC9C,OAAO,IAAI06F,cAAc16F,EAAMrK,KAAKktD,WAAYltD,OAKlDilG,aAAahjG,UAAY,CACvBmrG,eAAgB,aAChBje,oBAAqB,WACnBnvF,KAAK4jF,YAAc5pC,UAAUh6C,KAAKqK,KAAKgjG,IAAM,OAEzCrtG,KAAKqK,KAAKk4C,SACZviD,KAAK+hG,WAAalhD,SAAS,OAC3B7gD,KAAK6jF,aAAehjC,SAAS,KAC7B7gD,KAAKymF,cAAgBzmF,KAAK6jF,aAC1B7jF,KAAK+hG,WAAW9vF,YAAYjS,KAAK6jF,cACjC7jF,KAAK4jF,YAAY3xE,YAAYjS,KAAK+hG,aAElC/hG,KAAK6jF,aAAe7jF,KAAK4jF,YAG3B9lC,SAAS99C,KAAK4jF,cAEhBwL,wBAAyB,WACvBpvF,KAAKowF,yBAA2B,IAAIiT,UAAUrjG,MAC9CA,KAAKqtF,mBAAqBrtF,KAAK4jF,YAC/B5jF,KAAKymF,cAAgBzmF,KAAK6jF,aAEtB7jF,KAAKqK,KAAKwlF,IACZ7vF,KAAK6jF,aAAa9wD,aAAa,KAAM/yB,KAAKqK,KAAKwlF,IAG7C7vF,KAAKqK,KAAK66C,IACZllD,KAAK6jF,aAAa9wD,aAAa,QAAS/yB,KAAKqK,KAAK66C,IAG/B,IAAjBllD,KAAKqK,KAAKs5E,IACZ3jF,KAAKyjF,gBAGTwM,cAAe,WACb,IAAIqd,EAA0BttG,KAAKqtF,mBAAqBrtF,KAAKqtF,mBAAmBplE,MAAQ,GAExF,GAAIjoB,KAAKo5E,eAAekP,QAAS,CAC/B,IAAIilB,EAAcvtG,KAAKo5E,eAAerI,IAAIlF,QAC1CyhC,EAAwBhlC,UAAYilC,EACpCD,EAAwBE,gBAAkBD,EAGxCvtG,KAAKo5E,eAAemP,SACtB+kB,EAAwB53F,QAAU1V,KAAKo5E,eAAeC,MAAM1hE,EAAE4pB,IAGlE+tB,YAAa,WAGPtvD,KAAKqK,KAAKwjF,IAAM7tF,KAAK24E,SAIzB34E,KAAKyoF,kBACLzoF,KAAKw5E,mBACLx5E,KAAKiwF,gBACLjwF,KAAKwwF,qBAEDxwF,KAAKygE,gBACPzgE,KAAKygE,eAAgB,KAGzBrkD,QAAS,WACPpc,KAAK6jF,aAAe,KACpB7jF,KAAKqtF,mBAAqB,KAEtBrtF,KAAKotF,eACPptF,KAAKotF,aAAe,MAGlBptF,KAAKi6E,cACPj6E,KAAKi6E,YAAY79D,UACjBpc,KAAKi6E,YAAc,OAGvBkW,2BAA4B,WAC1BnwF,KAAKi6E,YAAc,IAAIqL,YAAYtlF,KAAKqK,KAAMrK,KAAMA,KAAKktD,aAE3DugD,WAAY,aACZ3f,SAAU,cAEZmX,aAAahjG,UAAUykF,eAAiBiI,eAAe1sF,UAAUykF,eACjEue,aAAahjG,UAAUiuF,mBAAqB+U,aAAahjG,UAAUma,QACnE6oF,aAAahjG,UAAU2lF,sBAAwBxC,aAAanjF,UAAU2lF,sBAMtE3tC,gBAAgB,CAACgpC,YAAaoC,iBAAkB4f,aAAcrW,iBAAkB1L,aAAc2L,sBAAuBqW,eAErHA,cAAcjjG,UAAUsuF,cAAgB,WACtC,IAAI9K,EAEAzlF,KAAKqK,KAAKk4C,UACZkjC,EAAO5kC,SAAS,SACX9tB,aAAa,QAAS/yB,KAAKqK,KAAKgsF,IACrC5Q,EAAK1yD,aAAa,SAAU/yB,KAAKqK,KAAK2zD,IACtCynB,EAAK1yD,aAAa,OAAQ/yB,KAAKqK,KAAKstE,IACpC33E,KAAK+hG,WAAWhvE,aAAa,QAAS/yB,KAAKqK,KAAKgsF,IAChDr2F,KAAK+hG,WAAWhvE,aAAa,SAAU/yB,KAAKqK,KAAK2zD,OAEjDynB,EAAOzrC,UAAU,QACZ/xB,MAAMpC,MAAQ7lB,KAAKqK,KAAKgsF,GAAK,KAClC5Q,EAAKx9D,MAAMvI,OAAS1f,KAAKqK,KAAK2zD,GAAK,KACnCynB,EAAKx9D,MAAMpS,gBAAkB7V,KAAKqK,KAAKstE,IAGzC33E,KAAK6jF,aAAa5xE,YAAYwzE,IA+BhCxrC,gBAAgB,CAACgpC,YAAaoC,iBAAkB6f,cAAejP,gBAAiBgP,aAAcrW,iBAAkB1L,aAAc1K,mBAAoB2sB,eAClJA,cAAcljG,UAAUyrG,kBAAoBvI,cAAcljG,UAAUuuF,mBAEpE2U,cAAcljG,UAAUsuF,cAAgB,WACtC,IAAIhd,EAGJ,GAFAvzE,KAAK4jF,YAAY37D,MAAM/E,SAAW,EAE9BljB,KAAKqK,KAAKk4C,QACZviD,KAAK6jF,aAAa5xE,YAAYjS,KAAKolG,iBACnC7xB,EAAOvzE,KAAK+hG,eACP,CACLxuB,EAAO1yB,SAAS,OAChB,IAAI3qB,EAAOl2B,KAAKkjD,KAAK74C,KAAOrK,KAAKkjD,KAAK74C,KAAOrK,KAAKktD,WAAWqyB,SAC7DhM,EAAKxgD,aAAa,QAASmD,EAAK6+C,GAChCxB,EAAKxgD,aAAa,SAAUmD,EAAKwpB,GACjC6zB,EAAKthE,YAAYjS,KAAKolG,iBACtBplG,KAAK6jF,aAAa5xE,YAAYshE,GAGhCvzE,KAAK+3F,aAAa/3F,KAAKujF,WAAYvjF,KAAKwjF,UAAWxjF,KAAKizF,aAAcjzF,KAAKolG,gBAAiB,EAAG,IAAI,GACnGplG,KAAKg4F,qBACLh4F,KAAK2tG,UAAYp6B,GAGnB4xB,cAAcljG,UAAU2rG,oBAAsB,SAAUrc,EAAc75B,GACpE,IAAI/tD,EACA6X,EAAM+vE,EAAaltF,OAEvB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB+tD,EAAQ65B,EAAa5nF,GAAG0qE,OAAO9yC,EAAE4pC,kBAAkBzT,EAAM,GAAIA,EAAM,GAAI,GAGzE,OAAOA,GAGTytC,cAAcljG,UAAU4rG,0BAA4B,SAAUt6F,EAAMu6F,GAClE,IAEInkG,EAEAokG,EACAC,EACAC,EACAC,EAPAjrC,EAAQ1vD,EAAKyqD,GAAGz8B,EAChBgwD,EAAeh+E,EAAKg+E,aAEpB/vE,EAAMyhD,EAAMrN,QAMhB,KAAIp0C,GAAO,GAAX,CAIA,IAAK7X,EAAI,EAAGA,EAAI6X,EAAM,EAAG7X,GAAK,EAC5BokG,EAAS/tG,KAAK4tG,oBAAoBrc,EAActuB,EAAM1hC,EAAE53B,IACxDqkG,EAAShuG,KAAK4tG,oBAAoBrc,EAActuB,EAAMtrD,EAAEhO,IACxDskG,EAAajuG,KAAK4tG,oBAAoBrc,EAActuB,EAAMt5D,EAAEA,EAAI,IAChEukG,EAAaluG,KAAK4tG,oBAAoBrc,EAActuB,EAAM1hC,EAAE53B,EAAI,IAChE3J,KAAKmuG,YAAYJ,EAAQC,EAAQC,EAAYC,EAAYJ,GAGvD7qC,EAAMviC,IACRqtE,EAAS/tG,KAAK4tG,oBAAoBrc,EAActuB,EAAM1hC,EAAE53B,IACxDqkG,EAAShuG,KAAK4tG,oBAAoBrc,EAActuB,EAAMtrD,EAAEhO,IACxDskG,EAAajuG,KAAK4tG,oBAAoBrc,EAActuB,EAAMt5D,EAAE,IAC5DukG,EAAaluG,KAAK4tG,oBAAoBrc,EAActuB,EAAM1hC,EAAE,IAC5DvhC,KAAKmuG,YAAYJ,EAAQC,EAAQC,EAAYC,EAAYJ,MAI7D3I,cAAcljG,UAAUksG,YAAc,SAAUJ,EAAQC,EAAQC,EAAYC,EAAYJ,GACtF9tG,KAAKouG,iBAAiBL,EAAQC,EAAQC,EAAYC,GAClD,IAAIG,EAASruG,KAAKsuG,iBAClBR,EAAY7jE,EAAIiT,MAAMmxD,EAAO94F,KAAMu4F,EAAY7jE,GAC/C6jE,EAAYS,KAAOtxD,MAAMoxD,EAAO/3F,MAAOw3F,EAAYS,MACnDT,EAAY1wC,EAAIlgB,MAAMmxD,EAAO/4F,IAAKw4F,EAAY1wC,GAC9C0wC,EAAYU,KAAOvxD,MAAMoxD,EAAOnjF,OAAQ4iF,EAAYU,OAGtDrJ,cAAcljG,UAAUqsG,iBAAmB,CACzC/4F,KAAM,EACNe,MAAO,EACPhB,IAAK,EACL4V,OAAQ,GAEVi6E,cAAcljG,UAAUwsG,gBAAkB,CACxCxkE,EAAG,EACHskE,KAAM,EACNnxC,EAAG,EACHoxC,KAAM,EACN3oF,MAAO,EACPnG,OAAQ,GAGVylF,cAAcljG,UAAUmsG,iBAAmB,SAAUvpC,EAAIC,EAAIuE,EAAIqlC,GAG/D,IAFA,IAES9pF,EAAGC,EAAG6b,EAAG0V,EAAGu4D,EAAMv1C,EAAIw1C,EAF3BP,EAAS,CAAC,CAACxpC,EAAG,GAAI6pC,EAAG,IAAK,CAAC7pC,EAAG,GAAI6pC,EAAG,KAEN/kG,EAAI,EAAGA,EAAI,IAAKA,EAEjDkb,EAAI,EAAIggD,EAAGl7D,GAAK,GAAKm7D,EAAGn7D,GAAK,EAAI0/D,EAAG1/D,GACpCib,GAAK,EAAIigD,EAAGl7D,GAAK,EAAIm7D,EAAGn7D,GAAK,EAAI0/D,EAAG1/D,GAAK,EAAI+kG,EAAG/kG,GAChD+2B,EAAI,EAAIokC,EAAGn7D,GAAK,EAAIk7D,EAAGl7D,GACvBkb,GAAK,EAIL6b,GAAK,EAEK,IAJV9b,GAAK,IAIgB,IAANC,IACE,IAAND,GACTwxB,GAAK1V,EAAI7b,GAED,GAAKuxB,EAAI,GACfi4D,EAAO1kG,GAAGxC,KAAKnH,KAAK6uG,WAAWz4D,EAAGyuB,EAAIC,EAAIuE,EAAIqlC,EAAI/kG,KAGpDglG,EAAO9pF,EAAIA,EAAI,EAAI6b,EAAI9b,IAEX,KACVw0C,IAAOv0C,EAAIi4B,OAAO6xD,KAAU,EAAI/pF,IACvB,GAAKw0C,EAAK,GAAGi1C,EAAO1kG,GAAGxC,KAAKnH,KAAK6uG,WAAWz1C,EAAIyL,EAAIC,EAAIuE,EAAIqlC,EAAI/kG,KACzEilG,IAAO/pF,EAAIi4B,OAAO6xD,KAAU,EAAI/pF,IACvB,GAAKgqF,EAAK,GAAGP,EAAO1kG,GAAGxC,KAAKnH,KAAK6uG,WAAWD,EAAI/pC,EAAIC,EAAIuE,EAAIqlC,EAAI/kG,MAK/E3J,KAAKsuG,iBAAiB/4F,KAAO2nC,MAAMpuC,MAAM,KAAMu/F,EAAO,IACtDruG,KAAKsuG,iBAAiBh5F,IAAM4nC,MAAMpuC,MAAM,KAAMu/F,EAAO,IACrDruG,KAAKsuG,iBAAiBh4F,MAAQ2mC,MAAMnuC,MAAM,KAAMu/F,EAAO,IACvDruG,KAAKsuG,iBAAiBpjF,OAAS+xB,MAAMnuC,MAAM,KAAMu/F,EAAO,KAG1DlJ,cAAcljG,UAAU4sG,WAAa,SAAUz4D,EAAGyuB,EAAIC,EAAIuE,EAAIqlC,EAAI/kG,GAChE,OAAOizC,MAAM,EAAIxG,EAAG,GAAKyuB,EAAGl7D,GAAK,EAAIizC,MAAM,EAAIxG,EAAG,GAAKA,EAAI0uB,EAAGn7D,GAAK,GAAK,EAAIysC,GAAKwG,MAAMxG,EAAG,GAAKizB,EAAG1/D,GAAKizC,MAAMxG,EAAG,GAAKs4D,EAAG/kG,IAG1Hw7F,cAAcljG,UAAU6sG,qBAAuB,SAAUtrB,EAAWsqB,GAClE,IAAInkG,EACA6X,EAAMgiE,EAAUn/E,OAEpB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACpB65E,EAAU75E,IAAM65E,EAAU75E,GAAGq0D,GAC/Bh+D,KAAK6tG,0BAA0BrqB,EAAU75E,GAAImkG,GACpCtqB,EAAU75E,IAAM65E,EAAU75E,GAAG25C,IACtCtjD,KAAK8uG,qBAAqBtrB,EAAU75E,GAAG25C,GAAIwqD,IAKjD3I,cAAcljG,UAAU8sG,mBAAqB,SAAUC,GACrD,OAAOhvG,KAAKqlG,YAAYp7D,GAAK+kE,EAAI/kE,GAAKjqC,KAAKqlG,YAAYjoC,GAAK4xC,EAAI5xC,GAAKp9D,KAAKqlG,YAAYx/E,MAAQ7lB,KAAKqlG,YAAYp7D,GAAK+kE,EAAI/kE,EAAI+kE,EAAInpF,OAAS7lB,KAAKqlG,YAAY3lF,OAAS1f,KAAKqlG,YAAYjoC,GAAK4xC,EAAI5xC,EAAI4xC,EAAItvF,QAGvMylF,cAAcljG,UAAUuuF,mBAAqB,WAG3C,GAFAxwF,KAAK0tG,qBAEA1tG,KAAK24E,SAAW34E,KAAKygE,eAAiBzgE,KAAKogE,MAAO,CACrD,IAAIquC,EAAkBzuG,KAAKyuG,gBACvBxiG,EAAM,OASV,GARAwiG,EAAgBxkE,EAAIh+B,EACpBwiG,EAAgBF,MAAQtiG,EACxBwiG,EAAgBrxC,EAAInxD,EACpBwiG,EAAgBD,MAAQviG,EACxBjM,KAAK8uG,qBAAqB9uG,KAAKwjF,UAAWirB,GAC1CA,EAAgB5oF,MAAQ4oF,EAAgBF,KAAOE,EAAgBxkE,EAAI,EAAIwkE,EAAgBF,KAAOE,EAAgBxkE,EAC9GwkE,EAAgB/uF,OAAS+uF,EAAgBD,KAAOC,EAAgBrxC,EAAI,EAAIqxC,EAAgBD,KAAOC,EAAgBrxC,EAE3Gp9D,KAAK+uG,mBAAmBN,GAC1B,OAGF,IAAIQ,GAAU,EAcd,GAZIjvG,KAAKqlG,YAAYtwB,IAAM05B,EAAgB5oF,QACzC7lB,KAAKqlG,YAAYtwB,EAAI05B,EAAgB5oF,MACrC7lB,KAAK2tG,UAAU56E,aAAa,QAAS07E,EAAgB5oF,OACrDopF,GAAU,GAGRjvG,KAAKqlG,YAAY3lD,IAAM+uD,EAAgB/uF,SACzC1f,KAAKqlG,YAAY3lD,EAAI+uD,EAAgB/uF,OACrC1f,KAAK2tG,UAAU56E,aAAa,SAAU07E,EAAgB/uF,QACtDuvF,GAAU,GAGRA,GAAWjvG,KAAKqlG,YAAYp7D,IAAMwkE,EAAgBxkE,GAAKjqC,KAAKqlG,YAAYjoC,IAAMqxC,EAAgBrxC,EAAG,CACnGp9D,KAAKqlG,YAAYtwB,EAAI05B,EAAgB5oF,MACrC7lB,KAAKqlG,YAAY3lD,EAAI+uD,EAAgB/uF,OACrC1f,KAAKqlG,YAAYp7D,EAAIwkE,EAAgBxkE,EACrCjqC,KAAKqlG,YAAYjoC,EAAIqxC,EAAgBrxC,EACrCp9D,KAAK2tG,UAAU56E,aAAa,UAAW/yB,KAAKqlG,YAAYp7D,EAAI,IAAMjqC,KAAKqlG,YAAYjoC,EAAI,IAAMp9D,KAAKqlG,YAAYtwB,EAAI,IAAM/0E,KAAKqlG,YAAY3lD,GACzI,IAAIwvD,EAAalvG,KAAK2tG,UAAU1lF,MAC5BknF,EAAiB,aAAenvG,KAAKqlG,YAAYp7D,EAAI,MAAQjqC,KAAKqlG,YAAYjoC,EAAI,MACtF8xC,EAAW5mC,UAAY6mC,EACvBD,EAAW1B,gBAAkB2B,KAmBnCl1D,gBAAgB,CAACgpC,YAAaoC,iBAAkB4f,aAAcrW,iBAAkB1L,aAAc2L,qBAAsBsP,cAAemH,cAEnIA,aAAarjG,UAAUsuF,cAAgB,WAGrC,GAFAvwF,KAAKwlG,SAAWxlG,KAAKqjF,aAEjBrjF,KAAKwlG,SAAU,CACjBxlG,KAAKy9F,WAAa,MAClBz9F,KAAKovG,MAAQpvG,KAAKkjD,KAAK74C,KAAK0qE,EAC5B/0E,KAAKqvG,MAAQrvG,KAAKkjD,KAAK74C,KAAKq1C,EAC5B1/C,KAAK+hG,WAAWhvE,aAAa,QAAS/yB,KAAKovG,OAC3CpvG,KAAK+hG,WAAWhvE,aAAa,SAAU/yB,KAAKqvG,OAC5C,IAAI76F,EAAIqsC,SAAS,KACjB7gD,KAAKymF,cAAcx0E,YAAYuC,GAC/BxU,KAAKywF,UAAYj8E,OAEjBxU,KAAKy9F,WAAa,OAClBz9F,KAAKywF,UAAYzwF,KAAK6jF,aAGxB7jF,KAAKswF,kBAGPgV,aAAarjG,UAAU0+F,aAAe,WACpC,IAAI58C,EAAe/jD,KAAKiiF,aAAar2E,YACrC5L,KAAKi+F,gBAAkB5hD,iBAAiB0H,EAAa/S,EAAI+S,EAAa/S,EAAE3sC,OAAS,GACjF,IAAIirG,EAAiBtvG,KAAKywF,UAAUxoE,MAChCsnF,EAAYxrD,EAAauyC,GAAKt2F,KAAKihG,WAAWl9C,EAAauyC,IAAM,gBACrEgZ,EAAepL,KAAOqL,EACtBD,EAAe3uE,MAAQ4uE,EAEnBxrD,EAAa4zB,KACf23B,EAAerL,OAASjkG,KAAKihG,WAAWl9C,EAAa4zB,IACrD23B,EAAeluB,YAAcr9B,EAAasyC,GAAK,MAGjD,IAiBI1sF,EACA6X,EAlBAmwD,EAAW3xE,KAAKktD,WAAWc,YAAY+pB,cAAch0B,EAAarM,GAEtE,IAAK13C,KAAKktD,WAAWc,YAAY7J,MAI/B,GAHAmrD,EAAepsF,SAAW6gC,EAAawzC,UAAY,KACnD+X,EAAeE,WAAazrD,EAAawzC,UAAY,KAEjD5lB,EAASoE,OACX/1E,KAAKywF,UAAUz3E,UAAY24D,EAASoE,WAC/B,CACLu5B,EAAersF,WAAa0uD,EAASmE,QACrC,IAAIhE,EAAU/tB,EAAa+tB,QACvBD,EAAS9tB,EAAa8tB,OAC1By9B,EAAensF,UAAY0uD,EAC3By9B,EAAejsF,WAAayuD,EAMhC,IAEI20B,EACAgJ,EACAC,EAJA1V,EAAUj2C,EAAa/S,EAC3BxvB,EAAMw4E,EAAQ31F,OAId,IACI2+C,EADA+7C,EAAe/+F,KAAK8oF,QAEpB+X,EAAW,GACX/9B,EAAM,EAEV,IAAKn5D,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAuC3B,GAtCI3J,KAAKktD,WAAWc,YAAY7J,OACzBnkD,KAAKulG,UAAUziC,GAMlB2jC,EAAQzmG,KAAKulG,UAAUziC,KALvB2jC,EAAQ5lD,SAAS,SACX9tB,aAAa,iBAAkBq+D,YAAY,IACjDqV,EAAM1zE,aAAa,kBAAmBs+D,aAAa,IACnDoV,EAAM1zE,aAAa,oBAAqB,MAKrC/yB,KAAKwlG,WACJxlG,KAAKshG,UAAUx+B,GAEjB4sC,GADAD,EAAUzvG,KAAKshG,UAAUx+B,IACT3nD,SAAS,KAEzBs0F,EAAUz1D,UAAU,QACZ/xB,MAAMunF,WAAa,GAC3BE,EAAQ7uD,SAAS,QACX5uC,YAAYw0F,GAClB3oD,SAAS2xD,MAGHzvG,KAAKwlG,SAYfiB,EAAQzmG,KAAKulG,UAAUziC,GAAO9iE,KAAKulG,UAAUziC,GAAOjiB,SAAS,QAXzD7gD,KAAKshG,UAAUx+B,IACjB2sC,EAAUzvG,KAAKshG,UAAUx+B,GACzB2jC,EAAQzmG,KAAKulG,UAAUziC,KAGvBhlB,SADA2xD,EAAUz1D,UAAU,SAGpB8D,SADA2oD,EAAQzsD,UAAU,SAElBy1D,EAAQx9F,YAAYw0F,IAOpBzmG,KAAKktD,WAAWc,YAAY7J,MAAO,CACrC,IACIwU,EADAvU,EAAWpkD,KAAKktD,WAAWc,YAAY6pB,YAAY9zB,EAAayzC,UAAU7tF,GAAIgoE,EAASE,OAAQ7xE,KAAKktD,WAAWc,YAAY+pB,cAAch0B,EAAarM,GAAGo+B,SAkB7J,GAdEnd,EADEvU,EACUA,EAAS/5C,KAET,KAGd00F,EAAa/3D,QAET2xB,GAAaA,EAAU3V,QAAU2V,EAAU3V,OAAO3+C,SACpD2+C,EAAS2V,EAAU3V,OAAO,GAAGM,GAC7By7C,EAAa/2B,MAAMjkB,EAAawzC,UAAY,IAAKxzC,EAAawzC,UAAY,KAC1EsJ,EAAW7gG,KAAK4gG,gBAAgB7B,EAAc/7C,GAC9CyjD,EAAM1zE,aAAa,IAAK8tE,IAGrB7gG,KAAKwlG,SAsBRxlG,KAAKywF,UAAUx+E,YAAYw0F,OAtBT,CAGlB,GAFAzmG,KAAKywF,UAAUx+E,YAAYw9F,GAEvB92C,GAAaA,EAAU3V,OAAQ,CAEjChyC,SAAStN,KAAKuO,YAAYy9F,GAC1B,IAAI5B,EAAc4B,EAAMznD,UACxBynD,EAAM38E,aAAa,QAAS+6E,EAAYjoF,MAAQ,GAChD6pF,EAAM38E,aAAa,SAAU+6E,EAAYpuF,OAAS,GAClDgwF,EAAM38E,aAAa,UAAW+6E,EAAY7jE,EAAI,EAAI,KAAO6jE,EAAY1wC,EAAI,GAAK,KAAO0wC,EAAYjoF,MAAQ,GAAK,KAAOioF,EAAYpuF,OAAS,IAC1I,IAAIiwF,EAAaD,EAAMznF,MACnB2nF,EAAmB,cAAgB9B,EAAY7jE,EAAI,GAAK,OAAS6jE,EAAY1wC,EAAI,GAAK,MAC1FuyC,EAAWrnC,UAAYsnC,EACvBD,EAAWnC,gBAAkBoC,EAC7B5V,EAAQrwF,GAAG2tF,QAAUwW,EAAY1wC,EAAI,OAErCsyC,EAAM38E,aAAa,QAAS,GAC5B28E,EAAM38E,aAAa,SAAU,GAG/B08E,EAAQx9F,YAAYy9F,SAQtB,GAHAjJ,EAAMvuE,YAAc8hE,EAAQrwF,GAAG4G,IAC/Bk2F,EAAMr9C,eAAe,uCAAwC,YAAa,YAErEppD,KAAKwlG,SAQRxlG,KAAKywF,UAAUx+E,YAAYw0F,OART,CAClBzmG,KAAKywF,UAAUx+E,YAAYw9F,GAE3B,IAAII,EAASpJ,EAAMx+E,MACf6nF,EAAmB,kBAAoB/rD,EAAawzC,UAAY,IAAM,QAC1EsY,EAAOvnC,UAAYwnC,EACnBD,EAAOrC,gBAAkBsC,EAOxB9vG,KAAKwlG,SAGRxlG,KAAKshG,UAAUx+B,GAAO2jC,EAFtBzmG,KAAKshG,UAAUx+B,GAAO2sC,EAKxBzvG,KAAKshG,UAAUx+B,GAAK76C,MAAM7S,QAAU,QACpCpV,KAAKulG,UAAUziC,GAAO2jC,EACtB3jC,GAAO,EAGT,KAAOA,EAAM9iE,KAAKshG,UAAUj9F,QAC1BrE,KAAKshG,UAAUx+B,GAAK76C,MAAM7S,QAAU,OACpC0tD,GAAO,GAIXwiC,aAAarjG,UAAUuuF,mBAAqB,WAC1C,IAAIuf,EAEJ,GAAI/vG,KAAKqK,KAAK67F,YAAa,CACzB,IAAKlmG,KAAKygE,gBAAkBzgE,KAAKk+F,mBAC/B,OAGF,GAAIl+F,KAAKwlG,UAAYxlG,KAAKo5E,eAAekP,QAAS,CAEhDtoF,KAAK+hG,WAAWhvE,aAAa,WAAY/yB,KAAKo5E,eAAeC,MAAM15B,EAAEpe,EAAE,GAAK,KAAOvhC,KAAKo5E,eAAeC,MAAM15B,EAAEpe,EAAE,GAAK,IAAMvhC,KAAKovG,MAAQ,IAAMpvG,KAAKqvG,OACpJU,EAAW/vG,KAAK+hG,WAAW95E,MAC3B,IAAI+nF,EAAc,cAAgBhwG,KAAKo5E,eAAeC,MAAM15B,EAAEpe,EAAE,GAAK,OAASvhC,KAAKo5E,eAAeC,MAAM15B,EAAEpe,EAAE,GAAK,MACjHwuE,EAASznC,UAAY0nC,EACrBD,EAASvC,gBAAkBwC,GAM/B,GAFAhwG,KAAK0gG,aAAarC,YAAYr+F,KAAKiiF,aAAar2E,YAAa5L,KAAKk+F,oBAE7Dl+F,KAAKk+F,oBAAuBl+F,KAAK0gG,aAAaxC,mBAAnD,CAIA,IAAIv0F,EACA6X,EAKA6lF,EACAC,EACA2I,EANAxhF,EAAQ,EACRwvE,EAAkBj+F,KAAK0gG,aAAazC,gBACpCjE,EAAUh6F,KAAKiiF,aAAar2E,YAAYolC,EAM5C,IALAxvB,EAAMw4E,EAAQ31F,OAKTsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACpBqwF,EAAQrwF,GAAGkoC,EACbpjB,GAAS,GAET64E,EAAWtnG,KAAKshG,UAAU33F,GAC1BsmG,EAAWjwG,KAAKulG,UAAU57F,GAC1B09F,EAAiBpJ,EAAgBxvE,GACjCA,GAAS,EAEL44E,EAAejnC,KAAKpmC,IACjBh6B,KAAKwlG,SAIR8B,EAASv0E,aAAa,YAAas0E,EAAertE,IAHlDstE,EAASr/E,MAAMulF,gBAAkBnG,EAAertE,EAChDstE,EAASr/E,MAAMqgD,UAAY++B,EAAertE,IAO9CstE,EAASr/E,MAAMvS,QAAU2xF,EAAe1vF,EAEpC0vF,EAAehR,IAAMgR,EAAejnC,KAAKi2B,IAC3C4Z,EAASl9E,aAAa,eAAgBs0E,EAAehR,IAGnDgR,EAAe1vB,IAAM0vB,EAAejnC,KAAKuX,IAC3Cs4B,EAASl9E,aAAa,SAAUs0E,EAAe1vB,IAG7C0vB,EAAe/Q,IAAM+Q,EAAejnC,KAAKk2B,KAC3C2Z,EAASl9E,aAAa,OAAQs0E,EAAe/Q,IAC7C2Z,EAAShoF,MAAM0Y,MAAQ0mE,EAAe/Q,KAK5C,GAAIt2F,KAAKywF,UAAUxoC,UAAYjoD,KAAK24E,SAAW34E,KAAKygE,eAAiBzgE,KAAKogE,MAAO,CAC/E,IAAI0tC,EAAc9tG,KAAKywF,UAAUxoC,UAcjC,GAZIjoD,KAAKqlG,YAAYtwB,IAAM+4B,EAAYjoF,QACrC7lB,KAAKqlG,YAAYtwB,EAAI+4B,EAAYjoF,MACjC7lB,KAAK+hG,WAAWhvE,aAAa,QAAS+6E,EAAYjoF,QAGhD7lB,KAAKqlG,YAAY3lD,IAAMouD,EAAYpuF,SACrC1f,KAAKqlG,YAAY3lD,EAAIouD,EAAYpuF,OACjC1f,KAAK+hG,WAAWhvE,aAAa,SAAU+6E,EAAYpuF,SAKjD1f,KAAKqlG,YAAYtwB,IAAM+4B,EAAYjoF,MAAQqqF,GAAclwG,KAAKqlG,YAAY3lD,IAAMouD,EAAYpuF,OAASwwF,GAAclwG,KAAKqlG,YAAYp7D,IAAM6jE,EAAY7jE,EAF7I,GAE2JjqC,KAAKqlG,YAAYjoC,IAAM0wC,EAAY1wC,EAF9L,EAE0M,CACrNp9D,KAAKqlG,YAAYtwB,EAAI+4B,EAAYjoF,MAAQqqF,EACzClwG,KAAKqlG,YAAY3lD,EAAIouD,EAAYpuF,OAASwwF,EAC1ClwG,KAAKqlG,YAAYp7D,EAAI6jE,EAAY7jE,EALtB,EAMXjqC,KAAKqlG,YAAYjoC,EAAI0wC,EAAY1wC,EANtB,EAOXp9D,KAAK+hG,WAAWhvE,aAAa,UAAW/yB,KAAKqlG,YAAYp7D,EAAI,IAAMjqC,KAAKqlG,YAAYjoC,EAAI,IAAMp9D,KAAKqlG,YAAYtwB,EAAI,IAAM/0E,KAAKqlG,YAAY3lD,GAC1IqwD,EAAW/vG,KAAK+hG,WAAW95E,MAC3B,IAAIkoF,EAAe,aAAenwG,KAAKqlG,YAAYp7D,EAAI,MAAQjqC,KAAKqlG,YAAYjoC,EAAI,MACpF2yC,EAASznC,UAAY6nC,EACrBJ,EAASvC,gBAAkB2C,MAgDjCl2D,gBAAgB,CAACgpC,YAAaC,aAAc0L,kBAAmB6W,gBAE/DA,eAAexjG,UAAUmuG,MAAQ,WAC/B,IAAIzmG,EAEAu5C,EACAmtD,EACA5D,EAHAjrF,EAAMxhB,KAAKkjD,KAAK4iD,eAAezhG,OAKnC,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAIxB,GAAkB,QAFlBu5C,EAAOljD,KAAKkjD,KAAK4iD,eAAen8F,IAEvBgX,KAAe,CACtB0vF,EAAmBntD,EAAKotD,gBAAgBroF,MACxCwkF,EAAiBvpD,EAAKhvB,UAAUjM,MAChC,IAAIsoF,EAAcvwG,KAAK0lG,GAAGnkE,EAAI,KAC1B8kB,EAAS,cACTksB,EAAS,4CACb89B,EAAiBE,YAAcA,EAC/BF,EAAiBG,kBAAoBD,EACrC9D,EAAe1uD,gBAAkBsI,EACjComD,EAAeC,mBAAqBrmD,EACpComD,EAAezuD,sBAAwBqI,EACvCgqD,EAAiB/nC,UAAYiK,EAC7B89B,EAAiB7C,gBAAkBj7B,IAKzCkzB,eAAexjG,UAAUwmG,eAAiB,aAE1ChD,eAAexjG,UAAUob,KAAO,aAEhCooF,eAAexjG,UAAUqtD,YAAc,WACrC,IACI3lD,EACA6X,EAFA4+C,EAAOpgE,KAAKygE,cAIhB,GAAIzgE,KAAK48E,UAGP,IAFAp7D,EAAMxhB,KAAK48E,UAAUv4E,OAEhBsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBy2D,EAAOpgE,KAAK48E,UAAUjzE,GAAGyvE,eAAeC,MAAMjZ,MAAQA,EAI1D,GAAIA,GAAQpgE,KAAK0lG,GAAGtlC,MAAQpgE,KAAK2/C,GAAK3/C,KAAK2/C,EAAEygB,MAAQpgE,KAAKuwE,KAAOvwE,KAAKuwE,GAAGnQ,MAAQpgE,KAAKwwE,GAAGpQ,MAAQpgE,KAAKywE,GAAGrQ,OAASpgE,KAAK0wE,GAAGtQ,MAAQpgE,KAAK2wE,GAAGvQ,MAAQpgE,KAAK4wE,GAAGxQ,MAAQpgE,KAAKylE,GAAGrF,MAAQpgE,KAAK4kB,GAAK5kB,KAAK4kB,EAAEw7C,KAAM,CAGvM,GAFApgE,KAAK+wE,IAAI/pC,QAELhnC,KAAK48E,UAGP,IAAKjzE,EAFL6X,EAAMxhB,KAAK48E,UAAUv4E,OAAS,EAEhBsF,GAAK,EAAGA,GAAK,EAAG,CAC5B,IAAI8mG,EAAUzwG,KAAK48E,UAAUjzE,GAAGyvE,eAAeC,MAC/Cr5E,KAAK+wE,IAAI5I,WAAWsoC,EAAQ9wD,EAAEpe,EAAE,IAAKkvE,EAAQ9wD,EAAEpe,EAAE,GAAIkvE,EAAQ9wD,EAAEpe,EAAE,IACjEvhC,KAAK+wE,IAAItJ,SAASgpC,EAAQhrC,GAAGlkC,EAAE,IAAImmC,SAAS+oC,EAAQhrC,GAAGlkC,EAAE,IAAIomC,QAAQ8oC,EAAQhrC,GAAGlkC,EAAE,IAClFvhC,KAAK+wE,IAAItJ,SAASgpC,EAAQ//B,GAAGnvC,GAAGmmC,SAAS+oC,EAAQ9/B,GAAGpvC,GAAGomC,QAAQ8oC,EAAQ7/B,GAAGrvC,GAC1EvhC,KAAK+wE,IAAI/I,MAAM,EAAIyoC,EAAQ9jF,EAAE4U,EAAE,GAAI,EAAIkvE,EAAQ9jF,EAAE4U,EAAE,GAAI,EAAIkvE,EAAQ9jF,EAAE4U,EAAE,IACvEvhC,KAAK+wE,IAAI5I,UAAUsoC,EAAQ7rF,EAAE2c,EAAE,GAAIkvE,EAAQ7rF,EAAE2c,EAAE,GAAIkvE,EAAQ7rF,EAAE2c,EAAE,IAUnE,GANIvhC,KAAK2/C,EACP3/C,KAAK+wE,IAAI5I,WAAWnoE,KAAK2/C,EAAEpe,EAAE,IAAKvhC,KAAK2/C,EAAEpe,EAAE,GAAIvhC,KAAK2/C,EAAEpe,EAAE,IAExDvhC,KAAK+wE,IAAI5I,WAAWnoE,KAAKuwE,GAAGhvC,GAAIvhC,KAAKwwE,GAAGjvC,EAAGvhC,KAAKywE,GAAGlvC,GAGjDvhC,KAAK4kB,EAAG,CACV,IAAI8rF,EAGFA,EADE1wG,KAAK2/C,EACM,CAAC3/C,KAAK2/C,EAAEpe,EAAE,GAAKvhC,KAAK4kB,EAAE2c,EAAE,GAAIvhC,KAAK2/C,EAAEpe,EAAE,GAAKvhC,KAAK4kB,EAAE2c,EAAE,GAAIvhC,KAAK2/C,EAAEpe,EAAE,GAAKvhC,KAAK4kB,EAAE2c,EAAE,IAE9E,CAACvhC,KAAKuwE,GAAGhvC,EAAIvhC,KAAK4kB,EAAE2c,EAAE,GAAIvhC,KAAKwwE,GAAGjvC,EAAIvhC,KAAK4kB,EAAE2c,EAAE,GAAIvhC,KAAKywE,GAAGlvC,EAAIvhC,KAAK4kB,EAAE2c,EAAE,IAGvF,IAAIovE,EAAM3pG,KAAK+1C,KAAK/1C,KAAK61C,IAAI6zD,EAAW,GAAI,GAAK1pG,KAAK61C,IAAI6zD,EAAW,GAAI,GAAK1pG,KAAK61C,IAAI6zD,EAAW,GAAI,IAElGE,EAAU,CAACF,EAAW,GAAKC,EAAKD,EAAW,GAAKC,EAAKD,EAAW,GAAKC,GACrEE,EAAiB7pG,KAAK+1C,KAAK6zD,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAC1EE,EAAa9pG,KAAKo4D,MAAMwxC,EAAQ,GAAIC,GACpCE,EAAa/pG,KAAKo4D,MAAMwxC,EAAQ,IAAKA,EAAQ,IACjD5wG,KAAK+wE,IAAIrJ,QAAQqpC,GAAYtpC,SAASqpC,GAGxC9wG,KAAK+wE,IAAItJ,SAASznE,KAAK0wE,GAAGnvC,GAAGmmC,SAAS1nE,KAAK2wE,GAAGpvC,GAAGomC,QAAQ3nE,KAAK4wE,GAAGrvC,GACjEvhC,KAAK+wE,IAAItJ,SAASznE,KAAKylE,GAAGlkC,EAAE,IAAImmC,SAAS1nE,KAAKylE,GAAGlkC,EAAE,IAAIomC,QAAQ3nE,KAAKylE,GAAGlkC,EAAE,IACzEvhC,KAAK+wE,IAAI5I,UAAUnoE,KAAKktD,WAAWqyB,SAASxK,EAAI,EAAG/0E,KAAKktD,WAAWqyB,SAAS7/B,EAAI,EAAG,GACnF1/C,KAAK+wE,IAAI5I,UAAU,EAAG,EAAGnoE,KAAK0lG,GAAGnkE,GACjC,IAAIyvE,GAAoBhxG,KAAK2lG,SAASp7B,OAAOvqE,KAAK+wE,KAElD,IAAKigC,GAAoBhxG,KAAK0lG,GAAGtlC,OAASpgE,KAAKkjD,KAAK4iD,eAAgB,CAElE,IAAI5iD,EACAmtD,EACA5D,EAEJ,IALAjrF,EAAMxhB,KAAKkjD,KAAK4iD,eAAezhG,OAK1BsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAGxB,GAAkB,QAFlBu5C,EAAOljD,KAAKkjD,KAAK4iD,eAAen8F,IAEvBgX,KAAe,CACtB,GAAIqwF,EAAkB,CACpB,IAAIC,EAAWjxG,KAAK+wE,IAAIlF,SACxB4gC,EAAiBvpD,EAAKhvB,UAAUjM,OACjBqgD,UAAY2oC,EAC3BxE,EAAee,gBAAkByD,EAG/BjxG,KAAK0lG,GAAGtlC,QACViwC,EAAmBntD,EAAKotD,gBAAgBroF,OACvBsoF,YAAcvwG,KAAK0lG,GAAGnkE,EAAI,KAC3C8uE,EAAiBG,kBAAoBxwG,KAAK0lG,GAAGnkE,EAAI,MAKvDvhC,KAAK+wE,IAAIrxE,MAAMM,KAAK2lG,WAIxB3lG,KAAKygE,eAAgB,GAGvBglC,eAAexjG,UAAU8oD,aAAe,SAAU71B,GAChDl1B,KAAKikF,kBAAkB/uD,GAAK,IAG9BuwE,eAAexjG,UAAUma,QAAU,aAEnCqpF,eAAexjG,UAAUykF,eAAiB,WACxC,OAAO,MAQTzsC,gBAAgB,CAACgpC,YAAaoC,iBAAkB4f,aAAcC,cAAetW,iBAAkB1L,aAAc1K,mBAAoBotB,eAEjIA,cAAc3jG,UAAUsuF,cAAgB,WACtC,IAAIp1C,EAAYn7C,KAAKktD,WAAW3F,cAAcvnD,KAAKwnD,WAC/CM,EAAM,IAAIopD,MAEVlxG,KAAKqK,KAAKk4C,SACZviD,KAAKmxG,UAAYtwD,SAAS,SAC1B7gD,KAAKmxG,UAAUp+E,aAAa,QAAS/yB,KAAKwnD,UAAUutB,EAAI,MACxD/0E,KAAKmxG,UAAUp+E,aAAa,SAAU/yB,KAAKwnD,UAAU9H,EAAI,MACzD1/C,KAAKmxG,UAAU/nD,eAAe,+BAAgC,OAAQjO,GACtEn7C,KAAK6jF,aAAa5xE,YAAYjS,KAAKmxG,WACnCnxG,KAAK4jF,YAAY7wD,aAAa,QAAS/yB,KAAKwnD,UAAUutB,GACtD/0E,KAAK4jF,YAAY7wD,aAAa,SAAU/yB,KAAKwnD,UAAU9H,IAEvD1/C,KAAK6jF,aAAa5xE,YAAY61C,GAGhCA,EAAIoB,YAAc,YAClBpB,EAAI91C,IAAMmpC,EAENn7C,KAAKqK,KAAKwlF,IACZ7vF,KAAK4jF,YAAY7wD,aAAa,KAAM/yB,KAAKqK,KAAKwlF,KAiClD51C,gBAAgB,CAACmrC,cAAeygB,oBAChCA,mBAAmB5jG,UAAU6kF,UAAY+a,YAAY5/F,UAAU6kF,UAE/D+e,mBAAmB5jG,UAAU8kF,qBAAuB,WAClD,KAAO/mF,KAAKioF,gBAAgB5jF,QACZrE,KAAKioF,gBAAgBt0C,MAC3B28C,kBAIZuV,mBAAmB5jG,UAAUslG,mBAAqB,SAAUnuF,EAAS8oD,GACnE,IAAIkvC,EAAgBh4F,EAAQstE,iBAE5B,GAAK0qB,EAAL,CAIA,IAAI/xB,EAAQr/E,KAAK+hD,OAAOmgB,GAExB,GAAKmd,EAAMgyB,KAAQrxG,KAAK4hG,WA4BtB5hG,KAAKsxG,iBAAiBF,EAAelvC,QA3BrC,GAAIliE,KAAK8lG,eACP9lG,KAAKsxG,iBAAiBF,EAAelvC,OAChC,CAML,IALA,IACIqvC,EACAC,EAFA7nG,EAAI,EAKDA,EAAIu4D,GACLliE,KAAK21B,SAAShsB,KAA2B,IAArB3J,KAAK21B,SAAShsB,IAAe3J,KAAK21B,SAAShsB,GAAG+8E,iBACpE8qB,EAAYxxG,KAAK21B,SAAShsB,GAE1B4nG,GADgBvxG,KAAK+hD,OAAOp4C,GAAG0nG,IAAMrxG,KAAKyxG,wBAAwB9nG,GAAK6nG,EAAU9qB,mBAC/C6qB,GAGpC5nG,GAAK,EAGH4nG,EACGlyB,EAAMgyB,KAAQrxG,KAAK4hG,YACtB5hG,KAAK6jF,aAAappD,aAAa22E,EAAeG,GAEtClyB,EAAMgyB,KAAQrxG,KAAK4hG,YAC7B5hG,KAAK6jF,aAAa5xE,YAAYm/F,MAQtCvL,mBAAmB5jG,UAAUolF,YAAc,SAAUh9E,GACnD,OAAKrK,KAAK4hG,WAIH,IAAIuD,cAAc96F,EAAMrK,KAAKktD,WAAYltD,MAHvC,IAAIi2F,gBAAgB5rF,EAAMrK,KAAKktD,WAAYltD,OAMtD6lG,mBAAmB5jG,UAAUqlF,WAAa,SAAUj9E,GAClD,OAAKrK,KAAK4hG,WAIH,IAAI0D,aAAaj7F,EAAMrK,KAAKktD,WAAYltD,MAHtC,IAAIqhG,qBAAqBh3F,EAAMrK,KAAKktD,WAAYltD,OAM3D6lG,mBAAmB5jG,UAAUslF,aAAe,SAAUl9E,GAEpD,OADArK,KAAK+lG,OAAS,IAAIN,eAAep7F,EAAMrK,KAAKktD,WAAYltD,MACjDA,KAAK+lG,QAGdF,mBAAmB5jG,UAAUglF,YAAc,SAAU58E,GACnD,OAAKrK,KAAK4hG,WAIH,IAAIgE,cAAcv7F,EAAMrK,KAAKktD,WAAYltD,MAHvC,IAAI8uF,cAAczkF,EAAMrK,KAAKktD,WAAYltD,OAMpD6lG,mBAAmB5jG,UAAUklF,YAAc,SAAU98E,GACnD,OAAKrK,KAAK4hG,WAIH,IAAIsD,cAAc76F,EAAMrK,KAAKktD,WAAYltD,MAHvC,IAAIuhG,cAAcl3F,EAAMrK,KAAKktD,WAAYltD,OAMpD6lG,mBAAmB5jG,UAAUmlF,WAAaya,YAAY5/F,UAAUmlF,WAEhEye,mBAAmB5jG,UAAUwvG,wBAA0B,SAAUvvC,GAI/D,IAHA,IAAIv4D,EAAI,EACJ6X,EAAMxhB,KAAK8lG,eAAezhG,OAEvBsF,EAAI6X,GAAK,CACd,GAAIxhB,KAAK8lG,eAAen8F,GAAG+nG,UAAYxvC,GAAOliE,KAAK8lG,eAAen8F,GAAGgoG,QAAUzvC,EAC7E,OAAOliE,KAAK8lG,eAAen8F,GAAG2mG,gBAGhC3mG,GAAK,EAGP,OAAO,MAGTk8F,mBAAmB5jG,UAAU2vG,sBAAwB,SAAU1vC,EAAKvhD,GAClE,IACIsH,EACAwkF,EAFA6D,EAAkBt2D,UAAU,OAGhC8D,SAASwyD,GACT,IAAIp8E,EAAY8lB,UAAU,OAG1B,GAFA8D,SAAS5pB,GAEI,OAATvT,EAAe,EACjBsH,EAAQqoF,EAAgBroF,OAClBpC,MAAQ7lB,KAAKktD,WAAWqyB,SAASxK,EAAI,KAC3C9sD,EAAMvI,OAAS1f,KAAKktD,WAAWqyB,SAAS7/B,EAAI,KAC5C,IAAImyD,EAAS,UACb5pF,EAAM+1B,sBAAwB6zD,EAC9B5pF,EAAMykF,mBAAqBmF,EAC3B5pF,EAAM81B,gBAAkB8zD,EAExB,IAAIt/B,EAAS,6CADbk6B,EAAiBv4E,EAAUjM,OAEZqgD,UAAYiK,EAC3Bk6B,EAAee,gBAAkBj7B,EAGnC+9B,EAAgBr+F,YAAYiiB,GAE5B,IAAI49E,EAAsB,CACxB59E,UAAWA,EACXo8E,gBAAiBA,EACjBoB,SAAUxvC,EACVyvC,OAAQzvC,EACRvhD,KAAMA,GAGR,OADA3gB,KAAK8lG,eAAe3+F,KAAK2qG,GAClBA,GAGTjM,mBAAmB5jG,UAAU8vG,kBAAoB,WAC/C,IAAIpoG,EAEAqoG,EADAxwF,EAAMxhB,KAAK+hD,OAAO19C,OAElB4tG,EAAmB,GAEvB,IAAKtoG,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACpB3J,KAAK+hD,OAAOp4C,GAAG0nG,KAA6B,IAAtBrxG,KAAK+hD,OAAOp4C,GAAGi5C,IACd,OAArBqvD,IACFA,EAAmB,KACnBD,EAA0BhyG,KAAK4xG,sBAAsBjoG,EAAG,OAG1DqoG,EAAwBL,OAAS3qG,KAAKiF,IAAI+lG,EAAwBL,OAAQhoG,KAEjD,OAArBsoG,IACFA,EAAmB,KACnBD,EAA0BhyG,KAAK4xG,sBAAsBjoG,EAAG,OAG1DqoG,EAAwBL,OAAS3qG,KAAKiF,IAAI+lG,EAAwBL,OAAQhoG,IAM9E,IAAKA,GAFL6X,EAAMxhB,KAAK8lG,eAAezhG,QAEX,EAAGsF,GAAK,EAAGA,GAAK,EAC7B3J,KAAKkyG,YAAYjgG,YAAYjS,KAAK8lG,eAAen8F,GAAG2mG,kBAIxDzK,mBAAmB5jG,UAAUqvG,iBAAmB,SAAU/7E,EAAM2sC,GAI9D,IAHA,IAAIv4D,EAAI,EACJ6X,EAAMxhB,KAAK8lG,eAAezhG,OAEvBsF,EAAI6X,GAAK,CACd,GAAI0gD,GAAOliE,KAAK8lG,eAAen8F,GAAGgoG,OAAQ,CAIxC,IAHA,IACInK,EADA39F,EAAI7J,KAAK8lG,eAAen8F,GAAG+nG,SAGxB7nG,EAAIq4D,GACLliE,KAAK21B,SAAS9rB,IAAM7J,KAAK21B,SAAS9rB,GAAG68E,iBACvC8gB,EAAcxnG,KAAK21B,SAAS9rB,GAAG68E,kBAGjC78E,GAAK,EAGH29F,EACFxnG,KAAK8lG,eAAen8F,GAAGuqB,UAAUuG,aAAalF,EAAMiyE,GAEpDxnG,KAAK8lG,eAAen8F,GAAGuqB,UAAUjiB,YAAYsjB,GAG/C,MAGF5rB,GAAK,IAITk8F,mBAAmB5jG,UAAU2qD,gBAAkB,SAAU+B,GACvD,IAAIujD,EAAcl4D,UAAU,OACxB9kC,EAAUlV,KAAKooF,cAAclzE,QAC7B+S,EAAQiqF,EAAYjqF,MACxBA,EAAMpC,MAAQ8oC,EAASomB,EAAI,KAC3B9sD,EAAMvI,OAASivC,EAASjP,EAAI,KAC5B1/C,KAAKkyG,YAAcA,EACnBp0D,SAASo0D,GACTjqF,EAAMk2B,eAAiB,OACvBl2B,EAAMo2B,kBAAoB,OAC1Bp2B,EAAMm2B,qBAAuB,OAEzBp+C,KAAKs5E,aAAatgE,WACpBk5F,EAAYn/E,aAAa,QAAS/yB,KAAKs5E,aAAatgE,WAGtD9D,EAAQjD,YAAYigG,GACpBjqF,EAAMkqF,SAAW,SACjB,IAAIj/E,EAAM2tB,SAAS,OACnB3tB,EAAIH,aAAa,QAAS,KAC1BG,EAAIH,aAAa,SAAU,KAC3B+qB,SAAS5qB,GACTlzB,KAAKkyG,YAAYjgG,YAAYihB,GAC7B,IAAIi6B,EAAOtM,SAAS,QACpB3tB,EAAIjhB,YAAYk7C,GAChBntD,KAAKqK,KAAOskD,EAEZ3uD,KAAKkoF,gBAAgBv5B,EAAUz7B,GAC/BlzB,KAAKktD,WAAWC,KAAOA,EACvBntD,KAAK+hD,OAAS4M,EAAS5M,OACvB/hD,KAAK6jF,aAAe7jF,KAAKkyG,YACzBlyG,KAAK+xG,oBACL/xG,KAAKovD,uBAGPy2C,mBAAmB5jG,UAAUma,QAAU,WAOrC,IAAIzS,EANA3J,KAAKooF,cAAclzE,UACrBlV,KAAKooF,cAAclzE,QAAQw9C,UAAY,IAGzC1yD,KAAKooF,cAAcl0D,UAAY,KAC/Bl0B,KAAKktD,WAAWC,KAAO,KAEvB,IAAI3rC,EAAMxhB,KAAK+hD,OAAS/hD,KAAK+hD,OAAO19C,OAAS,EAE7C,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB3J,KAAK21B,SAAShsB,GAAGyS,UAGnBpc,KAAK21B,SAAStxB,OAAS,EACvBrE,KAAK0iG,WAAY,EACjB1iG,KAAKooF,cAAgB,MAGvByd,mBAAmB5jG,UAAUmtD,oBAAsB,WACjD,IAIIyY,EACAzC,EACAgD,EACAxlB,EAPAiqD,EAAe7sG,KAAKooF,cAAclzE,QAAQogE,YAC1Cw3B,EAAgB9sG,KAAKooF,cAAclzE,QAAQ+3F,aAC3CF,EAAaF,EAAeC,EACb9sG,KAAKktD,WAAWqyB,SAASxK,EAAI/0E,KAAKktD,WAAWqyB,SAAS7/B,EAMtDqtD,GACjBllC,EAAKglC,EAAe7sG,KAAKktD,WAAWqyB,SAASxK,EAC7C3P,EAAKynC,EAAe7sG,KAAKktD,WAAWqyB,SAASxK,EAC7C3M,EAAK,EACLxlB,GAAMkqD,EAAgB9sG,KAAKktD,WAAWqyB,SAAS7/B,GAAKmtD,EAAe7sG,KAAKktD,WAAWqyB,SAASxK,IAAM,IAElGlN,EAAKilC,EAAgB9sG,KAAKktD,WAAWqyB,SAAS7/B,EAC9C0lB,EAAK0nC,EAAgB9sG,KAAKktD,WAAWqyB,SAAS7/B,EAC9C0oB,GAAMykC,EAAe7sG,KAAKktD,WAAWqyB,SAASxK,GAAK+3B,EAAgB9sG,KAAKktD,WAAWqyB,SAAS7/B,IAAM,EAClGkD,EAAK,GAGP,IAAI36B,EAAQjoB,KAAKkyG,YAAYjqF,MAC7BA,EAAMulF,gBAAkB,YAAc3lC,EAAK,YAAczC,EAAK,gBAAkBgD,EAAK,IAAMxlB,EAAK,QAChG36B,EAAMqgD,UAAYrgD,EAAMulF,iBAG1B3H,mBAAmB5jG,UAAUqtD,YAAcuyC,YAAY5/F,UAAUqtD,YAEjEu2C,mBAAmB5jG,UAAUob,KAAO,WAClCrd,KAAKkyG,YAAYjqF,MAAM7S,QAAU,QAGnCywF,mBAAmB5jG,UAAUsc,KAAO,WAClCve,KAAKkyG,YAAYjqF,MAAM7S,QAAU,SAGnCywF,mBAAmB5jG,UAAUitD,UAAY,WAGvC,GAFAlvD,KAAKynF,gBAEDznF,KAAK+lG,OACP/lG,KAAK+lG,OAAOqK,YACP,CACL,IAEIzmG,EAFAyoG,EAASpyG,KAAKktD,WAAWqyB,SAASxK,EAClCs9B,EAAUryG,KAAKktD,WAAWqyB,SAAS7/B,EAEnCl+B,EAAMxhB,KAAK8lG,eAAezhG,OAE9B,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAAG,CAC3B,IAAIse,EAAQjoB,KAAK8lG,eAAen8F,GAAG2mG,gBAAgBroF,MACnDA,EAAMuoF,kBAAoBxpG,KAAK+1C,KAAK/1C,KAAK61C,IAAIu1D,EAAQ,GAAKprG,KAAK61C,IAAIw1D,EAAS,IAAM,KAClFpqF,EAAMsoF,YAActoF,EAAMuoF,qBAKhC3K,mBAAmB5jG,UAAU4sD,wBAA0B,SAAU5K,GAC/D,IAAIt6C,EACA6X,EAAMyiC,EAAO5/C,OACbiuG,EAAoBt4D,UAAU,OAElC,IAAKrwC,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB,GAAIs6C,EAAOt6C,GAAGqhD,GAAI,CAChB,IAAI9H,EAAOljD,KAAKknF,WAAWjjC,EAAOt6C,GAAI2oG,EAAmBtyG,KAAKktD,WAAWhK,KAAM,MAC/EA,EAAKiL,kBACLnuD,KAAKktD,WAAWT,iBAAiB9B,oBAAoBzH,KAiB3DjJ,gBAAgB,CAAC4rD,mBAAoBnE,aAAcuD,cAAee,cAClEA,aAAa/jG,UAAUswG,6BAA+BvM,aAAa/jG,UAAUmtF,wBAE7E4W,aAAa/jG,UAAUmtF,wBAA0B,WAC/CpvF,KAAKuyG,+BAGDvyG,KAAKqK,KAAKk4C,SACZviD,KAAK+hG,WAAWhvE,aAAa,QAAS/yB,KAAKqK,KAAK0qE,GAChD/0E,KAAK+hG,WAAWhvE,aAAa,SAAU/yB,KAAKqK,KAAKq1C,GACjD1/C,KAAKqtF,mBAAqBrtF,KAAK4jF,aAE/B5jF,KAAKqtF,mBAAqBrtF,KAAK6jF,cAInCmiB,aAAa/jG,UAAUqvG,iBAAmB,SAAU/7E,EAAM2sC,GAIxD,IAHA,IACIslC,EADA39F,EAAI,EAGDA,EAAIq4D,GACLliE,KAAK21B,SAAS9rB,IAAM7J,KAAK21B,SAAS9rB,GAAG68E,iBACvC8gB,EAAcxnG,KAAK21B,SAAS9rB,GAAG68E,kBAGjC78E,GAAK,EAGH29F,EACFxnG,KAAK6jF,aAAappD,aAAalF,EAAMiyE,GAErCxnG,KAAK6jF,aAAa5xE,YAAYsjB,IAIlCywE,aAAa/jG,UAAUilF,WAAa,SAAU78E,GAC5C,OAAKrK,KAAK4hG,WAIH,IAAIoE,aAAa37F,EAAMrK,KAAKktD,WAAYltD,MAHtC,IAAI2hG,eAAet3F,EAAMrK,KAAKktD,WAAYltD,OAmCrDi6C,gBAAgB,CAAC4rD,oBAAqBI,gBAEtCA,eAAehkG,UAAUilF,WAAa,SAAU78E,GAC9C,OAAKrK,KAAK4hG,WAIH,IAAIoE,aAAa37F,EAAMrK,KAAKktD,WAAYltD,MAHtC,IAAI2hG,eAAet3F,EAAMrK,KAAKktD,WAAYltD,OAMrD,IAAIwyG,YAAc,WAChB,IAAInqD,EAAK,CACTA,gBAEA,SAAyB3oB,GACvB,IAAI+yE,EAAa,EACbC,EAAY,GA+BhBhzE,EAAUusB,SAASf,cAAgBk0B,wBAAwB1/C,EAAUusB,UACrEvsB,EAAUusB,SAASiB,WAAWT,iBAAiB9B,oBAAoBjrB,EAAUusB,UAC7EvsB,EAAUusB,SAASiB,WAAWylD,eA/B9B,WACEF,GAAc,GA+BhB/yE,EAAUusB,SAASiB,WAAW0lD,cA5B9B,WAGqB,IAFnBH,GAAc,IAahB,WACE,IAAI9oG,EACA6X,EAAMkxF,EAAUruG,OAEpB,IAAKsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB+oG,EAAU/oG,GAAGqsD,UAGf08C,EAAUruG,OAAS,EAlBjBwuG,IAyBJnzE,EAAUusB,SAASiB,WAAW4lD,2BArB9B,SAAoCC,IACK,IAAnCL,EAAUnvG,QAAQwvG,IACpBL,EAAUvrG,KAAK4rG,MAsBrB,OAAO1qD,EA5CS,GA+ClB,SAAS2qD,UAAUjxG,GAAuV,OAA1OixG,UAArD,mBAAX5pE,QAAoD,iBAApBA,OAAOC,SAAqC,SAAiBtnC,GAAO,cAAcA,GAA6B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXqnC,QAAyBrnC,EAAI+Q,cAAgBs2B,QAAUrnC,IAAQqnC,OAAOnnC,UAAY,gBAAkBF,GAAiBixG,UAAUjxG,GA2B3X,SAASkxG,WAAWn9C,EAAMU,GAIxB,IAAI3oD,EAAS7N,KACT6lB,EAAQ,IAQZqtF,EAAa18C,EAAK3Z,IAAIh3B,EANb,GAOLstF,EAAe38C,EAAK3Z,IAAI,EALnB,IAMLs1D,EAA0B,EAAfgB,EACXr5B,EAAOj0D,IA6FX,SAASutF,EAAKprG,GACZ,IAAIouC,EACAi9D,EAASrrG,EAAI3D,OACbivG,EAAKtzG,KACL2J,EAAI,EACJE,EAAIypG,EAAG3pG,EAAI2pG,EAAGzpG,EAAI,EAClB8iB,EAAI2mF,EAAGC,EAAI,GAOf,IALKF,IACHrrG,EAAM,CAACqrG,MAIF1pG,EAAIkc,GACT8G,EAAEhjB,GAAKA,IAGT,IAAKA,EAAI,EAAGA,EAAIkc,EAAOlc,IACrBgjB,EAAEhjB,GAAKgjB,EAAE9iB,EAAIiwE,EAAOjwE,EAAI7B,EAAI2B,EAAI0pG,IAAWj9D,EAAIzpB,EAAEhjB,KACjDgjB,EAAE9iB,GAAKusC,EAITk9D,EAAG9+F,EAAI,SAAUia,GAQf,IANA,IAAI2nB,EACAnW,EAAI,EACJt2B,EAAI2pG,EAAG3pG,EACPE,EAAIypG,EAAGzpG,EACP8iB,EAAI2mF,EAAGC,EAEJ9kF,KACL2nB,EAAIzpB,EAAEhjB,EAAImwE,EAAOnwE,EAAI,GACrBs2B,EAAIA,EAAIpa,EAAQ8G,EAAEmtD,GAAQntD,EAAEhjB,GAAKgjB,EAAE9iB,EAAIiwE,EAAOjwE,EAAIusC,KAAOzpB,EAAE9iB,GAAKusC,IAKlE,OAFAk9D,EAAG3pG,EAAIA,EACP2pG,EAAGzpG,EAAIA,EACAo2B,GAUX,SAASuzE,EAAK97D,EAAGtB,GAIf,OAHAA,EAAEzsC,EAAI+tC,EAAE/tC,EACRysC,EAAEvsC,EAAI6tC,EAAE7tC,EACRusC,EAAEm9D,EAAI77D,EAAE67D,EAAEtgG,QACHmjC,EAOT,SAASvkB,EAAQ9vB,EAAK0xG,GACpB,IAEI7rF,EAFAiF,EAAS,GACT6mF,EAAMV,UAAUjxG,GAGpB,GAAI0xG,GAAgB,UAAPC,EACX,IAAK9rF,KAAQ7lB,EACX,IACE8qB,EAAO1lB,KAAK0qB,EAAQ9vB,EAAI6lB,GAAO6rF,EAAQ,IACvC,MAAO3jG,IAIb,OAAO+c,EAAOxoB,OAASwoB,EAAgB,UAAP6mF,EAAkB3xG,EAAMA,EAAM,KAQhE,SAAS4xG,EAAOC,EAAM5rG,GAKpB,IAJA,IACI6rG,EADAC,EAAaF,EAAO,GAEpB/pG,EAAI,EAEDA,EAAIiqG,EAAWzvG,QACpB2D,EAAI8xE,EAAOjwE,GAAKiwE,GAAQ+5B,GAAyB,GAAhB7rG,EAAI8xE,EAAOjwE,IAAWiqG,EAAW1pF,WAAWvgB,KAG/E,OAAOkqG,EAAS/rG,GA4BlB,SAAS+rG,EAASnvF,GAChB,OAAOoI,OAAOw5E,aAAa13F,MAAM,EAAG8V,GAjItC4xC,EAAqB,WA3ErB,SAAoBo9C,EAAMntG,EAASxB,GACjC,IAAI+C,EAAM,GAKNgsG,EAAYL,EAAO9hF,GAJvBprB,GAAsB,IAAZA,EAAmB,CAC3BwtG,SAAS,GACPxtG,GAAW,IAEwBwtG,QAAU,CAACL,EAAMG,EAASj+C,IAAkB,OAAT89C,EAiL5E,WACE,IAKE,IAAIvxG,EAAM,IAAI6xG,WAAWruF,GAEzB,OADChY,EAAOsmG,QAAUtmG,EAAOumG,UAAUC,gBAAgBhyG,GAC5C0xG,EAAS1xG,GAChB,MAAOyN,GACP,IAAIwkG,EAAUzmG,EAAO4e,UACjB8nF,EAAUD,GAAWA,EAAQC,QACjC,MAAO,EAAE,IAAIvuG,KAAQ6H,EAAQ0mG,EAAS1mG,EAAO2mG,OAAQT,EAASj+C,KA7L0B2+C,GAAab,EAAM,GAAI5rG,GAE7G0sG,EAAO,IAAItB,EAAKprG,GAGhB2sG,EAAO,WAOT,IANA,IAAI9iE,EAAI6iE,EAAKlgG,EA5BR,GA8BLgjC,EAAI07D,EAEJjpE,EAAI,EAEG4H,EAAIshE,GAETthE,GAAKA,EAAI5H,GAAKpkB,EAEd2xB,GAAK3xB,EAELokB,EAAIyqE,EAAKlgG,EAAE,GAGb,KAAOq9B,GAAKsgE,GAEVtgE,GAAK,EAEL2F,GAAK,EAELvN,KAAO,EAGT,OAAQ4H,EAAI5H,GAAKuN,GAenB,OAZAm9D,EAAKC,MAAQ,WACX,OAAmB,EAAZF,EAAKlgG,EAAE,IAGhBmgG,EAAKE,MAAQ,WACX,OAAOH,EAAKlgG,EAAE,GAAK,YAGrBmgG,EAAa,OAAIA,EAEjBhB,EAAOI,EAASW,EAAKnB,GAAIz9C,IAEjBrvD,EAAQ8wC,MAAQtyC,GAAY,SAAU0vG,EAAMf,EAAMkB,EAAczgG,GAetE,OAdIA,IAEEA,EAAMk/F,GACRC,EAAKn/F,EAAOqgG,GAIdC,EAAKtgG,MAAQ,WACX,OAAOm/F,EAAKkB,EAAM,MAMlBI,GACFt+C,EAAY,OAAIm+C,EACTf,GAGGe,IACXA,EAAMX,EAAW,WAAYvtG,EAAUA,EAAQoH,OAAS7N,MAAQw2D,EAAM/vD,EAAQ4N,QA8InFs/F,EAAOn9C,EAAKlrD,SAAUwqD,GASxB,SAASi/C,aAAa33D,GACpB61D,WAAW,GAAI71D,GAGjB,IAAI43D,UAAY,CACdC,MAAO,SAGT,SAAS9rE,QAAQpnC,GAAmV,OAAtOonC,QAArD,mBAAXC,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiBtnC,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXqnC,QAAyBrnC,EAAI+Q,cAAgBs2B,QAAUrnC,IAAQqnC,OAAOnnC,UAAY,gBAAkBF,GAAiBonC,QAAQpnC,GAEnX,IAAImzG,kBAAoB,WAGtB,IAAI7sD,GAAK,GACLrhD,KAAOo2C,OACP9rC,OAAS,KACTN,SAAW,KACXhC,eAAiB,KACjBmmG,MAAQ,KACRC,OAAS,KAGb,SAASC,sBAAsBhiG,GAC7B,OAAOA,EAAIP,cAAgB9Q,OAASqR,EAAIP,cAAgBqpC,aAG1D,SAASm5D,YAAYC,EAAMh0E,GACzB,MAAgB,WAATg0E,GAA8B,YAATA,GAA+B,WAATA,GAAqBh0E,aAAapM,OAGtF,SAASqgF,QAAQ5wF,GACf,IAAI6wF,EAAOtsE,QAAQvkB,GAEnB,GAAa,WAAT6wF,GAA8B,YAATA,GAAsB7wF,aAAauQ,OAC1D,OAAQvQ,EAGV,GAAIywF,sBAAsBzwF,GAAI,CAC5B,IAAIjb,EACA+rG,EAAO9wF,EAAEvgB,OACTsxG,EAAS,GAEb,IAAKhsG,EAAI,EAAGA,EAAI+rG,EAAM/rG,GAAK,EACzBgsG,EAAOhsG,IAAMib,EAAEjb,GAGjB,OAAOgsG,EAGT,OAAI/wF,EAAE82C,SACG92C,EAAE2c,GAGH3c,EAjCVmwF,aAAa33D,QAoCb,IAAIw4D,UAAY7iD,cAAcoK,gBAAgB,KAAO,EAAG,KAAO,KAAO,UAAU7yD,IAC5EurG,WAAa9iD,cAAcoK,gBAAgB,KAAO,KAAO,KAAO,EAAG,WAAW7yD,IAC9EwrG,aAAe/iD,cAAcoK,gBAAgB,IAAM,EAAG,KAAO,EAAG,aAAa7yD,IAEjF,SAASosE,IAAI9xD,EAAGC,GACd,IAAI4wF,EAAOtsE,QAAQvkB,GAEfmxF,EAAO5sE,QAAQtkB,GAEnB,GAAa,WAAT4wF,GAA8B,WAATM,EACvB,OAAOnxF,EAAIC,EAGb,GAAIywF,YAAYG,EAAM7wF,IAAM0wF,YAAYS,EAAMlxF,GAC5C,OAAOD,EAAIC,EAGb,GAAIwwF,sBAAsBzwF,IAAM0wF,YAAYS,EAAMlxF,GAGhD,OAFAD,EAAIA,EAAE3R,MAAM,IACV,IAAM4R,EACDD,EAGT,GAAI0wF,YAAYG,EAAM7wF,IAAMywF,sBAAsBxwF,GAGhD,OAFAA,EAAIA,EAAE5R,MAAM,IACV,GAAK2R,EAAIC,EAAE,GACNA,EAGT,GAAIwwF,sBAAsBzwF,IAAMywF,sBAAsBxwF,GAAI,CAMxD,IALA,IAAIlb,EAAI,EACJ+rG,EAAO9wF,EAAEvgB,OACT2xG,EAAOnxF,EAAExgB,OACTsxG,EAAS,GAENhsG,EAAI+rG,GAAQ/rG,EAAIqsG,IACA,iBAATpxF,EAAEjb,IAAmBib,EAAEjb,aAAcwrB,UAA4B,iBAATtQ,EAAElb,IAAmBkb,EAAElb,aAAcwrB,QACvGwgF,EAAOhsG,GAAKib,EAAEjb,GAAKkb,EAAElb,GAErBgsG,EAAOhsG,QAAcpI,IAATsjB,EAAElb,GAAmBib,EAAEjb,GAAKib,EAAEjb,IAAMkb,EAAElb,GAGpDA,GAAK,EAGP,OAAOgsG,EAGT,OAAO,EAGT,IAAIv/E,IAAMsgD,IAEV,SAASx+B,IAAItzB,EAAGC,GACd,IAAI4wF,EAAOtsE,QAAQvkB,GAEfmxF,EAAO5sE,QAAQtkB,GAEnB,GAAIywF,YAAYG,EAAM7wF,IAAM0wF,YAAYS,EAAMlxF,GAS5C,MARa,WAAT4wF,IACF7wF,EAAIvlB,SAASulB,EAAG,KAGL,WAATmxF,IACFlxF,EAAIxlB,SAASwlB,EAAG,KAGXD,EAAIC,EAGb,GAAIwwF,sBAAsBzwF,IAAM0wF,YAAYS,EAAMlxF,GAGhD,OAFAD,EAAIA,EAAE3R,MAAM,IACV,IAAM4R,EACDD,EAGT,GAAI0wF,YAAYG,EAAM7wF,IAAMywF,sBAAsBxwF,GAGhD,OAFAA,EAAIA,EAAE5R,MAAM,IACV,GAAK2R,EAAIC,EAAE,GACNA,EAGT,GAAIwwF,sBAAsBzwF,IAAMywF,sBAAsBxwF,GAAI,CAMxD,IALA,IAAIlb,EAAI,EACJ+rG,EAAO9wF,EAAEvgB,OACT2xG,EAAOnxF,EAAExgB,OACTsxG,EAAS,GAENhsG,EAAI+rG,GAAQ/rG,EAAIqsG,IACA,iBAATpxF,EAAEjb,IAAmBib,EAAEjb,aAAcwrB,UAA4B,iBAATtQ,EAAElb,IAAmBkb,EAAElb,aAAcwrB,QACvGwgF,EAAOhsG,GAAKib,EAAEjb,GAAKkb,EAAElb,GAErBgsG,EAAOhsG,QAAcpI,IAATsjB,EAAElb,GAAmBib,EAAEjb,GAAKib,EAAEjb,IAAMkb,EAAElb,GAGpDA,GAAK,EAGP,OAAOgsG,EAGT,OAAO,EAGT,SAASM,IAAIrxF,EAAGC,GACd,IAIIxR,EAMA1J,EACA6X,EAXAi0F,EAAOtsE,QAAQvkB,GAEfmxF,EAAO5sE,QAAQtkB,GAInB,GAAIywF,YAAYG,EAAM7wF,IAAM0wF,YAAYS,EAAMlxF,GAC5C,OAAOD,EAAIC,EAMb,GAAIwwF,sBAAsBzwF,IAAM0wF,YAAYS,EAAMlxF,GAAI,CAIpD,IAHArD,EAAMoD,EAAEvgB,OACRgP,EAAM4oC,iBAAiB,UAAWz6B,GAE7B7X,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB0J,EAAI1J,GAAKib,EAAEjb,GAAKkb,EAGlB,OAAOxR,EAGT,GAAIiiG,YAAYG,EAAM7wF,IAAMywF,sBAAsBxwF,GAAI,CAIpD,IAHArD,EAAMqD,EAAExgB,OACRgP,EAAM4oC,iBAAiB,UAAWz6B,GAE7B7X,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB0J,EAAI1J,GAAKib,EAAIC,EAAElb,GAGjB,OAAO0J,EAGT,OAAO,EAGT,SAASma,IAAI5I,EAAGC,GACd,IAIIxR,EAMA1J,EACA6X,EAXAi0F,EAAOtsE,QAAQvkB,GAEfmxF,EAAO5sE,QAAQtkB,GAInB,GAAIywF,YAAYG,EAAM7wF,IAAM0wF,YAAYS,EAAMlxF,GAC5C,OAAOD,EAAIC,EAMb,GAAIwwF,sBAAsBzwF,IAAM0wF,YAAYS,EAAMlxF,GAAI,CAIpD,IAHArD,EAAMoD,EAAEvgB,OACRgP,EAAM4oC,iBAAiB,UAAWz6B,GAE7B7X,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB0J,EAAI1J,GAAKib,EAAEjb,GAAKkb,EAGlB,OAAOxR,EAGT,GAAIiiG,YAAYG,EAAM7wF,IAAMywF,sBAAsBxwF,GAAI,CAIpD,IAHArD,EAAMqD,EAAExgB,OACRgP,EAAM4oC,iBAAiB,UAAWz6B,GAE7B7X,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB0J,EAAI1J,GAAKib,EAAIC,EAAElb,GAGjB,OAAO0J,EAGT,OAAO,EAGT,SAAS6iG,IAAItxF,EAAGC,GASd,MARiB,iBAAND,IACTA,EAAIvlB,SAASulB,EAAG,KAGD,iBAANC,IACTA,EAAIxlB,SAASwlB,EAAG,KAGXD,EAAIC,EAGb,IAAIsxF,QAAUz/B,IACV0/B,QAAUl+D,IACVm+D,QAAUJ,IACVK,QAAU9oF,IACV+oF,QAAUL,IAEd,SAASM,MAAMthF,EAAKioB,EAAKlxC,GACvB,GAAIkxC,EAAMlxC,EAAK,CACb,IAAIwqG,EAAKxqG,EACTA,EAAMkxC,EACNA,EAAMs5D,EAGR,OAAOzvG,KAAKm2C,IAAIn2C,KAAKiF,IAAIipB,EAAKioB,GAAMlxC,GAGtC,SAASyqG,iBAAiBnmG,GACxB,OAAOA,EAAMktC,UAGf,IAAIk5D,mBAAqBD,iBAEzB,SAASE,iBAAiBrmG,GACxB,OAAOA,EAAMktC,UAGf,IAAIo5D,mBAAqBH,iBACrBI,kBAAoB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAExC,SAASzyG,OAAO0yG,EAAMC,GACpB,GAAoB,iBAATD,GAAqBA,aAAgB5hF,OAE9C,OADA6hF,EAAOA,GAAQ,EACRhwG,KAAKk7B,IAAI60E,EAAOC,GAOzB,IAAIrtG,EAJCqtG,IACHA,EAAOF,mBAIT,IAAIt1F,EAAMxa,KAAKm2C,IAAI45D,EAAK1yG,OAAQ2yG,EAAK3yG,QACjC6xD,EAAc,EAElB,IAAKvsD,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBusD,GAAelvD,KAAK61C,IAAIm6D,EAAKrtG,GAAKotG,EAAKptG,GAAI,GAG7C,OAAO3C,KAAK+1C,KAAKmZ,GAGnB,SAAS+gD,UAAUC,GACjB,OAAO1pF,IAAI0pF,EAAK7yG,OAAO6yG,IAGzB,SAASC,SAAS5mG,GAChB,IAKImvC,EACA/yB,EANAsT,EAAI1vB,EAAI,GACRiE,EAAIjE,EAAI,GACRsU,EAAItU,EAAI,GACRtE,EAAMjF,KAAKiF,IAAIg0B,EAAGzrB,EAAGqQ,GACrBs4B,EAAMn2C,KAAKm2C,IAAIld,EAAGzrB,EAAGqQ,GAGrBmsB,GAAK/kC,EAAMkxC,GAAO,EAEtB,GAAIlxC,IAAQkxC,EACVuC,EAAI,EAEJ/yB,EAAI,MACC,CACL,IAAI6qB,EAAIvrC,EAAMkxC,EAGd,OAFAxwB,EAAIqkB,EAAI,GAAMwG,GAAK,EAAIvrC,EAAMkxC,GAAO3F,GAAKvrC,EAAMkxC,GAEvClxC,GACN,KAAKg0B,EACHyf,GAAKlrC,EAAIqQ,GAAK2yB,GAAKhjC,EAAIqQ,EAAI,EAAI,GAC/B,MAEF,KAAKrQ,EACHkrC,GAAK76B,EAAIob,GAAKuX,EAAI,EAClB,MAEF,KAAK3yB,EACH66B,GAAKzf,EAAIzrB,GAAKgjC,EAAI,EAOtBkI,GAAK,EAGP,MAAO,CAACA,EAAG/yB,EAAGqkB,EAAGzgC,EAAI,IAGvB,SAAS6mG,QAAQz3D,EAAGC,EAAGxJ,GAGrB,OAFIA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAI,EAAUuJ,EAAc,GAATC,EAAID,GAASvJ,EACpCA,EAAI,GAAcwJ,EAClBxJ,EAAI,EAAI,EAAUuJ,GAAKC,EAAID,IAAM,EAAI,EAAIvJ,GAAK,EAC3CuJ,EAGT,SAAS03D,SAAS9mG,GAChB,IAGI0vB,EACAzrB,EACAqQ,EALA66B,EAAInvC,EAAI,GACRoc,EAAIpc,EAAI,GACRygC,EAAIzgC,EAAI,GAKZ,GAAU,IAANoc,EACFsT,EAAI+Q,EAEJnsB,EAAImsB,EAEJx8B,EAAIw8B,MACC,CACL,IAAI4O,EAAI5O,EAAI,GAAMA,GAAK,EAAIrkB,GAAKqkB,EAAIrkB,EAAIqkB,EAAIrkB,EACxCgzB,EAAI,EAAI3O,EAAI4O,EAChB3f,EAAIm3E,QAAQz3D,EAAGC,EAAGF,EAAI,EAAI,GAC1BlrC,EAAI4iG,QAAQz3D,EAAGC,EAAGF,GAClB76B,EAAIuyF,QAAQz3D,EAAGC,EAAGF,EAAI,EAAI,GAG5B,MAAO,CAACzf,EAAGzrB,EAAGqQ,EAAGtU,EAAI,IAGvB,SAAS+mG,OAAOlhE,EAAGmhE,EAAMC,EAAMC,EAAQC,GAQrC,QAPen2G,IAAXk2G,QAAmCl2G,IAAXm2G,IAC1BD,EAASF,EACTG,EAASF,EACTD,EAAO,EACPC,EAAO,GAGLA,EAAOD,EAAM,CACf,IAAII,EAAQH,EACZA,EAAOD,EACPA,EAAOI,EAGT,GAAIvhE,GAAKmhE,EACP,OAAOE,EAGT,GAAIrhE,GAAKohE,EACP,OAAOE,EAGT,IAMI/tG,EANA4tD,EAAOigD,IAASD,EAAO,GAAKnhE,EAAImhE,IAASC,EAAOD,GAEpD,IAAKE,EAAOpzG,OACV,OAAOozG,GAAUC,EAASD,GAAUlgD,EAItC,IAAI/1C,EAAMi2F,EAAOpzG,OACbgP,EAAM4oC,iBAAiB,UAAWz6B,GAEtC,IAAK7X,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB0J,EAAI1J,GAAK8tG,EAAO9tG,IAAM+tG,EAAO/tG,GAAK8tG,EAAO9tG,IAAM4tD,EAGjD,OAAOlkD,EAGT,SAAS/H,OAAO6xC,EAAKlxC,GAWnB,QAVY1K,IAAR0K,SACU1K,IAAR47C,GACFA,EAAM,EACNlxC,EAAM,IAENA,EAAMkxC,EACNA,OAAM57C,IAIN0K,EAAI5H,OAAQ,CACd,IAAIsF,EACA6X,EAAMvV,EAAI5H,OAET84C,IACHA,EAAMlB,iBAAiB,UAAWz6B,IAGpC,IAAInO,EAAM4oC,iBAAiB,UAAWz6B,GAClCo2F,EAAMx6D,OAAO9xC,SAEjB,IAAK3B,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB0J,EAAI1J,GAAKwzC,EAAIxzC,GAAKiuG,GAAO3rG,EAAItC,GAAKwzC,EAAIxzC,IAGxC,OAAO0J,EAQT,YALY9R,IAAR47C,IACFA,EAAM,GAIDA,EADIC,OAAO9xC,UACGW,EAAMkxC,GAG7B,SAAS06D,WAAWhkD,EAAQikD,EAAYC,EAAa9yD,GACnD,IAAIt7C,EACA6X,EAAMqyC,EAAOxvD,OACb07B,EAAOgjC,UAAUhN,aACrBh2B,EAAK+hC,cAAc7c,EAAQzjC,GAC3B,IACIw2F,EACAC,EAFAC,EAAiB,CAAC,EAAG,GAIzB,IAAKvuG,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxBquG,EAAgBF,GAAcA,EAAWnuG,GAAKmuG,EAAWnuG,GAAKuuG,EAC9DD,EAAiBF,GAAeA,EAAYpuG,GAAKouG,EAAYpuG,GAAKuuG,EAClEn4E,EAAKoiC,YAAYtO,EAAOlqD,GAAG,GAAIkqD,EAAOlqD,GAAG,GAAIsuG,EAAe,GAAKpkD,EAAOlqD,GAAG,GAAIsuG,EAAe,GAAKpkD,EAAOlqD,GAAG,GAAIquG,EAAc,GAAKnkD,EAAOlqD,GAAG,GAAIquG,EAAc,GAAKnkD,EAAOlqD,GAAG,GAAIA,GAAG,GAGxL,OAAOo2B,EAGT,SAASo4E,mBAAmB5iF,KAAMlrB,KAAM6sB,UACtC,IAAI3mB,IAAMlG,KAAK4/B,EACXmuE,cAAgB,qBAAqB33G,KAAK8P,KAE1C8nG,cAA0C,IAA3B9nG,IAAIhN,QAAQ,UAE3B+0G,SAAW/iF,KAAKlrB,KAAKu4C,GACrB0lB,UACAiwC,cACAnzG,QACA83E,OACAs7B,aAAethF,SACnBshF,aAAa59B,YAAc49B,aAAapnC,eACxCzuE,OAAOggC,eAAe61E,aAAc,QAAS,CAC3CluG,IAAK,WACH,OAAOkuG,aAAaj3E,KAGxBhM,KAAK2tB,KAAKs8B,cAAgB,EAAIjqD,KAAK2tB,KAAKgK,WAAWxB,UACnDn2B,KAAK2tB,KAAKu8B,iBAAmB,EAC7B,IAAIhC,QAAUloD,KAAKlrB,KAAKg6C,GAAK9uB,KAAK2tB,KAAKgK,WAAWxB,UAC9CgyB,SAAWnoD,KAAKlrB,KAAKi6C,GAAK/uB,KAAK2tB,KAAKgK,WAAWxB,UAC/C7lC,MAAQ0P,KAAKlrB,KAAKgsF,GAAK9gE,KAAKlrB,KAAKgsF,GAAK,EACtC32E,OAAS6V,KAAKlrB,KAAK2zD,GAAKzoC,KAAKlrB,KAAK2zD,GAAK,EACvC/6D,KAAOsyB,KAAKlrB,KAAKygD,GACjB2tD,OACAC,QACAC,QACAC,SACAC,OACAr8B,QACAG,UACAE,SACAO,OACA07B,kBACA3jG,SACAomE,SACAM,YACA7T,MACA+wC,UACAC,SACAl/B,KACAc,YACAG,eACAk+B,aAEAC,oBAAsBC,KAAK,oCAAsC5oG,IAAM,0BAA0B,GAEjGmqE,QAAUxjD,SAASypC,GAAKt2D,KAAK4mC,EAAE5sC,OAAS,EACxCkkB,QAAUvoB,KAAKqK,OAAyB,IAAjBrK,KAAKqK,KAAKwjF,GAEjCurB,OAAS,SAAgBC,EAAMC,GACjC,IAAIC,EACA1vG,EACA2vG,EAAYx5G,KAAK27D,GAAGt3D,OAASrE,KAAK27D,GAAGt3D,OAAS,EAC9Co1G,EAAYx9D,iBAAiB,UAAWu9D,GAExC7tE,EAAa3kC,KAAKC,MADf,EACqBojD,MAI5B,IAHAkvD,EAAU,EACV1vG,EAAI,EAEG0vG,EAAU5tE,GAAY,CAE3B,IAAK9hC,EAAI,EAAGA,EAAI2vG,EAAW3vG,GAAK,EAC9B4vG,EAAU5vG,KAAOyvG,EAAY,EAANA,EAAUl8D,OAAO9xC,SAG1CiuG,GAAW,EAIb,IAAIG,EAfG,EAeOrvD,KACVkN,EAAOmiD,EAAU1yG,KAAKC,MAAMyyG,GAC5BrmG,EAAM4oC,iBAAiB,UAAWu9D,GAEtC,GAAIA,EAAY,EAAG,CACjB,IAAK3vG,EAAI,EAAGA,EAAI2vG,EAAW3vG,GAAK,EAC9BwJ,EAAIxJ,GAAK7J,KAAK27D,GAAG9xD,GAAK4vG,EAAU5vG,KAAOyvG,EAAY,EAANA,EAAUl8D,OAAO9xC,UAAYisD,EAI5E,OAAOlkD,EAGT,OAAOrT,KAAK27D,GAAK89C,EAAU,KAAOH,EAAY,EAANA,EAAUl8D,OAAO9xC,UAAYisD,GACrEx7C,KAAK/b,MAgBP,SAAS25G,eAAeh5F,EAAMtZ,GAC5B,OAAOoxG,OAAO93F,EAAMtZ,GAAU,GAGhC,SAASuyG,gBAAgBj5F,EAAMtZ,GAC7B,OAAOsxG,QAAQh4F,EAAMtZ,GAAU,GAnB7BmxG,aAAaC,SACfA,OAASD,aAAaC,OAAO18F,KAAKy8F,cAClCE,QAAUD,QAGRD,aAAaG,UACfA,QAAUH,aAAaG,QAAQ58F,KAAKy8F,cACpCI,SAAWD,SAGTH,aAAaK,SACfA,OAASL,aAAaK,OAAO98F,KAAKy8F,eAWhCx4G,KAAKoxE,iBACPwJ,YAAc56E,KAAKoxE,eAAer1D,KAAK/b,OAGrCA,KAAKy6E,oBACPM,eAAiB/6E,KAAKy6E,kBAAkB1+D,KAAK/b,OAG/C,IAAIkjD,KAAO3tB,KAAK2tB,KAAKgK,WAAWT,iBAAiB1wC,KAAKwZ,KAAK2tB,KAAKgK,WAAWT,kBAsLvEpC,KACAwvD,SACAn3G,MACAojB,KACAg0F,UACAC,UACAC,cA1LJ,SAASC,OAAOC,EAAOC,GACrB,IAAIC,EAAO,CAACD,EAAM,GAAKD,EAAM,GAAIC,EAAM,GAAKD,EAAM,GAAIC,EAAM,GAAKD,EAAM,IACnEG,EAAQrzG,KAAKo4D,MAAMg7C,EAAK,GAAIpzG,KAAK+1C,KAAKq9D,EAAK,GAAKA,EAAK,GAAKA,EAAK,GAAKA,EAAK,KAAO38D,UAEpF,MAAO,EADIz2C,KAAKo4D,MAAMg7C,EAAK,GAAIA,EAAK,IAAM38D,UAC7B48D,EAAO,GAGtB,SAASC,QAAQlkE,EAAGmhE,EAAMC,EAAM+C,EAAMC,GACpC,OAAOC,UAAU5E,WAAYz/D,EAAGmhE,EAAMC,EAAM+C,EAAMC,GAGpD,SAASE,OAAOtkE,EAAGmhE,EAAMC,EAAM+C,EAAMC,GACnC,OAAOC,UAAU7E,UAAWx/D,EAAGmhE,EAAMC,EAAM+C,EAAMC,GAGnD,SAASG,KAAKvkE,EAAGmhE,EAAMC,EAAM+C,EAAMC,GACjC,OAAOC,UAAU3E,aAAc1/D,EAAGmhE,EAAMC,EAAM+C,EAAMC,GAGtD,SAASC,UAAUtoG,EAAIikC,EAAGmhE,EAAMC,EAAM+C,EAAMC,QAC7Bj5G,IAATg5G,GACFA,EAAOhD,EACPiD,EAAOhD,GAEPphE,GAAKA,EAAImhE,IAASC,EAAOD,GAGvBnhE,EAAI,EACNA,EAAI,EACKA,EAAI,IACbA,EAAI,GAGN,IAAI+pB,EAAOhuD,EAAGikC,GAEd,GAAIi/D,sBAAsBkF,GAAO,CAC/B,IAAIK,EACAC,EAASN,EAAKl2G,OACdgP,EAAM4oC,iBAAiB,UAAW4+D,GAEtC,IAAKD,EAAO,EAAGA,EAAOC,EAAQD,GAAQ,EACpCvnG,EAAIunG,IAASJ,EAAKI,GAAQL,EAAKK,IAASz6C,EAAOo6C,EAAKK,GAGtD,OAAOvnG,EAGT,OAAQmnG,EAAOD,GAAQp6C,EAAOo6C,EAGhC,SAASO,WAAWzwD,GAClB,IAAIuwD,EAEA7mG,EACA+oD,EAFA+9C,EAASxwG,KAAK4mC,EAAE5sC,OAIpB,GAAKgG,KAAK4mC,EAAE5sC,QAA+B,iBAAdgG,KAAK4mC,EAAE,GAOlC,GAHAl9B,GAAS,GACTs2C,GAAQ90B,KAAK2tB,KAAKgK,WAAWxB,WAElBrhD,KAAK4mC,EAAE,GAAGmF,EACnBriC,EAAQ,EACR+oD,EAAUzyD,KAAK4mC,EAAE,GAAGmF,MACf,CACL,IAAKwkE,EAAO,EAAGA,EAAOC,EAAS,EAAGD,GAAQ,EAAG,CAC3C,GAAIvwD,IAAShgD,KAAK4mC,EAAE2pE,GAAMxkE,EAAG,CAC3BriC,EAAQ6mG,EAAO,EACf99C,EAAUzyD,KAAK4mC,EAAE2pE,GAAMxkE,EACvB,MACK,GAAIiU,EAAOhgD,KAAK4mC,EAAE2pE,GAAMxkE,GAAKiU,EAAOhgD,KAAK4mC,EAAE2pE,EAAO,GAAGxkE,EAAG,CACzDiU,EAAOhgD,KAAK4mC,EAAE2pE,GAAMxkE,EAAI/rC,KAAK4mC,EAAE2pE,EAAO,GAAGxkE,EAAIiU,GAC/Ct2C,EAAQ6mG,EAAO,EACf99C,EAAUzyD,KAAK4mC,EAAE2pE,EAAO,GAAGxkE,IAE3BriC,EAAQ6mG,EAAO,EACf99C,EAAUzyD,KAAK4mC,EAAE2pE,GAAMxkE,GAGzB,QAIW,IAAXriC,IACFA,EAAQ6mG,EAAO,EACf99C,EAAUzyD,KAAK4mC,EAAE2pE,GAAMxkE,QA9B3BriC,EAAQ,EACR+oD,EAAU,EAkCZ,IAAIi+C,EAAQ,GAGZ,OAFAA,EAAMhnG,MAAQA,EACdgnG,EAAM1wD,KAAOyS,EAAUvnC,KAAK2tB,KAAKgK,WAAWxB,UACrCqvD,EAGT,SAAS/yG,IAAIi1D,GACX,IAAI89C,EACAH,EACAC,EAEJ,IAAKxwG,KAAK4mC,EAAE5sC,QAA+B,iBAAdgG,KAAK4mC,EAAE,GAClC,MAAM,IAAIxoC,MAAM,yCAA2Cw0D,GAG7DA,GAAO,EACP89C,EAAQ,CACN1wD,KAAMhgD,KAAK4mC,EAAEgsB,GAAK7mB,EAAI7gB,KAAK2tB,KAAKgK,WAAWxB,UAC3ChpD,MAAO,IAET,IAAI2Q,EAAM1Q,OAAOV,UAAUW,eAAeC,KAAKwH,KAAK4mC,EAAEgsB,GAAM,KAAO5yD,KAAK4mC,EAAEgsB,GAAKtwC,EAAItiB,KAAK4mC,EAAEgsB,EAAM,GAAGntD,EAGnG,IAFA+qG,EAASxnG,EAAIhP,OAERu2G,EAAO,EAAGA,EAAOC,EAAQD,GAAQ,EACpCG,EAAMH,GAAQvnG,EAAIunG,GAClBG,EAAMr4G,MAAMk4G,GAAQvnG,EAAIunG,GAG1B,OAAOG,EAGT,SAASC,aAAapsD,EAAIqsD,GAKxB,OAJKA,IACHA,EAAM1lF,KAAK2tB,KAAKgK,WAAWxB,WAGtBkD,EAAKqsD,EAGd,SAASC,aAAa9kE,EAAG6kE,GASvB,OARK7kE,GAAW,IAANA,IACRA,EAAIiU,MAGD4wD,IACHA,EAAM1lF,KAAK2tB,KAAKgK,WAAWxB,WAGtBtV,EAAI6kE,EAGb,SAAShI,WAAWW,GAClBx2D,OAAO+9D,WAAWC,SAAWxH,GAG/B,SAASn6B,mBACP,OAAOlkD,KAAKkkD,mBAGd,SAASrsC,UAAU/Y,EAAMwf,GACvB,MAAqB,iBAAVnxC,WACGnB,IAARsyC,EACKnxC,MAAM0qC,UAAU/Y,GAGlB3xB,MAAM0qC,UAAU/Y,EAAMwf,GAGxB,GAGT,SAASvR,OAAOjO,EAAMwf,GACpB,MAAqB,iBAAVnxC,WACGnB,IAARsyC,EACKnxC,MAAM4/B,OAAOjO,GAGf3xB,MAAM4/B,OAAOjO,EAAMwf,GAGrB,GAGT,SAASwnE,cAAcC,GACrBjxD,KAA2B,IAApBixD,EAAwB,EAAIt0G,KAAKC,MAAMojD,KAAOixD,GAAmBA,EACxE54G,MAAQk4E,YAAYvwB,MAUtB,IAAIt2C,MAAQwhB,KAAKlrB,KAAK4yD,IAClBqgB,aAAe/nD,KAAKqnD,YAAarnD,KAAKqnD,UAAUv4E,QAChDmZ,OACA49F,SAAWp0G,KAAKC,MAAsB,IAAhBD,KAAKsE,UAC3B4hD,WAAa33B,KAAK23B,WAEtB,SAASquD,kBAAkBC,GAIzB,OAFA94G,MAAQ84G,EAEJx7G,KAAKy7G,oBAAsBlmF,KAAK23B,WAAWoT,SAA6B,iBAAlBtgE,KAAK07D,SACtDh5D,OAGa,iBAAlB1C,KAAK07D,WACPo+C,UAAY95G,KAAK85G,UACjBC,UAAY/5G,KAAK+5G,UACjBC,cAAgBh6G,KAAKg6G,eAGlBjB,YACHjzF,KAAOyP,KAAKgoD,eAAez3D,KAC3BizF,UAAYxjF,KAAKgoD,eACjBy7B,SAAWzjF,KAAK2tB,KAAKgI,cACrBsxB,QAAUu8B,UAAUv8B,QAAQzgE,KAAKg9F,WACjCp8B,UAAYo8B,UAAUp8B,UAAU5gE,KAAKg9F,WACrCl8B,SAAWk8B,UAAUl8B,SAAS9gE,KAAKg9F,WACnC37B,OAAS27B,UAAU37B,OAAOrhE,KAAKg9F,WAC/Bj/B,KAAOi/B,UAAUj/B,KAAOi/B,UAAUj/B,KAAK/9D,KAAKg9F,WAAa,KACzDD,kBAAoBj8B,UAGjBvU,YACHA,UAAY/yC,KAAKgoD,eAAe,wBAChCg7B,cAAgBjwC,UAEZA,YACFuT,YAAcvT,UAAUuT,cAOX,IAAby8B,UAAmBlzG,UACrBA,QAAU2zG,UAAU,4BAGjB77B,SACHA,OAAS67B,UAAU,KAGrBz7B,aAAe/nD,KAAKqnD,YAAarnD,KAAKqnD,UAAUv4E,WAE9BmZ,SAChBA,OAAS+X,KAAKqnD,UAAU,GAAGW,gBAG7BlzB,KAAOrqD,KAAKkjD,KAAK4c,cAAgB9/D,KAAKkjD,KAAKgK,WAAWxB,UAElD2sD,cACFpF,WAAWmI,SAAW/wD,MAGpB+tD,gBACFyB,SAAW9+B,eAAe1wB,OAG5B6uD,sBACAl5G,KAAKy7G,kBAAoBlmF,KAAK23B,WAAWoT,QAGzC24C,aAAeA,aAAav9C,WAAas5C,UAAUC,MAAQgE,aAAa13E,EAAI03E,cAM9E,OADAsC,kBAAkBG,yBAA2B,CAACnD,cAAe18B,YAAag+B,SAAUp8B,QAASC,SAAU73D,MAAOnG,OAAQzc,KAAMy1G,QAASE,SAAUC,OAAQz7B,OAAQ07B,kBAAmBt8B,QAASG,UAAW7C,KAAM3kE,SAAUomE,SAAUvT,MAAOgxC,SAAUt+B,QAASnyD,OAAQ6wF,OAAQO,eAAgBC,gBAAiB12D,KAAM+2D,OAAQK,QAASI,OAAQC,KAAMG,WAAY9yG,IAAK8d,KAAMg0F,UAAWC,UAAWC,cAAegB,aAAcE,aAAczhC,iBAAkBrsC,UAAW9K,OAAQ+4E,cAAetnG,MAAOm5C,YAC5dquD,kBAKT,OAFAlzD,GAAG8vD,mBAAqBA,mBACxB9vD,GAAGqzD,yBAA2B,CAACpqG,OAAQN,SAAUhC,eAAgBmmG,MAAOC,OAAQI,QAASp/E,IAAK+/E,QAASC,QAASC,QAASC,QAASC,QAASC,MAAOG,mBAAoBC,iBAAkBC,mBAAoBI,UAAWE,SAAUE,SAAUC,OAAQhsG,OAAQusG,YACpPxvD,GAp1Be,GAu1BpBszD,kBAgFK,CACLC,kBAhFF,SAA2BrmF,EAAMlrB,EAAMud,GACjCvd,EAAK4/B,IACPriB,EAAKqpB,GAAI,EACTrpB,EAAKqiB,GAAI,EACTriB,EAAKuwF,mBAAqBjD,kBAAkBiD,mBAC5CvwF,EAAK24C,gBAAgBp5D,KAAKygB,EAAKuwF,mBAAmB5iF,EAAMlrB,EAAMud,GAAM7L,KAAK6L,MA4E3EkzD,eA3DF,SAAwBxf,GACtB,IACIwL,EAAK9mE,KAAKoxE,eAAe9V,GACzB6V,EAAKnxE,KAAKoxE,eAAe9V,GAFhB,KAGTugD,EAAQ,EAEZ,GAAI/0C,EAAGziE,OAAQ,CACb,IAAIsF,EAEJ,IAAKA,EAAI,EAAGA,EAAIm9D,EAAGziE,OAAQsF,GAAK,EAC9BkyG,GAAS70G,KAAK61C,IAAIs0B,EAAGxnE,GAAKm9D,EAAGn9D,GAAI,GAGnCkyG,EAA2B,IAAnB70G,KAAK+1C,KAAK8+D,QAElBA,EAAQ,EAGV,OAAOA,GA0CPphC,kBAvCF,SAA2Bnf,GACzB,QAAiB/5D,IAAbvB,KAAKghE,IACP,OAAOhhE,KAAKghE,IAGd,IAII64C,EAIElwG,EARFmyG,GAAS,KAETh1C,EAAK9mE,KAAKoxE,eAAe9V,GACzB6V,EAAKnxE,KAAKoxE,eAAe9V,EAAWwgD,GAGxC,GAAIh1C,EAAGziE,OAIL,IAHAw1G,EAAW59D,iBAAiB,UAAW6qB,EAAGziE,QAGrCsF,EAAI,EAAGA,EAAIm9D,EAAGziE,OAAQsF,GAAK,EAI9BkwG,EAASlwG,IAAMwnE,EAAGxnE,GAAKm9D,EAAGn9D,IAAMmyG,OAGlCjC,GAAY1oC,EAAKrK,GAAMg1C,EAGzB,OAAOjC,GAePzoC,eA1EF,SAAwB9V,GAUtB,OATAA,GAAYt7D,KAAKu1B,KAAK23B,WAAWxB,WACjC4P,GAAYt7D,KAAKy7D,cAEAz7D,KAAK+7G,eAAex+C,YACnCv9D,KAAK+7G,eAAe9/C,UAAYj8D,KAAK+7G,eAAex+C,UAAYjC,EAAWt7D,KAAK+7G,eAAe9/C,UAAY,EAC3Gj8D,KAAK+7G,eAAer5G,MAAQ1C,KAAKq7D,iBAAiBC,EAAUt7D,KAAK+7G,gBACjE/7G,KAAK+7G,eAAex+C,UAAYjC,GAG3Bt7D,KAAK+7G,eAAer5G,OAiE3Bs5G,qBAbF,WACE,OAAOh8G,KAAK27D,IAaZqjB,iBAVF,SAA0BhE,GACxBh7E,KAAKg7E,cAAgBA,IAazB,SAASihC,uBACP,SAAStD,EAAQh4F,EAAMtZ,EAAU60G,GAC/B,IAAKl8G,KAAKixC,IAAMjxC,KAAKk8D,UACnB,OAAOl8D,KAAK27D,GAGdh7C,EAAOA,EAAOA,EAAK9e,cAAgB,GACnC,IAQIs6G,EACAC,EAmBAzyG,EACA6X,EACA66F,EA9BApxD,EAAejrD,KAAKkjD,KAAK4c,cACzB5D,EAAYl8D,KAAKk8D,UACjBogD,EAAepgD,EAAUA,EAAU73D,OAAS,GAAG+xC,EAEnD,GAAI6U,GAAgBqxD,EAClB,OAAOt8G,KAAK27D,GA2Bd,GArBKugD,EAcHE,EAAgBE,GAHdH,EAHG90G,EAGaL,KAAKk7B,IAAIo6E,EAAet8G,KAAKu1B,KAAK2tB,KAAKgK,WAAWxB,UAAYrkD,GAF9DL,KAAKiF,IAAI,EAAGqwG,EAAet8G,KAAKu1B,KAAKlrB,KAAKg6C,QARvDh9C,GAAYA,EAAW60D,EAAU73D,OAAS,KAC7CgD,EAAW60D,EAAU73D,OAAS,GAIhC83G,EAAgBG,GADhBF,EAAgBlgD,EAAUA,EAAU73D,OAAS,EAAIgD,GAAU+uC,IAgBhD,aAATz1B,GAGF,GAFiB3Z,KAAKC,OAAOgkD,EAAemxD,GAAiBD,GAE5C,GAAM,EACrB,OAAOn8G,KAAKoxE,gBAAgB+qC,GAAiBlxD,EAAemxD,GAAiBD,EAAgBC,GAAiBp8G,KAAKkjD,KAAKgK,WAAWxB,UAAW,OAE3I,IAAa,WAAT/qC,EAAmB,CAC5B,IAAI47F,EAAQv8G,KAAKoxE,eAAegrC,EAAgBp8G,KAAKkjD,KAAKgK,WAAWxB,UAAW,GAC5E8wD,EAAOx8G,KAAKoxE,eAAekrC,EAAet8G,KAAKkjD,KAAKgK,WAAWxB,UAAW,GAC1E+wD,EAAUz8G,KAAKoxE,iBAAiBnmB,EAAemxD,GAAiBD,EAAgBC,GAAiBp8G,KAAKkjD,KAAKgK,WAAWxB,UAAW,GAEjIgxD,EAAU11G,KAAKC,OAAOgkD,EAAemxD,GAAiBD,GAE1D,GAAIn8G,KAAK27D,GAAGt3D,OAAQ,CAIlB,IAFAmd,GADA66F,EAAM,IAAIr6G,MAAMu6G,EAAMl4G,SACZA,OAELsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB0yG,EAAI1yG,IAAM6yG,EAAK7yG,GAAK4yG,EAAM5yG,IAAM+yG,EAAUD,EAAQ9yG,GAGpD,OAAO0yG,EAGT,OAAQG,EAAOD,GAASG,EAAUD,EAC7B,GAAa,aAAT97F,EAAqB,CAC9B,IAAIg8F,EAAY38G,KAAKoxE,eAAekrC,EAAet8G,KAAKkjD,KAAKgK,WAAWxB,UAAW,GAC/EkxD,EAAgB58G,KAAKoxE,gBAAgBkrC,EAAe,MAASt8G,KAAKkjD,KAAKgK,WAAWxB,UAAW,GAEjG,GAAI1rD,KAAK27D,GAAGt3D,OAAQ,CAIlB,IAFAmd,GADA66F,EAAM,IAAIr6G,MAAM26G,EAAUt4G,SAChBA,OAELsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB0yG,EAAI1yG,GAAKgzG,EAAUhzG,IAAMgzG,EAAUhzG,GAAKizG,EAAcjzG,MAAQshD,EAAeqxD,GAAgBt8G,KAAKkjD,KAAKgK,WAAWxB,WAAa,KAGjI,OAAO2wD,EAGT,OAAOM,GAA4C1xD,EAAeqxD,GAAgB,MAA9DK,EAAYC,IAGlC,OAAO58G,KAAKoxE,iBAAiBnmB,EAAemxD,GAAiBD,EAAgBC,GAAiBp8G,KAAKkjD,KAAKgK,WAAWxB,UAAW,GAGhI,SAAS+sD,EAAO93F,EAAMtZ,EAAU60G,GAC9B,IAAKl8G,KAAKixC,EACR,OAAOjxC,KAAK27D,GAGdh7C,EAAOA,EAAOA,EAAK9e,cAAgB,GACnC,IAQIs6G,EACAG,EAmBA3yG,EACA6X,EACA66F,EA9BApxD,EAAejrD,KAAKkjD,KAAK4c,cACzB5D,EAAYl8D,KAAKk8D,UACjBkgD,EAAgBlgD,EAAU,GAAG9lB,EAEjC,GAAI6U,GAAgBmxD,EAClB,OAAOp8G,KAAK27D,GA2Bd,GArBKugD,EAcHI,EAAeF,GAHbD,EAHG90G,EAGaL,KAAKk7B,IAAIliC,KAAKu1B,KAAK2tB,KAAKgK,WAAWxB,UAAYrkD,GAF/CL,KAAKiF,IAAI,EAAGjM,KAAKu1B,KAAKlrB,KAAKi6C,GAAK83D,OAR7C/0G,GAAYA,EAAW60D,EAAU73D,OAAS,KAC7CgD,EAAW60D,EAAU73D,OAAS,GAIhC83G,GADAG,EAAepgD,EAAU70D,GAAU+uC,GACJgmE,GAepB,aAATz7F,GAGF,GAFiB3Z,KAAKC,OAAOm1G,EAAgBnxD,GAAgBkxD,GAE5C,GAAM,EACrB,OAAOn8G,KAAKoxE,iBAAiBgrC,EAAgBnxD,GAAgBkxD,EAAgBC,GAAiBp8G,KAAKkjD,KAAKgK,WAAWxB,UAAW,OAE3H,IAAa,WAAT/qC,EAAmB,CAC5B,IAAI47F,EAAQv8G,KAAKoxE,eAAegrC,EAAgBp8G,KAAKkjD,KAAKgK,WAAWxB,UAAW,GAC5E8wD,EAAOx8G,KAAKoxE,eAAekrC,EAAet8G,KAAKkjD,KAAKgK,WAAWxB,UAAW,GAC1E+wD,EAAUz8G,KAAKoxE,gBAAgB+qC,GAAiBC,EAAgBnxD,GAAgBkxD,EAAgBC,GAAiBp8G,KAAKkjD,KAAKgK,WAAWxB,UAAW,GACjJgxD,EAAU11G,KAAKC,OAAOm1G,EAAgBnxD,GAAgBkxD,GAAiB,EAE3E,GAAIn8G,KAAK27D,GAAGt3D,OAAQ,CAIlB,IAFAmd,GADA66F,EAAM,IAAIr6G,MAAMu6G,EAAMl4G,SACZA,OAELsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB0yG,EAAI1yG,GAAK8yG,EAAQ9yG,IAAM6yG,EAAK7yG,GAAK4yG,EAAM5yG,IAAM+yG,EAG/C,OAAOL,EAGT,OAAOI,GAAWD,EAAOD,GAASG,EAC7B,GAAa,aAAT/7F,EAAqB,CAC9B,IAAIk8F,EAAa78G,KAAKoxE,eAAegrC,EAAgBp8G,KAAKkjD,KAAKgK,WAAWxB,UAAW,GACjFoxD,EAAiB98G,KAAKoxE,gBAAgBgrC,EAAgB,MAASp8G,KAAKkjD,KAAKgK,WAAWxB,UAAW,GAEnG,GAAI1rD,KAAK27D,GAAGt3D,OAAQ,CAIlB,IAFAmd,GADA66F,EAAM,IAAIr6G,MAAM66G,EAAWx4G,SACjBA,OAELsF,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EACxB0yG,EAAI1yG,GAAKkzG,EAAWlzG,IAAMkzG,EAAWlzG,GAAKmzG,EAAenzG,KAAOyyG,EAAgBnxD,GAAgB,KAGlG,OAAOoxD,EAGT,OAAOQ,GAAcA,EAAaC,IAAmBV,EAAgBnxD,GAAgB,MAGvF,OAAOjrD,KAAKoxE,gBAAgB+qC,IAAkBC,EAAgBnxD,GAAgBkxD,EAAgBC,IAAkBp8G,KAAKkjD,KAAKgK,WAAWxB,UAAW,GAGlJ,SAASmtD,EAAOhzF,EAAOk3F,GACrB,IAAK/8G,KAAKixC,EACR,OAAOjxC,KAAK27D,GAMd,GAHA91C,EAAyB,IAAhBA,GAAS,KAClBk3F,EAAU/1G,KAAKC,MAAM81G,GAAW,KAEjB,EACb,OAAO/8G,KAAK27D,GAGd,IAMIj5D,EAQAs6G,EAdAz+D,EAAcv+C,KAAKkjD,KAAK4c,cAAgB9/D,KAAKkjD,KAAKgK,WAAWxB,UAC7DyP,EAAY5c,EAAc14B,EAE1Bo3F,EAAkBF,EAAU,GADjBx+D,EAAc14B,EACmBs1C,IAAc4hD,EAAU,GAAK,EACzEpzG,EAAI,EACJE,EAAI,EAWR,IAPEnH,EADE1C,KAAK27D,GAAGt3D,OACF43C,iBAAiB,UAAWj8C,KAAK27D,GAAGt3D,QAEpC,EAKHsF,EAAIozG,GAAS,CAGlB,GAFAC,EAAch9G,KAAKoxE,eAAejW,EAAYxxD,EAAIszG,GAE9Cj9G,KAAK27D,GAAGt3D,OACV,IAAKwF,EAAI,EAAGA,EAAI7J,KAAK27D,GAAGt3D,OAAQwF,GAAK,EACnCnH,EAAMmH,IAAMmzG,EAAYnzG,QAG1BnH,GAASs6G,EAGXrzG,GAAK,EAGP,GAAI3J,KAAK27D,GAAGt3D,OACV,IAAKwF,EAAI,EAAGA,EAAI7J,KAAK27D,GAAGt3D,OAAQwF,GAAK,EACnCnH,EAAMmH,IAAMkzG,OAGdr6G,GAASq6G,EAGX,OAAOr6G,EAGT,SAASw6G,EAAwB7yD,GAC1BrqD,KAAKm9G,0BACRn9G,KAAKm9G,wBAA0B,CAC7B57E,EAAG,IAAIwlC,SAKX,IAAIwL,EAASvyE,KAAKm9G,wBAAwB57E,EAG1C,GAFAgxC,EAAO9H,eAAezqE,KAAKqtB,IAAIwL,OAE3B74B,KAAKswE,uBAAyB,EAAG,CACnC,IAAI7nC,EAASzoC,KAAK4kB,EAAEwsD,eAAe/mB,GACnCkoB,EAAOpK,WAAW1/B,EAAO,GAAKzoC,KAAK4kB,EAAEu7C,MAAO13B,EAAO,GAAKzoC,KAAK4kB,EAAEu7C,KAAM13B,EAAO,GAAKzoC,KAAK4kB,EAAEu7C,MAG1F,GAAIngE,KAAKswE,uBAAyB,EAAG,CACnC,IAAItI,EAAQhoE,KAAK2sB,EAAEykD,eAAe/mB,GAClCkoB,EAAOvK,MAAMA,EAAM,GAAKhoE,KAAK2sB,EAAEwzC,KAAM6H,EAAM,GAAKhoE,KAAK2sB,EAAEwzC,KAAM6H,EAAM,GAAKhoE,KAAK2sB,EAAEwzC,MAGjF,GAAIngE,KAAKykD,IAAMzkD,KAAKswE,uBAAyB,EAAG,CAC9C,IAAIxI,EAAO9nE,KAAKykD,GAAG2sB,eAAe/mB,GAC9Bi3B,EAAWthF,KAAK0kD,GAAG0sB,eAAe/mB,GACtCkoB,EAAOxK,cAAcD,EAAO9nE,KAAKykD,GAAG0b,KAAMmhB,EAAWthF,KAAK0kD,GAAGyb,MAG/D,GAAIngE,KAAKigC,GAAKjgC,KAAKswE,uBAAyB,EAAG,CAC7C,IAAIiL,EAAWv7E,KAAKigC,EAAEmxC,eAAe/mB,GACrCkoB,EAAOlL,QAAQkU,EAAWv7E,KAAKigC,EAAEkgC,WAC5B,IAAKngE,KAAKigC,GAAKjgC,KAAKswE,uBAAyB,EAAG,CACrD,IAAI8sC,EAAYp9G,KAAK4wE,GAAGQ,eAAe/mB,GACnCgzD,EAAYr9G,KAAK2wE,GAAGS,eAAe/mB,GACnCizD,EAAYt9G,KAAK0wE,GAAGU,eAAe/mB,GACnCkzD,EAAcv9G,KAAKylE,GAAG2L,eAAe/mB,GACzCkoB,EAAO5K,SAASy1C,EAAYp9G,KAAK4wE,GAAGzQ,MAAMuH,QAAQ21C,EAAYr9G,KAAK2wE,GAAGxQ,MAAMsH,QAAQ61C,EAAYt9G,KAAK0wE,GAAGvQ,MAAMwH,SAAS41C,EAAY,GAAKv9G,KAAKylE,GAAGtF,MAAMuH,QAAQ61C,EAAY,GAAKv9G,KAAKylE,GAAGtF,MAAMsH,QAAQ81C,EAAY,GAAKv9G,KAAKylE,GAAGtF,MAGhO,GAAIngE,KAAKqK,KAAKs1C,GAAK3/C,KAAKqK,KAAKs1C,EAAEhzB,EAAG,CAChC,IAAI6wF,EAAYx9G,KAAKuwE,GAAGa,eAAe/mB,GACnCozD,EAAYz9G,KAAKwwE,GAAGY,eAAe/mB,GAEvC,GAAIrqD,KAAKqK,KAAKs1C,EAAEgrB,EAAG,CACjB,IAAI+yC,EAAY19G,KAAKywE,GAAGW,eAAe/mB,GACvCkoB,EAAOpK,UAAUq1C,EAAYx9G,KAAKuwE,GAAGpQ,KAAMs9C,EAAYz9G,KAAKwwE,GAAGrQ,MAAOu9C,EAAY19G,KAAKywE,GAAGtQ,WAE1FoS,EAAOpK,UAAUq1C,EAAYx9G,KAAKuwE,GAAGpQ,KAAMs9C,EAAYz9G,KAAKwwE,GAAGrQ,KAAM,OAElE,CACL,IAAIhrD,EAAWnV,KAAK2/C,EAAEyxB,eAAe/mB,GACrCkoB,EAAOpK,UAAUhzD,EAAS,GAAKnV,KAAK2/C,EAAEwgB,KAAMhrD,EAAS,GAAKnV,KAAK2/C,EAAEwgB,MAAOhrD,EAAS,GAAKnV,KAAK2/C,EAAEwgB,MAG/F,OAAOoS,EAGT,SAASorC,IACP,OAAO39G,KAAKuhC,EAAE7hC,MAAM,IAAIqnE,QAG1B,IAAIwK,EAAuBpB,yBAAyBoB,qBAEpDpB,yBAAyBoB,qBAAuB,SAAUh8C,EAAMlrB,EAAM6pB,GACpE,IAAItM,EAAO2pD,EAAqBh8C,EAAMlrB,EAAM6pB,GAS5C,OAPItM,EAAK45C,kBAAkBn9D,OACzBujB,EAAKwpD,eAAiB8rC,EAAwBnhG,KAAK6L,GAEnDA,EAAKwpD,eAAiBusC,EAA8B5hG,KAAK6L,GAG3DA,EAAKo3D,iBAAmB28B,kBAAkB38B,iBACnCp3D,GAGT,IAAIg2F,EAAkB1iD,gBAAgBoG,QAEtCpG,gBAAgBoG,QAAU,SAAU/rC,EAAMlrB,EAAMsW,EAAMw/C,EAAMjsC,GAC1D,IAAItM,EAAOg2F,EAAgBroF,EAAMlrB,EAAMsW,EAAMw/C,EAAMjsC,GAI/CtM,EAAK+4C,GACP/4C,EAAKwpD,eAAiBuqC,kBAAkBvqC,eAAer1D,KAAK6L,GAE5DA,EAAKwpD,eAAiBuqC,kBAAkBK,qBAAqBjgG,KAAK6L,GAGpEA,EAAKo3D,iBAAmB28B,kBAAkB38B,iBAC1Cp3D,EAAK+wF,QAAUA,EACf/wF,EAAK6wF,OAASA,EACd7wF,EAAKixF,OAASA,EACdjxF,EAAK6yD,kBAAoBkhC,kBAAkBlhC,kBAAkB1+D,KAAK6L,GAClEA,EAAKkzD,eAAiB6gC,kBAAkB7gC,eAAe/+D,KAAK6L,GAC5DA,EAAK8yD,QAAqB,IAAXrwE,EAAKua,EAAUva,EAAK4mC,EAAE5sC,OAAS,EAC9CujB,EAAKi4D,cAAgBx1E,EAAKupE,GAC1B,IAAIlxE,EAAQ,EAiBZ,OAfa,IAATie,IACFje,EAAQu5C,iBAAiB,UAAsB,IAAX5xC,EAAKua,EAAUva,EAAK4mC,EAAE,GAAGtkB,EAAEtoB,OAASgG,EAAK4mC,EAAE5sC,SAGjFujB,EAAKm0F,eAAiB,CACpBx+C,UAAW5jB,oBACXsiB,UAAW,EACXv5D,MAAOA,GAETi5G,kBAAkBC,kBAAkBrmF,EAAMlrB,EAAMud,GAE5CA,EAAKqpB,GACP/c,EAAU4sC,mBAAmBl5C,GAGxBA,GAyBT,IAAIi2F,EAAmCp6C,qBAAqBq6C,yBACxDC,EAA4Ct6C,qBAAqBu6C,kCAErE,SAASC,KAETA,EAAiBh8G,UAAY,CAC3B0gE,SAAU,SAAkB/6C,EAAMyiC,GAC5BrqD,KAAKixC,GACPjxC,KAAKihE,WAGP,IAMIt3D,EANAq5D,EAAYhjE,KAAKuhC,OAERhgC,IAAT8oD,IACF2Y,EAAYhjE,KAAKoxE,eAAe/mB,EAAM,IAIxC,IAAI7oC,EAAMwhD,EAAUpN,QAChB+M,EAAWK,EAAUp7C,GACrBisC,EAASmP,EAAUzhC,EACnBluB,EAAMgpC,iBAAiB76B,GAE3B,IAAK7X,EAAI,EAAGA,EAAI6X,EAAK7X,GAAK,EAEtB0J,EAAI1J,GADO,MAATie,GAAyB,MAATA,EACT,CAAC+6C,EAASh5D,GAAG,GAAKkqD,EAAOlqD,GAAG,GAAIg5D,EAASh5D,GAAG,GAAKkqD,EAAOlqD,GAAG,IAE3D,CAACg5D,EAASh5D,GAAG,GAAIg5D,EAASh5D,GAAG,IAI1C,OAAO0J,GAETwgD,OAAQ,SAAgBxJ,GACtB,OAAOrqD,KAAK2iE,SAAS,IAAKtY,IAE5BytD,WAAY,SAAoBztD,GAC9B,OAAOrqD,KAAK2iE,SAAS,IAAKtY,IAE5B0tD,YAAa,SAAqB1tD,GAChC,OAAOrqD,KAAK2iE,SAAS,IAAKtY,IAE5B6zD,SAAU,WACR,OAAOl+G,KAAKuhC,EAAEb,GAEhBy9E,YAAa,SAAqB5mD,EAAMlN,GACtC,IAAI2Y,EAAYhjE,KAAKuhC,OAERhgC,IAAT8oD,IACF2Y,EAAYhjE,KAAKoxE,eAAe/mB,EAAM,IAGnCrqD,KAAKo+G,kBACRp+G,KAAKo+G,gBAAkBnjD,IAAIvC,kBAAkBsK,IAW/C,IARA,IAMItgB,EANAkW,EAAiB54D,KAAKo+G,gBACtBhoD,EAAUwC,EAAexC,QACzBmC,EAAYK,EAAetC,YAAciB,EACzC5tD,EAAI,EACJ6X,EAAM40C,EAAQ/xD,OACdg6G,EAAoB,EAGjB10G,EAAI6X,GAAK,CACd,GAAI68F,EAAoBjoD,EAAQzsD,GAAGusD,YAAcqC,EAAW,CAC1D,IAAIz1D,EAAY6G,EACZ20G,EAAWt7C,EAAUtiC,GAAK/2B,IAAM6X,EAAM,EAAI,EAAI7X,EAAI,EAClD0zD,GAAe9E,EAAY8lD,GAAqBjoD,EAAQzsD,GAAGusD,YAC/DxT,EAAKuY,IAAIV,kBAAkByI,EAAUzhC,EAAEz+B,GAAYkgE,EAAUzhC,EAAE+8E,GAAWt7C,EAAUrrD,EAAE7U,GAAYkgE,EAAUr5D,EAAE20G,GAAWjhD,EAAajH,EAAQzsD,IAC9I,MAEA00G,GAAqBjoD,EAAQzsD,GAAGusD,YAGlCvsD,GAAK,EAOP,OAJK+4C,IACHA,EAAKsgB,EAAUtiC,EAAI,CAACsiC,EAAUzhC,EAAE,GAAG,GAAIyhC,EAAUzhC,EAAE,GAAG,IAAM,CAACyhC,EAAUzhC,EAAEyhC,EAAUpN,QAAU,GAAG,GAAIoN,EAAUzhC,EAAEyhC,EAAUpN,QAAU,GAAG,KAGlIlT,GAET67D,aAAc,SAAsBhnD,EAAMlN,EAAMm0D,GAElC,GAARjnD,EAEFA,EAAOv3D,KAAKuhC,EAAEb,EACG,GAAR62B,IAETA,EAAO,MAGT,IAAIL,EAAMl3D,KAAKm+G,YAAY5mD,EAAMlN,GAC7B8M,EAAMn3D,KAAKm+G,YAAY5mD,EAAO,KAAOlN,GACrCo0D,EAAUtnD,EAAI,GAAKD,EAAI,GACvBwnD,EAAUvnD,EAAI,GAAKD,EAAI,GACvBynD,EAAY33G,KAAK+1C,KAAK/1C,KAAK61C,IAAI4hE,EAAS,GAAKz3G,KAAK61C,IAAI6hE,EAAS,IAEnE,OAAkB,IAAdC,EACK,CAAC,EAAG,GAGmB,YAAfH,EAA2B,CAACC,EAAUE,EAAWD,EAAUC,GAAa,EAAED,EAAUC,EAAWF,EAAUE,IAG5HC,cAAe,SAAuBrnD,EAAMlN,GAC1C,OAAOrqD,KAAKu+G,aAAahnD,EAAMlN,EAAM,YAEvCw0D,aAAc,SAAsBtnD,EAAMlN,GACxC,OAAOrqD,KAAKu+G,aAAahnD,EAAMlN,EAAM,WAEvC20B,iBAAkB28B,kBAAkB38B,iBACpC5N,eAAgBuqC,kBAAkBK,sBAEpC/hE,gBAAgB,CAACgkE,GAAmBJ,GACpC5jE,gBAAgB,CAACgkE,GAAmBF,GACpCA,EAA0C97G,UAAUmvE,eA5IpD,SAA6B9V,GAmB3B,OAjBKt7D,KAAK+7G,iBACR/7G,KAAK+7G,eAAiB,CACpB+C,WAAY/7C,UAAUrjE,MAAMM,KAAK27D,IACjCM,UAAW,EACX8iD,SAAUplE,sBAId2hB,GAAYt7D,KAAKu1B,KAAK23B,WAAWxB,WACjC4P,GAAYt7D,KAAKy7D,cAEAz7D,KAAK+7G,eAAegD,WACnC/+G,KAAK+7G,eAAe9/C,UAAYj8D,KAAK+7G,eAAegD,SAAWzjD,EAAWt7D,KAAK+/D,SAAS9D,UAAY,EACpGj8D,KAAK+7G,eAAegD,SAAWzjD,EAC/Bt7D,KAAK0jE,iBAAiBpI,EAAUt7D,KAAK+7G,eAAe+C,WAAY9+G,KAAK+7G,iBAGhE/7G,KAAK+7G,eAAe+C,YA0H7Bf,EAA0C97G,UAAUk2G,mBAAqBjD,kBAAkBiD,mBAC3F,IAAI6G,EAAuBv7C,qBAAqBsiB,aAEhDtiB,qBAAqBsiB,aAAe,SAAUxwD,EAAMlrB,EAAMsW,EAAMtN,EAAK4rG,GACnE,IAAIr3F,EAAOo3F,EAAqBzpF,EAAMlrB,EAAMsW,EAAMtN,EAAK4rG,GAcvD,OAbAr3F,EAAKi4D,cAAgBx1E,EAAKupE,GAC1BhsD,EAAK44C,MAAO,EAEC,IAAT7/C,EACFg7F,kBAAkBC,kBAAkBrmF,EAAMlrB,EAAKq4C,GAAI96B,GACjC,IAATjH,GACTg7F,kBAAkBC,kBAAkBrmF,EAAMlrB,EAAKg5C,GAAIz7B,GAGjDA,EAAKqpB,GACP1b,EAAKurC,mBAAmBl5C,GAGnBA,GAIX,SAASs3F,eACPjD,uBAGF,SAASkD,eAWP5oB,aAAat0F,UAAUm9G,mBAAqB,SAAU3lB,EAAc3zE,GAClE,IAAI01C,EAAWx7D,KAAKq/G,oBAAoBv5F,GAExC,GAAI2zE,EAAarjD,IAAMolB,EAAU,CAC/B,IAAI1wD,EAAU,GAId,OAHA9K,KAAK03F,SAAS5sF,EAAS2uF,GACvB3uF,EAAQsrC,EAAIolB,EAAStzD,WACrB4C,EAAQs6C,YAAa,EACdt6C,EAGT,OAAO2uF,GAGTlD,aAAat0F,UAAUwiF,eAAiB,WACtC,IAAI66B,EAAct/G,KAAKs5F,kBACnBimB,EAAiBv/G,KAAK47G,oBAE1B,OADA57G,KAAK2gE,GAAK2+C,GAAeC,EAClBv/G,KAAK2gE,IAGd41B,aAAat0F,UAAU25G,kBA/BvB,WACE,OAAI57G,KAAKqK,KAAKmtC,EAAEvN,GACdjqC,KAAKq/G,oBAAsBnK,kBAAkBiD,mBAAmBp8F,KAAK/b,KAA1Ck1G,CAAgDl1G,KAAKu1B,KAAMv1B,KAAKqK,KAAKmtC,EAAGx3C,MACnGA,KAAK4gE,UAAU5gE,KAAKo/G,mBAAmBrjG,KAAK/b,QACrC,GAGF,MA2BX,SAASurF,aACP4zB,eAyBF,OAtBA/zD,iBAAiB,SAAU45C,gBAC3B55C,iBAAiB,OAAQ66C,gBACzB76C,iBAAiB,MAAOy2C,aAExBr0B,eAAeE,iBAAiB,KAAMG,cACtCL,eAAeE,iBAAiB,KAAMI,wBACtCN,eAAeE,iBAAiB,KAAM8D,kBACtChE,eAAeE,iBAAiB,KAAM+D,sBAEtClxB,qBAAqBiyD,aACrB0M,eACA3zB,aAEAmD,eAAe,GAAI/E,eAAe,GAClC+E,eAAe,GAAI1E,eAAe,GAClC0E,eAAe,GAAIzE,iBAAiB,GACpCyE,eAAe,GAAIvE,kBAAkB,GACrCuE,eAAe,GAAIlE,oBAAoB,GACvCkE,eAAe,GAAI5D,qBAAqB,GACxC4D,eAAe,GAAIxB,iBAAiB,GACpCwB,eAAe,GAAIpB,uBAAuB,GAEnC3tD,QAnnkBwDhhC,OAAOC,QAAU0gC,iCCGlF,IAAI3S,EAAI,IACJqN,EAAQ,GAAJrN,EACJ+yB,EAAQ,GAAJ1lB,EACJwd,EAAQ,GAAJkI,EACJ0d,EAAQ,OAAJ5lB,EAuIR,SAASgoE,EAAO/uG,EAAIohC,EAAG5uC,GACrB,KAAIwN,EAAKohC,GAGT,OAAIphC,EAAS,IAAJohC,EACA7qC,KAAKC,MAAMwJ,EAAKohC,GAAK,IAAM5uC,EAE7B+D,KAAK0sE,KAAKjjE,EAAKohC,GAAK,IAAM5uC,EAAO,IA9H1CtE,EAAOC,QAAU,SAAS2R,EAAK9J,GAC7BA,EAAUA,GAAW,GACrB,IAyGegK,EAzGXkQ,SAAcpQ,EAClB,GAAa,WAAToQ,GAAqBpQ,EAAIlM,OAAS,EACpC,OAkBJ,SAAeuT,GAEb,IADAA,EAAMoV,OAAOpV,IACLvT,OAAS,IACf,OAEF,IAAIknB,EAAQ,wHAAwHG,KAClI9T,GAEF,IAAK2T,EACH,OAEF,IAAIsmB,EAAIhY,WAAWtO,EAAM,IAEzB,QADYA,EAAM,IAAM,MAAM1pB,eAE5B,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAOgwC,EAAIurB,EACb,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOvrB,EAAI2F,EACb,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAO3F,EAAI6N,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAO7N,EAAI7X,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAO6X,EAAIllB,EACb,IAAK,eACL,IAAK,cACL,IAAK,QACL,IAAK,OACL,IAAK,KACH,OAAOklB,EACT,QACE,QAnEKlsC,CAAM4K,GACR,GAAa,WAAToQ,IAAoC,IAAfyU,MAAM7kB,GACpC,OAAO9J,EAAQg5G,KAsGVD,EADQ/uG,EArGiBF,EAsGdinC,EAAG,QACnBgoE,EAAO/uG,EAAIivC,EAAG,SACd8/D,EAAO/uG,EAAIupB,EAAG,WACdwlF,EAAO/uG,EAAIkc,EAAG,WACdlc,EAAK,MA7BT,SAAkBA,GAChB,GAAIA,GAAM+mC,EACR,OAAOxwC,KAAKgyB,MAAMvoB,EAAK+mC,GAAK,IAE9B,GAAI/mC,GAAMivC,EACR,OAAO14C,KAAKgyB,MAAMvoB,EAAKivC,GAAK,IAE9B,GAAIjvC,GAAMupB,EACR,OAAOhzB,KAAKgyB,MAAMvoB,EAAKupB,GAAK,IAE9B,GAAIvpB,GAAMkc,EACR,OAAO3lB,KAAKgyB,MAAMvoB,EAAKkc,GAAK,IAE9B,OAAOlc,EAAK,KA1F2BivG,CAASnvG,GAEhD,MAAM,IAAI9H,MACR,wDACEtG,KAAKC,UAAUmO,kCChCrB,IAAIovG,EACJ,IAAKh9G,OAAOiR,KAAM,CAEjB,IAAI2iB,EAAM5zB,OAAOV,UAAUW,eACvBkpB,EAAQnpB,OAAOV,UAAUiG,SACzB03G,EAAS,EAAQ,MACjBC,EAAel9G,OAAOV,UAAU69G,qBAChCC,GAAkBF,EAAah9G,KAAK,CAAEqF,SAAU,MAAQ,YACxD83G,EAAkBH,EAAah9G,MAAK,cAAgB,aACpDo9G,EAAY,CACf,WACA,iBACA,UACA,iBACA,gBACA,uBACA,eAEGC,EAA6B,SAAUvoG,GAC1C,IAAIyhC,EAAOzhC,EAAE7E,YACb,OAAOsmC,GAAQA,EAAKn3C,YAAc0V,GAE/BwoG,EAAe,CAClBC,mBAAmB,EACnBC,UAAU,EACVC,WAAW,EACXC,QAAQ,EACRC,eAAe,EACfC,SAAS,EACTC,cAAc,EACdC,aAAa,EACbC,wBAAwB,EACxBC,uBAAuB,EACvBC,cAAc,EACdC,aAAa,EACbC,cAAc,EACdC,cAAc,EACdC,SAAS,EACTC,aAAa,EACbC,YAAY,EACZC,UAAU,EACVC,UAAU,EACVC,OAAO,EACPC,kBAAkB,EAClBC,oBAAoB,EACpBC,SAAS,GAENC,EAA4B,WAE/B,GAAsB,oBAAXrwG,OAA0B,OAAO,EAC5C,IAAK,IAAI2/B,KAAK3/B,OACb,IACC,IAAK6uG,EAAa,IAAMlvE,IAAM1a,EAAI1zB,KAAKyO,OAAQ2/B,IAAoB,OAAd3/B,OAAO2/B,IAAoC,iBAAd3/B,OAAO2/B,GACxF,IACCivE,EAA2B5uG,OAAO2/B,IACjC,MAAOnhC,GACR,OAAO,GAGR,MAAOA,GACR,OAAO,EAGT,OAAO,EAhBuB,GA8B/B6vG,EAAW,SAActuF,GACxB,IAAI1U,EAAsB,OAAX0U,GAAqC,iBAAXA,EACrCnZ,EAAoC,sBAAvB4T,EAAMjpB,KAAKwuB,GACxBuwF,EAAchC,EAAOvuF,GACrBwJ,EAAWle,GAAmC,oBAAvBmP,EAAMjpB,KAAKwuB,GAClCwwF,EAAU,GAEd,IAAKllG,IAAazE,IAAe0pG,EAChC,MAAM,IAAIvnG,UAAU,sCAGrB,IAAIynG,EAAY9B,GAAmB9nG,EACnC,GAAI2iB,GAAYxJ,EAAOhtB,OAAS,IAAMkyB,EAAI1zB,KAAKwuB,EAAQ,GACtD,IAAK,IAAI1nB,EAAI,EAAGA,EAAI0nB,EAAOhtB,SAAUsF,EACpCk4G,EAAQ16G,KAAK6lB,OAAOrjB,IAItB,GAAIi4G,GAAevwF,EAAOhtB,OAAS,EAClC,IAAK,IAAIwF,EAAI,EAAGA,EAAIwnB,EAAOhtB,SAAUwF,EACpCg4G,EAAQ16G,KAAK6lB,OAAOnjB,SAGrB,IAAK,IAAI5G,KAAQouB,EACVywF,GAAsB,cAAT7+G,IAAyBszB,EAAI1zB,KAAKwuB,EAAQpuB,IAC5D4+G,EAAQ16G,KAAK6lB,OAAO/pB,IAKvB,GAAI88G,EAGH,IAFA,IAAIgC,EA3CqC,SAAUpqG,GAEpD,GAAsB,oBAAXrG,SAA2BqwG,EACrC,OAAOzB,EAA2BvoG,GAEnC,IACC,OAAOuoG,EAA2BvoG,GACjC,MAAO7H,GACR,OAAO,GAmCekyG,CAAqC3wF,GAElD4f,EAAI,EAAGA,EAAIgvE,EAAU57G,SAAU4sC,EACjC8wE,GAAoC,gBAAjB9B,EAAUhvE,KAAyB1a,EAAI1zB,KAAKwuB,EAAQ4uF,EAAUhvE,KACtF4wE,EAAQ16G,KAAK84G,EAAUhvE,IAI1B,OAAO4wE,GAGTljH,EAAOC,QAAU+gH,+BCvHjB,IAAI1sG,EAAQjR,MAAMC,UAAUgR,MACxB2sG,EAAS,EAAQ,MAEjBqC,EAAWt/G,OAAOiR,KAClB+rG,EAAWsC,EAAW,SAActqG,GAAK,OAAOsqG,EAAStqG,IAAQ,EAAQ,MAEzEuqG,EAAev/G,OAAOiR,KAE1B+rG,EAASwC,KAAO,WACf,GAAIx/G,OAAOiR,KAAM,CAChB,IAAIwuG,EAA0B,WAE7B,IAAIr6G,EAAOpF,OAAOiR,KAAK3G,WACvB,OAAOlF,GAAQA,EAAK1D,SAAW4I,UAAU5I,OAHb,CAI3B,EAAG,GACA+9G,IACJz/G,OAAOiR,KAAO,SAAcyd,GAC3B,OAAIuuF,EAAOvuF,GACH6wF,EAAajvG,EAAMpQ,KAAKwuB,IAEzB6wF,EAAa7wF,UAItB1uB,OAAOiR,KAAO+rG,EAEf,OAAOh9G,OAAOiR,MAAQ+rG,GAGvBhhH,EAAOC,QAAU+gH,yBC7BjB,IAAI7zF,EAAQnpB,OAAOV,UAAUiG,SAE7BvJ,EAAOC,QAAU,SAAqB8D,GACrC,IAAIkV,EAAMkU,EAAMjpB,KAAKH,GACjBk9G,EAAiB,uBAARhoG,EASb,OARKgoG,IACJA,EAAiB,mBAARhoG,GACE,OAAVlV,GACiB,iBAAVA,GACiB,iBAAjBA,EAAM2B,QACb3B,EAAM2B,QAAU,GACa,sBAA7BynB,EAAMjpB,KAAKH,EAAM2/G,SAEZzC,aCdR,IAOI0C,EACAC,EARApjH,EAAUR,EAAOC,QAAU,GAU/B,SAAS4jH,IACL,MAAM,IAAI/5G,MAAM,mCAEpB,SAASg6G,IACL,MAAM,IAAIh6G,MAAM,qCAsBpB,SAASi6G,EAAWnvF,GAChB,GAAI+uF,IAAqBj9G,WAErB,OAAOA,WAAWkuB,EAAK,GAG3B,IAAK+uF,IAAqBE,IAAqBF,IAAqBj9G,WAEhE,OADAi9G,EAAmBj9G,WACZA,WAAWkuB,EAAK,GAE3B,IAEI,OAAO+uF,EAAiB/uF,EAAK,GAC/B,MAAMzjB,GACJ,IAEI,OAAOwyG,EAAiBz/G,KAAK,KAAM0wB,EAAK,GAC1C,MAAMzjB,GAEJ,OAAOwyG,EAAiBz/G,KAAK7C,KAAMuzB,EAAK,MAvCnD,WACG,IAEQ+uF,EADsB,mBAAfj9G,WACYA,WAEAm9G,EAEzB,MAAO1yG,GACLwyG,EAAmBE,EAEvB,IAEQD,EADwB,mBAAjB3yG,aACcA,aAEA6yG,EAE3B,MAAO3yG,GACLyyG,EAAqBE,GAjB7B,GAwEA,IAEIrqE,EAFA/N,EAAQ,GACR8N,GAAW,EAEXG,GAAc,EAElB,SAASE,IACAL,GAAaC,IAGlBD,GAAW,EACPC,EAAa/zC,OACbgmC,EAAQ+N,EAAap3C,OAAOqpC,GAE5BiO,GAAc,EAEdjO,EAAMhmC,QACNs+G,KAIR,SAASA,IACL,IAAIxqE,EAAJ,CAGA,IAAI53C,EAAUmiH,EAAWlqE,GACzBL,GAAW,EAGX,IADA,IAAI32B,EAAM6oB,EAAMhmC,OACVmd,GAAK,CAGP,IAFA42B,EAAe/N,EACfA,EAAQ,KACCiO,EAAa92B,GACd42B,GACAA,EAAaE,GAAYG,MAGjCH,GAAc,EACd92B,EAAM6oB,EAAMhmC,OAEhB+zC,EAAe,KACfD,GAAW,EAnEf,SAAyB0X,GACrB,GAAI0yD,IAAuB3yG,aAEvB,OAAOA,aAAaigD,GAGxB,IAAK0yD,IAAuBE,IAAwBF,IAAuB3yG,aAEvE,OADA2yG,EAAqB3yG,aACdA,aAAaigD,GAExB,IAEW0yD,EAAmB1yD,GAC5B,MAAO//C,GACL,IAEI,OAAOyyG,EAAmB1/G,KAAK,KAAMgtD,GACvC,MAAO//C,GAGL,OAAOyyG,EAAmB1/G,KAAK7C,KAAM6vD,KAgD7C+yD,CAAgBriH,IAiBpB,SAASo4C,EAAKplB,EAAKroB,GACflL,KAAKuzB,IAAMA,EACXvzB,KAAKkL,MAAQA,EAYjB,SAAS0X,KA5BTzjB,EAAQosC,SAAW,SAAUhY,GACzB,IAAIxrB,EAAO,IAAI/F,MAAMiL,UAAU5I,OAAS,GACxC,GAAI4I,UAAU5I,OAAS,EACnB,IAAK,IAAIsF,EAAI,EAAGA,EAAIsD,UAAU5I,OAAQsF,IAClC5B,EAAK4B,EAAI,GAAKsD,UAAUtD,GAGhC0gC,EAAMljC,KAAK,IAAIwxC,EAAKplB,EAAKxrB,IACJ,IAAjBsiC,EAAMhmC,QAAiB8zC,GACvBuqE,EAAWC,IASnBhqE,EAAK12C,UAAUw2C,IAAM,WACjBz4C,KAAKuzB,IAAIzkB,MAAM,KAAM9O,KAAKkL,QAE9B/L,EAAQqpC,MAAQ,UAChBrpC,EAAQm1G,SAAU,EAClBn1G,EAAQC,IAAM,GACdD,EAAQ0jH,KAAO,GACf1jH,EAAQqP,QAAU,GAClBrP,EAAQ2jH,SAAW,GAInB3jH,EAAQ+d,GAAK0F,EACbzjB,EAAQ4jH,YAAcngG,EACtBzjB,EAAQ6jH,KAAOpgG,EACfzjB,EAAQshB,IAAMmC,EACdzjB,EAAQ8jH,eAAiBrgG,EACzBzjB,EAAQ+jH,mBAAqBtgG,EAC7BzjB,EAAQgkH,KAAOvgG,EACfzjB,EAAQikH,gBAAkBxgG,EAC1BzjB,EAAQkkH,oBAAsBzgG,EAE9BzjB,EAAQmkH,UAAY,SAAUrgH,GAAQ,MAAO,IAE7C9D,EAAQokH,QAAU,SAAUtgH,GACxB,MAAM,IAAIwF,MAAM,qCAGpBtJ,EAAQqkH,IAAM,WAAc,MAAO,KACnCrkH,EAAQskH,MAAQ,SAAU3jG,GACtB,MAAM,IAAIrX,MAAM,mCAEpBtJ,EAAQukH,MAAQ,WAAa,OAAO,0BC7JpC,SAAS9gH,EAAeb,EAAK6lB,GAC3B,OAAOjlB,OAAOV,UAAUW,eAAeC,KAAKd,EAAK6lB,GAGnDjpB,EAAOC,QAAU,SAAS+kH,EAAIC,EAAKxkG,EAAI3Y,GACrCm9G,EAAMA,GAAO,IACbxkG,EAAKA,GAAM,IACX,IAAIrd,EAAM,GAEV,GAAkB,iBAAP4hH,GAAiC,IAAdA,EAAGt/G,OAC/B,OAAOtC,EAGT,IAAI8hH,EAAS,MACbF,EAAKA,EAAG3iG,MAAM4iG,GAEd,IAAIE,EAAU,IACVr9G,GAAsC,iBAApBA,EAAQq9G,UAC5BA,EAAUr9G,EAAQq9G,SAGpB,IAAItiG,EAAMmiG,EAAGt/G,OAETy/G,EAAU,GAAKtiG,EAAMsiG,IACvBtiG,EAAMsiG,GAGR,IAAK,IAAIn6G,EAAI,EAAGA,EAAI6X,IAAO7X,EAAG,CAC5B,IAEIo6G,EAAMC,EAAM/yE,EAAG1P,EAFf0I,EAAI05E,EAAGh6G,GAAG+I,QAAQmxG,EAAQ,OAC1BhxF,EAAMoX,EAAE1mC,QAAQ6b,GAGhByT,GAAO,GACTkxF,EAAO95E,EAAE3H,OAAO,EAAGzP,GACnBmxF,EAAO/5E,EAAE3H,OAAOzP,EAAM,KAEtBkxF,EAAO95E,EACP+5E,EAAO,IAGT/yE,EAAIi8B,mBAAmB62C,GACvBxiF,EAAI2rC,mBAAmB82C,GAElBphH,EAAeb,EAAKkvC,GAEdtxC,EAAQoC,EAAIkvC,IACrBlvC,EAAIkvC,GAAG9pC,KAAKo6B,GAEZx/B,EAAIkvC,GAAK,CAAClvC,EAAIkvC,GAAI1P,GAJlBx/B,EAAIkvC,GAAK1P,EAQb,OAAOx/B,GAGT,IAAIpC,EAAUqC,MAAMrC,SAAW,SAAUskH,GACvC,MAA8C,mBAAvCthH,OAAOV,UAAUiG,SAASrF,KAAKohH,2BC3DxC,IAAIC,EAAqB,SAAS3iF,GAChC,cAAeA,GACb,IAAK,SACH,OAAOA,EAET,IAAK,UACH,OAAOA,EAAI,OAAS,QAEtB,IAAK,SACH,OAAOlM,SAASkM,GAAKA,EAAI,GAE3B,QACE,MAAO,KAIb5iC,EAAOC,QAAU,SAASmD,EAAK6hH,EAAKxkG,EAAInc,GAOtC,OANA2gH,EAAMA,GAAO,IACbxkG,EAAKA,GAAM,IACC,OAARrd,IACFA,OAAMR,GAGW,iBAARQ,EACFnC,EAAIukH,EAAWpiH,IAAM,SAASkvC,GACnC,IAAIoS,EAAKp7C,mBAAmBi8G,EAAmBjzE,IAAM7xB,EACrD,OAAIzf,EAAQoC,EAAIkvC,IACPrxC,EAAImC,EAAIkvC,IAAI,SAAS1P,GAC1B,OAAO8hB,EAAKp7C,mBAAmBi8G,EAAmB3iF,OACjDz4B,KAAK86G,GAEDvgE,EAAKp7C,mBAAmBi8G,EAAmBniH,EAAIkvC,QAEvDnoC,KAAK86G,GAIL3gH,EACEgF,mBAAmBi8G,EAAmBjhH,IAASmc,EAC/CnX,mBAAmBi8G,EAAmBniH,IAF3B,IAKpB,IAAIpC,EAAUqC,MAAMrC,SAAW,SAAUskH,GACvC,MAA8C,mBAAvCthH,OAAOV,UAAUiG,SAASrF,KAAKohH,IAGxC,SAASrkH,EAAKqkH,EAAIvsE,GAChB,GAAIusE,EAAGrkH,IAAK,OAAOqkH,EAAGrkH,IAAI83C,GAE1B,IADA,IAAI0sE,EAAM,GACDz6G,EAAI,EAAGA,EAAIs6G,EAAG5/G,OAAQsF,IAC7By6G,EAAIj9G,KAAKuwC,EAAEusE,EAAGt6G,GAAIA,IAEpB,OAAOy6G,EAGT,IAAID,EAAaxhH,OAAOiR,MAAQ,SAAU7R,GACxC,IAAIqiH,EAAM,GACV,IAAK,IAAIp8G,KAAOjG,EACVY,OAAOV,UAAUW,eAAeC,KAAKd,EAAKiG,IAAMo8G,EAAIj9G,KAAKa,GAE/D,OAAOo8G,gCCjFTxlH,EAAQylH,OAASzlH,EAAQ+G,MAAQ,EAAhB,MACjB/G,EAAQ+R,OAAS/R,EAAQwD,UAAY,EAApB,6BCDjB,IAAIkiH,EAAQjkF,SAASp+B,UAAU8Z,KAc/Bpd,EAAOC,QAbP,SAAmB2lH,GACjB,IAAIC,EAAU,WACZ,IAAK,IAAIC,EAAOx3G,UAAU5I,OAAQ0D,EAAO/F,MAAMyiH,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC3E38G,EAAK28G,GAAQz3G,UAAUy3G,GAGzB,OAAO,IAAKJ,EAAMx1G,MAAMy1G,EAAO,CAAC,MAAMvjH,OAAO+G,MAI/C,OAFAy8G,EAAQG,UAAYJ,EACpBC,EAAQviH,UAAYsiH,EAAMtiH,UACnBuiH,iBCZLI,yBAA2B,GCD3BC,SDIJ,SAASC,oBAAoBC,GAE5B,IAAIC,EAAeJ,yBAAyBG,GAC5C,QAAqBxjH,IAAjByjH,EACH,OAAOA,EAAapmH,QAGrB,IAAID,EAASimH,yBAAyBG,GAAY,CAGjDnmH,QAAS,IAOV,OAHAqmH,oBAAoBF,GAAUliH,KAAKlE,EAAOC,QAASD,EAAQA,EAAOC,QAASkmH,qBAGpEnmH,EAAOC,QAIfkmH,oBAAoB9qF,EAAIirF,oBEzBxBH,oBAAoBI,KAAO,GDAvBL,SAAW,GACfC,oBAAoBK,EAAI,CAACt4F,EAAQu4F,EAAUjzG,EAAIkzG,KAC9C,IAAGD,EAAH,CAMA,IAAIE,EAAeC,EAAAA,EACnB,IAAS57G,EAAI,EAAGA,EAAIk7G,SAASxgH,OAAQsF,IAAK,CAGzC,IAFA,IAAKy7G,EAAUjzG,EAAIkzG,GAAYR,SAASl7G,GACpC67G,GAAY,EACP37G,EAAI,EAAGA,EAAIu7G,EAAS/gH,OAAQwF,MACpB,EAAXw7G,GAAsBC,GAAgBD,IAAa1iH,OAAOiR,KAAKkxG,oBAAoBK,GAAG9mG,OAAOrW,GAAS88G,oBAAoBK,EAAEn9G,GAAKo9G,EAASv7G,MAC9Iu7G,EAASrvF,OAAOlsB,IAAK,IAErB27G,GAAY,EACTH,EAAWC,IAAcA,EAAeD,IAG7C,GAAGG,EAAW,CACbX,SAAS9uF,OAAOpsB,IAAK,GACrB,IAAIs2B,EAAI9tB,SACE5Q,IAAN0+B,IAAiBpT,EAASoT,IAGhC,OAAOpT,EAvBNw4F,EAAWA,GAAY,EACvB,IAAI,IAAI17G,EAAIk7G,SAASxgH,OAAQsF,EAAI,GAAKk7G,SAASl7G,EAAI,GAAG,GAAK07G,EAAU17G,IAAKk7G,SAASl7G,GAAKk7G,SAASl7G,EAAI,GACrGk7G,SAASl7G,GAAK,CAACy7G,EAAUjzG,EAAIkzG,IEL/BP,oBAAoBtwG,EAAI,WACvB,GAA0B,iBAAfixG,WAAyB,OAAOA,WAC3C,IACC,OAAOzlH,MAAQ,IAAIqgC,SAAS,cAAb,GACd,MAAOvwB,GACR,GAAsB,iBAAXwB,OAAqB,OAAOA,QALjB,GCAxBwzG,oBAAoBntG,EAAI,CAAC5V,EAAK6lB,IAAUjlB,OAAOV,UAAUW,eAAeC,KAAKd,EAAK6lB,SCKlF,IAAI89F,EAAkB,CACrB,IAAK,EACL,IAAK,GAaNZ,oBAAoBK,EAAEt7G,EAAK87G,GAA0C,IAA7BD,EAAgBC,GAGxD,IAAIC,EAAuB,CAACC,EAA4Bx7G,KACvD,IAGI06G,EAAUY,GAHTP,EAAUU,EAAaC,GAAW17G,EAGhBV,EAAI,EAC3B,GAAGy7G,EAAS1uF,MAAMxb,GAAgC,IAAxBwqG,EAAgBxqG,KAAa,CACtD,IAAI6pG,KAAYe,EACZhB,oBAAoBntG,EAAEmuG,EAAaf,KACrCD,oBAAoB9qF,EAAE+qF,GAAYe,EAAYf,IAGhD,GAAGgB,EAAS,IAAIl5F,EAASk5F,EAAQjB,qBAGlC,IADGe,GAA4BA,EAA2Bx7G,GACrDV,EAAIy7G,EAAS/gH,OAAQsF,IACzBg8G,EAAUP,EAASz7G,GAChBm7G,oBAAoBntG,EAAE+tG,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOb,oBAAoBK,EAAEt4F,IAG1Bm5F,EAAqBprG,KAAmB,aAAIA,KAAmB,cAAK,GACxEorG,EAAmB79G,QAAQy9G,EAAqB7pG,KAAK,KAAM,IAC3DiqG,EAAmB7+G,KAAOy+G,EAAqB7pG,KAAK,KAAMiqG,EAAmB7+G,KAAK4U,KAAKiqG,QC9CvFlB,oBAAoBK,OAAE5jH,EAAW,CAAC,MAAM,IAAOujH,oBAAoB,QACnE,IAAImB,oBAAsBnB,oBAAoBK,OAAE5jH,EAAW,CAAC,MAAM,IAAOujH,oBAAoB,QAC7FmB,oBAAsBnB,oBAAoBK,EAAEc","sources":["webpack:///./node_modules/algoliasearch/src/AlgoliaSearchCore.js","webpack:///./node_modules/algoliasearch/src/IndexCore.js","webpack:///./node_modules/algoliasearch/src/browser/builds/algoliasearchLite.js","webpack:///./node_modules/algoliasearch/src/browser/createAlgoliasearch.js","webpack:///./node_modules/algoliasearch/src/browser/inline-headers.js","webpack:///./node_modules/algoliasearch/src/browser/jsonp-request.js","webpack:///./node_modules/algoliasearch/src/buildSearchMethod.js","webpack:///./node_modules/algoliasearch/src/clone.js","webpack:///./node_modules/algoliasearch/src/deprecate.js","webpack:///./node_modules/algoliasearch/src/deprecatedMessage.js","webpack:///./node_modules/algoliasearch/src/errors.js","webpack:///./node_modules/algoliasearch/src/exitPromise.js","webpack:///./node_modules/algoliasearch/src/map.js","webpack:///./node_modules/algoliasearch/src/merge.js","webpack:///./node_modules/algoliasearch/src/omit.js","webpack:///./node_modules/algoliasearch/src/places.js","webpack:///./node_modules/algoliasearch/src/store.js","webpack:///./node_modules/algoliasearch/src/version.js","webpack:///./node_modules/autocomplete.js/index.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/css.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/dataset.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/dropdown.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/event_bus.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/event_emitter.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/html.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/input.js","webpack:///./node_modules/autocomplete.js/src/autocomplete/typeahead.js","webpack:///./node_modules/autocomplete.js/src/common/dom.js","webpack:///./node_modules/autocomplete.js/src/common/parseAlgoliaClientVersion.js","webpack:///./node_modules/autocomplete.js/src/common/utils.js","webpack:///./node_modules/autocomplete.js/src/sources/hits.js","webpack:///./node_modules/autocomplete.js/src/sources/index.js","webpack:///./node_modules/autocomplete.js/src/sources/popularIn.js","webpack:///./node_modules/autocomplete.js/src/standalone/index.js","webpack:///./node_modules/autocomplete.js/version.js","webpack:///./node_modules/autocomplete.js/zepto.js","webpack:///./source/_assets/js/main.js","webpack:///./node_modules/debug/src/browser.js","webpack:///./node_modules/debug/src/debug.js","webpack:///./node_modules/docsearch.js/dist/npm/index.js","webpack:///./node_modules/docsearch.js/dist/npm/src/lib/DocSearch.js","webpack:///./node_modules/docsearch.js/dist/npm/src/lib/main.js","webpack:///./node_modules/docsearch.js/dist/npm/src/lib/templates.js","webpack:///./node_modules/docsearch.js/dist/npm/src/lib/utils.js","webpack:///./node_modules/docsearch.js/dist/npm/src/lib/version.js","webpack:///./node_modules/docsearch.js/dist/npm/src/lib/zepto.js","webpack:///./node_modules/es6-promise/dist/es6-promise.js","webpack:///./node_modules/foreach/index.js","webpack:///./node_modules/global/window.js","webpack:///./node_modules/hogan.js/lib/compiler.js","webpack:///./node_modules/hogan.js/lib/hogan.js","webpack:///./node_modules/hogan.js/lib/template.js","webpack:///./node_modules/immediate/lib/index.js","webpack:///./node_modules/immediate/lib/messageChannel.js","webpack:///./node_modules/immediate/lib/mutation.js","webpack:///./node_modules/immediate/lib/queueMicrotask.js","webpack:///./node_modules/immediate/lib/stateChange.js","webpack:///./node_modules/immediate/lib/timeout.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/lottie-web/build/player/lottie.js","webpack:///./node_modules/ms/index.js","webpack:///./node_modules/object-keys/implementation.js","webpack:///./node_modules/object-keys/index.js","webpack:///./node_modules/object-keys/isArguments.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/querystring-es3/decode.js","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///./node_modules/to-factory/to-factory.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/chunk loaded","webpack:///webpack/runtime/amd options","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"sourcesContent":["module.exports = AlgoliaSearchCore;\n\nvar errors = require('./errors');\nvar exitPromise = require('./exitPromise.js');\nvar IndexCore = require('./IndexCore.js');\nvar store = require('./store.js');\n\n// We will always put the API KEY in the JSON body in case of too long API KEY,\n// to avoid query string being too long and failing in various conditions (our server limit, browser limit,\n// proxies limit)\nvar MAX_API_KEY_LENGTH = 500;\nvar RESET_APP_DATA_TIMER =\n  process.env.RESET_APP_DATA_TIMER && parseInt(process.env.RESET_APP_DATA_TIMER, 10) ||\n  60 * 2 * 1000; // after 2 minutes reset to first host\n\n/*\n * Algolia Search library initialization\n * https://www.algolia.com/\n *\n * @param {string} applicationID - Your applicationID, found in your dashboard\n * @param {string} apiKey - Your API key, found in your dashboard\n * @param {Object} [opts]\n * @param {number} [opts.timeout=2000] - The request timeout set in milliseconds,\n * another request will be issued after this timeout\n * @param {string} [opts.protocol='https:'] - The protocol used to query Algolia Search API.\n *                                        Set to 'http:' to force using http.\n * @param {Object|Array} [opts.hosts={\n *           read: [this.applicationID + '-dsn.algolia.net'].concat([\n *             this.applicationID + '-1.algolianet.com',\n *             this.applicationID + '-2.algolianet.com',\n *             this.applicationID + '-3.algolianet.com']\n *           ]),\n *           write: [this.applicationID + '.algolia.net'].concat([\n *             this.applicationID + '-1.algolianet.com',\n *             this.applicationID + '-2.algolianet.com',\n *             this.applicationID + '-3.algolianet.com']\n *           ]) - The hosts to use for Algolia Search API.\n *           If you provide them, you will less benefit from our HA implementation\n */\nfunction AlgoliaSearchCore(applicationID, apiKey, opts) {\n  var debug = require('debug')('algoliasearch');\n\n  var clone = require('./clone.js');\n  var isArray = require('isarray');\n  var map = require('./map.js');\n\n  var usage = 'Usage: algoliasearch(applicationID, apiKey, opts)';\n\n  if (opts._allowEmptyCredentials !== true && !applicationID) {\n    throw new errors.AlgoliaSearchError('Please provide an application ID. ' + usage);\n  }\n\n  if (opts._allowEmptyCredentials !== true && !apiKey) {\n    throw new errors.AlgoliaSearchError('Please provide an API key. ' + usage);\n  }\n\n  this.applicationID = applicationID;\n  this.apiKey = apiKey;\n\n  this.hosts = {\n    read: [],\n    write: []\n  };\n\n  opts = opts || {};\n\n  this._timeouts = opts.timeouts || {\n    connect: 1 * 1000, // 500ms connect is GPRS latency\n    read: 2 * 1000,\n    write: 30 * 1000\n  };\n\n  // backward compat, if opts.timeout is passed, we use it to configure all timeouts like before\n  if (opts.timeout) {\n    this._timeouts.connect = this._timeouts.read = this._timeouts.write = opts.timeout;\n  }\n\n  var protocol = opts.protocol || 'https:';\n  // while we advocate for colon-at-the-end values: 'http:' for `opts.protocol`\n  // we also accept `http` and `https`. It's a common error.\n  if (!/:$/.test(protocol)) {\n    protocol = protocol + ':';\n  }\n\n  if (protocol !== 'http:' && protocol !== 'https:') {\n    throw new errors.AlgoliaSearchError('protocol must be `http:` or `https:` (was `' + opts.protocol + '`)');\n  }\n\n  this._checkAppIdData();\n\n  if (!opts.hosts) {\n    var defaultHosts = map(this._shuffleResult, function(hostNumber) {\n      return applicationID + '-' + hostNumber + '.algolianet.com';\n    });\n\n    // no hosts given, compute defaults\n    var mainSuffix = (opts.dsn === false ? '' : '-dsn') + '.algolia.net';\n    this.hosts.read = [this.applicationID + mainSuffix].concat(defaultHosts);\n    this.hosts.write = [this.applicationID + '.algolia.net'].concat(defaultHosts);\n  } else if (isArray(opts.hosts)) {\n    // when passing custom hosts, we need to have a different host index if the number\n    // of write/read hosts are different.\n    this.hosts.read = clone(opts.hosts);\n    this.hosts.write = clone(opts.hosts);\n  } else {\n    this.hosts.read = clone(opts.hosts.read);\n    this.hosts.write = clone(opts.hosts.write);\n  }\n\n  // add protocol and lowercase hosts\n  this.hosts.read = map(this.hosts.read, prepareHost(protocol));\n  this.hosts.write = map(this.hosts.write, prepareHost(protocol));\n\n  this.extraHeaders = {};\n\n  // In some situations you might want to warm the cache\n  this.cache = opts._cache || {};\n\n  this._ua = opts._ua;\n  this._useCache = opts._useCache === undefined || opts._cache ? true : opts._useCache;\n  this._useRequestCache = this._useCache && opts._useRequestCache;\n  this._useFallback = opts.useFallback === undefined ? true : opts.useFallback;\n\n  this._setTimeout = opts._setTimeout;\n\n  debug('init done, %j', this);\n}\n\n/*\n * Get the index object initialized\n *\n * @param indexName the name of index\n * @param callback the result callback with one argument (the Index instance)\n */\nAlgoliaSearchCore.prototype.initIndex = function(indexName) {\n  return new IndexCore(this, indexName);\n};\n\n/**\n* Add an extra field to the HTTP request\n*\n* @param name the header field name\n* @param value the header field value\n*/\nAlgoliaSearchCore.prototype.setExtraHeader = function(name, value) {\n  this.extraHeaders[name.toLowerCase()] = value;\n};\n\n/**\n* Get the value of an extra HTTP header\n*\n* @param name the header field name\n*/\nAlgoliaSearchCore.prototype.getExtraHeader = function(name) {\n  return this.extraHeaders[name.toLowerCase()];\n};\n\n/**\n* Remove an extra field from the HTTP request\n*\n* @param name the header field name\n*/\nAlgoliaSearchCore.prototype.unsetExtraHeader = function(name) {\n  delete this.extraHeaders[name.toLowerCase()];\n};\n\n/**\n* Augment sent x-algolia-agent with more data, each agent part\n* is automatically separated from the others by a semicolon;\n*\n* @param algoliaAgent the agent to add\n*/\nAlgoliaSearchCore.prototype.addAlgoliaAgent = function(algoliaAgent) {\n  var algoliaAgentWithDelimiter = '; ' + algoliaAgent;\n\n  if (this._ua.indexOf(algoliaAgentWithDelimiter) === -1) {\n    this._ua += algoliaAgentWithDelimiter;\n  }\n};\n\n/*\n * Wrapper that try all hosts to maximize the quality of service\n */\nAlgoliaSearchCore.prototype._jsonRequest = function(initialOpts) {\n  this._checkAppIdData();\n\n  var requestDebug = require('debug')('algoliasearch:' + initialOpts.url);\n\n\n  var body;\n  var cacheID;\n  var additionalUA = initialOpts.additionalUA || '';\n  var cache = initialOpts.cache;\n  var client = this;\n  var tries = 0;\n  var usingFallback = false;\n  var hasFallback = client._useFallback && client._request.fallback && initialOpts.fallback;\n  var headers;\n\n  if (\n    this.apiKey.length > MAX_API_KEY_LENGTH &&\n    initialOpts.body !== undefined &&\n    (initialOpts.body.params !== undefined || // index.search()\n    initialOpts.body.requests !== undefined) // client.search()\n  ) {\n    initialOpts.body.apiKey = this.apiKey;\n    headers = this._computeRequestHeaders({\n      additionalUA: additionalUA,\n      withApiKey: false,\n      headers: initialOpts.headers\n    });\n  } else {\n    headers = this._computeRequestHeaders({\n      additionalUA: additionalUA,\n      headers: initialOpts.headers\n    });\n  }\n\n  if (initialOpts.body !== undefined) {\n    body = safeJSONStringify(initialOpts.body);\n  }\n\n  requestDebug('request start');\n  var debugData = [];\n\n\n  function doRequest(requester, reqOpts) {\n    client._checkAppIdData();\n\n    var startTime = new Date();\n\n    if (client._useCache && !client._useRequestCache) {\n      cacheID = initialOpts.url;\n    }\n\n    // as we sometime use POST requests to pass parameters (like query='aa'),\n    // the cacheID must also include the body to be different between calls\n    if (client._useCache && !client._useRequestCache && body) {\n      cacheID += '_body_' + reqOpts.body;\n    }\n\n    // handle cache existence\n    if (isCacheValidWithCurrentID(!client._useRequestCache, cache, cacheID)) {\n      requestDebug('serving response from cache');\n\n      var responseText = cache[cacheID];\n\n      // Cache response must match the type of the original one\n      return client._promise.resolve({\n        body: JSON.parse(responseText),\n        responseText: responseText\n      });\n    }\n\n    // if we reached max tries\n    if (tries >= client.hosts[initialOpts.hostType].length) {\n      if (!hasFallback || usingFallback) {\n        requestDebug('could not get any response');\n        // then stop\n        return client._promise.reject(new errors.AlgoliaSearchError(\n          'Cannot connect to the AlgoliaSearch API.' +\n          ' Send an email to support@algolia.com to report and resolve the issue.' +\n          ' Application id was: ' + client.applicationID, {debugData: debugData}\n        ));\n      }\n\n      requestDebug('switching to fallback');\n\n      // let's try the fallback starting from here\n      tries = 0;\n\n      // method, url and body are fallback dependent\n      reqOpts.method = initialOpts.fallback.method;\n      reqOpts.url = initialOpts.fallback.url;\n      reqOpts.jsonBody = initialOpts.fallback.body;\n      if (reqOpts.jsonBody) {\n        reqOpts.body = safeJSONStringify(reqOpts.jsonBody);\n      }\n      // re-compute headers, they could be omitting the API KEY\n      headers = client._computeRequestHeaders({\n        additionalUA: additionalUA,\n        headers: initialOpts.headers\n      });\n\n      reqOpts.timeouts = client._getTimeoutsForRequest(initialOpts.hostType);\n      client._setHostIndexByType(0, initialOpts.hostType);\n      usingFallback = true; // the current request is now using fallback\n      return doRequest(client._request.fallback, reqOpts);\n    }\n\n    var currentHost = client._getHostByType(initialOpts.hostType);\n\n    var url = currentHost + reqOpts.url;\n    var options = {\n      body: reqOpts.body,\n      jsonBody: reqOpts.jsonBody,\n      method: reqOpts.method,\n      headers: headers,\n      timeouts: reqOpts.timeouts,\n      debug: requestDebug,\n      forceAuthHeaders: reqOpts.forceAuthHeaders\n    };\n\n    requestDebug('method: %s, url: %s, headers: %j, timeouts: %d',\n      options.method, url, options.headers, options.timeouts);\n\n    if (requester === client._request.fallback) {\n      requestDebug('using fallback');\n    }\n\n    // `requester` is any of this._request or this._request.fallback\n    // thus it needs to be called using the client as context\n    return requester.call(client, url, options).then(success, tryFallback);\n\n    function success(httpResponse) {\n      // compute the status of the response,\n      //\n      // When in browser mode, using XDR or JSONP, we have no statusCode available\n      // So we rely on our API response `status` property.\n      // But `waitTask` can set a `status` property which is not the statusCode (it's the task status)\n      // So we check if there's a `message` along `status` and it means it's an error\n      //\n      // That's the only case where we have a response.status that's not the http statusCode\n      var status = httpResponse && httpResponse.body && httpResponse.body.message && httpResponse.body.status ||\n\n        // this is important to check the request statusCode AFTER the body eventual\n        // statusCode because some implementations (jQuery XDomainRequest transport) may\n        // send statusCode 200 while we had an error\n        httpResponse.statusCode ||\n\n        // When in browser mode, using XDR or JSONP\n        // we default to success when no error (no response.status && response.message)\n        // If there was a JSON.parse() error then body is null and it fails\n        httpResponse && httpResponse.body && 200;\n\n      requestDebug('received response: statusCode: %s, computed statusCode: %d, headers: %j',\n        httpResponse.statusCode, status, httpResponse.headers);\n\n      var httpResponseOk = Math.floor(status / 100) === 2;\n\n      var endTime = new Date();\n      debugData.push({\n        currentHost: currentHost,\n        headers: removeCredentials(headers),\n        content: body || null,\n        contentLength: body !== undefined ? body.length : null,\n        method: reqOpts.method,\n        timeouts: reqOpts.timeouts,\n        url: reqOpts.url,\n        startTime: startTime,\n        endTime: endTime,\n        duration: endTime - startTime,\n        statusCode: status\n      });\n\n      if (httpResponseOk) {\n        if (client._useCache && !client._useRequestCache && cache) {\n          cache[cacheID] = httpResponse.responseText;\n        }\n\n        return {\n          responseText: httpResponse.responseText,\n          body: httpResponse.body\n        };\n      }\n\n      var shouldRetry = Math.floor(status / 100) !== 4;\n\n      if (shouldRetry) {\n        tries += 1;\n        return retryRequest();\n      }\n\n      requestDebug('unrecoverable error');\n\n      // no success and no retry => fail\n      var unrecoverableError = new errors.AlgoliaSearchError(\n        httpResponse.body && httpResponse.body.message, {debugData: debugData, statusCode: status}\n      );\n\n      return client._promise.reject(unrecoverableError);\n    }\n\n    function tryFallback(err) {\n      // error cases:\n      //  While not in fallback mode:\n      //    - CORS not supported\n      //    - network error\n      //  While in fallback mode:\n      //    - timeout\n      //    - network error\n      //    - badly formatted JSONP (script loaded, did not call our callback)\n      //  In both cases:\n      //    - uncaught exception occurs (TypeError)\n      requestDebug('error: %s, stack: %s', err.message, err.stack);\n\n      var endTime = new Date();\n      debugData.push({\n        currentHost: currentHost,\n        headers: removeCredentials(headers),\n        content: body || null,\n        contentLength: body !== undefined ? body.length : null,\n        method: reqOpts.method,\n        timeouts: reqOpts.timeouts,\n        url: reqOpts.url,\n        startTime: startTime,\n        endTime: endTime,\n        duration: endTime - startTime\n      });\n\n      if (!(err instanceof errors.AlgoliaSearchError)) {\n        err = new errors.Unknown(err && err.message, err);\n      }\n\n      tries += 1;\n\n      // stop the request implementation when:\n      if (\n        // we did not generate this error,\n        // it comes from a throw in some other piece of code\n        err instanceof errors.Unknown ||\n\n        // server sent unparsable JSON\n        err instanceof errors.UnparsableJSON ||\n\n        // max tries and already using fallback or no fallback\n        tries >= client.hosts[initialOpts.hostType].length &&\n        (usingFallback || !hasFallback)) {\n        // stop request implementation for this command\n        err.debugData = debugData;\n        return client._promise.reject(err);\n      }\n\n      // When a timeout occurred, retry by raising timeout\n      if (err instanceof errors.RequestTimeout) {\n        return retryRequestWithHigherTimeout();\n      }\n\n      return retryRequest();\n    }\n\n    function retryRequest() {\n      requestDebug('retrying request');\n      client._incrementHostIndex(initialOpts.hostType);\n      return doRequest(requester, reqOpts);\n    }\n\n    function retryRequestWithHigherTimeout() {\n      requestDebug('retrying request with higher timeout');\n      client._incrementHostIndex(initialOpts.hostType);\n      client._incrementTimeoutMultipler();\n      reqOpts.timeouts = client._getTimeoutsForRequest(initialOpts.hostType);\n      return doRequest(requester, reqOpts);\n    }\n  }\n\n  function isCacheValidWithCurrentID(\n    useRequestCache,\n    currentCache,\n    currentCacheID\n  ) {\n    return (\n      client._useCache &&\n      useRequestCache &&\n      currentCache &&\n      currentCache[currentCacheID] !== undefined\n    );\n  }\n\n\n  function interopCallbackReturn(request, callback) {\n    if (isCacheValidWithCurrentID(client._useRequestCache, cache, cacheID)) {\n      request.catch(function() {\n        // Release the cache on error\n        delete cache[cacheID];\n      });\n    }\n\n    if (typeof initialOpts.callback === 'function') {\n      // either we have a callback\n      request.then(function okCb(content) {\n        exitPromise(function() {\n          initialOpts.callback(null, callback(content));\n        }, client._setTimeout || setTimeout);\n      }, function nookCb(err) {\n        exitPromise(function() {\n          initialOpts.callback(err);\n        }, client._setTimeout || setTimeout);\n      });\n    } else {\n      // either we are using promises\n      return request.then(callback);\n    }\n  }\n\n  if (client._useCache && client._useRequestCache) {\n    cacheID = initialOpts.url;\n  }\n\n  // as we sometime use POST requests to pass parameters (like query='aa'),\n  // the cacheID must also include the body to be different between calls\n  if (client._useCache && client._useRequestCache && body) {\n    cacheID += '_body_' + body;\n  }\n\n  if (isCacheValidWithCurrentID(client._useRequestCache, cache, cacheID)) {\n    requestDebug('serving request from cache');\n\n    var maybePromiseForCache = cache[cacheID];\n\n    // In case the cache is warmup with value that is not a promise\n    var promiseForCache = typeof maybePromiseForCache.then !== 'function'\n      ? client._promise.resolve({responseText: maybePromiseForCache})\n      : maybePromiseForCache;\n\n    return interopCallbackReturn(promiseForCache, function(content) {\n      // In case of the cache request, return the original value\n      return JSON.parse(content.responseText);\n    });\n  }\n\n  var request = doRequest(\n    client._request, {\n      url: initialOpts.url,\n      method: initialOpts.method,\n      body: body,\n      jsonBody: initialOpts.body,\n      timeouts: client._getTimeoutsForRequest(initialOpts.hostType),\n      forceAuthHeaders: initialOpts.forceAuthHeaders\n    }\n  );\n\n  if (client._useCache && client._useRequestCache && cache) {\n    cache[cacheID] = request;\n  }\n\n  return interopCallbackReturn(request, function(content) {\n    // In case of the first request, return the JSON value\n    return content.body;\n  });\n};\n\n/*\n* Transform search param object in query string\n* @param {object} args arguments to add to the current query string\n* @param {string} params current query string\n* @return {string} the final query string\n*/\nAlgoliaSearchCore.prototype._getSearchParams = function(args, params) {\n  if (args === undefined || args === null) {\n    return params;\n  }\n  for (var key in args) {\n    if (key !== null && args[key] !== undefined && args.hasOwnProperty(key)) {\n      params += params === '' ? '' : '&';\n      params += key + '=' + encodeURIComponent(Object.prototype.toString.call(args[key]) === '[object Array]' ? safeJSONStringify(args[key]) : args[key]);\n    }\n  }\n  return params;\n};\n\n/**\n * Compute the headers for a request\n *\n * @param [string] options.additionalUA semi-colon separated string with other user agents to add\n * @param [boolean=true] options.withApiKey Send the api key as a header\n * @param [Object] options.headers Extra headers to send\n */\nAlgoliaSearchCore.prototype._computeRequestHeaders = function(options) {\n  var forEach = require('foreach');\n\n  var ua = options.additionalUA ?\n    this._ua + '; ' + options.additionalUA :\n    this._ua;\n\n  var requestHeaders = {\n    'x-algolia-agent': ua,\n    'x-algolia-application-id': this.applicationID\n  };\n\n  // browser will inline headers in the url, node.js will use http headers\n  // but in some situations, the API KEY will be too long (big secured API keys)\n  // so if the request is a POST and the KEY is very long, we will be asked to not put\n  // it into headers but in the JSON body\n  if (options.withApiKey !== false) {\n    requestHeaders['x-algolia-api-key'] = this.apiKey;\n  }\n\n  if (this.userToken) {\n    requestHeaders['x-algolia-usertoken'] = this.userToken;\n  }\n\n  if (this.securityTags) {\n    requestHeaders['x-algolia-tagfilters'] = this.securityTags;\n  }\n\n  forEach(this.extraHeaders, function addToRequestHeaders(value, key) {\n    requestHeaders[key] = value;\n  });\n\n  if (options.headers) {\n    forEach(options.headers, function addToRequestHeaders(value, key) {\n      requestHeaders[key] = value;\n    });\n  }\n\n  return requestHeaders;\n};\n\n/**\n * Search through multiple indices at the same time\n * @param  {Object[]}   queries  An array of queries you want to run.\n * @param {string} queries[].indexName The index name you want to target\n * @param {string} [queries[].query] The query to issue on this index. Can also be passed into `params`\n * @param {Object} queries[].params Any search param like hitsPerPage, ..\n * @param  {Function} callback Callback to be called\n * @return {Promise|undefined} Returns a promise if no callback given\n */\nAlgoliaSearchCore.prototype.search = function(queries, opts, callback) {\n  var isArray = require('isarray');\n  var map = require('./map.js');\n\n  var usage = 'Usage: client.search(arrayOfQueries[, callback])';\n\n  if (!isArray(queries)) {\n    throw new Error(usage);\n  }\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  } else if (opts === undefined) {\n    opts = {};\n  }\n\n  var client = this;\n\n  var postObj = {\n    requests: map(queries, function prepareRequest(query) {\n      var params = '';\n\n      // allow query.query\n      // so we are mimicing the index.search(query, params) method\n      // {indexName:, query:, params:}\n      if (query.query !== undefined) {\n        params += 'query=' + encodeURIComponent(query.query);\n      }\n\n      return {\n        indexName: query.indexName,\n        params: client._getSearchParams(query.params, params)\n      };\n    })\n  };\n\n  var JSONPParams = map(postObj.requests, function prepareJSONPParams(request, requestId) {\n    return requestId + '=' +\n      encodeURIComponent(\n        '/1/indexes/' + encodeURIComponent(request.indexName) + '?' +\n        request.params\n      );\n  }).join('&');\n\n  var url = '/1/indexes/*/queries';\n\n  if (opts.strategy !== undefined) {\n    postObj.strategy = opts.strategy;\n  }\n\n  return this._jsonRequest({\n    cache: this.cache,\n    method: 'POST',\n    url: url,\n    body: postObj,\n    hostType: 'read',\n    fallback: {\n      method: 'GET',\n      url: '/1/indexes/*',\n      body: {\n        params: JSONPParams\n      }\n    },\n    callback: callback\n  });\n};\n\n/**\n* Search for facet values\n* https://www.algolia.com/doc/rest-api/search#search-for-facet-values\n* This is the top-level API for SFFV.\n*\n* @param {object[]} queries An array of queries to run.\n* @param {string} queries[].indexName Index name, name of the index to search.\n* @param {object} queries[].params Query parameters.\n* @param {string} queries[].params.facetName Facet name, name of the attribute to search for values in.\n* Must be declared as a facet\n* @param {string} queries[].params.facetQuery Query for the facet search\n* @param {string} [queries[].params.*] Any search parameter of Algolia,\n* see https://www.algolia.com/doc/api-client/javascript/search#search-parameters\n* Pagination is not supported. The page and hitsPerPage parameters will be ignored.\n*/\nAlgoliaSearchCore.prototype.searchForFacetValues = function(queries) {\n  var isArray = require('isarray');\n  var map = require('./map.js');\n\n  var usage = 'Usage: client.searchForFacetValues([{indexName, params: {facetName, facetQuery, ...params}}, ...queries])'; // eslint-disable-line max-len\n\n  if (!isArray(queries)) {\n    throw new Error(usage);\n  }\n\n  var client = this;\n\n  return client._promise.all(map(queries, function performQuery(query) {\n    if (\n      !query ||\n      query.indexName === undefined ||\n      query.params.facetName === undefined ||\n      query.params.facetQuery === undefined\n    ) {\n      throw new Error(usage);\n    }\n\n    var clone = require('./clone.js');\n    var omit = require('./omit.js');\n\n    var indexName = query.indexName;\n    var params = query.params;\n\n    var facetName = params.facetName;\n    var filteredParams = omit(clone(params), function(keyName) {\n      return keyName === 'facetName';\n    });\n    var searchParameters = client._getSearchParams(filteredParams, '');\n\n    return client._jsonRequest({\n      cache: client.cache,\n      method: 'POST',\n      url:\n        '/1/indexes/' +\n        encodeURIComponent(indexName) +\n        '/facets/' +\n        encodeURIComponent(facetName) +\n        '/query',\n      hostType: 'read',\n      body: {params: searchParameters}\n    });\n  }));\n};\n\n/**\n * Set the extra security tagFilters header\n * @param {string|array} tags The list of tags defining the current security filters\n */\nAlgoliaSearchCore.prototype.setSecurityTags = function(tags) {\n  if (Object.prototype.toString.call(tags) === '[object Array]') {\n    var strTags = [];\n    for (var i = 0; i < tags.length; ++i) {\n      if (Object.prototype.toString.call(tags[i]) === '[object Array]') {\n        var oredTags = [];\n        for (var j = 0; j < tags[i].length; ++j) {\n          oredTags.push(tags[i][j]);\n        }\n        strTags.push('(' + oredTags.join(',') + ')');\n      } else {\n        strTags.push(tags[i]);\n      }\n    }\n    tags = strTags.join(',');\n  }\n\n  this.securityTags = tags;\n};\n\n/**\n * Set the extra user token header\n * @param {string} userToken The token identifying a uniq user (used to apply rate limits)\n */\nAlgoliaSearchCore.prototype.setUserToken = function(userToken) {\n  this.userToken = userToken;\n};\n\n/**\n * Clear all queries in client's cache\n * @return undefined\n */\nAlgoliaSearchCore.prototype.clearCache = function() {\n  this.cache = {};\n};\n\n/**\n* Set the number of milliseconds a request can take before automatically being terminated.\n* @deprecated\n* @param {Number} milliseconds\n*/\nAlgoliaSearchCore.prototype.setRequestTimeout = function(milliseconds) {\n  if (milliseconds) {\n    this._timeouts.connect = this._timeouts.read = this._timeouts.write = milliseconds;\n  }\n};\n\n/**\n* Set the three different (connect, read, write) timeouts to be used when requesting\n* @param {Object} timeouts\n*/\nAlgoliaSearchCore.prototype.setTimeouts = function(timeouts) {\n  this._timeouts = timeouts;\n};\n\n/**\n* Get the three different (connect, read, write) timeouts to be used when requesting\n* @param {Object} timeouts\n*/\nAlgoliaSearchCore.prototype.getTimeouts = function() {\n  return this._timeouts;\n};\n\nAlgoliaSearchCore.prototype._getAppIdData = function() {\n  var data = store.get(this.applicationID);\n  if (data !== null) this._cacheAppIdData(data);\n  return data;\n};\n\nAlgoliaSearchCore.prototype._setAppIdData = function(data) {\n  data.lastChange = (new Date()).getTime();\n  this._cacheAppIdData(data);\n  return store.set(this.applicationID, data);\n};\n\nAlgoliaSearchCore.prototype._checkAppIdData = function() {\n  var data = this._getAppIdData();\n  var now = (new Date()).getTime();\n  if (data === null || now - data.lastChange > RESET_APP_DATA_TIMER) {\n    return this._resetInitialAppIdData(data);\n  }\n\n  return data;\n};\n\nAlgoliaSearchCore.prototype._resetInitialAppIdData = function(data) {\n  var newData = data || {};\n  newData.hostIndexes = {read: 0, write: 0};\n  newData.timeoutMultiplier = 1;\n  newData.shuffleResult = newData.shuffleResult || shuffle([1, 2, 3]);\n  return this._setAppIdData(newData);\n};\n\nAlgoliaSearchCore.prototype._cacheAppIdData = function(data) {\n  this._hostIndexes = data.hostIndexes;\n  this._timeoutMultiplier = data.timeoutMultiplier;\n  this._shuffleResult = data.shuffleResult;\n};\n\nAlgoliaSearchCore.prototype._partialAppIdDataUpdate = function(newData) {\n  var foreach = require('foreach');\n  var currentData = this._getAppIdData();\n  foreach(newData, function(value, key) {\n    currentData[key] = value;\n  });\n\n  return this._setAppIdData(currentData);\n};\n\nAlgoliaSearchCore.prototype._getHostByType = function(hostType) {\n  return this.hosts[hostType][this._getHostIndexByType(hostType)];\n};\n\nAlgoliaSearchCore.prototype._getTimeoutMultiplier = function() {\n  return this._timeoutMultiplier;\n};\n\nAlgoliaSearchCore.prototype._getHostIndexByType = function(hostType) {\n  return this._hostIndexes[hostType];\n};\n\nAlgoliaSearchCore.prototype._setHostIndexByType = function(hostIndex, hostType) {\n  var clone = require('./clone');\n  var newHostIndexes = clone(this._hostIndexes);\n  newHostIndexes[hostType] = hostIndex;\n  this._partialAppIdDataUpdate({hostIndexes: newHostIndexes});\n  return hostIndex;\n};\n\nAlgoliaSearchCore.prototype._incrementHostIndex = function(hostType) {\n  return this._setHostIndexByType(\n    (this._getHostIndexByType(hostType) + 1) % this.hosts[hostType].length, hostType\n  );\n};\n\nAlgoliaSearchCore.prototype._incrementTimeoutMultipler = function() {\n  var timeoutMultiplier = Math.max(this._timeoutMultiplier + 1, 4);\n  return this._partialAppIdDataUpdate({timeoutMultiplier: timeoutMultiplier});\n};\n\nAlgoliaSearchCore.prototype._getTimeoutsForRequest = function(hostType) {\n  return {\n    connect: this._timeouts.connect * this._timeoutMultiplier,\n    complete: this._timeouts[hostType] * this._timeoutMultiplier\n  };\n};\n\nfunction prepareHost(protocol) {\n  return function prepare(host) {\n    return protocol + '//' + host.toLowerCase();\n  };\n}\n\n// Prototype.js < 1.7, a widely used library, defines a weird\n// Array.prototype.toJSON function that will fail to stringify our content\n// appropriately\n// refs:\n//   - https://groups.google.com/forum/#!topic/prototype-core/E-SAVvV_V9Q\n//   - https://github.com/sstephenson/prototype/commit/038a2985a70593c1a86c230fadbdfe2e4898a48c\n//   - http://stackoverflow.com/a/3148441/147079\nfunction safeJSONStringify(obj) {\n  /* eslint no-extend-native:0 */\n\n  if (Array.prototype.toJSON === undefined) {\n    return JSON.stringify(obj);\n  }\n\n  var toJSON = Array.prototype.toJSON;\n  delete Array.prototype.toJSON;\n  var out = JSON.stringify(obj);\n  Array.prototype.toJSON = toJSON;\n\n  return out;\n}\n\nfunction shuffle(array) {\n  var currentIndex = array.length;\n  var temporaryValue;\n  var randomIndex;\n\n  // While there remain elements to shuffle...\n  while (currentIndex !== 0) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\nfunction removeCredentials(headers) {\n  var newHeaders = {};\n\n  for (var headerName in headers) {\n    if (Object.prototype.hasOwnProperty.call(headers, headerName)) {\n      var value;\n\n      if (headerName === 'x-algolia-api-key' || headerName === 'x-algolia-application-id') {\n        value = '**hidden for security purposes**';\n      } else {\n        value = headers[headerName];\n      }\n\n      newHeaders[headerName] = value;\n    }\n  }\n\n  return newHeaders;\n}\n","var buildSearchMethod = require('./buildSearchMethod.js');\nvar deprecate = require('./deprecate.js');\nvar deprecatedMessage = require('./deprecatedMessage.js');\n\nmodule.exports = IndexCore;\n\n/*\n* Index class constructor.\n* You should not use this method directly but use initIndex() function\n*/\nfunction IndexCore(algoliasearch, indexName) {\n  this.indexName = indexName;\n  this.as = algoliasearch;\n  this.typeAheadArgs = null;\n  this.typeAheadValueOption = null;\n\n  // make sure every index instance has it's own cache\n  this.cache = {};\n}\n\n/*\n* Clear all queries in cache\n*/\nIndexCore.prototype.clearCache = function() {\n  this.cache = {};\n};\n\n/*\n* Search inside the index using XMLHttpRequest request (Using a POST query to\n* minimize number of OPTIONS queries: Cross-Origin Resource Sharing).\n*\n* @param {string} [query] the full text query\n* @param {object} [args] (optional) if set, contains an object with query parameters:\n* - page: (integer) Pagination parameter used to select the page to retrieve.\n*                   Page is zero-based and defaults to 0. Thus,\n*                   to retrieve the 10th page you need to set page=9\n* - hitsPerPage: (integer) Pagination parameter used to select the number of hits per page. Defaults to 20.\n* - attributesToRetrieve: a string that contains the list of object attributes\n* you want to retrieve (let you minimize the answer size).\n*   Attributes are separated with a comma (for example \"name,address\").\n*   You can also use an array (for example [\"name\",\"address\"]).\n*   By default, all attributes are retrieved. You can also use '*' to retrieve all\n*   values when an attributesToRetrieve setting is specified for your index.\n* - attributesToHighlight: a string that contains the list of attributes you\n*   want to highlight according to the query.\n*   Attributes are separated by a comma. You can also use an array (for example [\"name\",\"address\"]).\n*   If an attribute has no match for the query, the raw value is returned.\n*   By default all indexed text attributes are highlighted.\n*   You can use `*` if you want to highlight all textual attributes.\n*   Numerical attributes are not highlighted.\n*   A matchLevel is returned for each highlighted attribute and can contain:\n*      - full: if all the query terms were found in the attribute,\n*      - partial: if only some of the query terms were found,\n*      - none: if none of the query terms were found.\n* - attributesToSnippet: a string that contains the list of attributes to snippet alongside\n* the number of words to return (syntax is `attributeName:nbWords`).\n*    Attributes are separated by a comma (Example: attributesToSnippet=name:10,content:10).\n*    You can also use an array (Example: attributesToSnippet: ['name:10','content:10']).\n*    By default no snippet is computed.\n* - minWordSizefor1Typo: the minimum number of characters in a query word to accept one typo in this word.\n* Defaults to 3.\n* - minWordSizefor2Typos: the minimum number of characters in a query word\n* to accept two typos in this word. Defaults to 7.\n* - getRankingInfo: if set to 1, the result hits will contain ranking\n* information in _rankingInfo attribute.\n* - aroundLatLng: search for entries around a given\n* latitude/longitude (specified as two floats separated by a comma).\n*   For example aroundLatLng=47.316669,5.016670).\n*   You can specify the maximum distance in meters with the aroundRadius parameter (in meters)\n*   and the precision for ranking with aroundPrecision\n*   (for example if you set aroundPrecision=100, two objects that are distant of\n*   less than 100m will be considered as identical for \"geo\" ranking parameter).\n*   At indexing, you should specify geoloc of an object with the _geoloc attribute\n*   (in the form {\"_geoloc\":{\"lat\":48.853409, \"lng\":2.348800}})\n* - insideBoundingBox: search entries inside a given area defined by the two extreme points\n* of a rectangle (defined by 4 floats: p1Lat,p1Lng,p2Lat,p2Lng).\n*   For example insideBoundingBox=47.3165,4.9665,47.3424,5.0201).\n*   At indexing, you should specify geoloc of an object with the _geoloc attribute\n*   (in the form {\"_geoloc\":{\"lat\":48.853409, \"lng\":2.348800}})\n* - numericFilters: a string that contains the list of numeric filters you want to\n* apply separated by a comma.\n*   The syntax of one filter is `attributeName` followed by `operand` followed by `value`.\n*   Supported operands are `<`, `<=`, `=`, `>` and `>=`.\n*   You can have multiple conditions on one attribute like for example numericFilters=price>100,price<1000.\n*   You can also use an array (for example numericFilters: [\"price>100\",\"price<1000\"]).\n* - tagFilters: filter the query by a set of tags. You can AND tags by separating them by commas.\n*   To OR tags, you must add parentheses. For example, tags=tag1,(tag2,tag3) means tag1 AND (tag2 OR tag3).\n*   You can also use an array, for example tagFilters: [\"tag1\",[\"tag2\",\"tag3\"]]\n*   means tag1 AND (tag2 OR tag3).\n*   At indexing, tags should be added in the _tags** attribute\n*   of objects (for example {\"_tags\":[\"tag1\",\"tag2\"]}).\n* - facetFilters: filter the query by a list of facets.\n*   Facets are separated by commas and each facet is encoded as `attributeName:value`.\n*   For example: `facetFilters=category:Book,author:John%20Doe`.\n*   You can also use an array (for example `[\"category:Book\",\"author:John%20Doe\"]`).\n* - facets: List of object attributes that you want to use for faceting.\n*   Comma separated list: `\"category,author\"` or array `['category','author']`\n*   Only attributes that have been added in **attributesForFaceting** index setting\n*   can be used in this parameter.\n*   You can also use `*` to perform faceting on all attributes specified in **attributesForFaceting**.\n* - queryType: select how the query words are interpreted, it can be one of the following value:\n*    - prefixAll: all query words are interpreted as prefixes,\n*    - prefixLast: only the last word is interpreted as a prefix (default behavior),\n*    - prefixNone: no query word is interpreted as a prefix. This option is not recommended.\n* - optionalWords: a string that contains the list of words that should\n* be considered as optional when found in the query.\n*   Comma separated and array are accepted.\n* - distinct: If set to 1, enable the distinct feature (disabled by default)\n* if the attributeForDistinct index setting is set.\n*   This feature is similar to the SQL \"distinct\" keyword: when enabled\n*   in a query with the distinct=1 parameter,\n*   all hits containing a duplicate value for the attributeForDistinct attribute are removed from results.\n*   For example, if the chosen attribute is show_name and several hits have\n*   the same value for show_name, then only the best\n*   one is kept and others are removed.\n* - restrictSearchableAttributes: List of attributes you want to use for\n* textual search (must be a subset of the attributesToIndex index setting)\n* either comma separated or as an array\n* @param {function} [callback] the result callback called with two arguments:\n*  error: null or Error('message'). If false, the content contains the error.\n*  content: the server answer that contains the list of results.\n*/\nIndexCore.prototype.search = buildSearchMethod('query');\n\n/*\n* -- BETA --\n* Search a record similar to the query inside the index using XMLHttpRequest request (Using a POST query to\n* minimize number of OPTIONS queries: Cross-Origin Resource Sharing).\n*\n* @param {string} [query] the similar query\n* @param {object} [args] (optional) if set, contains an object with query parameters.\n*   All search parameters are supported (see search function), restrictSearchableAttributes and facetFilters\n*   are the two most useful to restrict the similar results and get more relevant content\n*/\nIndexCore.prototype.similarSearch = deprecate(\n  buildSearchMethod('similarQuery'),\n  deprecatedMessage(\n    'index.similarSearch(query[, callback])',\n    'index.search({ similarQuery: query }[, callback])'\n  )\n);\n\n/*\n* Browse index content. The response content will have a `cursor` property that you can use\n* to browse subsequent pages for this query. Use `index.browseFrom(cursor)` when you want.\n*\n* @param {string} query - The full text query\n* @param {Object} [queryParameters] - Any search query parameter\n* @param {Function} [callback] - The result callback called with two arguments\n*   error: null or Error('message')\n*   content: the server answer with the browse result\n* @return {Promise|undefined} Returns a promise if no callback given\n* @example\n* index.browse('cool songs', {\n*   tagFilters: 'public,comments',\n*   hitsPerPage: 500\n* }, callback);\n* @see {@link https://www.algolia.com/doc/rest_api#Browse|Algolia REST API Documentation}\n*/\nIndexCore.prototype.browse = function(query, queryParameters, callback) {\n  var merge = require('./merge.js');\n\n  var indexObj = this;\n\n  var page;\n  var hitsPerPage;\n\n  // we check variadic calls that are not the one defined\n  // .browse()/.browse(fn)\n  // => page = 0\n  if (arguments.length === 0 || arguments.length === 1 && typeof arguments[0] === 'function') {\n    page = 0;\n    callback = arguments[0];\n    query = undefined;\n  } else if (typeof arguments[0] === 'number') {\n    // .browse(2)/.browse(2, 10)/.browse(2, fn)/.browse(2, 10, fn)\n    page = arguments[0];\n    if (typeof arguments[1] === 'number') {\n      hitsPerPage = arguments[1];\n    } else if (typeof arguments[1] === 'function') {\n      callback = arguments[1];\n      hitsPerPage = undefined;\n    }\n    query = undefined;\n    queryParameters = undefined;\n  } else if (typeof arguments[0] === 'object') {\n    // .browse(queryParameters)/.browse(queryParameters, cb)\n    if (typeof arguments[1] === 'function') {\n      callback = arguments[1];\n    }\n    queryParameters = arguments[0];\n    query = undefined;\n  } else if (typeof arguments[0] === 'string' && typeof arguments[1] === 'function') {\n    // .browse(query, cb)\n    callback = arguments[1];\n    queryParameters = undefined;\n  }\n\n  // otherwise it's a .browse(query)/.browse(query, queryParameters)/.browse(query, queryParameters, cb)\n\n  // get search query parameters combining various possible calls\n  // to .browse();\n  queryParameters = merge({}, queryParameters || {}, {\n    page: page,\n    hitsPerPage: hitsPerPage,\n    query: query\n  });\n\n  var params = this.as._getSearchParams(queryParameters, '');\n\n  return this.as._jsonRequest({\n    method: 'POST',\n    url: '/1/indexes/' + encodeURIComponent(indexObj.indexName) + '/browse',\n    body: {params: params},\n    hostType: 'read',\n    callback: callback\n  });\n};\n\n/*\n* Continue browsing from a previous position (cursor), obtained via a call to `.browse()`.\n*\n* @param {string} query - The full text query\n* @param {Object} [queryParameters] - Any search query parameter\n* @param {Function} [callback] - The result callback called with two arguments\n*   error: null or Error('message')\n*   content: the server answer with the browse result\n* @return {Promise|undefined} Returns a promise if no callback given\n* @example\n* index.browseFrom('14lkfsakl32', callback);\n* @see {@link https://www.algolia.com/doc/rest_api#Browse|Algolia REST API Documentation}\n*/\nIndexCore.prototype.browseFrom = function(cursor, callback) {\n  return this.as._jsonRequest({\n    method: 'POST',\n    url: '/1/indexes/' + encodeURIComponent(this.indexName) + '/browse',\n    body: {cursor: cursor},\n    hostType: 'read',\n    callback: callback\n  });\n};\n\n/*\n* Search for facet values\n* https://www.algolia.com/doc/rest-api/search#search-for-facet-values\n*\n* @param {string} params.facetName Facet name, name of the attribute to search for values in.\n* Must be declared as a facet\n* @param {string} params.facetQuery Query for the facet search\n* @param {string} [params.*] Any search parameter of Algolia,\n* see https://www.algolia.com/doc/api-client/javascript/search#search-parameters\n* Pagination is not supported. The page and hitsPerPage parameters will be ignored.\n* @param callback (optional)\n*/\nIndexCore.prototype.searchForFacetValues = function(params, callback) {\n  var clone = require('./clone.js');\n  var omit = require('./omit.js');\n  var usage = 'Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])';\n\n  if (params.facetName === undefined || params.facetQuery === undefined) {\n    throw new Error(usage);\n  }\n\n  var facetName = params.facetName;\n  var filteredParams = omit(clone(params), function(keyName) {\n    return keyName === 'facetName';\n  });\n  var searchParameters = this.as._getSearchParams(filteredParams, '');\n\n  return this.as._jsonRequest({\n    method: 'POST',\n    url: '/1/indexes/' +\n      encodeURIComponent(this.indexName) + '/facets/' + encodeURIComponent(facetName) + '/query',\n    hostType: 'read',\n    body: {params: searchParameters},\n    callback: callback\n  });\n};\n\nIndexCore.prototype.searchFacet = deprecate(function(params, callback) {\n  return this.searchForFacetValues(params, callback);\n}, deprecatedMessage(\n  'index.searchFacet(params[, callback])',\n  'index.searchForFacetValues(params[, callback])'\n));\n\nIndexCore.prototype._search = function(params, url, callback, additionalUA) {\n  return this.as._jsonRequest({\n    cache: this.cache,\n    method: 'POST',\n    url: url || '/1/indexes/' + encodeURIComponent(this.indexName) + '/query',\n    body: {params: params},\n    hostType: 'read',\n    fallback: {\n      method: 'GET',\n      url: '/1/indexes/' + encodeURIComponent(this.indexName),\n      body: {params: params}\n    },\n    callback: callback,\n    additionalUA: additionalUA\n  });\n};\n\n/*\n* Get an object from this index\n*\n* @param objectID the unique identifier of the object to retrieve\n* @param attrs (optional) if set, contains the array of attribute names to retrieve\n* @param callback (optional) the result callback called with two arguments\n*  error: null or Error('message')\n*  content: the object to retrieve or the error message if a failure occurred\n*/\nIndexCore.prototype.getObject = function(objectID, attrs, callback) {\n  var indexObj = this;\n\n  if (arguments.length === 1 || typeof attrs === 'function') {\n    callback = attrs;\n    attrs = undefined;\n  }\n\n  var params = '';\n  if (attrs !== undefined) {\n    params = '?attributes=';\n    for (var i = 0; i < attrs.length; ++i) {\n      if (i !== 0) {\n        params += ',';\n      }\n      params += attrs[i];\n    }\n  }\n\n  return this.as._jsonRequest({\n    method: 'GET',\n    url: '/1/indexes/' + encodeURIComponent(indexObj.indexName) + '/' + encodeURIComponent(objectID) + params,\n    hostType: 'read',\n    callback: callback\n  });\n};\n\n/*\n* Get several objects from this index\n*\n* @param objectIDs the array of unique identifier of objects to retrieve\n*/\nIndexCore.prototype.getObjects = function(objectIDs, attributesToRetrieve, callback) {\n  var isArray = require('isarray');\n  var map = require('./map.js');\n\n  var usage = 'Usage: index.getObjects(arrayOfObjectIDs[, callback])';\n\n  if (!isArray(objectIDs)) {\n    throw new Error(usage);\n  }\n\n  var indexObj = this;\n\n  if (arguments.length === 1 || typeof attributesToRetrieve === 'function') {\n    callback = attributesToRetrieve;\n    attributesToRetrieve = undefined;\n  }\n\n  var body = {\n    requests: map(objectIDs, function prepareRequest(objectID) {\n      var request = {\n        indexName: indexObj.indexName,\n        objectID: objectID\n      };\n\n      if (attributesToRetrieve) {\n        request.attributesToRetrieve = attributesToRetrieve.join(',');\n      }\n\n      return request;\n    })\n  };\n\n  return this.as._jsonRequest({\n    method: 'POST',\n    url: '/1/indexes/*/objects',\n    hostType: 'read',\n    body: body,\n    callback: callback\n  });\n};\n\nIndexCore.prototype.as = null;\nIndexCore.prototype.indexName = null;\nIndexCore.prototype.typeAheadArgs = null;\nIndexCore.prototype.typeAheadValueOption = null;\n","'use strict';\n\nvar AlgoliaSearchCore = require('../../AlgoliaSearchCore.js');\nvar createAlgoliasearch = require('../createAlgoliasearch.js');\n\nmodule.exports = createAlgoliasearch(AlgoliaSearchCore, 'Browser (lite)');\n","'use strict';\n\nvar global = require('global');\nvar Promise = global.Promise || require('es6-promise').Promise;\n\n// This is the standalone browser build entry point\n// Browser implementation of the Algolia Search JavaScript client,\n// using XMLHttpRequest, XDomainRequest and JSONP as fallback\nmodule.exports = function createAlgoliasearch(AlgoliaSearch, uaSuffix) {\n  var inherits = require('inherits');\n  var errors = require('../errors');\n  var inlineHeaders = require('./inline-headers');\n  var jsonpRequest = require('./jsonp-request');\n  var places = require('../places.js');\n  uaSuffix = uaSuffix || '';\n\n  if (process.env.NODE_ENV === 'debug') {\n    require('debug').enable('algoliasearch*');\n  }\n\n  function algoliasearch(applicationID, apiKey, opts) {\n    var cloneDeep = require('../clone.js');\n\n    opts = cloneDeep(opts || {});\n\n    opts._ua = opts._ua || algoliasearch.ua;\n\n    return new AlgoliaSearchBrowser(applicationID, apiKey, opts);\n  }\n\n  algoliasearch.version = require('../version.js');\n\n  algoliasearch.ua =\n    'Algolia for JavaScript (' + algoliasearch.version + '); ' + uaSuffix;\n\n  algoliasearch.initPlaces = places(algoliasearch);\n\n  // we expose into window no matter how we are used, this will allow\n  // us to easily debug any website running algolia\n  global.__algolia = {\n    debug: require('debug'),\n    algoliasearch: algoliasearch\n  };\n\n  var support = {\n    hasXMLHttpRequest: 'XMLHttpRequest' in global,\n    hasXDomainRequest: 'XDomainRequest' in global\n  };\n\n  if (support.hasXMLHttpRequest) {\n    support.cors = 'withCredentials' in new XMLHttpRequest();\n  }\n\n  function AlgoliaSearchBrowser() {\n    // call AlgoliaSearch constructor\n    AlgoliaSearch.apply(this, arguments);\n  }\n\n  inherits(AlgoliaSearchBrowser, AlgoliaSearch);\n\n  AlgoliaSearchBrowser.prototype._request = function request(url, opts) {\n    return new Promise(function wrapRequest(resolve, reject) {\n      // no cors or XDomainRequest, no request\n      if (!support.cors && !support.hasXDomainRequest) {\n        // very old browser, not supported\n        reject(new errors.Network('CORS not supported'));\n        return;\n      }\n\n      url = inlineHeaders(url, opts.headers);\n\n      var body = opts.body;\n      var req = support.cors ? new XMLHttpRequest() : new XDomainRequest();\n      var reqTimeout;\n      var timedOut;\n      var connected = false;\n\n      reqTimeout = setTimeout(onTimeout, opts.timeouts.connect);\n      // we set an empty onprogress listener\n      // so that XDomainRequest on IE9 is not aborted\n      // refs:\n      //  - https://github.com/algolia/algoliasearch-client-js/issues/76\n      //  - https://social.msdn.microsoft.com/Forums/ie/en-US/30ef3add-767c-4436-b8a9-f1ca19b4812e/ie9-rtm-xdomainrequest-issued-requests-may-abort-if-all-event-handlers-not-specified?forum=iewebdevelopment\n      req.onprogress = onProgress;\n      if ('onreadystatechange' in req) req.onreadystatechange = onReadyStateChange;\n      req.onload = onLoad;\n      req.onerror = onError;\n\n      // do not rely on default XHR async flag, as some analytics code like hotjar\n      // breaks it and set it to false by default\n      if (req instanceof XMLHttpRequest) {\n        req.open(opts.method, url, true);\n\n        // The Analytics API never accepts Auth headers as query string\n        // this option exists specifically for them.\n        if (opts.forceAuthHeaders) {\n          req.setRequestHeader(\n            'x-algolia-application-id',\n            opts.headers['x-algolia-application-id']\n          );\n          req.setRequestHeader(\n            'x-algolia-api-key',\n            opts.headers['x-algolia-api-key']\n          );\n        }\n      } else {\n        req.open(opts.method, url);\n      }\n\n      // headers are meant to be sent after open\n      if (support.cors) {\n        if (body) {\n          if (opts.method === 'POST') {\n            // https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Simple_requests\n            req.setRequestHeader('content-type', 'application/x-www-form-urlencoded');\n          } else {\n            req.setRequestHeader('content-type', 'application/json');\n          }\n        }\n        req.setRequestHeader('accept', 'application/json');\n      }\n\n      if (body) {\n        req.send(body);\n      } else {\n        req.send();\n      }\n\n      // event object not received in IE8, at least\n      // but we do not use it, still important to note\n      function onLoad(/* event */) {\n        // When browser does not supports req.timeout, we can\n        // have both a load and timeout event, since handled by a dumb setTimeout\n        if (timedOut) {\n          return;\n        }\n\n        clearTimeout(reqTimeout);\n\n        var out;\n\n        try {\n          out = {\n            body: JSON.parse(req.responseText),\n            responseText: req.responseText,\n            statusCode: req.status,\n            // XDomainRequest does not have any response headers\n            headers: req.getAllResponseHeaders && req.getAllResponseHeaders() || {}\n          };\n        } catch (e) {\n          out = new errors.UnparsableJSON({\n            more: req.responseText\n          });\n        }\n\n        if (out instanceof errors.UnparsableJSON) {\n          reject(out);\n        } else {\n          resolve(out);\n        }\n      }\n\n      function onError(event) {\n        if (timedOut) {\n          return;\n        }\n\n        clearTimeout(reqTimeout);\n\n        // error event is trigerred both with XDR/XHR on:\n        //   - DNS error\n        //   - unallowed cross domain request\n        reject(\n          new errors.Network({\n            more: event\n          })\n        );\n      }\n\n      function onTimeout() {\n        timedOut = true;\n        req.abort();\n\n        reject(new errors.RequestTimeout());\n      }\n\n      function onConnect() {\n        connected = true;\n        clearTimeout(reqTimeout);\n        reqTimeout = setTimeout(onTimeout, opts.timeouts.complete);\n      }\n\n      function onProgress() {\n        if (!connected) onConnect();\n      }\n\n      function onReadyStateChange() {\n        if (!connected && req.readyState > 1) onConnect();\n      }\n    });\n  };\n\n  AlgoliaSearchBrowser.prototype._request.fallback = function requestFallback(url, opts) {\n    url = inlineHeaders(url, opts.headers);\n\n    return new Promise(function wrapJsonpRequest(resolve, reject) {\n      jsonpRequest(url, opts, function jsonpRequestDone(err, content) {\n        if (err) {\n          reject(err);\n          return;\n        }\n\n        resolve(content);\n      });\n    });\n  };\n\n  AlgoliaSearchBrowser.prototype._promise = {\n    reject: function rejectPromise(val) {\n      return Promise.reject(val);\n    },\n    resolve: function resolvePromise(val) {\n      return Promise.resolve(val);\n    },\n    delay: function delayPromise(ms) {\n      return new Promise(function resolveOnTimeout(resolve/* , reject*/) {\n        setTimeout(resolve, ms);\n      });\n    },\n    all: function all(promises) {\n      return Promise.all(promises);\n    }\n  };\n\n  return algoliasearch;\n};\n","'use strict';\n\nmodule.exports = inlineHeaders;\n\nvar encode = require('querystring-es3/encode');\n\nfunction inlineHeaders(url, headers) {\n  if (/\\?/.test(url)) {\n    url += '&';\n  } else {\n    url += '?';\n  }\n\n  return url + encode(headers);\n}\n","'use strict';\n\nmodule.exports = jsonpRequest;\n\nvar errors = require('../errors');\n\nvar JSONPCounter = 0;\n\nfunction jsonpRequest(url, opts, cb) {\n  if (opts.method !== 'GET') {\n    cb(new Error('Method ' + opts.method + ' ' + url + ' is not supported by JSONP.'));\n    return;\n  }\n\n  opts.debug('JSONP: start');\n\n  var cbCalled = false;\n  var timedOut = false;\n\n  JSONPCounter += 1;\n  var head = document.getElementsByTagName('head')[0];\n  var script = document.createElement('script');\n  var cbName = 'algoliaJSONP_' + JSONPCounter;\n  var done = false;\n\n  window[cbName] = function(data) {\n    removeGlobals();\n\n    if (timedOut) {\n      opts.debug('JSONP: Late answer, ignoring');\n      return;\n    }\n\n    cbCalled = true;\n\n    clean();\n\n    cb(null, {\n      body: data,\n      responseText: JSON.stringify(data)/* ,\n      // We do not send the statusCode, there's no statusCode in JSONP, it will be\n      // computed using data.status && data.message like with XDR\n      statusCode*/\n    });\n  };\n\n  // add callback by hand\n  url += '&callback=' + cbName;\n\n  // add body params manually\n  if (opts.jsonBody && opts.jsonBody.params) {\n    url += '&' + opts.jsonBody.params;\n  }\n\n  var ontimeout = setTimeout(timeout, opts.timeouts.complete);\n\n  // script onreadystatechange needed only for\n  // <= IE8\n  // https://github.com/angular/angular.js/issues/4523\n  script.onreadystatechange = readystatechange;\n  script.onload = success;\n  script.onerror = error;\n\n  script.async = true;\n  script.defer = true;\n  script.src = url;\n  head.appendChild(script);\n\n  function success() {\n    opts.debug('JSONP: success');\n\n    if (done || timedOut) {\n      return;\n    }\n\n    done = true;\n\n    // script loaded but did not call the fn => script loading error\n    if (!cbCalled) {\n      opts.debug('JSONP: Fail. Script loaded but did not call the callback');\n      clean();\n      cb(new errors.JSONPScriptFail());\n    }\n  }\n\n  function readystatechange() {\n    if (this.readyState === 'loaded' || this.readyState === 'complete') {\n      success();\n    }\n  }\n\n  function clean() {\n    clearTimeout(ontimeout);\n    script.onload = null;\n    script.onreadystatechange = null;\n    script.onerror = null;\n    head.removeChild(script);\n  }\n\n  function removeGlobals() {\n    try {\n      delete window[cbName];\n      delete window[cbName + '_loaded'];\n    } catch (e) {\n      window[cbName] = window[cbName + '_loaded'] = undefined;\n    }\n  }\n\n  function timeout() {\n    opts.debug('JSONP: Script timeout');\n    timedOut = true;\n    clean();\n    cb(new errors.RequestTimeout());\n  }\n\n  function error() {\n    opts.debug('JSONP: Script error');\n\n    if (done || timedOut) {\n      return;\n    }\n\n    clean();\n    cb(new errors.JSONPScriptError());\n  }\n}\n","module.exports = buildSearchMethod;\n\nvar errors = require('./errors.js');\n\n/**\n * Creates a search method to be used in clients\n * @param {string} queryParam the name of the attribute used for the query\n * @param {string} url the url\n * @return {function} the search method\n */\nfunction buildSearchMethod(queryParam, url) {\n  /**\n   * The search method. Prepares the data and send the query to Algolia.\n   * @param {string} query the string used for query search\n   * @param {object} args additional parameters to send with the search\n   * @param {function} [callback] the callback to be called with the client gets the answer\n   * @return {undefined|Promise} If the callback is not provided then this methods returns a Promise\n   */\n  return function search(query, args, callback) {\n    // warn V2 users on how to search\n    if (typeof query === 'function' && typeof args === 'object' ||\n      typeof callback === 'object') {\n      // .search(query, params, cb)\n      // .search(cb, params)\n      throw new errors.AlgoliaSearchError('index.search usage is index.search(query, params, cb)');\n    }\n\n    // Normalizing the function signature\n    if (arguments.length === 0 || typeof query === 'function') {\n      // Usage : .search(), .search(cb)\n      callback = query;\n      query = '';\n    } else if (arguments.length === 1 || typeof args === 'function') {\n      // Usage : .search(query/args), .search(query, cb)\n      callback = args;\n      args = undefined;\n    }\n    // At this point we have 3 arguments with values\n\n    // Usage : .search(args) // careful: typeof null === 'object'\n    if (typeof query === 'object' && query !== null) {\n      args = query;\n      query = undefined;\n    } else if (query === undefined || query === null) { // .search(undefined/null)\n      query = '';\n    }\n\n    var params = '';\n\n    if (query !== undefined) {\n      params += queryParam + '=' + encodeURIComponent(query);\n    }\n\n    var additionalUA;\n    if (args !== undefined) {\n      if (args.additionalUA) {\n        additionalUA = args.additionalUA;\n        delete args.additionalUA;\n      }\n      // `_getSearchParams` will augment params, do not be fooled by the = versus += from previous if\n      params = this.as._getSearchParams(args, params);\n    }\n\n\n    return this._search(params, url, callback, additionalUA);\n  };\n}\n","module.exports = function clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n};\n","module.exports = function deprecate(fn, message) {\n  var warned = false;\n\n  function deprecated() {\n    if (!warned) {\n      /* eslint no-console:0 */\n      console.warn(message);\n      warned = true;\n    }\n\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n","module.exports = function deprecatedMessage(previousUsage, newUsage) {\n  var githubAnchorLink = previousUsage.toLowerCase()\n    .replace(/[\\.\\(\\)]/g, '');\n\n  return 'algoliasearch: `' + previousUsage + '` was replaced by `' + newUsage +\n    '`. Please see https://github.com/algolia/algoliasearch-client-javascript/wiki/Deprecated#' + githubAnchorLink;\n};\n","'use strict';\n\n// This file hosts our error definitions\n// We use custom error \"types\" so that we can act on them when we need it\n// e.g.: if error instanceof errors.UnparsableJSON then..\n\nvar inherits = require('inherits');\n\nfunction AlgoliaSearchError(message, extraProperties) {\n  var forEach = require('foreach');\n\n  var error = this;\n\n  // try to get a stacktrace\n  if (typeof Error.captureStackTrace === 'function') {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    error.stack = (new Error()).stack || 'Cannot get a stacktrace, browser is too old';\n  }\n\n  this.name = 'AlgoliaSearchError';\n  this.message = message || 'Unknown error';\n\n  if (extraProperties) {\n    forEach(extraProperties, function addToErrorObject(value, key) {\n      error[key] = value;\n    });\n  }\n}\n\ninherits(AlgoliaSearchError, Error);\n\nfunction createCustomError(name, message) {\n  function AlgoliaSearchCustomError() {\n    var args = Array.prototype.slice.call(arguments, 0);\n\n    // custom message not set, use default\n    if (typeof args[0] !== 'string') {\n      args.unshift(message);\n    }\n\n    AlgoliaSearchError.apply(this, args);\n    this.name = 'AlgoliaSearch' + name + 'Error';\n  }\n\n  inherits(AlgoliaSearchCustomError, AlgoliaSearchError);\n\n  return AlgoliaSearchCustomError;\n}\n\n// late exports to let various fn defs and inherits take place\nmodule.exports = {\n  AlgoliaSearchError: AlgoliaSearchError,\n  UnparsableJSON: createCustomError(\n    'UnparsableJSON',\n    'Could not parse the incoming response as JSON, see err.more for details'\n  ),\n  RequestTimeout: createCustomError(\n    'RequestTimeout',\n    'Request timed out before getting a response'\n  ),\n  Network: createCustomError(\n    'Network',\n    'Network issue, see err.more for details'\n  ),\n  JSONPScriptFail: createCustomError(\n    'JSONPScriptFail',\n    '<script> was loaded but did not call our provided callback'\n  ),\n  ValidUntilNotFound: createCustomError(\n    'ValidUntilNotFound',\n    'The SecuredAPIKey does not have a validUntil parameter.'\n  ),\n  JSONPScriptError: createCustomError(\n    'JSONPScriptError',\n    '<script> unable to load due to an `error` event on it'\n  ),\n  ObjectNotFound: createCustomError(\n    'ObjectNotFound',\n    'Object not found'\n  ),\n  Unknown: createCustomError(\n    'Unknown',\n    'Unknown error occured'\n  )\n};\n","// Parse cloud does not supports setTimeout\n// We do not store a setTimeout reference in the client everytime\n// We only fallback to a fake setTimeout when not available\n// setTimeout cannot be override globally sadly\nmodule.exports = function exitPromise(fn, _setTimeout) {\n  _setTimeout(fn, 0);\n};\n","var foreach = require('foreach');\n\nmodule.exports = function map(arr, fn) {\n  var newArr = [];\n  foreach(arr, function(item, itemIndex) {\n    newArr.push(fn(item, itemIndex, arr));\n  });\n  return newArr;\n};\n","var foreach = require('foreach');\n\nmodule.exports = function merge(destination/* , sources */) {\n  var sources = Array.prototype.slice.call(arguments);\n\n  foreach(sources, function(source) {\n    for (var keyName in source) {\n      if (source.hasOwnProperty(keyName)) {\n        if (typeof destination[keyName] === 'object' && typeof source[keyName] === 'object') {\n          destination[keyName] = merge({}, destination[keyName], source[keyName]);\n        } else if (source[keyName] !== undefined) {\n          destination[keyName] = source[keyName];\n        }\n      }\n    }\n  });\n\n  return destination;\n};\n","module.exports = function omit(obj, test) {\n  var keys = require('object-keys');\n  var foreach = require('foreach');\n\n  var filtered = {};\n\n  foreach(keys(obj), function doFilter(keyName) {\n    if (test(keyName) !== true) {\n      filtered[keyName] = obj[keyName];\n    }\n  });\n\n  return filtered;\n};\n","module.exports = createPlacesClient;\n\nvar qs3 = require('querystring-es3');\nvar buildSearchMethod = require('./buildSearchMethod.js');\n\nfunction createPlacesClient(algoliasearch) {\n  return function places(appID, apiKey, opts) {\n    var cloneDeep = require('./clone.js');\n\n    opts = opts && cloneDeep(opts) || {};\n    opts.hosts = opts.hosts || [\n      'places-dsn.algolia.net',\n      'places-1.algolianet.com',\n      'places-2.algolianet.com',\n      'places-3.algolianet.com'\n    ];\n\n    // allow initPlaces() no arguments => community rate limited\n    if (arguments.length === 0 || typeof appID === 'object' || appID === undefined) {\n      appID = '';\n      apiKey = '';\n      opts._allowEmptyCredentials = true;\n    }\n\n    var client = algoliasearch(appID, apiKey, opts);\n    var index = client.initIndex('places');\n    index.search = buildSearchMethod('query', '/1/places/query');\n    index.reverse = function(options, callback) {\n      var encoded = qs3.encode(options);\n\n      return this.as._jsonRequest({\n        method: 'GET',\n        url: '/1/places/reverse?' + encoded,\n        hostType: 'read',\n        callback: callback\n      });\n    };\n\n    index.getObject = function(objectID, callback) {\n      return this.as._jsonRequest({\n        method: 'GET',\n        url: '/1/places/' + encodeURIComponent(objectID),\n        hostType: 'read',\n        callback: callback\n      });\n    };\n    return index;\n  };\n}\n","var debug = require('debug')('algoliasearch:src/hostIndexState.js');\nvar localStorageNamespace = 'algoliasearch-client-js';\n\nvar store;\nvar moduleStore = {\n  state: {},\n  set: function(key, data) {\n    this.state[key] = data;\n    return this.state[key];\n  },\n  get: function(key) {\n    return this.state[key] || null;\n  }\n};\n\nvar localStorageStore = {\n  set: function(key, data) {\n    moduleStore.set(key, data); // always replicate localStorageStore to moduleStore in case of failure\n\n    try {\n      var namespace = JSON.parse(global.localStorage[localStorageNamespace]);\n      namespace[key] = data;\n      global.localStorage[localStorageNamespace] = JSON.stringify(namespace);\n      return namespace[key];\n    } catch (e) {\n      return localStorageFailure(key, e);\n    }\n  },\n  get: function(key) {\n    try {\n      return JSON.parse(global.localStorage[localStorageNamespace])[key] || null;\n    } catch (e) {\n      return localStorageFailure(key, e);\n    }\n  }\n};\n\nfunction localStorageFailure(key, e) {\n  debug('localStorage failed with', e);\n  cleanup();\n  store = moduleStore;\n  return store.get(key);\n}\n\nstore = supportsLocalStorage() ? localStorageStore : moduleStore;\n\nmodule.exports = {\n  get: getOrSet,\n  set: getOrSet,\n  supportsLocalStorage: supportsLocalStorage\n};\n\nfunction getOrSet(key, data) {\n  if (arguments.length === 1) {\n    return store.get(key);\n  }\n\n  return store.set(key, data);\n}\n\nfunction supportsLocalStorage() {\n  try {\n    if ('localStorage' in global &&\n      global.localStorage !== null) {\n      if (!global.localStorage[localStorageNamespace]) {\n        // actual creation of the namespace\n        global.localStorage.setItem(localStorageNamespace, JSON.stringify({}));\n      }\n      return true;\n    }\n\n    return false;\n  } catch (_) {\n    return false;\n  }\n}\n\n// In case of any error on localStorage, we clean our own namespace, this should handle\n// quota errors when a lot of keys + data are used\nfunction cleanup() {\n  try {\n    global.localStorage.removeItem(localStorageNamespace);\n  } catch (_) {\n    // nothing to do\n  }\n}\n","'use strict';\n\nmodule.exports = '3.35.1';\n","'use strict';\n\nmodule.exports = require('./src/standalone/');\n","'use strict';\n\nvar _ = require('../common/utils.js');\n\nvar css = {\n  wrapper: {\n    position: 'relative',\n    display: 'inline-block'\n  },\n  hint: {\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    borderColor: 'transparent',\n    boxShadow: 'none',\n    // #741: fix hint opacity issue on iOS\n    opacity: '1'\n  },\n  input: {\n    position: 'relative',\n    verticalAlign: 'top',\n    backgroundColor: 'transparent'\n  },\n  inputWithNoHint: {\n    position: 'relative',\n    verticalAlign: 'top'\n  },\n  dropdown: {\n    position: 'absolute',\n    top: '100%',\n    left: '0',\n    zIndex: '100',\n    display: 'none'\n  },\n  suggestions: {\n    display: 'block'\n  },\n  suggestion: {\n    whiteSpace: 'nowrap',\n    cursor: 'pointer'\n  },\n  suggestionChild: {\n    whiteSpace: 'normal'\n  },\n  ltr: {\n    left: '0',\n    right: 'auto'\n  },\n  rtl: {\n    left: 'auto',\n    right: '0'\n  },\n  defaultClasses: {\n    root: 'algolia-autocomplete',\n    prefix: 'aa',\n    noPrefix: false,\n    dropdownMenu: 'dropdown-menu',\n    input: 'input',\n    hint: 'hint',\n    suggestions: 'suggestions',\n    suggestion: 'suggestion',\n    cursor: 'cursor',\n    dataset: 'dataset',\n    empty: 'empty'\n  },\n  // will be merged with the default ones if appendTo is used\n  appendTo: {\n    wrapper: {\n      position: 'absolute',\n      zIndex: '100',\n      display: 'none'\n    },\n    input: {},\n    inputWithNoHint: {},\n    dropdown: {\n      display: 'block'\n    }\n  }\n};\n\n// ie specific styling\nif (_.isMsie()) {\n  // ie6-8 (and 9?) doesn't fire hover and click events for elements with\n  // transparent backgrounds, for a workaround, use 1x1 transparent gif\n  _.mixin(css.input, {\n    backgroundImage: 'url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)'\n  });\n}\n\n// ie7 and under specific styling\nif (_.isMsie() && _.isMsie() <= 7) {\n  // if someone can tell me why this is necessary to align\n  // the hint with the query in ie7, i'll send you $5 - @JakeHarding\n  _.mixin(css.input, {marginTop: '-1px'});\n}\n\nmodule.exports = css;\n","'use strict';\n\nvar datasetKey = 'aaDataset';\nvar valueKey = 'aaValue';\nvar datumKey = 'aaDatum';\n\nvar _ = require('../common/utils.js');\nvar DOM = require('../common/dom.js');\nvar html = require('./html.js');\nvar css = require('./css.js');\nvar EventEmitter = require('./event_emitter.js');\n\n// constructor\n// -----------\n\nfunction Dataset(o) {\n  o = o || {};\n  o.templates = o.templates || {};\n\n  if (!o.source) {\n    _.error('missing source');\n  }\n\n  if (o.name && !isValidName(o.name)) {\n    _.error('invalid dataset name: ' + o.name);\n  }\n\n  // tracks the last query the dataset was updated for\n  this.query = null;\n  this._isEmpty = true;\n\n  this.highlight = !!o.highlight;\n  this.name = typeof o.name === 'undefined' || o.name === null ? _.getUniqueId() : o.name;\n\n  this.source = o.source;\n  this.displayFn = getDisplayFn(o.display || o.displayKey);\n\n  this.debounce = o.debounce;\n\n  this.cache = o.cache !== false;\n\n  this.templates = getTemplates(o.templates, this.displayFn);\n\n  this.css = _.mixin({}, css, o.appendTo ? css.appendTo : {});\n  this.cssClasses = o.cssClasses = _.mixin({}, css.defaultClasses, o.cssClasses || {});\n  this.cssClasses.prefix =\n    o.cssClasses.formattedPrefix || _.formatPrefix(this.cssClasses.prefix, this.cssClasses.noPrefix);\n\n  var clazz = _.className(this.cssClasses.prefix, this.cssClasses.dataset);\n  this.$el = o.$menu && o.$menu.find(clazz + '-' + this.name).length > 0 ?\n    DOM.element(o.$menu.find(clazz + '-' + this.name)[0]) :\n    DOM.element(\n      html.dataset.replace('%CLASS%', this.name)\n        .replace('%PREFIX%', this.cssClasses.prefix)\n        .replace('%DATASET%', this.cssClasses.dataset)\n    );\n\n  this.$menu = o.$menu;\n  this.clearCachedSuggestions();\n}\n\n// static methods\n// --------------\n\nDataset.extractDatasetName = function extractDatasetName(el) {\n  return DOM.element(el).data(datasetKey);\n};\n\nDataset.extractValue = function extractValue(el) {\n  return DOM.element(el).data(valueKey);\n};\n\nDataset.extractDatum = function extractDatum(el) {\n  var datum = DOM.element(el).data(datumKey);\n  if (typeof datum === 'string') {\n    // Zepto has an automatic deserialization of the\n    // JSON encoded data attribute\n    datum = JSON.parse(datum);\n  }\n  return datum;\n};\n\n// instance methods\n// ----------------\n\n_.mixin(Dataset.prototype, EventEmitter, {\n\n  // ### private\n\n  _render: function render(query, suggestions) {\n    if (!this.$el) {\n      return;\n    }\n    var that = this;\n\n    var hasSuggestions;\n    var renderArgs = [].slice.call(arguments, 2);\n    this.$el.empty();\n\n    hasSuggestions = suggestions && suggestions.length;\n    this._isEmpty = !hasSuggestions;\n\n    if (!hasSuggestions && this.templates.empty) {\n      this.$el\n        .html(getEmptyHtml.apply(this, renderArgs))\n        .prepend(that.templates.header ? getHeaderHtml.apply(this, renderArgs) : null)\n        .append(that.templates.footer ? getFooterHtml.apply(this, renderArgs) : null);\n    } else if (hasSuggestions) {\n      this.$el\n        .html(getSuggestionsHtml.apply(this, renderArgs))\n        .prepend(that.templates.header ? getHeaderHtml.apply(this, renderArgs) : null)\n        .append(that.templates.footer ? getFooterHtml.apply(this, renderArgs) : null);\n    } else if (suggestions && !Array.isArray(suggestions)) {\n      throw new TypeError('suggestions must be an array');\n    }\n\n    if (this.$menu) {\n      this.$menu.addClass(\n        this.cssClasses.prefix + (hasSuggestions ? 'with' : 'without') + '-' + this.name\n      ).removeClass(\n        this.cssClasses.prefix + (hasSuggestions ? 'without' : 'with') + '-' + this.name\n      );\n    }\n\n    this.trigger('rendered', query);\n\n    function getEmptyHtml() {\n      var args = [].slice.call(arguments, 0);\n      args = [{query: query, isEmpty: true}].concat(args);\n      return that.templates.empty.apply(this, args);\n    }\n\n    function getSuggestionsHtml() {\n      var args = [].slice.call(arguments, 0);\n      var $suggestions;\n      var nodes;\n      var self = this;\n\n      var suggestionsHtml = html.suggestions.\n        replace('%PREFIX%', this.cssClasses.prefix).\n        replace('%SUGGESTIONS%', this.cssClasses.suggestions);\n      $suggestions = DOM\n        .element(suggestionsHtml)\n        .css(this.css.suggestions);\n\n      // jQuery#append doesn't support arrays as the first argument\n      // until version 1.8, see http://bugs.jquery.com/ticket/11231\n      nodes = _.map(suggestions, getSuggestionNode);\n      $suggestions.append.apply($suggestions, nodes);\n\n      return $suggestions;\n\n      function getSuggestionNode(suggestion) {\n        var $el;\n\n        var suggestionHtml = html.suggestion.\n          replace('%PREFIX%', self.cssClasses.prefix).\n          replace('%SUGGESTION%', self.cssClasses.suggestion);\n        $el = DOM.element(suggestionHtml)\n          .attr({\n            role: 'option',\n            id: ['option', Math.floor(Math.random() * 100000000)].join('-')\n          })\n          .append(that.templates.suggestion.apply(this, [suggestion].concat(args)));\n\n        $el.data(datasetKey, that.name);\n        $el.data(valueKey, that.displayFn(suggestion) || undefined); // this led to undefined return value\n        $el.data(datumKey, JSON.stringify(suggestion));\n        $el.children().each(function() { DOM.element(this).css(self.css.suggestionChild); });\n\n        return $el;\n      }\n    }\n\n    function getHeaderHtml() {\n      var args = [].slice.call(arguments, 0);\n      args = [{query: query, isEmpty: !hasSuggestions}].concat(args);\n      return that.templates.header.apply(this, args);\n    }\n\n    function getFooterHtml() {\n      var args = [].slice.call(arguments, 0);\n      args = [{query: query, isEmpty: !hasSuggestions}].concat(args);\n      return that.templates.footer.apply(this, args);\n    }\n  },\n\n  // ### public\n\n  getRoot: function getRoot() {\n    return this.$el;\n  },\n\n  update: function update(query) {\n    function handleSuggestions(suggestions) {\n      // if the update has been canceled or if the query has changed\n      // do not render the suggestions as they've become outdated\n      if (!this.canceled && query === this.query) {\n        // concat all the other arguments that could have been passed\n        // to the render function, and forward them to _render\n        var extraArgs = [].slice.call(arguments, 1);\n        this.cacheSuggestions(query, suggestions, extraArgs);\n        this._render.apply(this, [query, suggestions].concat(extraArgs));\n      }\n    }\n\n    this.query = query;\n    this.canceled = false;\n\n    if (this.shouldFetchFromCache(query)) {\n      handleSuggestions.apply(this, [this.cachedSuggestions].concat(this.cachedRenderExtraArgs));\n    } else {\n      var that = this;\n      var execSource = function() {\n        // When the call is debounced the condition avoid to do a useless\n        // request with the last character when the input has been cleared\n        if (!that.canceled) {\n          that.source(query, handleSuggestions.bind(that));\n        }\n      };\n\n      if (this.debounce) {\n        var later = function() {\n          that.debounceTimeout = null;\n          execSource();\n        };\n        clearTimeout(this.debounceTimeout);\n        this.debounceTimeout = setTimeout(later, this.debounce);\n      } else {\n        execSource();\n      }\n    }\n  },\n\n  cacheSuggestions: function cacheSuggestions(query, suggestions, extraArgs) {\n    this.cachedQuery = query;\n    this.cachedSuggestions = suggestions;\n    this.cachedRenderExtraArgs = extraArgs;\n  },\n\n  shouldFetchFromCache: function shouldFetchFromCache(query) {\n    return this.cache &&\n      this.cachedQuery === query &&\n      this.cachedSuggestions &&\n      this.cachedSuggestions.length;\n  },\n\n  clearCachedSuggestions: function clearCachedSuggestions() {\n    delete this.cachedQuery;\n    delete this.cachedSuggestions;\n    delete this.cachedRenderExtraArgs;\n  },\n\n  cancel: function cancel() {\n    this.canceled = true;\n  },\n\n  clear: function clear() {\n    this.cancel();\n    this.$el.empty();\n    this.trigger('rendered', '');\n  },\n\n  isEmpty: function isEmpty() {\n    return this._isEmpty;\n  },\n\n  destroy: function destroy() {\n    this.clearCachedSuggestions();\n    this.$el = null;\n  }\n});\n\n// helper functions\n// ----------------\n\nfunction getDisplayFn(display) {\n  display = display || 'value';\n\n  return _.isFunction(display) ? display : displayFn;\n\n  function displayFn(obj) {\n    return obj[display];\n  }\n}\n\nfunction getTemplates(templates, displayFn) {\n  return {\n    empty: templates.empty && _.templatify(templates.empty),\n    header: templates.header && _.templatify(templates.header),\n    footer: templates.footer && _.templatify(templates.footer),\n    suggestion: templates.suggestion || suggestionTemplate\n  };\n\n  function suggestionTemplate(context) {\n    return '<p>' + displayFn(context) + '</p>';\n  }\n}\n\nfunction isValidName(str) {\n  // dashes, underscores, letters, and numbers\n  return (/^[_a-zA-Z0-9-]+$/).test(str);\n}\n\nmodule.exports = Dataset;\n","'use strict';\n\nvar _ = require('../common/utils.js');\nvar DOM = require('../common/dom.js');\nvar EventEmitter = require('./event_emitter.js');\nvar Dataset = require('./dataset.js');\nvar css = require('./css.js');\n\n// constructor\n// -----------\n\nfunction Dropdown(o) {\n  var that = this;\n  var onSuggestionClick;\n  var onSuggestionMouseEnter;\n  var onSuggestionMouseLeave;\n\n  o = o || {};\n\n  if (!o.menu) {\n    _.error('menu is required');\n  }\n\n  if (!_.isArray(o.datasets) && !_.isObject(o.datasets)) {\n    _.error('1 or more datasets required');\n  }\n  if (!o.datasets) {\n    _.error('datasets is required');\n  }\n\n  this.isOpen = false;\n  this.isEmpty = true;\n  this.minLength = o.minLength || 0;\n  this.templates = {};\n  this.appendTo = o.appendTo || false;\n  this.css = _.mixin({}, css, o.appendTo ? css.appendTo : {});\n  this.cssClasses = o.cssClasses = _.mixin({}, css.defaultClasses, o.cssClasses || {});\n  this.cssClasses.prefix =\n    o.cssClasses.formattedPrefix || _.formatPrefix(this.cssClasses.prefix, this.cssClasses.noPrefix);\n\n  // bound functions\n  onSuggestionClick = _.bind(this._onSuggestionClick, this);\n  onSuggestionMouseEnter = _.bind(this._onSuggestionMouseEnter, this);\n  onSuggestionMouseLeave = _.bind(this._onSuggestionMouseLeave, this);\n\n  var cssClass = _.className(this.cssClasses.prefix, this.cssClasses.suggestion);\n  this.$menu = DOM.element(o.menu)\n    .on('mouseenter.aa', cssClass, onSuggestionMouseEnter)\n    .on('mouseleave.aa', cssClass, onSuggestionMouseLeave)\n    .on('click.aa', cssClass, onSuggestionClick);\n\n  this.$container = o.appendTo ? o.wrapper : this.$menu;\n\n  if (o.templates && o.templates.header) {\n    this.templates.header = _.templatify(o.templates.header);\n    this.$menu.prepend(this.templates.header());\n  }\n\n  if (o.templates && o.templates.empty) {\n    this.templates.empty = _.templatify(o.templates.empty);\n    this.$empty = DOM.element('<div class=\"' +\n      _.className(this.cssClasses.prefix, this.cssClasses.empty, true) + '\">' +\n      '</div>');\n    this.$menu.append(this.$empty);\n    this.$empty.hide();\n  }\n\n  this.datasets = _.map(o.datasets, function(oDataset) {\n    return initializeDataset(that.$menu, oDataset, o.cssClasses);\n  });\n  _.each(this.datasets, function(dataset) {\n    var root = dataset.getRoot();\n    if (root && root.parent().length === 0) {\n      that.$menu.append(root);\n    }\n    dataset.onSync('rendered', that._onRendered, that);\n  });\n\n  if (o.templates && o.templates.footer) {\n    this.templates.footer = _.templatify(o.templates.footer);\n    this.$menu.append(this.templates.footer());\n  }\n\n  var self = this;\n  DOM.element(window).resize(function() {\n    self._redraw();\n  });\n}\n\n// instance methods\n// ----------------\n\n_.mixin(Dropdown.prototype, EventEmitter, {\n\n  // ### private\n\n  _onSuggestionClick: function onSuggestionClick($e) {\n    this.trigger('suggestionClicked', DOM.element($e.currentTarget));\n  },\n\n  _onSuggestionMouseEnter: function onSuggestionMouseEnter($e) {\n    var elt = DOM.element($e.currentTarget);\n    if (elt.hasClass(_.className(this.cssClasses.prefix, this.cssClasses.cursor, true))) {\n      // we're already on the cursor\n      // => we're probably entering it again after leaving it for a nested div\n      return;\n    }\n    this._removeCursor();\n\n    // Fixes iOS double tap behaviour, by modifying the DOM right before the\n    // native href clicks happens, iOS will requires another tap to follow\n    // a suggestion that has an <a href> element inside\n    // https://www.google.com/search?q=ios+double+tap+bug+href\n    var suggestion = this;\n    setTimeout(function() {\n      // this exact line, when inside the main loop, will trigger a double tap bug\n      // on iOS devices\n      suggestion._setCursor(elt, false);\n    }, 0);\n  },\n\n  _onSuggestionMouseLeave: function onSuggestionMouseLeave($e) {\n    // $e.relatedTarget is the `EventTarget` the pointing device entered to\n    if ($e.relatedTarget) {\n      var elt = DOM.element($e.relatedTarget);\n      if (elt.closest('.' + _.className(this.cssClasses.prefix, this.cssClasses.cursor, true)).length > 0) {\n        // our father is a cursor\n        // => it means we're just leaving the suggestion for a nested div\n        return;\n      }\n    }\n    this._removeCursor();\n    this.trigger('cursorRemoved');\n  },\n\n  _onRendered: function onRendered(e, query) {\n    this.isEmpty = _.every(this.datasets, isDatasetEmpty);\n\n    if (this.isEmpty) {\n      if (query.length >= this.minLength) {\n        this.trigger('empty');\n      }\n\n      if (this.$empty) {\n        if (query.length < this.minLength) {\n          this._hide();\n        } else {\n          var html = this.templates.empty({\n            query: this.datasets[0] && this.datasets[0].query\n          });\n          this.$empty.html(html);\n          this.$empty.show();\n          this._show();\n        }\n      } else if (_.any(this.datasets, hasEmptyTemplate)) {\n        if (query.length < this.minLength) {\n          this._hide();\n        } else {\n          this._show();\n        }\n      } else {\n        this._hide();\n      }\n    } else if (this.isOpen) {\n      if (this.$empty) {\n        this.$empty.empty();\n        this.$empty.hide();\n      }\n\n      if (query.length >= this.minLength) {\n        this._show();\n      } else {\n        this._hide();\n      }\n    }\n\n    this.trigger('datasetRendered');\n\n    function isDatasetEmpty(dataset) {\n      return dataset.isEmpty();\n    }\n\n    function hasEmptyTemplate(dataset) {\n      return dataset.templates && dataset.templates.empty;\n    }\n  },\n\n  _hide: function() {\n    this.$container.hide();\n  },\n\n  _show: function() {\n    // can't use jQuery#show because $menu is a span element we want\n    // display: block; not dislay: inline;\n    this.$container.css('display', 'block');\n\n    this._redraw();\n\n    this.trigger('shown');\n  },\n\n  _redraw: function redraw() {\n    if (!this.isOpen || !this.appendTo) return;\n\n    this.trigger('redrawn');\n  },\n\n  _getSuggestions: function getSuggestions() {\n    return this.$menu.find(_.className(this.cssClasses.prefix, this.cssClasses.suggestion));\n  },\n\n  _getCursor: function getCursor() {\n    return this.$menu.find(_.className(this.cssClasses.prefix, this.cssClasses.cursor)).first();\n  },\n\n  _setCursor: function setCursor($el, updateInput) {\n    $el.first()\n      .addClass(_.className(this.cssClasses.prefix, this.cssClasses.cursor, true))\n      .attr('aria-selected', 'true');\n    this.trigger('cursorMoved', updateInput);\n  },\n\n  _removeCursor: function removeCursor() {\n    this._getCursor()\n      .removeClass(_.className(this.cssClasses.prefix, this.cssClasses.cursor, true))\n      .removeAttr('aria-selected');\n  },\n\n  _moveCursor: function moveCursor(increment) {\n    var $suggestions;\n    var $oldCursor;\n    var newCursorIndex;\n    var $newCursor;\n\n    if (!this.isOpen) {\n      return;\n    }\n\n    $oldCursor = this._getCursor();\n    $suggestions = this._getSuggestions();\n\n    this._removeCursor();\n\n    // shifting before and after modulo to deal with -1 index\n    newCursorIndex = $suggestions.index($oldCursor) + increment;\n    newCursorIndex = (newCursorIndex + 1) % ($suggestions.length + 1) - 1;\n\n    if (newCursorIndex === -1) {\n      this.trigger('cursorRemoved');\n\n      return;\n    } else if (newCursorIndex < -1) {\n      newCursorIndex = $suggestions.length - 1;\n    }\n\n    this._setCursor($newCursor = $suggestions.eq(newCursorIndex), true);\n\n    // in the case of scrollable overflow\n    // make sure the cursor is visible in the menu\n    this._ensureVisible($newCursor);\n  },\n\n  _ensureVisible: function ensureVisible($el) {\n    var elTop;\n    var elBottom;\n    var menuScrollTop;\n    var menuHeight;\n\n    elTop = $el.position().top;\n    elBottom = elTop + $el.height() +\n      parseInt($el.css('margin-top'), 10) +\n      parseInt($el.css('margin-bottom'), 10);\n    menuScrollTop = this.$menu.scrollTop();\n    menuHeight = this.$menu.height() +\n      parseInt(this.$menu.css('padding-top'), 10) +\n      parseInt(this.$menu.css('padding-bottom'), 10);\n\n    if (elTop < 0) {\n      this.$menu.scrollTop(menuScrollTop + elTop);\n    } else if (menuHeight < elBottom) {\n      this.$menu.scrollTop(menuScrollTop + (elBottom - menuHeight));\n    }\n  },\n\n  // ### public\n\n  close: function close() {\n    if (this.isOpen) {\n      this.isOpen = false;\n\n      this._removeCursor();\n      this._hide();\n\n      this.trigger('closed');\n    }\n  },\n\n  open: function open() {\n    if (!this.isOpen) {\n      this.isOpen = true;\n\n      if (!this.isEmpty) {\n        this._show();\n      }\n\n      this.trigger('opened');\n    }\n  },\n\n  setLanguageDirection: function setLanguageDirection(dir) {\n    this.$menu.css(dir === 'ltr' ? this.css.ltr : this.css.rtl);\n  },\n\n  moveCursorUp: function moveCursorUp() {\n    this._moveCursor(-1);\n  },\n\n  moveCursorDown: function moveCursorDown() {\n    this._moveCursor(+1);\n  },\n\n  getDatumForSuggestion: function getDatumForSuggestion($el) {\n    var datum = null;\n\n    if ($el.length) {\n      datum = {\n        raw: Dataset.extractDatum($el),\n        value: Dataset.extractValue($el),\n        datasetName: Dataset.extractDatasetName($el)\n      };\n    }\n\n    return datum;\n  },\n\n  getCurrentCursor: function getCurrentCursor() {\n    return this._getCursor().first();\n  },\n\n  getDatumForCursor: function getDatumForCursor() {\n    return this.getDatumForSuggestion(this._getCursor().first());\n  },\n\n  getDatumForTopSuggestion: function getDatumForTopSuggestion() {\n    return this.getDatumForSuggestion(this._getSuggestions().first());\n  },\n\n  cursorTopSuggestion: function cursorTopSuggestion() {\n    this._setCursor(this._getSuggestions().first(), false);\n  },\n\n  update: function update(query) {\n    _.each(this.datasets, updateDataset);\n\n    function updateDataset(dataset) {\n      dataset.update(query);\n    }\n  },\n\n  empty: function empty() {\n    _.each(this.datasets, clearDataset);\n    this.isEmpty = true;\n\n    function clearDataset(dataset) {\n      dataset.clear();\n    }\n  },\n\n  isVisible: function isVisible() {\n    return this.isOpen && !this.isEmpty;\n  },\n\n  destroy: function destroy() {\n    this.$menu.off('.aa');\n\n    this.$menu = null;\n\n    _.each(this.datasets, destroyDataset);\n\n    function destroyDataset(dataset) {\n      dataset.destroy();\n    }\n  }\n});\n\n// helper functions\n// ----------------\nDropdown.Dataset = Dataset;\n\nfunction initializeDataset($menu, oDataset, cssClasses) {\n  return new Dropdown.Dataset(_.mixin({$menu: $menu, cssClasses: cssClasses}, oDataset));\n}\n\nmodule.exports = Dropdown;\n","'use strict';\n\nvar namespace = 'autocomplete:';\n\nvar _ = require('../common/utils.js');\nvar DOM = require('../common/dom.js');\n\n// constructor\n// -----------\n\nfunction EventBus(o) {\n  if (!o || !o.el) {\n    _.error('EventBus initialized without el');\n  }\n\n  this.$el = DOM.element(o.el);\n}\n\n// instance methods\n// ----------------\n\n_.mixin(EventBus.prototype, {\n\n  // ### public\n\n  trigger: function(type, suggestion, dataset, context) {\n    var event = _.Event(namespace + type);\n    this.$el.trigger(event, [suggestion, dataset, context]);\n    return event;\n  }\n});\n\nmodule.exports = EventBus;\n","'use strict';\n\nvar immediate = require('immediate');\nvar splitter = /\\s+/;\n\nmodule.exports = {\n  onSync: onSync,\n  onAsync: onAsync,\n  off: off,\n  trigger: trigger\n};\n\nfunction on(method, types, cb, context) {\n  var type;\n\n  if (!cb) {\n    return this;\n  }\n\n  types = types.split(splitter);\n  cb = context ? bindContext(cb, context) : cb;\n\n  this._callbacks = this._callbacks || {};\n\n  while (type = types.shift()) {\n    this._callbacks[type] = this._callbacks[type] || {sync: [], async: []};\n    this._callbacks[type][method].push(cb);\n  }\n\n  return this;\n}\n\nfunction onAsync(types, cb, context) {\n  return on.call(this, 'async', types, cb, context);\n}\n\nfunction onSync(types, cb, context) {\n  return on.call(this, 'sync', types, cb, context);\n}\n\nfunction off(types) {\n  var type;\n\n  if (!this._callbacks) {\n    return this;\n  }\n\n  types = types.split(splitter);\n\n  while (type = types.shift()) {\n    delete this._callbacks[type];\n  }\n\n  return this;\n}\n\nfunction trigger(types) {\n  var type;\n  var callbacks;\n  var args;\n  var syncFlush;\n  var asyncFlush;\n\n  if (!this._callbacks) {\n    return this;\n  }\n\n  types = types.split(splitter);\n  args = [].slice.call(arguments, 1);\n\n  while ((type = types.shift()) && (callbacks = this._callbacks[type])) { // eslint-disable-line\n    syncFlush = getFlush(callbacks.sync, this, [type].concat(args));\n    asyncFlush = getFlush(callbacks.async, this, [type].concat(args));\n\n    if (syncFlush()) {\n      immediate(asyncFlush);\n    }\n  }\n\n  return this;\n}\n\nfunction getFlush(callbacks, context, args) {\n  return flush;\n\n  function flush() {\n    var cancelled;\n\n    for (var i = 0, len = callbacks.length; !cancelled && i < len; i += 1) {\n      // only cancel if the callback explicitly returns false\n      cancelled = callbacks[i].apply(context, args) === false;\n    }\n\n    return !cancelled;\n  }\n}\n\nfunction bindContext(fn, context) {\n  return fn.bind ?\n    fn.bind(context) :\n    function() { fn.apply(context, [].slice.call(arguments, 0)); };\n}\n","'use strict';\n\nmodule.exports = {\n  wrapper: '<span class=\"%ROOT%\"></span>',\n  dropdown: '<span class=\"%PREFIX%%DROPDOWN_MENU%\"></span>',\n  dataset: '<div class=\"%PREFIX%%DATASET%-%CLASS%\"></div>',\n  suggestions: '<span class=\"%PREFIX%%SUGGESTIONS%\"></span>',\n  suggestion: '<div class=\"%PREFIX%%SUGGESTION%\"></div>'\n};\n","'use strict';\n\nvar specialKeyCodeMap;\n\nspecialKeyCodeMap = {\n  9: 'tab',\n  27: 'esc',\n  37: 'left',\n  39: 'right',\n  13: 'enter',\n  38: 'up',\n  40: 'down'\n};\n\nvar _ = require('../common/utils.js');\nvar DOM = require('../common/dom.js');\nvar EventEmitter = require('./event_emitter.js');\n\n// constructor\n// -----------\n\nfunction Input(o) {\n  var that = this;\n  var onBlur;\n  var onFocus;\n  var onKeydown;\n  var onInput;\n\n  o = o || {};\n\n  if (!o.input) {\n    _.error('input is missing');\n  }\n\n  // bound functions\n  onBlur = _.bind(this._onBlur, this);\n  onFocus = _.bind(this._onFocus, this);\n  onKeydown = _.bind(this._onKeydown, this);\n  onInput = _.bind(this._onInput, this);\n\n  this.$hint = DOM.element(o.hint);\n  this.$input = DOM.element(o.input)\n    .on('blur.aa', onBlur)\n    .on('focus.aa', onFocus)\n    .on('keydown.aa', onKeydown);\n\n  // if no hint, noop all the hint related functions\n  if (this.$hint.length === 0) {\n    this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = _.noop;\n  }\n\n  // ie7 and ie8 don't support the input event\n  // ie9 doesn't fire the input event when characters are removed\n  // not sure if ie10 is compatible\n  if (!_.isMsie()) {\n    this.$input.on('input.aa', onInput);\n  } else {\n    this.$input.on('keydown.aa keypress.aa cut.aa paste.aa', function($e) {\n      // if a special key triggered this, ignore it\n      if (specialKeyCodeMap[$e.which || $e.keyCode]) {\n        return;\n      }\n\n      // give the browser a chance to update the value of the input\n      // before checking to see if the query changed\n      _.defer(_.bind(that._onInput, that, $e));\n    });\n  }\n\n  // the query defaults to whatever the value of the input is\n  // on initialization, it'll most likely be an empty string\n  this.query = this.$input.val();\n\n  // helps with calculating the width of the input's value\n  this.$overflowHelper = buildOverflowHelper(this.$input);\n}\n\n// static methods\n// --------------\n\nInput.normalizeQuery = function(str) {\n  // strips leading whitespace and condenses all whitespace\n  return (str || '').replace(/^\\s*/g, '').replace(/\\s{2,}/g, ' ');\n};\n\n// instance methods\n// ----------------\n\n_.mixin(Input.prototype, EventEmitter, {\n\n  // ### private\n\n  _onBlur: function onBlur() {\n    this.resetInputValue();\n    this.$input.removeAttr('aria-activedescendant');\n    this.trigger('blurred');\n  },\n\n  _onFocus: function onFocus() {\n    this.trigger('focused');\n  },\n\n  _onKeydown: function onKeydown($e) {\n    // which is normalized and consistent (but not for ie)\n    var keyName = specialKeyCodeMap[$e.which || $e.keyCode];\n\n    this._managePreventDefault(keyName, $e);\n    if (keyName && this._shouldTrigger(keyName, $e)) {\n      this.trigger(keyName + 'Keyed', $e);\n    }\n  },\n\n  _onInput: function onInput() {\n    this._checkInputValue();\n  },\n\n  _managePreventDefault: function managePreventDefault(keyName, $e) {\n    var preventDefault;\n    var hintValue;\n    var inputValue;\n\n    switch (keyName) {\n    case 'tab':\n      hintValue = this.getHint();\n      inputValue = this.getInputValue();\n\n      preventDefault = hintValue &&\n        hintValue !== inputValue &&\n        !withModifier($e);\n      break;\n\n    case 'up':\n    case 'down':\n      preventDefault = !withModifier($e);\n      break;\n\n    default:\n      preventDefault = false;\n    }\n\n    if (preventDefault) {\n      $e.preventDefault();\n    }\n  },\n\n  _shouldTrigger: function shouldTrigger(keyName, $e) {\n    var trigger;\n\n    switch (keyName) {\n    case 'tab':\n      trigger = !withModifier($e);\n      break;\n\n    default:\n      trigger = true;\n    }\n\n    return trigger;\n  },\n\n  _checkInputValue: function checkInputValue() {\n    var inputValue;\n    var areEquivalent;\n    var hasDifferentWhitespace;\n\n    inputValue = this.getInputValue();\n    areEquivalent = areQueriesEquivalent(inputValue, this.query);\n    hasDifferentWhitespace = areEquivalent && this.query ?\n      this.query.length !== inputValue.length : false;\n\n    this.query = inputValue;\n\n    if (!areEquivalent) {\n      this.trigger('queryChanged', this.query);\n    } else if (hasDifferentWhitespace) {\n      this.trigger('whitespaceChanged', this.query);\n    }\n  },\n\n  // ### public\n\n  focus: function focus() {\n    this.$input.focus();\n  },\n\n  blur: function blur() {\n    this.$input.blur();\n  },\n\n  getQuery: function getQuery() {\n    return this.query;\n  },\n\n  setQuery: function setQuery(query) {\n    this.query = query;\n  },\n\n  getInputValue: function getInputValue() {\n    return this.$input.val();\n  },\n\n  setInputValue: function setInputValue(value, silent) {\n    if (typeof value === 'undefined') {\n      value = this.query;\n    }\n    this.$input.val(value);\n\n    // silent prevents any additional events from being triggered\n    if (silent) {\n      this.clearHint();\n    } else {\n      this._checkInputValue();\n    }\n  },\n\n  expand: function expand() {\n    this.$input.attr('aria-expanded', 'true');\n  },\n\n  collapse: function collapse() {\n    this.$input.attr('aria-expanded', 'false');\n  },\n\n  setActiveDescendant: function setActiveDescendant(activedescendantId) {\n    this.$input.attr('aria-activedescendant', activedescendantId);\n  },\n\n  removeActiveDescendant: function removeActiveDescendant() {\n    this.$input.removeAttr('aria-activedescendant');\n  },\n\n  resetInputValue: function resetInputValue() {\n    this.setInputValue(this.query, true);\n  },\n\n  getHint: function getHint() {\n    return this.$hint.val();\n  },\n\n  setHint: function setHint(value) {\n    this.$hint.val(value);\n  },\n\n  clearHint: function clearHint() {\n    this.setHint('');\n  },\n\n  clearHintIfInvalid: function clearHintIfInvalid() {\n    var val;\n    var hint;\n    var valIsPrefixOfHint;\n    var isValid;\n\n    val = this.getInputValue();\n    hint = this.getHint();\n    valIsPrefixOfHint = val !== hint && hint.indexOf(val) === 0;\n    isValid = val !== '' && valIsPrefixOfHint && !this.hasOverflow();\n\n    if (!isValid) {\n      this.clearHint();\n    }\n  },\n\n  getLanguageDirection: function getLanguageDirection() {\n    return (this.$input.css('direction') || 'ltr').toLowerCase();\n  },\n\n  hasOverflow: function hasOverflow() {\n    // 2 is arbitrary, just picking a small number to handle edge cases\n    var constraint = this.$input.width() - 2;\n\n    this.$overflowHelper.text(this.getInputValue());\n\n    return this.$overflowHelper.width() >= constraint;\n  },\n\n  isCursorAtEnd: function() {\n    var valueLength;\n    var selectionStart;\n    var range;\n\n    valueLength = this.$input.val().length;\n    selectionStart = this.$input[0].selectionStart;\n\n    if (_.isNumber(selectionStart)) {\n      return selectionStart === valueLength;\n    } else if (document.selection) {\n      // NOTE: this won't work unless the input has focus, the good news\n      // is this code should only get called when the input has focus\n      range = document.selection.createRange();\n      range.moveStart('character', -valueLength);\n\n      return valueLength === range.text.length;\n    }\n\n    return true;\n  },\n\n  destroy: function destroy() {\n    this.$hint.off('.aa');\n    this.$input.off('.aa');\n\n    this.$hint = this.$input = this.$overflowHelper = null;\n  }\n});\n\n// helper functions\n// ----------------\n\nfunction buildOverflowHelper($input) {\n  return DOM.element('<pre aria-hidden=\"true\"></pre>')\n    .css({\n      // position helper off-screen\n      position: 'absolute',\n      visibility: 'hidden',\n      // avoid line breaks and whitespace collapsing\n      whiteSpace: 'pre',\n      // use same font css as input to calculate accurate width\n      fontFamily: $input.css('font-family'),\n      fontSize: $input.css('font-size'),\n      fontStyle: $input.css('font-style'),\n      fontVariant: $input.css('font-variant'),\n      fontWeight: $input.css('font-weight'),\n      wordSpacing: $input.css('word-spacing'),\n      letterSpacing: $input.css('letter-spacing'),\n      textIndent: $input.css('text-indent'),\n      textRendering: $input.css('text-rendering'),\n      textTransform: $input.css('text-transform')\n    })\n    .insertAfter($input);\n}\n\nfunction areQueriesEquivalent(a, b) {\n  return Input.normalizeQuery(a) === Input.normalizeQuery(b);\n}\n\nfunction withModifier($e) {\n  return $e.altKey || $e.ctrlKey || $e.metaKey || $e.shiftKey;\n}\n\nmodule.exports = Input;\n","'use strict';\n\nvar attrsKey = 'aaAttrs';\n\nvar _ = require('../common/utils.js');\nvar DOM = require('../common/dom.js');\nvar EventBus = require('./event_bus.js');\nvar Input = require('./input.js');\nvar Dropdown = require('./dropdown.js');\nvar html = require('./html.js');\nvar css = require('./css.js');\n\n// constructor\n// -----------\n\n// THOUGHT: what if datasets could dynamically be added/removed?\nfunction Typeahead(o) {\n  var $menu;\n  var $hint;\n\n  o = o || {};\n\n  if (!o.input) {\n    _.error('missing input');\n  }\n\n  this.isActivated = false;\n  this.debug = !!o.debug;\n  this.autoselect = !!o.autoselect;\n  this.autoselectOnBlur = !!o.autoselectOnBlur;\n  this.openOnFocus = !!o.openOnFocus;\n  this.minLength = _.isNumber(o.minLength) ? o.minLength : 1;\n  this.autoWidth = (o.autoWidth === undefined) ? true : !!o.autoWidth;\n  this.clearOnSelected = !!o.clearOnSelected;\n  this.tabAutocomplete = (o.tabAutocomplete === undefined) ? true : !!o.tabAutocomplete;\n\n  o.hint = !!o.hint;\n\n  if (o.hint && o.appendTo) {\n    throw new Error('[autocomplete.js] hint and appendTo options can\\'t be used at the same time');\n  }\n\n  this.css = o.css = _.mixin({}, css, o.appendTo ? css.appendTo : {});\n  this.cssClasses = o.cssClasses = _.mixin({}, css.defaultClasses, o.cssClasses || {});\n  this.cssClasses.prefix =\n    o.cssClasses.formattedPrefix = _.formatPrefix(this.cssClasses.prefix, this.cssClasses.noPrefix);\n  this.listboxId = o.listboxId = [this.cssClasses.root, 'listbox', _.getUniqueId()].join('-');\n\n  var domElts = buildDom(o);\n\n  this.$node = domElts.wrapper;\n  var $input = this.$input = domElts.input;\n  $menu = domElts.menu;\n  $hint = domElts.hint;\n\n  if (o.dropdownMenuContainer) {\n    DOM.element(o.dropdownMenuContainer)\n      .css('position', 'relative') // ensure the container has a relative position\n      .append($menu.css('top', '0')); // override the top: 100%\n  }\n\n  // #705: if there's scrollable overflow, ie doesn't support\n  // blur cancellations when the scrollbar is clicked\n  //\n  // #351: preventDefault won't cancel blurs in ie <= 8\n  $input.on('blur.aa', function($e) {\n    var active = document.activeElement;\n    if (_.isMsie() && ($menu[0] === active || $menu[0].contains(active))) {\n      $e.preventDefault();\n      // stop immediate in order to prevent Input#_onBlur from\n      // getting exectued\n      $e.stopImmediatePropagation();\n      _.defer(function() { $input.focus(); });\n    }\n  });\n\n  // #351: prevents input blur due to clicks within dropdown menu\n  $menu.on('mousedown.aa', function($e) { $e.preventDefault(); });\n\n  this.eventBus = o.eventBus || new EventBus({el: $input});\n\n  this.dropdown = new Typeahead.Dropdown({\n    appendTo: o.appendTo,\n    wrapper: this.$node,\n    menu: $menu,\n    datasets: o.datasets,\n    templates: o.templates,\n    cssClasses: o.cssClasses,\n    minLength: this.minLength\n  })\n    .onSync('suggestionClicked', this._onSuggestionClicked, this)\n    .onSync('cursorMoved', this._onCursorMoved, this)\n    .onSync('cursorRemoved', this._onCursorRemoved, this)\n    .onSync('opened', this._onOpened, this)\n    .onSync('closed', this._onClosed, this)\n    .onSync('shown', this._onShown, this)\n    .onSync('empty', this._onEmpty, this)\n    .onSync('redrawn', this._onRedrawn, this)\n    .onAsync('datasetRendered', this._onDatasetRendered, this);\n\n  this.input = new Typeahead.Input({input: $input, hint: $hint})\n    .onSync('focused', this._onFocused, this)\n    .onSync('blurred', this._onBlurred, this)\n    .onSync('enterKeyed', this._onEnterKeyed, this)\n    .onSync('tabKeyed', this._onTabKeyed, this)\n    .onSync('escKeyed', this._onEscKeyed, this)\n    .onSync('upKeyed', this._onUpKeyed, this)\n    .onSync('downKeyed', this._onDownKeyed, this)\n    .onSync('leftKeyed', this._onLeftKeyed, this)\n    .onSync('rightKeyed', this._onRightKeyed, this)\n    .onSync('queryChanged', this._onQueryChanged, this)\n    .onSync('whitespaceChanged', this._onWhitespaceChanged, this);\n\n  this._bindKeyboardShortcuts(o);\n\n  this._setLanguageDirection();\n}\n\n// instance methods\n// ----------------\n\n_.mixin(Typeahead.prototype, {\n  // ### private\n\n  _bindKeyboardShortcuts: function(options) {\n    if (!options.keyboardShortcuts) {\n      return;\n    }\n    var $input = this.$input;\n    var keyboardShortcuts = [];\n    _.each(options.keyboardShortcuts, function(key) {\n      if (typeof key === 'string') {\n        key = key.toUpperCase().charCodeAt(0);\n      }\n      keyboardShortcuts.push(key);\n    });\n    DOM.element(document).keydown(function(event) {\n      var elt = (event.target || event.srcElement);\n      var tagName = elt.tagName;\n      if (elt.isContentEditable || tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA') {\n        // already in an input\n        return;\n      }\n\n      var which = event.which || event.keyCode;\n      if (keyboardShortcuts.indexOf(which) === -1) {\n        // not the right shortcut\n        return;\n      }\n\n      $input.focus();\n      event.stopPropagation();\n      event.preventDefault();\n    });\n  },\n\n  _onSuggestionClicked: function onSuggestionClicked(type, $el) {\n    var datum;\n    var context = {selectionMethod: 'click'};\n\n    if (datum = this.dropdown.getDatumForSuggestion($el)) {\n      this._select(datum, context);\n    }\n  },\n\n  _onCursorMoved: function onCursorMoved(event, updateInput) {\n    var datum = this.dropdown.getDatumForCursor();\n    var currentCursorId = this.dropdown.getCurrentCursor().attr('id');\n    this.input.setActiveDescendant(currentCursorId);\n\n    if (datum) {\n      if (updateInput) {\n        this.input.setInputValue(datum.value, true);\n      }\n\n      this.eventBus.trigger('cursorchanged', datum.raw, datum.datasetName);\n    }\n  },\n\n  _onCursorRemoved: function onCursorRemoved() {\n    this.input.resetInputValue();\n    this._updateHint();\n    this.eventBus.trigger('cursorremoved');\n  },\n\n  _onDatasetRendered: function onDatasetRendered() {\n    this._updateHint();\n\n    this.eventBus.trigger('updated');\n  },\n\n  _onOpened: function onOpened() {\n    this._updateHint();\n    this.input.expand();\n\n    this.eventBus.trigger('opened');\n  },\n\n  _onEmpty: function onEmpty() {\n    this.eventBus.trigger('empty');\n  },\n\n  _onRedrawn: function onRedrawn() {\n    this.$node.css('top', 0 + 'px');\n    this.$node.css('left', 0 + 'px');\n\n    var inputRect = this.$input[0].getBoundingClientRect();\n\n    if (this.autoWidth) {\n      this.$node.css('width', inputRect.width + 'px');\n    }\n\n    var wrapperRect = this.$node[0].getBoundingClientRect();\n\n    var top = inputRect.bottom - wrapperRect.top;\n    this.$node.css('top', top + 'px');\n    var left = inputRect.left - wrapperRect.left;\n    this.$node.css('left', left + 'px');\n\n    this.eventBus.trigger('redrawn');\n  },\n\n  _onShown: function onShown() {\n    this.eventBus.trigger('shown');\n    if (this.autoselect) {\n      this.dropdown.cursorTopSuggestion();\n    }\n  },\n\n  _onClosed: function onClosed() {\n    this.input.clearHint();\n    this.input.removeActiveDescendant();\n    this.input.collapse();\n\n    this.eventBus.trigger('closed');\n  },\n\n  _onFocused: function onFocused() {\n    this.isActivated = true;\n\n    if (this.openOnFocus) {\n      var query = this.input.getQuery();\n      if (query.length >= this.minLength) {\n        this.dropdown.update(query);\n      } else {\n        this.dropdown.empty();\n      }\n\n      this.dropdown.open();\n    }\n  },\n\n  _onBlurred: function onBlurred() {\n    var cursorDatum;\n    var topSuggestionDatum;\n\n    cursorDatum = this.dropdown.getDatumForCursor();\n    topSuggestionDatum = this.dropdown.getDatumForTopSuggestion();\n    var context = {selectionMethod: 'blur'};\n\n    if (!this.debug) {\n      if (this.autoselectOnBlur && cursorDatum) {\n        this._select(cursorDatum, context);\n      } else if (this.autoselectOnBlur && topSuggestionDatum) {\n        this._select(topSuggestionDatum, context);\n      } else {\n        this.isActivated = false;\n        this.dropdown.empty();\n        this.dropdown.close();\n      }\n    }\n  },\n\n  _onEnterKeyed: function onEnterKeyed(type, $e) {\n    var cursorDatum;\n    var topSuggestionDatum;\n\n    cursorDatum = this.dropdown.getDatumForCursor();\n    topSuggestionDatum = this.dropdown.getDatumForTopSuggestion();\n    var context = {selectionMethod: 'enterKey'};\n\n    if (cursorDatum) {\n      this._select(cursorDatum, context);\n      $e.preventDefault();\n    } else if (this.autoselect && topSuggestionDatum) {\n      this._select(topSuggestionDatum, context);\n      $e.preventDefault();\n    }\n  },\n\n  _onTabKeyed: function onTabKeyed(type, $e) {\n    if (!this.tabAutocomplete) {\n      // Closing the dropdown enables further tabbing\n      this.dropdown.close();\n      return;\n    }\n\n    var datum;\n    var context = {selectionMethod: 'tabKey'};\n\n    if (datum = this.dropdown.getDatumForCursor()) {\n      this._select(datum, context);\n      $e.preventDefault();\n    } else {\n      this._autocomplete(true);\n    }\n  },\n\n  _onEscKeyed: function onEscKeyed() {\n    this.dropdown.close();\n    this.input.resetInputValue();\n  },\n\n  _onUpKeyed: function onUpKeyed() {\n    var query = this.input.getQuery();\n\n    if (this.dropdown.isEmpty && query.length >= this.minLength) {\n      this.dropdown.update(query);\n    } else {\n      this.dropdown.moveCursorUp();\n    }\n\n    this.dropdown.open();\n  },\n\n  _onDownKeyed: function onDownKeyed() {\n    var query = this.input.getQuery();\n\n    if (this.dropdown.isEmpty && query.length >= this.minLength) {\n      this.dropdown.update(query);\n    } else {\n      this.dropdown.moveCursorDown();\n    }\n\n    this.dropdown.open();\n  },\n\n  _onLeftKeyed: function onLeftKeyed() {\n    if (this.dir === 'rtl') {\n      this._autocomplete();\n    }\n  },\n\n  _onRightKeyed: function onRightKeyed() {\n    if (this.dir === 'ltr') {\n      this._autocomplete();\n    }\n  },\n\n  _onQueryChanged: function onQueryChanged(e, query) {\n    this.input.clearHintIfInvalid();\n\n    if (query.length >= this.minLength) {\n      this.dropdown.update(query);\n    } else {\n      this.dropdown.empty();\n    }\n\n    this.dropdown.open();\n    this._setLanguageDirection();\n  },\n\n  _onWhitespaceChanged: function onWhitespaceChanged() {\n    this._updateHint();\n    this.dropdown.open();\n  },\n\n  _setLanguageDirection: function setLanguageDirection() {\n    var dir = this.input.getLanguageDirection();\n\n    if (this.dir !== dir) {\n      this.dir = dir;\n      this.$node.css('direction', dir);\n      this.dropdown.setLanguageDirection(dir);\n    }\n  },\n\n  _updateHint: function updateHint() {\n    var datum;\n    var val;\n    var query;\n    var escapedQuery;\n    var frontMatchRegEx;\n    var match;\n\n    datum = this.dropdown.getDatumForTopSuggestion();\n\n    if (datum && this.dropdown.isVisible() && !this.input.hasOverflow()) {\n      val = this.input.getInputValue();\n      query = Input.normalizeQuery(val);\n      escapedQuery = _.escapeRegExChars(query);\n\n      // match input value, then capture trailing text\n      frontMatchRegEx = new RegExp('^(?:' + escapedQuery + ')(.+$)', 'i');\n      match = frontMatchRegEx.exec(datum.value);\n\n      // clear hint if there's no trailing text\n      if (match) {\n        this.input.setHint(val + match[1]);\n      } else {\n        this.input.clearHint();\n      }\n    } else {\n      this.input.clearHint();\n    }\n  },\n\n  _autocomplete: function autocomplete(laxCursor) {\n    var hint;\n    var query;\n    var isCursorAtEnd;\n    var datum;\n\n    hint = this.input.getHint();\n    query = this.input.getQuery();\n    isCursorAtEnd = laxCursor || this.input.isCursorAtEnd();\n\n    if (hint && query !== hint && isCursorAtEnd) {\n      datum = this.dropdown.getDatumForTopSuggestion();\n      if (datum) {\n        this.input.setInputValue(datum.value);\n      }\n\n      this.eventBus.trigger('autocompleted', datum.raw, datum.datasetName);\n    }\n  },\n\n  _select: function select(datum, context) {\n    if (typeof datum.value !== 'undefined') {\n      this.input.setQuery(datum.value);\n    }\n    if (this.clearOnSelected) {\n      this.setVal('');\n    } else {\n      this.input.setInputValue(datum.value, true);\n    }\n\n    this._setLanguageDirection();\n\n    var event = this.eventBus.trigger('selected', datum.raw, datum.datasetName, context);\n    if (event.isDefaultPrevented() === false) {\n      this.dropdown.close();\n\n      // #118: allow click event to bubble up to the body before removing\n      // the suggestions otherwise we break event delegation\n      _.defer(_.bind(this.dropdown.empty, this.dropdown));\n    }\n  },\n\n  // ### public\n\n  open: function open() {\n    // if the menu is not activated yet, we need to update\n    // the underlying dropdown menu to trigger the search\n    // otherwise we're not gonna see anything\n    if (!this.isActivated) {\n      var query = this.input.getInputValue();\n      if (query.length >= this.minLength) {\n        this.dropdown.update(query);\n      } else {\n        this.dropdown.empty();\n      }\n    }\n    this.dropdown.open();\n  },\n\n  close: function close() {\n    this.dropdown.close();\n  },\n\n  setVal: function setVal(val) {\n    // expect val to be a string, so be safe, and coerce\n    val = _.toStr(val);\n\n    if (this.isActivated) {\n      this.input.setInputValue(val);\n    } else {\n      this.input.setQuery(val);\n      this.input.setInputValue(val, true);\n    }\n\n    this._setLanguageDirection();\n  },\n\n  getVal: function getVal() {\n    return this.input.getQuery();\n  },\n\n  destroy: function destroy() {\n    this.input.destroy();\n    this.dropdown.destroy();\n\n    destroyDomStructure(this.$node, this.cssClasses);\n\n    this.$node = null;\n  },\n\n  getWrapper: function getWrapper() {\n    return this.dropdown.$container[0];\n  }\n});\n\nfunction buildDom(options) {\n  var $input;\n  var $wrapper;\n  var $dropdown;\n  var $hint;\n\n  $input = DOM.element(options.input);\n  $wrapper = DOM\n    .element(html.wrapper.replace('%ROOT%', options.cssClasses.root))\n    .css(options.css.wrapper);\n\n  // override the display property with the table-cell value\n  // if the parent element is a table and the original input was a block\n  //  -> https://github.com/algolia/autocomplete.js/issues/16\n  if (!options.appendTo && $input.css('display') === 'block' && $input.parent().css('display') === 'table') {\n    $wrapper.css('display', 'table-cell');\n  }\n  var dropdownHtml = html.dropdown.\n    replace('%PREFIX%', options.cssClasses.prefix).\n    replace('%DROPDOWN_MENU%', options.cssClasses.dropdownMenu);\n  $dropdown = DOM.element(dropdownHtml)\n    .css(options.css.dropdown)\n    .attr({\n      role: 'listbox',\n      id: options.listboxId\n    });\n  if (options.templates && options.templates.dropdownMenu) {\n    $dropdown.html(_.templatify(options.templates.dropdownMenu)());\n  }\n  $hint = $input.clone().css(options.css.hint).css(getBackgroundStyles($input));\n\n  $hint\n    .val('')\n    .addClass(_.className(options.cssClasses.prefix, options.cssClasses.hint, true))\n    .removeAttr('id name placeholder required')\n    .prop('readonly', true)\n    .attr({\n      'aria-hidden': 'true',\n      autocomplete: 'off',\n      spellcheck: 'false',\n      tabindex: -1\n    });\n  if ($hint.removeData) {\n    $hint.removeData();\n  }\n\n  // store the original values of the attrs that get modified\n  // so modifications can be reverted on destroy\n  $input.data(attrsKey, {\n    'aria-autocomplete': $input.attr('aria-autocomplete'),\n    'aria-expanded': $input.attr('aria-expanded'),\n    'aria-owns': $input.attr('aria-owns'),\n    autocomplete: $input.attr('autocomplete'),\n    dir: $input.attr('dir'),\n    role: $input.attr('role'),\n    spellcheck: $input.attr('spellcheck'),\n    style: $input.attr('style'),\n    type: $input.attr('type')\n  });\n\n  $input\n    .addClass(_.className(options.cssClasses.prefix, options.cssClasses.input, true))\n    .attr({\n      autocomplete: 'off',\n      spellcheck: false,\n\n      // Accessibility features\n      // Give the field a presentation of a \"select\".\n      // Combobox is the combined presentation of a single line textfield\n      // with a listbox popup.\n      // https://www.w3.org/WAI/PF/aria/roles#combobox\n      role: 'combobox',\n      // Let the screen reader know the field has an autocomplete\n      // feature to it.\n      'aria-autocomplete': (options.datasets &&\n        options.datasets[0] && options.datasets[0].displayKey ? 'both' : 'list'),\n      // Indicates whether the dropdown it controls is currently expanded or collapsed\n      'aria-expanded': 'false',\n      'aria-label': options.ariaLabel,\n      // Explicitly point to the listbox,\n      // which is a list of suggestions (aka options)\n      'aria-owns': options.listboxId\n    })\n    .css(options.hint ? options.css.input : options.css.inputWithNoHint);\n\n  // ie7 does not like it when dir is set to auto\n  try {\n    if (!$input.attr('dir')) {\n      $input.attr('dir', 'auto');\n    }\n  } catch (e) {\n    // ignore\n  }\n\n  $wrapper = options.appendTo\n    ? $wrapper.appendTo(DOM.element(options.appendTo).eq(0)).eq(0)\n    : $input.wrap($wrapper).parent();\n\n  $wrapper\n    .prepend(options.hint ? $hint : null)\n    .append($dropdown);\n\n  return {\n    wrapper: $wrapper,\n    input: $input,\n    hint: $hint,\n    menu: $dropdown\n  };\n}\n\nfunction getBackgroundStyles($el) {\n  return {\n    backgroundAttachment: $el.css('background-attachment'),\n    backgroundClip: $el.css('background-clip'),\n    backgroundColor: $el.css('background-color'),\n    backgroundImage: $el.css('background-image'),\n    backgroundOrigin: $el.css('background-origin'),\n    backgroundPosition: $el.css('background-position'),\n    backgroundRepeat: $el.css('background-repeat'),\n    backgroundSize: $el.css('background-size')\n  };\n}\n\nfunction destroyDomStructure($node, cssClasses) {\n  var $input = $node.find(_.className(cssClasses.prefix, cssClasses.input));\n\n  // need to remove attrs that weren't previously defined and\n  // revert attrs that originally had a value\n  _.each($input.data(attrsKey), function(val, key) {\n    if (val === undefined) {\n      $input.removeAttr(key);\n    } else {\n      $input.attr(key, val);\n    }\n  });\n\n  $input\n    .detach()\n    .removeClass(_.className(cssClasses.prefix, cssClasses.input, true))\n    .insertAfter($node);\n  if ($input.removeData) {\n    $input.removeData(attrsKey);\n  }\n\n  $node.remove();\n}\n\nTypeahead.Dropdown = Dropdown;\nTypeahead.Input = Input;\nTypeahead.sources = require('../sources/index.js');\n\nmodule.exports = Typeahead;\n","'use strict';\n\nmodule.exports = {\n  element: null\n};\n","'use strict';\nmodule.exports = function parseAlgoliaClientVersion(agent) {\n  var parsed = agent.match(/Algolia for vanilla JavaScript (\\d+\\.)(\\d+\\.)(\\d+)/);\n  if (parsed) return [parsed[1], parsed[2], parsed[3]];\n  return undefined;\n};\n","'use strict';\n\nvar DOM = require('./dom.js');\n\nfunction escapeRegExp(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n\nmodule.exports = {\n  // those methods are implemented differently\n  // depending on which build it is, using\n  // $... or angular... or Zepto... or require(...)\n  isArray: null,\n  isFunction: null,\n  isObject: null,\n  bind: null,\n  each: null,\n  map: null,\n  mixin: null,\n\n  isMsie: function(agentString) {\n    if (agentString === undefined) { agentString = navigator.userAgent; }\n    // from https://github.com/ded/bowser/blob/master/bowser.js\n    if ((/(msie|trident)/i).test(agentString)) {\n      var match = agentString.match(/(msie |rv:)(\\d+(.\\d+)?)/i);\n      if (match) { return match[2]; }\n    }\n    return false;\n  },\n\n  // http://stackoverflow.com/a/6969486\n  escapeRegExChars: function(str) {\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n  },\n\n  isNumber: function(obj) { return typeof obj === 'number'; },\n\n  toStr: function toStr(s) {\n    return s === undefined || s === null ? '' : s + '';\n  },\n\n  cloneDeep: function cloneDeep(obj) {\n    var clone = this.mixin({}, obj);\n    var self = this;\n    this.each(clone, function(value, key) {\n      if (value) {\n        if (self.isArray(value)) {\n          clone[key] = [].concat(value);\n        } else if (self.isObject(value)) {\n          clone[key] = self.cloneDeep(value);\n        }\n      }\n    });\n    return clone;\n  },\n\n  error: function(msg) {\n    throw new Error(msg);\n  },\n\n  every: function(obj, test) {\n    var result = true;\n    if (!obj) {\n      return result;\n    }\n    this.each(obj, function(val, key) {\n      if (result) {\n        result = test.call(null, val, key, obj) && result;\n      }\n    });\n    return !!result;\n  },\n\n  any: function(obj, test) {\n    var found = false;\n    if (!obj) {\n      return found;\n    }\n    this.each(obj, function(val, key) {\n      if (test.call(null, val, key, obj)) {\n        found = true;\n        return false;\n      }\n    });\n    return found;\n  },\n\n  getUniqueId: (function() {\n    var counter = 0;\n    return function() { return counter++; };\n  })(),\n\n  templatify: function templatify(obj) {\n    if (this.isFunction(obj)) {\n      return obj;\n    }\n    var $template = DOM.element(obj);\n    if ($template.prop('tagName') === 'SCRIPT') {\n      return function template() { return $template.text(); };\n    }\n    return function template() { return String(obj); };\n  },\n\n  defer: function(fn) { setTimeout(fn, 0); },\n\n  noop: function() {},\n\n  formatPrefix: function(prefix, noPrefix) {\n    return noPrefix ? '' : prefix + '-';\n  },\n\n  className: function(prefix, clazz, skipDot) {\n    return (skipDot ? '' : '.') + prefix + clazz;\n  },\n\n  escapeHighlightedString: function(str, highlightPreTag, highlightPostTag) {\n    highlightPreTag = highlightPreTag || '<em>';\n    var pre = document.createElement('div');\n    pre.appendChild(document.createTextNode(highlightPreTag));\n\n    highlightPostTag = highlightPostTag || '</em>';\n    var post = document.createElement('div');\n    post.appendChild(document.createTextNode(highlightPostTag));\n\n    var div = document.createElement('div');\n    div.appendChild(document.createTextNode(str));\n    return div.innerHTML\n      .replace(RegExp(escapeRegExp(pre.innerHTML), 'g'), highlightPreTag)\n      .replace(RegExp(escapeRegExp(post.innerHTML), 'g'), highlightPostTag);\n  }\n};\n","'use strict';\n\nvar _ = require('../common/utils.js');\nvar version = require('../../version.js');\nvar parseAlgoliaClientVersion = require('../common/parseAlgoliaClientVersion.js');\n\nmodule.exports = function search(index, params) {\n  var algoliaVersion = parseAlgoliaClientVersion(index.as._ua);\n  if (algoliaVersion && algoliaVersion[0] >= 3 && algoliaVersion[1] > 20) {\n    params = params || {};\n    params.additionalUA = 'autocomplete.js ' + version;\n  }\n  return sourceFn;\n\n  function sourceFn(query, cb) {\n    index.search(query, params, function(error, content) {\n      if (error) {\n        _.error(error.message);\n        return;\n      }\n      cb(content.hits, content);\n    });\n  }\n};\n","'use strict';\n\nmodule.exports = {\n  hits: require('./hits.js'),\n  popularIn: require('./popularIn.js')\n};\n","'use strict';\n\nvar _ = require('../common/utils.js');\nvar version = require('../../version.js');\nvar parseAlgoliaClientVersion = require('../common/parseAlgoliaClientVersion.js');\n\nmodule.exports = function popularIn(index, params, details, options) {\n  var algoliaVersion = parseAlgoliaClientVersion(index.as._ua);\n  if (algoliaVersion && algoliaVersion[0] >= 3 && algoliaVersion[1] > 20) {\n    params = params || {};\n    params.additionalUA = 'autocomplete.js ' + version;\n  }\n  if (!details.source) {\n    return _.error(\"Missing 'source' key\");\n  }\n  var source = _.isFunction(details.source) ? details.source : function(hit) { return hit[details.source]; };\n\n  if (!details.index) {\n    return _.error(\"Missing 'index' key\");\n  }\n  var detailsIndex = details.index;\n\n  options = options || {};\n\n  return sourceFn;\n\n  function sourceFn(query, cb) {\n    index.search(query, params, function(error, content) {\n      if (error) {\n        _.error(error.message);\n        return;\n      }\n\n      if (content.hits.length > 0) {\n        var first = content.hits[0];\n\n        var detailsParams = _.mixin({hitsPerPage: 0}, details);\n        delete detailsParams.source; // not a query parameter\n        delete detailsParams.index; // not a query parameter\n\n        var detailsAlgoliaVersion = parseAlgoliaClientVersion(detailsIndex.as._ua);\n        if (detailsAlgoliaVersion && detailsAlgoliaVersion[0] >= 3 && detailsAlgoliaVersion[1] > 20) {\n          params.additionalUA = 'autocomplete.js ' + version;\n        }\n\n        detailsIndex.search(source(first), detailsParams, function(error2, content2) {\n          if (error2) {\n            _.error(error2.message);\n            return;\n          }\n\n          var suggestions = [];\n\n          // add the 'all department' entry before others\n          if (options.includeAll) {\n            var label = options.allTitle || 'All departments';\n            suggestions.push(_.mixin({\n              facet: {value: label, count: content2.nbHits}\n            }, _.cloneDeep(first)));\n          }\n\n          // enrich the first hit iterating over the facets\n          _.each(content2.facets, function(values, facet) {\n            _.each(values, function(count, value) {\n              suggestions.push(_.mixin({\n                facet: {facet: facet, value: value, count: count}\n              }, _.cloneDeep(first)));\n            });\n          });\n\n          // append all other hits\n          for (var i = 1; i < content.hits.length; ++i) {\n            suggestions.push(content.hits[i]);\n          }\n\n          cb(suggestions, content);\n        });\n\n        return;\n      }\n\n      cb([]);\n    });\n  }\n};\n","'use strict';\n\n// this will inject Zepto in window, unfortunately no easy commonJS zepto build\nvar zepto = require('../../zepto.js');\n\n// setup DOM element\nvar DOM = require('../common/dom.js');\nDOM.element = zepto;\n\n// setup utils functions\nvar _ = require('../common/utils.js');\n_.isArray = zepto.isArray;\n_.isFunction = zepto.isFunction;\n_.isObject = zepto.isPlainObject;\n_.bind = zepto.proxy;\n_.each = function(collection, cb) {\n  // stupid argument order for jQuery.each\n  zepto.each(collection, reverseArgs);\n  function reverseArgs(index, value) {\n    return cb(value, index);\n  }\n};\n_.map = zepto.map;\n_.mixin = zepto.extend;\n_.Event = zepto.Event;\n\nvar typeaheadKey = 'aaAutocomplete';\nvar Typeahead = require('../autocomplete/typeahead.js');\nvar EventBus = require('../autocomplete/event_bus.js');\n\nfunction autocomplete(selector, options, datasets, typeaheadObject) {\n  datasets = _.isArray(datasets) ? datasets : [].slice.call(arguments, 2);\n\n  var inputs = zepto(selector).each(function(i, input) {\n    var $input = zepto(input);\n    var eventBus = new EventBus({el: $input});\n    var typeahead = typeaheadObject || new Typeahead({\n      input: $input,\n      eventBus: eventBus,\n      dropdownMenuContainer: options.dropdownMenuContainer,\n      hint: options.hint === undefined ? true : !!options.hint,\n      minLength: options.minLength,\n      autoselect: options.autoselect,\n      autoselectOnBlur: options.autoselectOnBlur,\n      tabAutocomplete: options.tabAutocomplete,\n      openOnFocus: options.openOnFocus,\n      templates: options.templates,\n      debug: options.debug,\n      clearOnSelected: options.clearOnSelected,\n      cssClasses: options.cssClasses,\n      datasets: datasets,\n      keyboardShortcuts: options.keyboardShortcuts,\n      appendTo: options.appendTo,\n      autoWidth: options.autoWidth,\n      ariaLabel: options.ariaLabel || input.getAttribute('aria-label')\n    });\n    $input.data(typeaheadKey, typeahead);\n  });\n\n  // expose all methods in the `autocomplete` attribute\n  inputs.autocomplete = {};\n  _.each(['open', 'close', 'getVal', 'setVal', 'destroy', 'getWrapper'], function(method) {\n    inputs.autocomplete[method] = function() {\n      var methodArguments = arguments;\n      var result;\n      inputs.each(function(j, input) {\n        var typeahead = zepto(input).data(typeaheadKey);\n        result = typeahead[method].apply(typeahead, methodArguments);\n      });\n      return result;\n    };\n  });\n\n  return inputs;\n}\n\nautocomplete.sources = Typeahead.sources;\nautocomplete.escapeHighlightedString = _.escapeHighlightedString;\n\nvar wasAutocompleteSet = 'autocomplete' in window;\nvar oldAutocomplete = window.autocomplete;\nautocomplete.noConflict = function noConflict() {\n  if (wasAutocompleteSet) {\n    window.autocomplete = oldAutocomplete;\n  } else {\n    delete window.autocomplete;\n  }\n  return autocomplete;\n};\n\nmodule.exports = autocomplete;\n","module.exports = \"0.36.0\";\n","/* istanbul ignore next */\n/* Zepto v1.2.0 - zepto event assets data - zeptojs.com/license */\n(function(global, factory) {\n  module.exports = factory(global);\n}(/* this ##### UPDATED: here we want to use window/global instead of this which is the current file context ##### */ window, function(window) {\n  var Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [], concat = emptyArray.concat, filter = emptyArray.filter, slice = emptyArray.slice,\n    document = window.document,\n    elementDisplay = {}, classCache = {},\n    cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\n    fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n    singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n    tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n    rootNodeRE = /^(?:body|html)$/i,\n    capitalRE = /([A-Z])/g,\n\n    // special attributes that should be get/set via method calls\n    methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n    adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\n    table = document.createElement('table'),\n    tableRow = document.createElement('tr'),\n    containers = {\n      'tr': document.createElement('tbody'),\n      'tbody': table, 'thead': table, 'tfoot': table,\n      'td': tableRow, 'th': tableRow,\n      '*': document.createElement('div')\n    },\n    readyRE = /complete|loaded|interactive/,\n    simpleSelectorRE = /^[\\w-]*$/,\n    class2type = {},\n    toString = class2type.toString,\n    zepto = {},\n    camelize, uniq,\n    tempParent = document.createElement('div'),\n    propMap = {\n      'tabindex': 'tabIndex',\n      'readonly': 'readOnly',\n      'for': 'htmlFor',\n      'class': 'className',\n      'maxlength': 'maxLength',\n      'cellspacing': 'cellSpacing',\n      'cellpadding': 'cellPadding',\n      'rowspan': 'rowSpan',\n      'colspan': 'colSpan',\n      'usemap': 'useMap',\n      'frameborder': 'frameBorder',\n      'contenteditable': 'contentEditable'\n    },\n    isArray = Array.isArray ||\n      function(object){ return object instanceof Array }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.matches || element.webkitMatchesSelector ||\n                          element.mozMatchesSelector || element.oMatchesSelector ||\n                          element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n    // fall back to performing a selector:\n    var match, parent = element.parentNode, temp = !parent\n    if (temp) (parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n      class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) { return type(value) == \"function\" }\n  function isWindow(obj)     { return obj != null && obj == obj.window }\n  function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\n  function isObject(obj)     { return type(obj) == \"object\" }\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n\n  function likeArray(obj) {\n    var length = !!obj && 'length' in obj && obj.length,\n      type = $.type(obj)\n\n    return 'function' != type && !isWindow(obj) && (\n      'array' == type || length === 0 ||\n        (typeof length == 'number' && length > 0 && (length - 1) in obj)\n    )\n  }\n\n  function compact(array) { return filter.call(array, function(item){ return item != null }) }\n  function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\n  camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n           .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n           .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n           .replace(/_/g, '-')\n           .toLowerCase()\n  }\n  uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\n\n  function classRE(name) {\n    return name in classCache ?\n      classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n      slice.call(element.children) :\n      $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\n  }\n\n  function Z(dom, selector) {\n    var i, len = dom ? dom.length : 0\n    for (i = 0; i < len; i++) this[i] = dom[i]\n    this.length = len\n    this.selector = selector || ''\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overridden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function(){\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. This method can be overridden in plugins.\n  zepto.Z = function(dom, selector) {\n    return new Z(dom, selector)\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overridden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overridden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n    // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n    // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n      // If it's a html fragment, create nodes from it\n      // Note: In both Chrome 21 and Firefox 15, DOM error 12\n      // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n    // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n      // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n      // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context){\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      }\n      else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target){\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg){ extend(target, arg, deep) })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overridden in plugins.\n  zepto.qsa = function(element, selector){\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n        isSimple = simpleSelectorRE.test(nameOnly)\n    return (element.getElementById && isSimple && maybeID) ? // Safari DocumentFragment doesn't have getElementById\n      ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\n      (element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11) ? [] :\n      slice.call(\n        isSimple && !maybeID && element.getElementsByClassName ? // DocumentFragment doesn't have getElementsByClassName/TagName\n          maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n          element.getElementsByTagName(selector) : // Or a tag\n          element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n      )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = document.documentElement.contains ?\n    function(parent, node) {\n      return parent !== node && parent.contains(node)\n    } :\n    function(parent, node) {\n      while (node && (node = node.parentNode))\n        if (node === parent) return true\n      return false\n    }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value){\n    var klass = node.className || '',\n        svg   = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    try {\n      return value ?\n        value == \"true\" ||\n        ( value == \"false\" ? false :\n          value == \"null\" ? null :\n          +value + \"\" == value ? +value :\n          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n          value )\n        : value\n    } catch(e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.isNumeric = function(val) {\n    var num = Number(val), type = typeof val\n    return val != null && type != 'boolean' &&\n      (type != 'string' || val.length) &&\n      !isNaN(num) && isFinite(num) || false\n  }\n\n  $.inArray = function(elem, array, i){\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = { }\n  $.expr = { }\n  $.noop = function() {}\n\n  $.map = function(elements, callback){\n    var value, values = [], i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback){\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback){\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    constructor: zepto.Z,\n    length: 0,\n\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    splice: emptyArray.splice,\n    indexOf: emptyArray.indexOf,\n    concat: function(){\n      var i, value, args = []\n      for (i = 0; i < arguments.length; i++) {\n        value = arguments[i]\n        args[i] = zepto.isZ(value) ? value.toArray() : value\n      }\n      return concat.apply(zepto.isZ(this) ? this.toArray() : this, args)\n    },\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn){\n      return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\n    },\n    slice: function(){\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    },\n    get: function(idx){\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function(){ return this.get() },\n    size: function(){\n      return this.length\n    },\n    remove: function(){\n      return this.each(function(){\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback){\n      emptyArray.every.call(this, function(el, idx){\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector){\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element){\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector,context){\n      return $(uniq(this.concat($(selector,context))))\n    },\n    is: function(selector){\n      return this.length > 0 && zepto.matches(this[0], selector)\n    },\n    not: function(selector){\n      var nodes=[]\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx){\n          if (!selector.call(this,idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n          (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el){\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector){\n      return this.filter(function(){\n        return isObject(selector) ?\n          $.contains(this, selector) :\n          $(this).find(selector).size()\n      })\n    },\n    eq: function(idx){\n      return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\n    },\n    first: function(){\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function(){\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector){\n      var result, $this = this\n      if (!selector) result = $()\n      else if (typeof selector == 'object')\n        result = $(selector).filter(function(){\n          var node = this\n          return emptyArray.some.call($this, function(parent){\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function(){ return zepto.qsa(this, selector) })\n      return result\n    },\n    closest: function(selector, context){\n      var nodes = [], collection = typeof selector == 'object' && $(selector)\n      this.each(function(_, node){\n        while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n          node = node !== context && !isDocument(node) && node.parentNode\n        if (node && nodes.indexOf(node) < 0) nodes.push(node)\n      })\n      return $(nodes)\n    },\n    parents: function(selector){\n      var ancestors = [], nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node){\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector){\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector){\n      return filtered(this.map(function(){ return children(this) }), selector)\n    },\n    contents: function() {\n      return this.map(function() { return this.contentDocument || slice.call(this.childNodes) })\n    },\n    siblings: function(selector){\n      return filtered(this.map(function(i, el){\n        return filter.call(children(el.parentNode), function(child){ return child!==el })\n      }), selector)\n    },\n    empty: function(){\n      return this.each(function(){ this.innerHTML = '' })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property){\n      return $.map(this, function(el){ return el[property] })\n    },\n    show: function(){\n      return this.each(function(){\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      })\n    },\n    replaceWith: function(newContent){\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure){\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom   = $(structure).get(0),\n            clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index){\n        $(this).wrapAll(\n          func ? structure.call(this, index) :\n            clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure){\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n        // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure){\n      var func = isFunction(structure)\n      return this.each(function(index){\n        var self = $(this), contents = self.contents(),\n            dom  = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function(){\n      this.parent().each(function(){\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function(){\n      return this.map(function(){ return this.cloneNode(true) })\n    },\n    hide: function(){\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting){\n      return this.each(function(){\n        var el = $(this)\n        ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\n      })\n    },\n    prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\n    next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\n    html: function(html){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var originHtml = this.innerHTML\n          $(this).empty().append( funcArg(this, html, idx, originHtml) )\n        }) :\n        (0 in this ? this[0].innerHTML : null)\n    },\n    text: function(text){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var newText = funcArg(this, text, idx, this.textContent)\n          this.textContent = newText == null ? '' : ''+newText\n        }) :\n        (0 in this ? this.pluck('textContent').join(\"\") : null)\n    },\n    attr: function(name, value){\n      var result\n      return (typeof name == 'string' && !(1 in arguments)) ?\n        (0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined) :\n        this.each(function(idx){\n          if (this.nodeType !== 1) return\n          if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\n          else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n        })\n    },\n    removeAttr: function(name){\n      return this.each(function(){ this.nodeType === 1 && name.split(' ').forEach(function(attribute){\n        setAttribute(this, attribute)\n      }, this)})\n    },\n    prop: function(name, value){\n      name = propMap[name] || name\n      return (1 in arguments) ?\n        this.each(function(idx){\n          this[name] = funcArg(this, value, idx, this[name])\n        }) :\n        (this[0] && this[0][name])\n    },\n    removeProp: function(name){\n      name = propMap[name] || name\n      return this.each(function(){ delete this[name] })\n    },\n    data: function(name, value){\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\n\n      var data = (1 in arguments) ?\n        this.attr(attrName, value) :\n        this.attr(attrName)\n\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value){\n      if (0 in arguments) {\n        if (value == null) value = \"\"\n        return this.each(function(idx){\n          this.value = funcArg(this, value, idx, this.value)\n        })\n      } else {\n        return this[0] && (this[0].multiple ?\n           $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\n           this[0].value)\n      }\n    },\n    offset: function(coordinates){\n      if (coordinates) return this.each(function(index){\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n              top:  coords.top  - parentOffset.top,\n              left: coords.left - parentOffset.left\n            }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (!this.length) return null\n      if (document.documentElement !== this[0] && !$.contains(document.documentElement, this[0]))\n        return {top: 0, left: 0}\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value){\n      if (arguments.length < 2) {\n        var element = this[0]\n        if (typeof property == 'string') {\n          if (!element) return\n          return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property)\n        } else if (isArray(property)) {\n          if (!element) return\n          var props = {}\n          var computedStyle = getComputedStyle(element, '')\n          $.each(property, function(_, prop){\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function(){ this.style.removeProperty(dasherize(property)) })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function(){ this.style.removeProperty(dasherize(key)) })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function(){ this.style.cssText += ';' + css })\n    },\n    index: function(element){\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name){\n      if (!name) return false\n      return emptyArray.some.call(this, function(el){\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name){\n      if (!name) return this\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        classList = []\n        var cls = className(this), newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass){\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name){\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when){\n      if (!name) return this\n      return this.each(function(idx){\n        var $this = $(this), names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass){\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n            $this.addClass(klass) : $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value){\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n        function(){ this.scrollTop = value } :\n        function(){ this.scrollTo(this.scrollX, value) })\n    },\n    scrollLeft: function(value){\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n        function(){ this.scrollLeft = value } :\n        function(){ this.scrollTo(value, this.scrollY) })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n        // Get *real* offsetParent\n        offsetParent = this.offsetParent(),\n        // Get correct offsets\n        offset       = this.offset(),\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\n      offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\n\n      // Add offsetParent borders\n      parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\n      parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\n\n      // Subtract the two offsets\n      return {\n        top:  offset.top  - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function(){\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n  // Generate the `width` and `height` functions\n  ;['width', 'height'].forEach(function(dimension){\n    var dimensionProperty =\n      dimension.replace(/./, function(m){ return m[0].toUpperCase() })\n\n    $.fn[dimension] = function(value){\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n        isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n        (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx){\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\n      traverseNode(node.childNodes[i], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function(){\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n            var arr = []\n            argType = type(arg)\n            if (argType == \"array\") {\n              arg.forEach(function(el) {\n                if (el.nodeType !== undefined) return arr.push(el)\n                else if ($.zepto.isZ(el)) return arr = arr.concat(el.get())\n                arr = arr.concat(zepto.fragment(el))\n              })\n              return arr\n            }\n            return argType == \"object\" || arg == null ?\n              arg : zepto.fragment(arg)\n          }),\n          parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target){\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n                 operatorIndex == 1 ? target.firstChild :\n                 operatorIndex == 2 ? target :\n                 null\n\n        var parentInDocument = $.contains(document.documentElement, parent)\n\n        nodes.forEach(function(node){\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          parent.insertBefore(node, target)\n          if (parentInDocument) traverseNode(node, function(el){\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n               (!el.type || el.type === 'text/javascript') && !el.src){\n              var target = el.ownerDocument ? el.ownerDocument.defaultView : window\n              target['eval'].call(target, el.innerHTML)\n            }\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\n;(function($){\n  var _zid = 1, undefined,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function(obj){ return typeof obj == 'string' },\n      handlers = {},\n      specialEvents={},\n      focusinSupported = 'onfocusin' in window,\n      focus = { focus: 'focusin', blur: 'focusout' },\n      hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler\n        && (!event.e  || handler.e == event.e)\n        && (!event.ns || matcher.test(handler.ns))\n        && (!fn       || zid(handler.fn) === zid(fn))\n        && (!selector || handler.sel == selector)\n    })\n  }\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\n  }\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n      (!focusinSupported && (handler.e in focus)) ||\n      !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture){\n    var id = zid(element), set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event){\n      if (event == 'ready') return $(document).ready(fn)\n      var handler   = parse(event)\n      handler.fn    = fn\n      handler.sel   = selector\n      // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e){\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del   = delegator\n      var callback  = delegator || fn\n      handler.proxy = function(e){\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        try {\n          var dataPropDescriptor = Object.getOwnPropertyDescriptor(e, 'data')\n          if (!dataPropDescriptor || dataPropDescriptor.writable)\n            e.data = data\n        } catch (e) {} // when using strict mode dataPropDescriptor will be undefined when e is InputEvent (even though data property exists). So we surround with try/catch\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n  function remove(element, events, fn, selector, capture){\n    var id = zid(element)\n    ;(events || '').split(/\\s/).forEach(function(event){\n      findHandlers(element, event, fn, selector).forEach(function(handler){\n        delete handlers[id][handler.i]\n      if ('removeEventListener' in element)\n        element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = { add: add, remove: remove }\n\n  $.proxy = function(fn, context) {\n    var args = (2 in arguments) && slice.call(arguments, 2)\n    if (isFunction(fn)) {\n      var proxyFn = function(){ return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn)\n        return $.proxy.apply(null, args)\n      } else {\n        return $.proxy(fn[context], fn)\n      }\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback){\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback){\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback){\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function(){return true},\n      returnFalse = function(){return false},\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\n      eventMethods = {\n        preventDefault: 'isDefaultPrevented',\n        stopImmediatePropagation: 'isImmediatePropagationStopped',\n        stopPropagation: 'isPropagationStopped'\n      }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function(){\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      event.timeStamp || (event.timeStamp = Date.now())\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n          'returnValue' in source ? source.returnValue === false :\n          source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = { originalEvent: event }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback){\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback){\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback){\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback){\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one){\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (callback === undefined || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element){\n      if (one) autoRemove = function(e){\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e){\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback){\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(){\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args){\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function(){\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\n      // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args){\n    var e, result\n    this.each(function(i, element){\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler){\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n  // shortcut methods for `.bind(event, fn)` for each event type\n  ;('focusin focusout focus blur load resize scroll unload click dblclick '+\n  'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\n  'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n    $.fn[event] = function(callback) {\n      return (0 in arguments) ?\n        this.bind(event, callback) :\n        this.trigger(event)\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\n    if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n\n;(function($){\n  var cache = [], timeout\n\n  $.fn.remove = function(){\n    return this.each(function(){\n      if(this.parentNode){\n        if(this.tagName === 'IMG'){\n          cache.push(this)\n          this.src = 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='\n          if (timeout) clearTimeout(timeout)\n          timeout = setTimeout(function(){ cache = [] }, 60000)\n        }\n        this.parentNode.removeChild(this)\n      }\n    })\n  }\n})(Zepto)\n\n;(function($){\n  var data = {}, dataAttr = $.fn.data, camelize = $.camelCase,\n    exp = $.expando = 'Zepto' + (+new Date()), emptyArray = []\n\n  // Get value from node:\n  // 1. first try key as given,\n  // 2. then try camelized key,\n  // 3. fall back to reading \"data-*\" attribute.\n  function getData(node, name) {\n    var id = node[exp], store = id && data[id]\n    if (name === undefined) return store || setData(node)\n    else {\n      if (store) {\n        if (name in store) return store[name]\n        var camelName = camelize(name)\n        if (camelName in store) return store[camelName]\n      }\n      return dataAttr.call($(node), name)\n    }\n  }\n\n  // Store value under camelized key on node\n  function setData(node, name, value) {\n    var id = node[exp] || (node[exp] = ++$.uuid),\n      store = data[id] || (data[id] = attributeData(node))\n    if (name !== undefined) store[camelize(name)] = value\n    return store\n  }\n\n  // Read all \"data-*\" attributes from a node\n  function attributeData(node) {\n    var store = {}\n    $.each(node.attributes || emptyArray, function(i, attr){\n      if (attr.name.indexOf('data-') == 0)\n        store[camelize(attr.name.replace('data-', ''))] =\n          $.zepto.deserializeValue(attr.value)\n    })\n    return store\n  }\n\n  $.fn.data = function(name, value) {\n    return value === undefined ?\n      // set multiple values via object\n      $.isPlainObject(name) ?\n        this.each(function(i, node){\n          $.each(name, function(key, value){ setData(node, key, value) })\n        }) :\n        // get value from first element\n        (0 in this ? getData(this[0], name) : undefined) :\n      // set value on all elements\n      this.each(function(){ setData(this, name, value) })\n  }\n\n  $.data = function(elem, name, value) {\n    return $(elem).data(name, value)\n  }\n\n  $.hasData = function(elem) {\n    var id = elem[exp], store = id && data[id]\n    return store ? !$.isEmptyObject(store) : false\n  }\n\n  $.fn.removeData = function(names) {\n    if (typeof names == 'string') names = names.split(/\\s+/)\n    return this.each(function(){\n      var id = this[exp], store = id && data[id]\n      if (store) $.each(names || store, function(key){\n        delete store[names ? camelize(this) : key]\n      })\n    })\n  }\n\n  // Generate extended `remove` and `empty` functions\n  ;['remove', 'empty'].forEach(function(methodName){\n    var origFn = $.fn[methodName]\n    $.fn[methodName] = function() {\n      var elements = this.find('*')\n      if (methodName === 'remove') elements = elements.add(this)\n      elements.removeData()\n      return origFn.call(this)\n    }\n  })\n})(Zepto)\n  return Zepto\n}))\n","window.docsearch = require('docsearch.js');\n\nlet bodymovin = require('lottie-web');\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    document.querySelectorAll('[data-lottie]')\n            .forEach(element => {\n                let animation = element.dataset.lottie;\n                bodymovin.loadAnimation({\n                    wrapper: element,\n                    animType: 'svg',\n                    loop: true,\n                    path: '/assets/svg/' + animation + '.json',\n                });\n            });\n});","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","'use strict';\n\nvar _main = require('./src/lib/main');\n\nvar _main2 = _interopRequireDefault(_main);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = _main2.default; /* eslint-disable import/no-commonjs */\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _hogan = require('hogan.js');\n\nvar _hogan2 = _interopRequireDefault(_hogan);\n\nvar _lite = require('algoliasearch/lite');\n\nvar _lite2 = _interopRequireDefault(_lite);\n\nvar _autocomplete = require('autocomplete.js');\n\nvar _autocomplete2 = _interopRequireDefault(_autocomplete);\n\nvar _templates = require('./templates');\n\nvar _templates2 = _interopRequireDefault(_templates);\n\nvar _utils = require('./utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _version = require('./version');\n\nvar _version2 = _interopRequireDefault(_version);\n\nvar _zepto = require('./zepto');\n\nvar _zepto2 = _interopRequireDefault(_zepto);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Adds an autocomplete dropdown to an input field\n * @function DocSearch\n * @param  {string} options.apiKey         Read-only API key\n * @param  {string} options.indexName      Name of the index to target\n * @param  {string} options.inputSelector  CSS selector that targets the input\n * @param  {string} [options.appId]  Lets you override the applicationId used.\n * If using the default Algolia Crawler, you should not have to change this\n * value.\n * @param  {Object} [options.algoliaOptions] Options to pass the underlying Algolia client\n * @param  {Object} [options.autocompleteOptions] Options to pass to the underlying autocomplete instance\n * @return {Object}\n */\nvar usage = 'Usage:\\n  documentationSearch({\\n  apiKey,\\n  indexName,\\n  inputSelector,\\n  [ appId ],\\n  [ algoliaOptions.{hitsPerPage} ]\\n  [ autocompleteOptions.{hint,debug} ]\\n})';\n\nvar DocSearch = function () {\n  function DocSearch(_ref) {\n    var apiKey = _ref.apiKey,\n        indexName = _ref.indexName,\n        inputSelector = _ref.inputSelector,\n        _ref$appId = _ref.appId,\n        appId = _ref$appId === undefined ? 'BH4D9OD16A' : _ref$appId,\n        _ref$debug = _ref.debug,\n        debug = _ref$debug === undefined ? false : _ref$debug,\n        _ref$algoliaOptions = _ref.algoliaOptions,\n        algoliaOptions = _ref$algoliaOptions === undefined ? {} : _ref$algoliaOptions,\n        _ref$queryDataCallbac = _ref.queryDataCallback,\n        queryDataCallback = _ref$queryDataCallbac === undefined ? null : _ref$queryDataCallbac,\n        _ref$autocompleteOpti = _ref.autocompleteOptions,\n        autocompleteOptions = _ref$autocompleteOpti === undefined ? {\n      debug: false,\n      hint: false,\n      autoselect: true\n    } : _ref$autocompleteOpti,\n        _ref$transformData = _ref.transformData,\n        transformData = _ref$transformData === undefined ? false : _ref$transformData,\n        _ref$queryHook = _ref.queryHook,\n        queryHook = _ref$queryHook === undefined ? false : _ref$queryHook,\n        _ref$handleSelected = _ref.handleSelected,\n        handleSelected = _ref$handleSelected === undefined ? false : _ref$handleSelected,\n        _ref$enhancedSearchIn = _ref.enhancedSearchInput,\n        enhancedSearchInput = _ref$enhancedSearchIn === undefined ? false : _ref$enhancedSearchIn,\n        _ref$layout = _ref.layout,\n        layout = _ref$layout === undefined ? 'collumns' : _ref$layout;\n\n    _classCallCheck(this, DocSearch);\n\n    DocSearch.checkArguments({\n      apiKey: apiKey,\n      indexName: indexName,\n      inputSelector: inputSelector,\n      debug: debug,\n      algoliaOptions: algoliaOptions,\n      queryDataCallback: queryDataCallback,\n      autocompleteOptions: autocompleteOptions,\n      transformData: transformData,\n      queryHook: queryHook,\n      handleSelected: handleSelected,\n      enhancedSearchInput: enhancedSearchInput,\n      layout: layout\n    });\n\n    this.apiKey = apiKey;\n    this.appId = appId;\n    this.indexName = indexName;\n    this.input = DocSearch.getInputFromSelector(inputSelector);\n    this.algoliaOptions = _extends({ hitsPerPage: 5 }, algoliaOptions);\n    this.queryDataCallback = queryDataCallback || null;\n    var autocompleteOptionsDebug = autocompleteOptions && autocompleteOptions.debug ? autocompleteOptions.debug : false;\n    // eslint-disable-next-line no-param-reassign\n    autocompleteOptions.debug = debug || autocompleteOptionsDebug;\n    this.autocompleteOptions = autocompleteOptions;\n    this.autocompleteOptions.cssClasses = this.autocompleteOptions.cssClasses || {};\n    this.autocompleteOptions.cssClasses.prefix = this.autocompleteOptions.cssClasses.prefix || 'ds';\n    var inputAriaLabel = this.input && typeof this.input.attr === 'function' && this.input.attr('aria-label');\n    this.autocompleteOptions.ariaLabel = this.autocompleteOptions.ariaLabel || inputAriaLabel || \"search input\";\n\n    this.isSimpleLayout = layout === 'simple';\n\n    this.client = (0, _lite2.default)(this.appId, this.apiKey);\n    this.client.addAlgoliaAgent('docsearch.js ' + _version2.default);\n\n    if (enhancedSearchInput) {\n      this.input = DocSearch.injectSearchBox(this.input);\n    }\n\n    this.autocomplete = (0, _autocomplete2.default)(this.input, autocompleteOptions, [{\n      source: this.getAutocompleteSource(transformData, queryHook),\n      templates: {\n        suggestion: DocSearch.getSuggestionTemplate(this.isSimpleLayout),\n        footer: _templates2.default.footer,\n        empty: DocSearch.getEmptyTemplate()\n      }\n    }]);\n\n    var customHandleSelected = handleSelected;\n    this.handleSelected = customHandleSelected || this.handleSelected;\n\n    // We prevent default link clicking if a custom handleSelected is defined\n    if (customHandleSelected) {\n      (0, _zepto2.default)('.algolia-autocomplete').on('click', '.ds-suggestions a', function (event) {\n        event.preventDefault();\n      });\n    }\n\n    this.autocomplete.on('autocomplete:selected', this.handleSelected.bind(null, this.autocomplete.autocomplete));\n\n    this.autocomplete.on('autocomplete:shown', this.handleShown.bind(null, this.input));\n\n    if (enhancedSearchInput) {\n      DocSearch.bindSearchBoxEvent();\n    }\n  }\n\n  /**\n   * Checks that the passed arguments are valid. Will throw errors otherwise\n   * @function checkArguments\n   * @param  {object} args Arguments as an option object\n   * @returns {void}\n   */\n\n\n  _createClass(DocSearch, [{\n    key: 'getAutocompleteSource',\n\n\n    /**\n     * Returns the `source` method to be passed to autocomplete.js. It will query\n     * the Algolia index and call the callbacks with the formatted hits.\n     * @function getAutocompleteSource\n     * @param  {function} transformData An optional function to transform the hits\n     * @param {function} queryHook An optional function to transform the query\n     * @returns {function} Method to be passed as the `source` option of\n     * autocomplete\n     */\n    value: function getAutocompleteSource(transformData, queryHook) {\n      var _this = this;\n\n      return function (query, callback) {\n        if (queryHook) {\n          // eslint-disable-next-line no-param-reassign\n          query = queryHook(query) || query;\n        }\n\n        _this.client.search([{\n          indexName: _this.indexName,\n          query: query,\n          params: _this.algoliaOptions\n        }]).then(function (data) {\n          if (_this.queryDataCallback && typeof _this.queryDataCallback == \"function\") {\n            _this.queryDataCallback(data);\n          }\n          var hits = data.results[0].hits;\n          if (transformData) {\n            hits = transformData(hits) || hits;\n          }\n          callback(DocSearch.formatHits(hits));\n        });\n      };\n    }\n\n    // Given a list of hits returned by the API, will reformat them to be used in\n    // a Hogan template\n\n  }, {\n    key: 'handleSelected',\n    value: function handleSelected(input, event, suggestion, datasetNumber) {\n      var context = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n\n      // Do nothing if click on the suggestion, as it's already a <a href>, the\n      // browser will take care of it. This allow Ctrl-Clicking on results and not\n      // having the main window being redirected as well\n      if (context.selectionMethod === 'click') {\n        return;\n      }\n\n      input.setVal('');\n      window.location.assign(suggestion.url);\n    }\n  }, {\n    key: 'handleShown',\n    value: function handleShown(input) {\n      var middleOfInput = input.offset().left + input.width() / 2;\n      var middleOfWindow = (0, _zepto2.default)(document).width() / 2;\n\n      if (isNaN(middleOfWindow)) {\n        middleOfWindow = 900;\n      }\n\n      var alignClass = middleOfInput - middleOfWindow >= 0 ? 'algolia-autocomplete-right' : 'algolia-autocomplete-left';\n      var otherAlignClass = middleOfInput - middleOfWindow < 0 ? 'algolia-autocomplete-right' : 'algolia-autocomplete-left';\n      var autocompleteWrapper = (0, _zepto2.default)('.algolia-autocomplete');\n      if (!autocompleteWrapper.hasClass(alignClass)) {\n        autocompleteWrapper.addClass(alignClass);\n      }\n\n      if (autocompleteWrapper.hasClass(otherAlignClass)) {\n        autocompleteWrapper.removeClass(otherAlignClass);\n      }\n    }\n  }], [{\n    key: 'checkArguments',\n    value: function checkArguments(args) {\n      if (!args.apiKey || !args.indexName) {\n        throw new Error(usage);\n      }\n\n      if (typeof args.inputSelector !== 'string') {\n        throw new Error('Error: inputSelector:' + args.inputSelector + '  must be a string. Each selector must match only one element and separated by \\',\\'');\n      }\n\n      if (!DocSearch.getInputFromSelector(args.inputSelector)) {\n        throw new Error('Error: No input element in the page matches ' + args.inputSelector);\n      }\n    }\n  }, {\n    key: 'injectSearchBox',\n    value: function injectSearchBox(input) {\n      input.before(_templates2.default.searchBox);\n      var newInput = input.prev().prev().find('input');\n      input.remove();\n      return newInput;\n    }\n  }, {\n    key: 'bindSearchBoxEvent',\n    value: function bindSearchBoxEvent() {\n      (0, _zepto2.default)('.searchbox [type=\"reset\"]').on('click', function () {\n        (0, _zepto2.default)('input#docsearch').focus();\n        (0, _zepto2.default)(this).addClass('hide');\n        _autocomplete2.default.autocomplete.setVal('');\n      });\n\n      (0, _zepto2.default)('input#docsearch').on('keyup', function () {\n        var searchbox = document.querySelector('input#docsearch');\n        var reset = document.querySelector('.searchbox [type=\"reset\"]');\n        reset.className = 'searchbox__reset';\n        if (searchbox.value.length === 0) {\n          reset.className += ' hide';\n        }\n      });\n    }\n\n    /**\n     * Returns the matching input from a CSS selector, null if none matches\n     * @function getInputFromSelector\n     * @param  {string} selector CSS selector that matches the search\n     * input of the page\n     * @returns {void}\n     */\n\n  }, {\n    key: 'getInputFromSelector',\n    value: function getInputFromSelector(selector) {\n      var input = (0, _zepto2.default)(selector).filter('input');\n      return input.length ? (0, _zepto2.default)(input[0]) : null;\n    }\n  }, {\n    key: 'formatHits',\n    value: function formatHits(receivedHits) {\n      var clonedHits = _utils2.default.deepClone(receivedHits);\n      var hits = clonedHits.map(function (hit) {\n        if (hit._highlightResult) {\n          // eslint-disable-next-line no-param-reassign\n          hit._highlightResult = _utils2.default.mergeKeyWithParent(hit._highlightResult, 'hierarchy');\n        }\n        return _utils2.default.mergeKeyWithParent(hit, 'hierarchy');\n      });\n\n      // Group hits by category / subcategory\n      var groupedHits = _utils2.default.groupBy(hits, 'lvl0');\n      _zepto2.default.each(groupedHits, function (level, collection) {\n        var groupedHitsByLvl1 = _utils2.default.groupBy(collection, 'lvl1');\n        var flattenedHits = _utils2.default.flattenAndFlagFirst(groupedHitsByLvl1, 'isSubCategoryHeader');\n        groupedHits[level] = flattenedHits;\n      });\n      groupedHits = _utils2.default.flattenAndFlagFirst(groupedHits, 'isCategoryHeader');\n\n      // Translate hits into smaller objects to be send to the template\n      return groupedHits.map(function (hit) {\n        var url = DocSearch.formatURL(hit);\n        var category = _utils2.default.getHighlightedValue(hit, 'lvl0');\n        var subcategory = _utils2.default.getHighlightedValue(hit, 'lvl1') || category;\n        var displayTitle = _utils2.default.compact([_utils2.default.getHighlightedValue(hit, 'lvl2') || subcategory, _utils2.default.getHighlightedValue(hit, 'lvl3'), _utils2.default.getHighlightedValue(hit, 'lvl4'), _utils2.default.getHighlightedValue(hit, 'lvl5'), _utils2.default.getHighlightedValue(hit, 'lvl6')]).join('<span class=\"aa-suggestion-title-separator\" aria-hidden=\"true\">  </span>');\n        var text = _utils2.default.getSnippetedValue(hit, 'content');\n        var isTextOrSubcategoryNonEmpty = subcategory && subcategory !== '' || displayTitle && displayTitle !== '';\n        var isLvl1EmptyOrDuplicate = !subcategory || subcategory === '' || subcategory === category;\n        var isLvl2 = displayTitle && displayTitle !== '' && displayTitle !== subcategory;\n        var isLvl1 = !isLvl2 && subcategory && subcategory !== '' && subcategory !== category;\n        var isLvl0 = !isLvl1 && !isLvl2;\n\n        return {\n          isLvl0: isLvl0,\n          isLvl1: isLvl1,\n          isLvl2: isLvl2,\n          isLvl1EmptyOrDuplicate: isLvl1EmptyOrDuplicate,\n          isCategoryHeader: hit.isCategoryHeader,\n          isSubCategoryHeader: hit.isSubCategoryHeader,\n          isTextOrSubcategoryNonEmpty: isTextOrSubcategoryNonEmpty,\n          category: category,\n          subcategory: subcategory,\n          title: displayTitle,\n          text: text,\n          url: url\n        };\n      });\n    }\n  }, {\n    key: 'formatURL',\n    value: function formatURL(hit) {\n      var url = hit.url,\n          anchor = hit.anchor;\n\n      if (url) {\n        var containsAnchor = url.indexOf('#') !== -1;\n        if (containsAnchor) return url;else if (anchor) return hit.url + '#' + hit.anchor;\n        return url;\n      } else if (anchor) return '#' + hit.anchor;\n      /* eslint-disable */\n      console.warn('no anchor nor url for : ', JSON.stringify(hit));\n      /* eslint-enable */\n      return null;\n    }\n  }, {\n    key: 'getEmptyTemplate',\n    value: function getEmptyTemplate() {\n      return function (args) {\n        return _hogan2.default.compile(_templates2.default.empty).render(args);\n      };\n    }\n  }, {\n    key: 'getSuggestionTemplate',\n    value: function getSuggestionTemplate(isSimpleLayout) {\n      var stringTemplate = isSimpleLayout ? _templates2.default.suggestionSimple : _templates2.default.suggestion;\n      var template = _hogan2.default.compile(stringTemplate);\n      return function (suggestion) {\n        return template.render(suggestion);\n      };\n    }\n  }]);\n\n  return DocSearch;\n}();\n\nexports.default = DocSearch;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _toFactory = require('to-factory');\n\nvar _toFactory2 = _interopRequireDefault(_toFactory);\n\nvar _DocSearch = require('./DocSearch');\n\nvar _DocSearch2 = _interopRequireDefault(_DocSearch);\n\nvar _version = require('./version');\n\nvar _version2 = _interopRequireDefault(_version);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar docsearch = (0, _toFactory2.default)(_DocSearch2.default);\ndocsearch.version = _version2.default;\n\nexports.default = docsearch;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar prefix = 'algolia-docsearch';\nvar suggestionPrefix = prefix + '-suggestion';\nvar footerPrefix = prefix + '-footer';\n\n/* eslint-disable max-len */\n\nvar templates = {\n  suggestion: '\\n  <a class=\"' + suggestionPrefix + '\\n    {{#isCategoryHeader}}' + suggestionPrefix + '__main{{/isCategoryHeader}}\\n    {{#isSubCategoryHeader}}' + suggestionPrefix + '__secondary{{/isSubCategoryHeader}}\\n    \"\\n    aria-label=\"Link to the result\"\\n    href=\"{{{url}}}\"\\n    >\\n    <div class=\"' + suggestionPrefix + '--category-header\">\\n        <span class=\"' + suggestionPrefix + '--category-header-lvl0\">{{{category}}}</span>\\n    </div>\\n    <div class=\"' + suggestionPrefix + '--wrapper\">\\n      <div class=\"' + suggestionPrefix + '--subcategory-column\">\\n        <span class=\"' + suggestionPrefix + '--subcategory-column-text\">{{{subcategory}}}</span>\\n      </div>\\n      {{#isTextOrSubcategoryNonEmpty}}\\n      <div class=\"' + suggestionPrefix + '--content\">\\n        <div class=\"' + suggestionPrefix + '--subcategory-inline\">{{{subcategory}}}</div>\\n        <div class=\"' + suggestionPrefix + '--title\">{{{title}}}</div>\\n        {{#text}}<div class=\"' + suggestionPrefix + '--text\">{{{text}}}</div>{{/text}}\\n      </div>\\n      {{/isTextOrSubcategoryNonEmpty}}\\n    </div>\\n  </a>\\n  ',\n  suggestionSimple: '\\n  <div class=\"' + suggestionPrefix + '\\n    {{#isCategoryHeader}}' + suggestionPrefix + '__main{{/isCategoryHeader}}\\n    {{#isSubCategoryHeader}}' + suggestionPrefix + '__secondary{{/isSubCategoryHeader}}\\n    suggestion-layout-simple\\n  \">\\n    <div class=\"' + suggestionPrefix + '--category-header\">\\n        {{^isLvl0}}\\n        <span class=\"' + suggestionPrefix + '--category-header-lvl0 ' + suggestionPrefix + '--category-header-item\">{{{category}}}</span>\\n          {{^isLvl1}}\\n          {{^isLvl1EmptyOrDuplicate}}\\n          <span class=\"' + suggestionPrefix + '--category-header-lvl1 ' + suggestionPrefix + '--category-header-item\">\\n              {{{subcategory}}}\\n          </span>\\n          {{/isLvl1EmptyOrDuplicate}}\\n          {{/isLvl1}}\\n        {{/isLvl0}}\\n        <div class=\"' + suggestionPrefix + '--title ' + suggestionPrefix + '--category-header-item\">\\n            {{#isLvl2}}\\n                {{{title}}}\\n            {{/isLvl2}}\\n            {{#isLvl1}}\\n                {{{subcategory}}}\\n            {{/isLvl1}}\\n            {{#isLvl0}}\\n                {{{category}}}\\n            {{/isLvl0}}\\n        </div>\\n    </div>\\n    <div class=\"' + suggestionPrefix + '--wrapper\">\\n      {{#text}}\\n      <div class=\"' + suggestionPrefix + '--content\">\\n        <div class=\"' + suggestionPrefix + '--text\">{{{text}}}</div>\\n      </div>\\n      {{/text}}\\n    </div>\\n  </div>\\n  ',\n  footer: '\\n    <div class=\"' + footerPrefix + '\">\\n      Search by <a class=\"' + footerPrefix + '--logo\" href=\"https://www.algolia.com/docsearch\">Algolia</a>\\n    </div>\\n  ',\n  empty: '\\n  <div class=\"' + suggestionPrefix + '\">\\n    <div class=\"' + suggestionPrefix + '--wrapper\">\\n        <div class=\"' + suggestionPrefix + '--content ' + suggestionPrefix + '--no-results\">\\n            <div class=\"' + suggestionPrefix + '--title\">\\n                <div class=\"' + suggestionPrefix + '--text\">\\n                    No results found for query <b>\"{{query}}\"</b>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n  </div>\\n  ',\n  searchBox: '\\n  <form novalidate=\"novalidate\" onsubmit=\"return false;\" class=\"searchbox\">\\n    <div role=\"search\" class=\"searchbox__wrapper\">\\n      <input id=\"docsearch\" type=\"search\" name=\"search\" placeholder=\"Search the docs\" autocomplete=\"off\" required=\"required\" class=\"searchbox__input\"/>\\n      <button type=\"submit\" title=\"Submit your search query.\" class=\"searchbox__submit\" >\\n        <svg width=12 height=12 role=\"img\" aria-label=\"Search\">\\n          <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#sbx-icon-search-13\"></use>\\n        </svg>\\n      </button>\\n      <button type=\"reset\" title=\"Clear the search query.\" class=\"searchbox__reset hide\">\\n        <svg width=12 height=12 role=\"img\" aria-label=\"Reset\">\\n          <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#sbx-icon-clear-3\"></use>\\n        </svg>\\n      </button>\\n    </div>\\n</form>\\n\\n<div class=\"svg-icons\" style=\"height: 0; width: 0; position: absolute; visibility: hidden\">\\n  <svg xmlns=\"http://www.w3.org/2000/svg\">\\n    <symbol id=\"sbx-icon-clear-3\" viewBox=\"0 0 40 40\"><path d=\"M16.228 20L1.886 5.657 0 3.772 3.772 0l1.885 1.886L20 16.228 34.343 1.886 36.228 0 40 3.772l-1.886 1.885L23.772 20l14.342 14.343L40 36.228 36.228 40l-1.885-1.886L20 23.772 5.657 38.114 3.772 40 0 36.228l1.886-1.885L16.228 20z\" fill-rule=\"evenodd\"></symbol>\\n    <symbol id=\"sbx-icon-search-13\" viewBox=\"0 0 40 40\"><path d=\"M26.806 29.012a16.312 16.312 0 0 1-10.427 3.746C7.332 32.758 0 25.425 0 16.378 0 7.334 7.333 0 16.38 0c9.045 0 16.378 7.333 16.378 16.38 0 3.96-1.406 7.593-3.746 10.426L39.547 37.34c.607.608.61 1.59-.004 2.203a1.56 1.56 0 0 1-2.202.004L26.807 29.012zm-10.427.627c7.322 0 13.26-5.938 13.26-13.26 0-7.324-5.938-13.26-13.26-13.26-7.324 0-13.26 5.936-13.26 13.26 0 7.322 5.936 13.26 13.26 13.26z\" fill-rule=\"evenodd\"></symbol>\\n  </svg>\\n</div>\\n  '\n};\n\nexports.default = templates;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _zepto = require('./zepto');\n\nvar _zepto2 = _interopRequireDefault(_zepto);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar utils = {\n  /*\n  * Move the content of an object key one level higher.\n  * eg.\n  * {\n  *   name: 'My name',\n  *   hierarchy: {\n  *     lvl0: 'Foo',\n  *     lvl1: 'Bar'\n  *   }\n  * }\n  * Will be converted to\n  * {\n  *   name: 'My name',\n  *   lvl0: 'Foo',\n  *   lvl1: 'Bar'\n  * }\n  * @param {Object} object Main object\n  * @param {String} property Main object key to move up\n  * @return {Object}\n  * @throws Error when key is not an attribute of Object or is not an object itself\n  */\n  mergeKeyWithParent: function mergeKeyWithParent(object, property) {\n    if (object[property] === undefined) {\n      return object;\n    }\n    if (_typeof(object[property]) !== 'object') {\n      return object;\n    }\n    var newObject = _zepto2.default.extend({}, object, object[property]);\n    delete newObject[property];\n    return newObject;\n  },\n\n  /*\n  * Group all objects of a collection by the value of the specified attribute\n  * If the attribute is a string, use the lowercase form.\n  *\n  * eg.\n  * groupBy([\n  *   {name: 'Tim', category: 'dev'},\n  *   {name: 'Vincent', category: 'dev'},\n  *   {name: 'Ben', category: 'sales'},\n  *   {name: 'Jeremy', category: 'sales'},\n  *   {name: 'AlexS', category: 'dev'},\n  *   {name: 'AlexK', category: 'sales'}\n  * ], 'category');\n  * =>\n  * {\n  *   'devs': [\n  *     {name: 'Tim', category: 'dev'},\n  *     {name: 'Vincent', category: 'dev'},\n  *     {name: 'AlexS', category: 'dev'}\n  *   ],\n  *   'sales': [\n  *     {name: 'Ben', category: 'sales'},\n  *     {name: 'Jeremy', category: 'sales'},\n  *     {name: 'AlexK', category: 'sales'}\n  *   ]\n  * }\n  * @param {array} collection Array of objects to group\n  * @param {String} property The attribute on which apply the grouping\n  * @return {array}\n  * @throws Error when one of the element does not have the specified property\n  */\n  groupBy: function groupBy(collection, property) {\n    var newCollection = {};\n    _zepto2.default.each(collection, function (index, item) {\n      if (item[property] === undefined) {\n        throw new Error('[groupBy]: Object has no key ' + property);\n      }\n      var key = item[property];\n      if (typeof key === 'string') {\n        key = key.toLowerCase();\n      }\n      // fix #171 the given data type of docsearch hits might be conflict with the properties of the native Object,\n      // such as the constructor, so we need to do this check.\n      if (!Object.prototype.hasOwnProperty.call(newCollection, key)) {\n        newCollection[key] = [];\n      }\n      newCollection[key].push(item);\n    });\n    return newCollection;\n  },\n\n  /*\n  * Return an array of all the values of the specified object\n  * eg.\n  * values({\n  *   foo: 42,\n  *   bar: true,\n  *   baz: 'yep'\n  * })\n  * =>\n  * [42, true, yep]\n  * @param {object} object Object to extract values from\n  * @return {array}\n  */\n  values: function values(object) {\n    return Object.keys(object).map(function (key) {\n      return object[key];\n    });\n  },\n\n  /*\n  * Flattens an array\n  * eg.\n  * flatten([1, 2, [3, 4], [5, 6]])\n  * =>\n  * [1, 2, 3, 4, 5, 6]\n  * @param {array} array Array to flatten\n  * @return {array}\n  */\n  flatten: function flatten(array) {\n    var results = [];\n    array.forEach(function (value) {\n      if (!Array.isArray(value)) {\n        results.push(value);\n        return;\n      }\n      value.forEach(function (subvalue) {\n        results.push(subvalue);\n      });\n    });\n    return results;\n  },\n\n  /*\n  * Flatten all values of an object into an array, marking each first element of\n  * each group with a specific flag\n  * eg.\n  * flattenAndFlagFirst({\n  *   'devs': [\n  *     {name: 'Tim', category: 'dev'},\n  *     {name: 'Vincent', category: 'dev'},\n  *     {name: 'AlexS', category: 'dev'}\n  *   ],\n  *   'sales': [\n  *     {name: 'Ben', category: 'sales'},\n  *     {name: 'Jeremy', category: 'sales'},\n  *     {name: 'AlexK', category: 'sales'}\n  *   ]\n  * , 'isTop');\n  * =>\n  * [\n  *     {name: 'Tim', category: 'dev', isTop: true},\n  *     {name: 'Vincent', category: 'dev', isTop: false},\n  *     {name: 'AlexS', category: 'dev', isTop: false},\n  *     {name: 'Ben', category: 'sales', isTop: true},\n  *     {name: 'Jeremy', category: 'sales', isTop: false},\n  *     {name: 'AlexK', category: 'sales', isTop: false}\n  * ]\n  * @param {object} object Object to flatten\n  * @param {string} flag Flag to set to true on first element of each group\n  * @return {array}\n  */\n  flattenAndFlagFirst: function flattenAndFlagFirst(object, flag) {\n    var values = this.values(object).map(function (collection) {\n      return collection.map(function (item, index) {\n        // eslint-disable-next-line no-param-reassign\n        item[flag] = index === 0;\n        return item;\n      });\n    });\n    return this.flatten(values);\n  },\n\n  /*\n  * Removes all empty strings, null, false and undefined elements array\n  * eg.\n  * compact([42, false, null, undefined, '', [], 'foo']);\n  * =>\n  * [42, [], 'foo']\n  * @param {array} array Array to compact\n  * @return {array}\n  */\n  compact: function compact(array) {\n    var results = [];\n    array.forEach(function (value) {\n      if (!value) {\n        return;\n      }\n      results.push(value);\n    });\n    return results;\n  },\n\n  /*\n   * Returns the highlighted value of the specified key in the specified object.\n   * If no highlighted value is available, will return the key value directly\n   * eg.\n   * getHighlightedValue({\n   *    _highlightResult: {\n   *      text: {\n   *        value: '<mark>foo</mark>'\n   *      }\n   *    },\n   *    text: 'foo'\n   * }, 'text');\n   * =>\n   * '<mark>foo</mark>'\n   * @param {object} object Hit object returned by the Algolia API\n   * @param {string} property Object key to look for\n   * @return {string}\n   **/\n  getHighlightedValue: function getHighlightedValue(object, property) {\n    if (object._highlightResult && object._highlightResult.hierarchy_camel && object._highlightResult.hierarchy_camel[property] && object._highlightResult.hierarchy_camel[property].matchLevel && object._highlightResult.hierarchy_camel[property].matchLevel !== 'none' && object._highlightResult.hierarchy_camel[property].value) {\n      return object._highlightResult.hierarchy_camel[property].value;\n    }\n    if (object._highlightResult && object._highlightResult && object._highlightResult[property] && object._highlightResult[property].value) {\n      return object._highlightResult[property].value;\n    }\n    return object[property];\n  },\n\n  /*\n   * Returns the snippeted value of the specified key in the specified object.\n   * If no highlighted value is available, will return the key value directly.\n   * Will add starting and ending ellipsis () if we detect that a sentence is\n   * incomplete\n   * eg.\n   * getSnippetedValue({\n   *    _snippetResult: {\n   *      text: {\n   *        value: '<mark>This is an unfinished sentence</mark>'\n   *      }\n   *    },\n   *    text: 'This is an unfinished sentence'\n   * }, 'text');\n   * =>\n   * '<mark>This is an unfinished sentence</mark>'\n   * @param {object} object Hit object returned by the Algolia API\n   * @param {string} property Object key to look for\n   * @return {string}\n   **/\n  getSnippetedValue: function getSnippetedValue(object, property) {\n    if (!object._snippetResult || !object._snippetResult[property] || !object._snippetResult[property].value) {\n      return object[property];\n    }\n    var snippet = object._snippetResult[property].value;\n\n    if (snippet[0] !== snippet[0].toUpperCase()) {\n      snippet = '\\u2026' + snippet;\n    }\n    if (['.', '!', '?'].indexOf(snippet[snippet.length - 1]) === -1) {\n      snippet = snippet + '\\u2026';\n    }\n    return snippet;\n  },\n\n  /*\n  * Deep clone an object.\n  * Note: This will not clone functions and dates\n  * @param {object} object Object to clone\n  * @return {object}\n  */\n  deepClone: function deepClone(object) {\n    return JSON.parse(JSON.stringify(object));\n  }\n};\n\nexports.default = utils;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = '2.6.3';","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _zepto = require('autocomplete.js/zepto');\n\nvar _zepto2 = _interopRequireDefault(_zepto);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _zepto2.default;","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   v4.2.8+1e68dce6\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\n\n\nvar _isArray = void 0;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = void 0;\nvar customSchedulerFn = void 0;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var vertx = Function('return this')().require('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = void 0;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n\n  if (_state) {\n    var callback = arguments[_state - 1];\n    asap(function () {\n      return invokeCallback(_state, child, callback, parent._result);\n    });\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(2);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    var then$$1 = void 0;\n    try {\n      then$$1 = value.then;\n    } catch (error) {\n      reject(promise, error);\n      return;\n    }\n    handleMaybeThenable(promise, value, then$$1);\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = void 0,\n      callback = void 0,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = void 0,\n      error = void 0,\n      succeeded = true;\n\n  if (hasCallback) {\n    try {\n      value = callback(detail);\n    } catch (e) {\n      succeeded = false;\n      error = e;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (succeeded === false) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nvar Enumerator = function () {\n  function Enumerator(Constructor, input) {\n    this._instanceConstructor = Constructor;\n    this.promise = new Constructor(noop);\n\n    if (!this.promise[PROMISE_ID]) {\n      makePromise(this.promise);\n    }\n\n    if (isArray(input)) {\n      this.length = input.length;\n      this._remaining = input.length;\n\n      this._result = new Array(this.length);\n\n      if (this.length === 0) {\n        fulfill(this.promise, this._result);\n      } else {\n        this.length = this.length || 0;\n        this._enumerate(input);\n        if (this._remaining === 0) {\n          fulfill(this.promise, this._result);\n        }\n      }\n    } else {\n      reject(this.promise, validationError());\n    }\n  }\n\n  Enumerator.prototype._enumerate = function _enumerate(input) {\n    for (var i = 0; this._state === PENDING && i < input.length; i++) {\n      this._eachEntry(input[i], i);\n    }\n  };\n\n  Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {\n    var c = this._instanceConstructor;\n    var resolve$$1 = c.resolve;\n\n\n    if (resolve$$1 === resolve$1) {\n      var _then = void 0;\n      var error = void 0;\n      var didError = false;\n      try {\n        _then = entry.then;\n      } catch (e) {\n        didError = true;\n        error = e;\n      }\n\n      if (_then === then && entry._state !== PENDING) {\n        this._settledAt(entry._state, i, entry._result);\n      } else if (typeof _then !== 'function') {\n        this._remaining--;\n        this._result[i] = entry;\n      } else if (c === Promise$1) {\n        var promise = new c(noop);\n        if (didError) {\n          reject(promise, error);\n        } else {\n          handleMaybeThenable(promise, entry, _then);\n        }\n        this._willSettleAt(promise, i);\n      } else {\n        this._willSettleAt(new c(function (resolve$$1) {\n          return resolve$$1(entry);\n        }), i);\n      }\n    } else {\n      this._willSettleAt(resolve$$1(entry), i);\n    }\n  };\n\n  Enumerator.prototype._settledAt = function _settledAt(state, i, value) {\n    var promise = this.promise;\n\n\n    if (promise._state === PENDING) {\n      this._remaining--;\n\n      if (state === REJECTED) {\n        reject(promise, value);\n      } else {\n        this._result[i] = value;\n      }\n    }\n\n    if (this._remaining === 0) {\n      fulfill(promise, this._result);\n    }\n  };\n\n  Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {\n    var enumerator = this;\n\n    subscribe(promise, undefined, function (value) {\n      return enumerator._settledAt(FULFILLED, i, value);\n    }, function (reason) {\n      return enumerator._settledAt(REJECTED, i, reason);\n    });\n  };\n\n  return Enumerator;\n}();\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {Function} resolver\n  Useful for tooling.\n  @constructor\n*/\n\nvar Promise$1 = function () {\n  function Promise(resolver) {\n    this[PROMISE_ID] = nextId();\n    this._result = this._state = undefined;\n    this._subscribers = [];\n\n    if (noop !== resolver) {\n      typeof resolver !== 'function' && needsResolver();\n      this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n    }\n  }\n\n  /**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n   ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n   Chaining\n  --------\n   The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n   ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n   findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n   ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n   Assimilation\n  ------------\n   Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n   If the assimliated promise rejects, then the downstream promise will also reject.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n   Simple Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let result;\n   try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n   Advanced Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let author, books;\n   try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n   function foundBooks(books) {\n   }\n   function failure(reason) {\n   }\n   findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n   @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n  */\n\n  /**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n  ```js\n  function findAuthor(){\n  throw new Error('couldn't find that author');\n  }\n  // synchronous\n  try {\n  findAuthor();\n  } catch(reason) {\n  // something went wrong\n  }\n  // async with promises\n  findAuthor().catch(function(reason){\n  // something went wrong\n  });\n  ```\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n  */\n\n\n  Promise.prototype.catch = function _catch(onRejection) {\n    return this.then(null, onRejection);\n  };\n\n  /**\n    `finally` will be invoked regardless of the promise's fate just as native\n    try/catch/finally behaves\n  \n    Synchronous example:\n  \n    ```js\n    findAuthor() {\n      if (Math.random() > 0.5) {\n        throw new Error();\n      }\n      return new Author();\n    }\n  \n    try {\n      return findAuthor(); // succeed or fail\n    } catch(error) {\n      return findOtherAuther();\n    } finally {\n      // always runs\n      // doesn't affect the return value\n    }\n    ```\n  \n    Asynchronous example:\n  \n    ```js\n    findAuthor().catch(function(reason){\n      return findOtherAuther();\n    }).finally(function(){\n      // author was either found, or not\n    });\n    ```\n  \n    @method finally\n    @param {Function} callback\n    @return {Promise}\n  */\n\n\n  Promise.prototype.finally = function _finally(callback) {\n    var promise = this;\n    var constructor = promise.constructor;\n\n    if (isFunction(callback)) {\n      return promise.then(function (value) {\n        return constructor.resolve(callback()).then(function () {\n          return value;\n        });\n      }, function (reason) {\n        return constructor.resolve(callback()).then(function () {\n          throw reason;\n        });\n      });\n    }\n\n    return promise.then(callback, callback);\n  };\n\n  return Promise;\n}();\n\nPromise$1.prototype.then = then;\nPromise$1.all = all;\nPromise$1.race = race;\nPromise$1.resolve = resolve$1;\nPromise$1.reject = reject$1;\nPromise$1._setScheduler = setScheduler;\nPromise$1._setAsap = setAsap;\nPromise$1._asap = asap;\n\n/*global self*/\nfunction polyfill() {\n  var local = void 0;\n\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n\n  var P = local.Promise;\n\n  if (P) {\n    var promiseToString = null;\n    try {\n      promiseToString = Object.prototype.toString.call(P.resolve());\n    } catch (e) {\n      // silently ignored\n    }\n\n    if (promiseToString === '[object Promise]' && !P.cast) {\n      return;\n    }\n  }\n\n  local.Promise = Promise$1;\n}\n\n// Strange compat..\nPromise$1.polyfill = polyfill;\nPromise$1.Promise = Promise$1;\n\nreturn Promise$1;\n\n})));\n\n\n\n//# sourceMappingURL=es6-promise.map\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = require('./compiler');\nHogan.Template = require('./template').Template;\nHogan.template = Hogan.Template;\nmodule.exports = Hogan;\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","'use strict';\nvar types = [\n  require('./nextTick'),\n  require('./queueMicrotask'),\n  require('./mutation.js'),\n  require('./messageChannel'),\n  require('./stateChange'),\n  require('./timeout')\n];\nvar draining;\nvar currentQueue;\nvar queueIndex = -1;\nvar queue = [];\nvar scheduled = false;\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n  draining = false;\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n  if (queue.length) {\n    nextTick();\n  }\n}\n\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  if (draining) {\n    return;\n  }\n  scheduled = false;\n  draining = true;\n  var len = queue.length;\n  var timeout = setTimeout(cleanUpNextTick);\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n    while (currentQueue && ++queueIndex < len) {\n      currentQueue[queueIndex].run();\n    }\n    queueIndex = -1;\n    len = queue.length;\n  }\n  currentQueue = null;\n  queueIndex = -1;\n  draining = false;\n  clearTimeout(timeout);\n}\nvar scheduleDrain;\nvar i = -1;\nvar len = types.length;\nwhile (++i < len) {\n  if (types[i] && types[i].test && types[i].test()) {\n    scheduleDrain = types[i].install(nextTick);\n    break;\n  }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\nItem.prototype.run = function () {\n  var fun = this.fun;\n  var array = this.array;\n  switch (array.length) {\n  case 0:\n    return fun();\n  case 1:\n    return fun(array[0]);\n  case 2:\n    return fun(array[0], array[1]);\n  case 3:\n    return fun(array[0], array[1], array[2]);\n  default:\n    return fun.apply(null, array);\n  }\n\n};\nmodule.exports = immediate;\nfunction immediate(task) {\n  var args = new Array(arguments.length - 1);\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n  queue.push(new Item(task, args));\n  if (!scheduled && !draining) {\n    scheduled = true;\n    scheduleDrain();\n  }\n}\n","'use strict';\n\nexports.test = function () {\n  if (global.setImmediate) {\n    // we can only get here in IE10\n    // which doesn't handel postMessage well\n    return false;\n  }\n  return typeof global.MessageChannel !== 'undefined';\n};\n\nexports.install = function (func) {\n  var channel = new global.MessageChannel();\n  channel.port1.onmessage = func;\n  return function () {\n    channel.port2.postMessage(0);\n  };\n};","'use strict';\n//based off rsvp https://github.com/tildeio/rsvp.js\n//license https://github.com/tildeio/rsvp.js/blob/master/LICENSE\n//https://github.com/tildeio/rsvp.js/blob/master/lib/rsvp/asap.js\n\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nexports.test = function () {\n  return Mutation;\n};\n\nexports.install = function (handle) {\n  var called = 0;\n  var observer = new Mutation(handle);\n  var element = global.document.createTextNode('');\n  observer.observe(element, {\n    characterData: true\n  });\n  return function () {\n    element.data = (called = ++called % 2);\n  };\n};","'use strict';\nexports.test = function () {\n  return typeof global.queueMicrotask === 'function';\n};\n\nexports.install = function (func) {\n  return function () {\n    global.queueMicrotask(func);\n  };\n};\n","'use strict';\n\nexports.test = function () {\n  return 'document' in global && 'onreadystatechange' in global.document.createElement('script');\n};\n\nexports.install = function (handle) {\n  return function () {\n\n    // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n    // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n    var scriptEl = global.document.createElement('script');\n    scriptEl.onreadystatechange = function () {\n      handle();\n\n      scriptEl.onreadystatechange = null;\n      scriptEl.parentNode.removeChild(scriptEl);\n      scriptEl = null;\n    };\n    global.document.documentElement.appendChild(scriptEl);\n\n    return handle;\n  };\n};","'use strict';\nexports.test = function () {\n  return true;\n};\n\nexports.install = function (t) {\n  return function () {\n    setTimeout(t, 0);\n  };\n};","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","(typeof navigator !== \"undefined\") && (function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.lottie = factory());\n})(this, (function () { 'use strict';\n\n  var svgNS = 'http://www.w3.org/2000/svg';\n  var locationHref = '';\n  var _useWebWorker = false;\n  var initialDefaultFrame = -999999;\n\n  var setWebWorker = function setWebWorker(flag) {\n    _useWebWorker = !!flag;\n  };\n\n  var getWebWorker = function getWebWorker() {\n    return _useWebWorker;\n  };\n\n  var setLocationHref = function setLocationHref(value) {\n    locationHref = value;\n  };\n\n  var getLocationHref = function getLocationHref() {\n    return locationHref;\n  };\n\n  function createTag(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElement(type);\n  }\n\n  function extendPrototype(sources, destination) {\n    var i;\n    var len = sources.length;\n    var sourcePrototype;\n\n    for (i = 0; i < len; i += 1) {\n      sourcePrototype = sources[i].prototype;\n\n      for (var attr in sourcePrototype) {\n        if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\n      }\n    }\n  }\n\n  function getDescriptor(object, prop) {\n    return Object.getOwnPropertyDescriptor(object, prop);\n  }\n\n  function createProxyFunction(prototype) {\n    function ProxyFunction() {}\n\n    ProxyFunction.prototype = prototype;\n    return ProxyFunction;\n  }\n\n  // import Howl from '../../3rd_party/howler';\n  var audioControllerFactory = function () {\n    function AudioController(audioFactory) {\n      this.audios = [];\n      this.audioFactory = audioFactory;\n      this._volume = 1;\n      this._isMuted = false;\n    }\n\n    AudioController.prototype = {\n      addAudio: function addAudio(audio) {\n        this.audios.push(audio);\n      },\n      pause: function pause() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].pause();\n        }\n      },\n      resume: function resume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].resume();\n        }\n      },\n      setRate: function setRate(rateValue) {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].setRate(rateValue);\n        }\n      },\n      createAudio: function createAudio(assetPath) {\n        if (this.audioFactory) {\n          return this.audioFactory(assetPath);\n        }\n\n        if (window.Howl) {\n          return new window.Howl({\n            src: [assetPath]\n          });\n        }\n\n        return {\n          isPlaying: false,\n          play: function play() {\n            this.isPlaying = true;\n          },\n          seek: function seek() {\n            this.isPlaying = false;\n          },\n          playing: function playing() {},\n          rate: function rate() {},\n          setVolume: function setVolume() {}\n        };\n      },\n      setAudioFactory: function setAudioFactory(audioFactory) {\n        this.audioFactory = audioFactory;\n      },\n      setVolume: function setVolume(value) {\n        this._volume = value;\n\n        this._updateVolume();\n      },\n      mute: function mute() {\n        this._isMuted = true;\n\n        this._updateVolume();\n      },\n      unmute: function unmute() {\n        this._isMuted = false;\n\n        this._updateVolume();\n      },\n      getVolume: function getVolume() {\n        return this._volume;\n      },\n      _updateVolume: function _updateVolume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\n        }\n      }\n    };\n    return function () {\n      return new AudioController();\n    };\n  }();\n\n  var createTypedArray = function () {\n    function createRegularArray(type, len) {\n      var i = 0;\n      var arr = [];\n      var value;\n\n      switch (type) {\n        case 'int16':\n        case 'uint8c':\n          value = 1;\n          break;\n\n        default:\n          value = 1.1;\n          break;\n      }\n\n      for (i = 0; i < len; i += 1) {\n        arr.push(value);\n      }\n\n      return arr;\n    }\n\n    function createTypedArrayFactory(type, len) {\n      if (type === 'float32') {\n        return new Float32Array(len);\n      }\n\n      if (type === 'int16') {\n        return new Int16Array(len);\n      }\n\n      if (type === 'uint8c') {\n        return new Uint8ClampedArray(len);\n      }\n\n      return createRegularArray(type, len);\n    }\n\n    if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n      return createTypedArrayFactory;\n    }\n\n    return createRegularArray;\n  }();\n\n  function createSizedArray(len) {\n    return Array.apply(null, {\n      length: len\n    });\n  }\n\n  function _typeof$6(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$6 = function _typeof(obj) { return typeof obj; }; } else { _typeof$6 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$6(obj); }\n  var subframeEnabled = true;\n  var expressionsPlugin = null;\n  var idPrefix = '';\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  var _shouldRoundValues = false;\n  var bmPow = Math.pow;\n  var bmSqrt = Math.sqrt;\n  var bmFloor = Math.floor;\n  var bmMax = Math.max;\n  var bmMin = Math.min;\n  var BMMath = {};\n\n  (function () {\n    var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\n    var i;\n    var len = propertyNames.length;\n\n    for (i = 0; i < len; i += 1) {\n      BMMath[propertyNames[i]] = Math[propertyNames[i]];\n    }\n  })();\n\n  function ProjectInterface$1() {\n    return {};\n  }\n\n  BMMath.random = Math.random;\n\n  BMMath.abs = function (val) {\n    var tOfVal = _typeof$6(val);\n\n    if (tOfVal === 'object' && val.length) {\n      var absArr = createSizedArray(val.length);\n      var i;\n      var len = val.length;\n\n      for (i = 0; i < len; i += 1) {\n        absArr[i] = Math.abs(val[i]);\n      }\n\n      return absArr;\n    }\n\n    return Math.abs(val);\n  };\n\n  var defaultCurveSegments = 150;\n  var degToRads = Math.PI / 180;\n  var roundCorner = 0.5519;\n\n  function roundValues(flag) {\n    _shouldRoundValues = !!flag;\n  }\n\n  function bmRnd(value) {\n    if (_shouldRoundValues) {\n      return Math.round(value);\n    }\n\n    return value;\n  }\n\n  function styleDiv(element) {\n    element.style.position = 'absolute';\n    element.style.top = 0;\n    element.style.left = 0;\n    element.style.display = 'block';\n    element.style.transformOrigin = '0 0';\n    element.style.webkitTransformOrigin = '0 0';\n    element.style.backfaceVisibility = 'visible';\n    element.style.webkitBackfaceVisibility = 'visible';\n    element.style.transformStyle = 'preserve-3d';\n    element.style.webkitTransformStyle = 'preserve-3d';\n    element.style.mozTransformStyle = 'preserve-3d';\n  }\n\n  function BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\n    this.type = type;\n    this.currentTime = currentTime;\n    this.totalTime = totalTime;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteEvent(type, frameMultiplier) {\n    this.type = type;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\n    this.type = type;\n    this.currentLoop = currentLoop;\n    this.totalLoops = totalLoops;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMSegmentStartEvent(type, firstFrame, totalFrames) {\n    this.type = type;\n    this.firstFrame = firstFrame;\n    this.totalFrames = totalFrames;\n  }\n\n  function BMDestroyEvent(type, target) {\n    this.type = type;\n    this.target = target;\n  }\n\n  function BMRenderFrameErrorEvent(nativeError, currentTime) {\n    this.type = 'renderFrameError';\n    this.nativeError = nativeError;\n    this.currentTime = currentTime;\n  }\n\n  function BMConfigErrorEvent(nativeError) {\n    this.type = 'configError';\n    this.nativeError = nativeError;\n  }\n\n  function BMAnimationConfigErrorEvent(type, nativeError) {\n    this.type = type;\n    this.nativeError = nativeError;\n  }\n\n  var createElementID = function () {\n    var _count = 0;\n    return function createID() {\n      _count += 1;\n      return idPrefix + '__lottie_element_' + _count;\n    };\n  }();\n\n  function HSVtoRGB(h, s, v) {\n    var r;\n    var g;\n    var b;\n    var i;\n    var f;\n    var p;\n    var q;\n    var t;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n        break;\n\n      default:\n        break;\n    }\n\n    return [r, g, b];\n  }\n\n  function RGBtoHSV(r, g, b) {\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var d = max - min;\n    var h;\n    var s = max === 0 ? 0 : d / max;\n    var v = max / 255;\n\n    switch (max) {\n      case min:\n        h = 0;\n        break;\n\n      case r:\n        h = g - b + d * (g < b ? 6 : 0);\n        h /= 6 * d;\n        break;\n\n      case g:\n        h = b - r + d * 2;\n        h /= 6 * d;\n        break;\n\n      case b:\n        h = r - g + d * 4;\n        h /= 6 * d;\n        break;\n\n      default:\n        break;\n    }\n\n    return [h, s, v];\n  }\n\n  function addSaturationToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[1] += offset;\n\n    if (hsv[1] > 1) {\n      hsv[1] = 1;\n    } else if (hsv[1] <= 0) {\n      hsv[1] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addBrightnessToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[2] += offset;\n\n    if (hsv[2] > 1) {\n      hsv[2] = 1;\n    } else if (hsv[2] < 0) {\n      hsv[2] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addHueToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[0] += offset / 360;\n\n    if (hsv[0] > 1) {\n      hsv[0] -= 1;\n    } else if (hsv[0] < 0) {\n      hsv[0] += 1;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  var rgbToHex = function () {\n    var colorMap = [];\n    var i;\n    var hex;\n\n    for (i = 0; i < 256; i += 1) {\n      hex = i.toString(16);\n      colorMap[i] = hex.length === 1 ? '0' + hex : hex;\n    }\n\n    return function (r, g, b) {\n      if (r < 0) {\n        r = 0;\n      }\n\n      if (g < 0) {\n        g = 0;\n      }\n\n      if (b < 0) {\n        b = 0;\n      }\n\n      return '#' + colorMap[r] + colorMap[g] + colorMap[b];\n    };\n  }();\n\n  var setSubframeEnabled = function setSubframeEnabled(flag) {\n    subframeEnabled = !!flag;\n  };\n\n  var getSubframeEnabled = function getSubframeEnabled() {\n    return subframeEnabled;\n  };\n\n  var setExpressionsPlugin = function setExpressionsPlugin(value) {\n    expressionsPlugin = value;\n  };\n\n  var getExpressionsPlugin = function getExpressionsPlugin() {\n    return expressionsPlugin;\n  };\n\n  var setDefaultCurveSegments = function setDefaultCurveSegments(value) {\n    defaultCurveSegments = value;\n  };\n\n  var getDefaultCurveSegments = function getDefaultCurveSegments() {\n    return defaultCurveSegments;\n  };\n\n  var setIdPrefix = function setIdPrefix(value) {\n    idPrefix = value;\n  };\n\n  var getIdPrefix = function getIdPrefix() {\n    return idPrefix;\n  };\n\n  function createNS(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElementNS(svgNS, type);\n  }\n\n  function _typeof$5(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$5 = function _typeof(obj) { return typeof obj; }; } else { _typeof$5 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$5(obj); }\n\n  var dataManager = function () {\n    var _counterId = 1;\n    var processes = [];\n    var workerFn;\n    var workerInstance;\n    var workerProxy = {\n      onmessage: function onmessage() {},\n      postMessage: function postMessage(path) {\n        workerFn({\n          data: path\n        });\n      }\n    };\n    var _workerSelf = {\n      postMessage: function postMessage(data) {\n        workerProxy.onmessage({\n          data: data\n        });\n      }\n    };\n\n    function createWorker(fn) {\n      if (window.Worker && window.Blob && getWebWorker()) {\n        var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], {\n          type: 'text/javascript'\n        }); // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\n\n        var url = URL.createObjectURL(blob);\n        return new Worker(url);\n      }\n\n      workerFn = fn;\n      return workerProxy;\n    }\n\n    function setupWorker() {\n      if (!workerInstance) {\n        workerInstance = createWorker(function workerStart(e) {\n          function dataFunctionManager() {\n            function completeLayers(layers, comps) {\n              var layerData;\n              var i;\n              var len = layers.length;\n              var j;\n              var jLen;\n              var k;\n              var kLen;\n\n              for (i = 0; i < len; i += 1) {\n                layerData = layers[i];\n\n                if ('ks' in layerData && !layerData.completed) {\n                  layerData.completed = true;\n\n                  if (layerData.tt) {\n                    layers[i - 1].td = layerData.tt;\n                  }\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 0) {\n                    layerData.layers = findCompLayers(layerData.refId, comps);\n                    completeLayers(layerData.layers, comps);\n                  } else if (layerData.ty === 4) {\n                    completeShapes(layerData.shapes);\n                  } else if (layerData.ty === 5) {\n                    completeText(layerData);\n                  }\n                }\n              }\n            }\n\n            function completeChars(chars, assets) {\n              if (chars) {\n                var i = 0;\n                var len = chars.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (chars[i].t === 1) {\n                    // var compData = findComp(chars[i].data.refId, assets);\n                    chars[i].data.layers = findCompLayers(chars[i].data.refId, assets); // chars[i].data.ip = 0;\n                    // chars[i].data.op = 99999;\n                    // chars[i].data.st = 0;\n                    // chars[i].data.sr = 1;\n                    // chars[i].w = compData.w;\n                    // chars[i].data.ks = {\n                    //   a: { k: [0, 0, 0], a: 0 },\n                    //   p: { k: [0, -compData.h, 0], a: 0 },\n                    //   r: { k: 0, a: 0 },\n                    //   s: { k: [100, 100], a: 0 },\n                    //   o: { k: 100, a: 0 },\n                    // };\n\n                    completeLayers(chars[i].data.layers, assets);\n                  }\n                }\n              }\n            }\n\n            function findComp(id, comps) {\n              var i = 0;\n              var len = comps.length;\n\n              while (i < len) {\n                if (comps[i].id === id) {\n                  return comps[i];\n                }\n\n                i += 1;\n              }\n\n              return null;\n            }\n\n            function findCompLayers(id, comps) {\n              var comp = findComp(id, comps);\n\n              if (comp) {\n                if (!comp.layers.__used) {\n                  comp.layers.__used = true;\n                  return comp.layers;\n                }\n\n                return JSON.parse(JSON.stringify(comp.layers));\n              }\n\n              return null;\n            }\n\n            function completeShapes(arr) {\n              var i;\n              var len = arr.length;\n              var j;\n              var jLen;\n\n              for (i = len - 1; i >= 0; i -= 1) {\n                if (arr[i].ty === 'sh') {\n                  if (arr[i].ks.k.i) {\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\n                  } else {\n                    jLen = arr[i].ks.k.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (arr[i].ks.k[j].s) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n                      }\n\n                      if (arr[i].ks.k[j].e) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n                      }\n                    }\n                  }\n                } else if (arr[i].ty === 'gr') {\n                  completeShapes(arr[i].it);\n                }\n              }\n            }\n\n            function convertPathsToAbsoluteValues(path) {\n              var i;\n              var len = path.i.length;\n\n              for (i = 0; i < len; i += 1) {\n                path.i[i][0] += path.v[i][0];\n                path.i[i][1] += path.v[i][1];\n                path.o[i][0] += path.v[i][0];\n                path.o[i][1] += path.v[i][1];\n              }\n            }\n\n            function checkVersion(minimum, animVersionString) {\n              var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n\n              if (minimum[0] > animVersion[0]) {\n                return true;\n              }\n\n              if (animVersion[0] > minimum[0]) {\n                return false;\n              }\n\n              if (minimum[1] > animVersion[1]) {\n                return true;\n              }\n\n              if (animVersion[1] > minimum[1]) {\n                return false;\n              }\n\n              if (minimum[2] > animVersion[2]) {\n                return true;\n              }\n\n              if (animVersion[2] > minimum[2]) {\n                return false;\n              }\n\n              return null;\n            }\n\n            var checkText = function () {\n              var minimumVersion = [4, 4, 14];\n\n              function updateTextLayer(textLayer) {\n                var documentData = textLayer.t.d;\n                textLayer.t.d = {\n                  k: [{\n                    s: documentData,\n                    t: 0\n                  }]\n                };\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkChars = function () {\n              var minimumVersion = [4, 7, 99];\n              return function (animationData) {\n                if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n                  var i;\n                  var len = animationData.chars.length;\n\n                  for (i = 0; i < len; i += 1) {\n                    var charData = animationData.chars[i];\n\n                    if (charData.data && charData.data.shapes) {\n                      completeShapes(charData.data.shapes);\n                      charData.data.ip = 0;\n                      charData.data.op = 99999;\n                      charData.data.st = 0;\n                      charData.data.sr = 1;\n                      charData.data.ks = {\n                        p: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        s: {\n                          k: [100, 100],\n                          a: 0\n                        },\n                        a: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        r: {\n                          k: 0,\n                          a: 0\n                        },\n                        o: {\n                          k: 100,\n                          a: 0\n                        }\n                      };\n\n                      if (!animationData.chars[i].t) {\n                        charData.data.shapes.push({\n                          ty: 'no'\n                        });\n                        charData.data.shapes[0].it.push({\n                          p: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          s: {\n                            k: [100, 100],\n                            a: 0\n                          },\n                          a: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          r: {\n                            k: 0,\n                            a: 0\n                          },\n                          o: {\n                            k: 100,\n                            a: 0\n                          },\n                          sk: {\n                            k: 0,\n                            a: 0\n                          },\n                          sa: {\n                            k: 0,\n                            a: 0\n                          },\n                          ty: 'tr'\n                        });\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkPathProperties = function () {\n              var minimumVersion = [5, 7, 15];\n\n              function updateTextLayer(textLayer) {\n                var pathData = textLayer.t.p;\n\n                if (typeof pathData.a === 'number') {\n                  pathData.a = {\n                    a: 0,\n                    k: pathData.a\n                  };\n                }\n\n                if (typeof pathData.p === 'number') {\n                  pathData.p = {\n                    a: 0,\n                    k: pathData.p\n                  };\n                }\n\n                if (typeof pathData.r === 'number') {\n                  pathData.r = {\n                    a: 0,\n                    k: pathData.r\n                  };\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkColors = function () {\n              var minimumVersion = [4, 1, 9];\n\n              function iterateShapes(shapes) {\n                var i;\n                var len = shapes.length;\n                var j;\n                var jLen;\n\n                for (i = 0; i < len; i += 1) {\n                  if (shapes[i].ty === 'gr') {\n                    iterateShapes(shapes[i].it);\n                  } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n                    if (shapes[i].c.k && shapes[i].c.k[0].i) {\n                      jLen = shapes[i].c.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (shapes[i].c.k[j].s) {\n                          shapes[i].c.k[j].s[0] /= 255;\n                          shapes[i].c.k[j].s[1] /= 255;\n                          shapes[i].c.k[j].s[2] /= 255;\n                          shapes[i].c.k[j].s[3] /= 255;\n                        }\n\n                        if (shapes[i].c.k[j].e) {\n                          shapes[i].c.k[j].e[0] /= 255;\n                          shapes[i].c.k[j].e[1] /= 255;\n                          shapes[i].c.k[j].e[2] /= 255;\n                          shapes[i].c.k[j].e[3] /= 255;\n                        }\n                      }\n                    } else {\n                      shapes[i].c.k[0] /= 255;\n                      shapes[i].c.k[1] /= 255;\n                      shapes[i].c.k[2] /= 255;\n                      shapes[i].c.k[3] /= 255;\n                    }\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 4) {\n                    iterateShapes(layers[i].shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkShapes = function () {\n              var minimumVersion = [4, 4, 18];\n\n              function completeClosingShapes(arr) {\n                var i;\n                var len = arr.length;\n                var j;\n                var jLen;\n\n                for (i = len - 1; i >= 0; i -= 1) {\n                  if (arr[i].ty === 'sh') {\n                    if (arr[i].ks.k.i) {\n                      arr[i].ks.k.c = arr[i].closed;\n                    } else {\n                      jLen = arr[i].ks.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (arr[i].ks.k[j].s) {\n                          arr[i].ks.k[j].s[0].c = arr[i].closed;\n                        }\n\n                        if (arr[i].ks.k[j].e) {\n                          arr[i].ks.k[j].e[0].c = arr[i].closed;\n                        }\n                      }\n                    }\n                  } else if (arr[i].ty === 'gr') {\n                    completeClosingShapes(arr[i].it);\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var layerData;\n                var i;\n                var len = layers.length;\n                var j;\n                var jLen;\n                var k;\n                var kLen;\n\n                for (i = 0; i < len; i += 1) {\n                  layerData = layers[i];\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        maskProps[j].pt.k.c = maskProps[j].cl;\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 4) {\n                    completeClosingShapes(layerData.shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            function completeData(animationData) {\n              if (animationData.__complete) {\n                return;\n              }\n\n              checkColors(animationData);\n              checkText(animationData);\n              checkChars(animationData);\n              checkPathProperties(animationData);\n              checkShapes(animationData);\n              completeLayers(animationData.layers, animationData.assets);\n              completeChars(animationData.chars, animationData.assets);\n              animationData.__complete = true;\n            }\n\n            function completeText(data) {\n              if (data.t.a.length === 0 && !('m' in data.t.p)) {// data.singleShape = true;\n              }\n            }\n\n            var moduleOb = {};\n            moduleOb.completeData = completeData;\n            moduleOb.checkColors = checkColors;\n            moduleOb.checkChars = checkChars;\n            moduleOb.checkPathProperties = checkPathProperties;\n            moduleOb.checkShapes = checkShapes;\n            moduleOb.completeLayers = completeLayers;\n            return moduleOb;\n          }\n\n          if (!_workerSelf.dataManager) {\n            _workerSelf.dataManager = dataFunctionManager();\n          }\n\n          if (!_workerSelf.assetLoader) {\n            _workerSelf.assetLoader = function () {\n              function formatResponse(xhr) {\n                // using typeof doubles the time of execution of this method,\n                // so if available, it's better to use the header to validate the type\n                var contentTypeHeader = xhr.getResponseHeader('content-type');\n\n                if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\n                  return xhr.response;\n                }\n\n                if (xhr.response && _typeof$5(xhr.response) === 'object') {\n                  return xhr.response;\n                }\n\n                if (xhr.response && typeof xhr.response === 'string') {\n                  return JSON.parse(xhr.response);\n                }\n\n                if (xhr.responseText) {\n                  return JSON.parse(xhr.responseText);\n                }\n\n                return null;\n              }\n\n              function loadAsset(path, fullPath, callback, errorCallback) {\n                var response;\n                var xhr = new XMLHttpRequest(); // set responseType after calling open or IE will break.\n\n                try {\n                  // This crashes on Android WebView prior to KitKat\n                  xhr.responseType = 'json';\n                } catch (err) {} // eslint-disable-line no-empty\n\n\n                xhr.onreadystatechange = function () {\n                  if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                      response = formatResponse(xhr);\n                      callback(response);\n                    } else {\n                      try {\n                        response = formatResponse(xhr);\n                        callback(response);\n                      } catch (err) {\n                        if (errorCallback) {\n                          errorCallback(err);\n                        }\n                      }\n                    }\n                  }\n                };\n\n                try {\n                  xhr.open('GET', path, true);\n                } catch (error) {\n                  xhr.open('GET', fullPath + '/' + path, true);\n                }\n\n                xhr.send();\n              }\n\n              return {\n                load: loadAsset\n              };\n            }();\n          }\n\n          if (e.data.type === 'loadAnimation') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.dataManager.completeData(data);\n\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          } else if (e.data.type === 'complete') {\n            var animation = e.data.animation;\n\n            _workerSelf.dataManager.completeData(animation);\n\n            _workerSelf.postMessage({\n              id: e.data.id,\n              payload: animation,\n              status: 'success'\n            });\n          } else if (e.data.type === 'loadData') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          }\n        });\n\n        workerInstance.onmessage = function (event) {\n          var data = event.data;\n          var id = data.id;\n          var process = processes[id];\n          processes[id] = null;\n\n          if (data.status === 'success') {\n            process.onComplete(data.payload);\n          } else if (process.onError) {\n            process.onError();\n          }\n        };\n      }\n    }\n\n    function createProcess(onComplete, onError) {\n      _counterId += 1;\n      var id = 'processId_' + _counterId;\n      processes[id] = {\n        onComplete: onComplete,\n        onError: onError\n      };\n      return id;\n    }\n\n    function loadAnimation(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadAnimation',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function loadData(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadData',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function completeAnimation(anim, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'complete',\n        animation: anim,\n        id: processId\n      });\n    }\n\n    return {\n      loadAnimation: loadAnimation,\n      loadData: loadData,\n      completeAnimation: completeAnimation\n    };\n  }();\n\n  var ImagePreloader = function () {\n    var proxyImage = function () {\n      var canvas = createTag('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'rgba(0,0,0,0)';\n      ctx.fillRect(0, 0, 1, 1);\n      return canvas;\n    }();\n\n    function imageLoaded() {\n      this.loadedAssets += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function footageLoaded() {\n      this.loadedFootagesCount += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function getAssetsPath(assetData, assetsPath, originalPath) {\n      var path = '';\n\n      if (assetData.e) {\n        path = assetData.p;\n      } else if (assetsPath) {\n        var imagePath = assetData.p;\n\n        if (imagePath.indexOf('images/') !== -1) {\n          imagePath = imagePath.split('/')[1];\n        }\n\n        path = assetsPath + imagePath;\n      } else {\n        path = originalPath;\n        path += assetData.u ? assetData.u : '';\n        path += assetData.p;\n      }\n\n      return path;\n    }\n\n    function testImageLoaded(img) {\n      var _count = 0;\n      var intervalId = setInterval(function () {\n        var box = img.getBBox();\n\n        if (box.width || _count > 500) {\n          this._imageLoaded();\n\n          clearInterval(intervalId);\n        }\n\n        _count += 1;\n      }.bind(this), 50);\n    }\n\n    function createImageData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createNS('image');\n\n      if (isSafari) {\n        this.testImageLoaded(img);\n      } else {\n        img.addEventListener('load', this._imageLoaded, false);\n      }\n\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n\n      if (this._elementHelper.append) {\n        this._elementHelper.append(img);\n      } else {\n        this._elementHelper.appendChild(img);\n      }\n\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createImgData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createTag('img');\n      img.crossOrigin = 'anonymous';\n      img.addEventListener('load', this._imageLoaded, false);\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.src = path;\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createFootageData(data) {\n      var ob = {\n        assetData: data\n      };\n      var path = getAssetsPath(data, this.assetsPath, this.path);\n      dataManager.loadData(path, function (footageData) {\n        ob.img = footageData;\n\n        this._footageLoaded();\n      }.bind(this), function () {\n        ob.img = {};\n\n        this._footageLoaded();\n      }.bind(this));\n      return ob;\n    }\n\n    function loadAssets(assets, cb) {\n      this.imagesLoadedCb = cb;\n      var i;\n      var len = assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (!assets[i].layers) {\n          if (!assets[i].t || assets[i].t === 'seq') {\n            this.totalImages += 1;\n            this.images.push(this._createImageData(assets[i]));\n          } else if (assets[i].t === 3) {\n            this.totalFootages += 1;\n            this.images.push(this.createFootageData(assets[i]));\n          }\n        }\n      }\n    }\n\n    function setPath(path) {\n      this.path = path || '';\n    }\n\n    function setAssetsPath(path) {\n      this.assetsPath = path || '';\n    }\n\n    function getAsset(assetData) {\n      var i = 0;\n      var len = this.images.length;\n\n      while (i < len) {\n        if (this.images[i].assetData === assetData) {\n          return this.images[i].img;\n        }\n\n        i += 1;\n      }\n\n      return null;\n    }\n\n    function destroy() {\n      this.imagesLoadedCb = null;\n      this.images.length = 0;\n    }\n\n    function loadedImages() {\n      return this.totalImages === this.loadedAssets;\n    }\n\n    function loadedFootages() {\n      return this.totalFootages === this.loadedFootagesCount;\n    }\n\n    function setCacheType(type, elementHelper) {\n      if (type === 'svg') {\n        this._elementHelper = elementHelper;\n        this._createImageData = this.createImageData.bind(this);\n      } else {\n        this._createImageData = this.createImgData.bind(this);\n      }\n    }\n\n    function ImagePreloaderFactory() {\n      this._imageLoaded = imageLoaded.bind(this);\n      this._footageLoaded = footageLoaded.bind(this);\n      this.testImageLoaded = testImageLoaded.bind(this);\n      this.createFootageData = createFootageData.bind(this);\n      this.assetsPath = '';\n      this.path = '';\n      this.totalImages = 0;\n      this.totalFootages = 0;\n      this.loadedAssets = 0;\n      this.loadedFootagesCount = 0;\n      this.imagesLoadedCb = null;\n      this.images = [];\n    }\n\n    ImagePreloaderFactory.prototype = {\n      loadAssets: loadAssets,\n      setAssetsPath: setAssetsPath,\n      setPath: setPath,\n      loadedImages: loadedImages,\n      loadedFootages: loadedFootages,\n      destroy: destroy,\n      getAsset: getAsset,\n      createImgData: createImgData,\n      createImageData: createImageData,\n      imageLoaded: imageLoaded,\n      footageLoaded: footageLoaded,\n      setCacheType: setCacheType\n    };\n    return ImagePreloaderFactory;\n  }();\n\n  function BaseEvent() {}\n\n  BaseEvent.prototype = {\n    triggerEvent: function triggerEvent(eventName, args) {\n      if (this._cbs[eventName]) {\n        var callbacks = this._cbs[eventName];\n\n        for (var i = 0; i < callbacks.length; i += 1) {\n          callbacks[i](args);\n        }\n      }\n    },\n    addEventListener: function addEventListener(eventName, callback) {\n      if (!this._cbs[eventName]) {\n        this._cbs[eventName] = [];\n      }\n\n      this._cbs[eventName].push(callback);\n\n      return function () {\n        this.removeEventListener(eventName, callback);\n      }.bind(this);\n    },\n    removeEventListener: function removeEventListener(eventName, callback) {\n      if (!callback) {\n        this._cbs[eventName] = null;\n      } else if (this._cbs[eventName]) {\n        var i = 0;\n        var len = this._cbs[eventName].length;\n\n        while (i < len) {\n          if (this._cbs[eventName][i] === callback) {\n            this._cbs[eventName].splice(i, 1);\n\n            i -= 1;\n            len -= 1;\n          }\n\n          i += 1;\n        }\n\n        if (!this._cbs[eventName].length) {\n          this._cbs[eventName] = null;\n        }\n      }\n    }\n  };\n\n  var markerParser = function () {\n    function parsePayloadLines(payload) {\n      var lines = payload.split('\\r\\n');\n      var keys = {};\n      var line;\n      var keysCount = 0;\n\n      for (var i = 0; i < lines.length; i += 1) {\n        line = lines[i].split(':');\n\n        if (line.length === 2) {\n          keys[line[0]] = line[1].trim();\n          keysCount += 1;\n        }\n      }\n\n      if (keysCount === 0) {\n        throw new Error();\n      }\n\n      return keys;\n    }\n\n    return function (_markers) {\n      var markers = [];\n\n      for (var i = 0; i < _markers.length; i += 1) {\n        var _marker = _markers[i];\n        var markerData = {\n          time: _marker.tm,\n          duration: _marker.dr\n        };\n\n        try {\n          markerData.payload = JSON.parse(_markers[i].cm);\n        } catch (_) {\n          try {\n            markerData.payload = parsePayloadLines(_markers[i].cm);\n          } catch (__) {\n            markerData.payload = {\n              name: _markers[i]\n            };\n          }\n        }\n\n        markers.push(markerData);\n      }\n\n      return markers;\n    };\n  }();\n\n  var ProjectInterface = function () {\n    function registerComposition(comp) {\n      this.compositions.push(comp);\n    }\n\n    return function () {\n      function _thisProjectFunction(name) {\n        var i = 0;\n        var len = this.compositions.length;\n\n        while (i < len) {\n          if (this.compositions[i].data && this.compositions[i].data.nm === name) {\n            if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\n              this.compositions[i].prepareFrame(this.currentFrame);\n            }\n\n            return this.compositions[i].compInterface;\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      _thisProjectFunction.compositions = [];\n      _thisProjectFunction.currentFrame = 0;\n      _thisProjectFunction.registerComposition = registerComposition;\n      return _thisProjectFunction;\n    };\n  }();\n\n  var renderers = {};\n\n  var registerRenderer = function registerRenderer(key, value) {\n    renderers[key] = value;\n  };\n\n  function getRenderer(key) {\n    return renderers[key];\n  }\n\n  function _typeof$4(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$4 = function _typeof(obj) { return typeof obj; }; } else { _typeof$4 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$4(obj); }\n\n  var AnimationItem = function AnimationItem() {\n    this._cbs = [];\n    this.name = '';\n    this.path = '';\n    this.isLoaded = false;\n    this.currentFrame = 0;\n    this.currentRawFrame = 0;\n    this.firstFrame = 0;\n    this.totalFrames = 0;\n    this.frameRate = 0;\n    this.frameMult = 0;\n    this.playSpeed = 1;\n    this.playDirection = 1;\n    this.playCount = 0;\n    this.animationData = {};\n    this.assets = [];\n    this.isPaused = true;\n    this.autoplay = false;\n    this.loop = true;\n    this.renderer = null;\n    this.animationID = createElementID();\n    this.assetsPath = '';\n    this.timeCompleted = 0;\n    this.segmentPos = 0;\n    this.isSubframeEnabled = getSubframeEnabled();\n    this.segments = [];\n    this._idle = true;\n    this._completedLoop = false;\n    this.projectInterface = ProjectInterface();\n    this.imagePreloader = new ImagePreloader();\n    this.audioController = audioControllerFactory();\n    this.markers = [];\n    this.configAnimation = this.configAnimation.bind(this);\n    this.onSetupError = this.onSetupError.bind(this);\n    this.onSegmentComplete = this.onSegmentComplete.bind(this);\n  };\n\n  extendPrototype([BaseEvent], AnimationItem);\n\n  AnimationItem.prototype.setParams = function (params) {\n    if (params.wrapper || params.container) {\n      this.wrapper = params.wrapper || params.container;\n    }\n\n    var animType = 'svg';\n\n    if (params.animType) {\n      animType = params.animType;\n    } else if (params.renderer) {\n      animType = params.renderer;\n    }\n\n    var RendererClass = getRenderer(animType);\n    this.renderer = new RendererClass(this, params.rendererSettings);\n    this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\n    this.renderer.setProjectInterface(this.projectInterface);\n    this.animType = animType;\n\n    if (params.loop === '' || params.loop === null || params.loop === undefined || params.loop === true) {\n      this.loop = true;\n    } else if (params.loop === false) {\n      this.loop = false;\n    } else {\n      this.loop = parseInt(params.loop, 10);\n    }\n\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\n    this.name = params.name ? params.name : '';\n    this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\n    this.assetsPath = params.assetsPath;\n    this.initialSegment = params.initialSegment;\n\n    if (params.audioFactory) {\n      this.audioController.setAudioFactory(params.audioFactory);\n    }\n\n    if (params.animationData) {\n      this.setupAnimation(params.animationData);\n    } else if (params.path) {\n      if (params.path.lastIndexOf('\\\\') !== -1) {\n        this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\n      } else {\n        this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\n      }\n\n      this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\n      this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\n      dataManager.loadAnimation(params.path, this.configAnimation, this.onSetupError);\n    }\n  };\n\n  AnimationItem.prototype.onSetupError = function () {\n    this.trigger('data_failed');\n  };\n\n  AnimationItem.prototype.setupAnimation = function (data) {\n    dataManager.completeAnimation(data, this.configAnimation);\n  };\n\n  AnimationItem.prototype.setData = function (wrapper, animationData) {\n    if (animationData) {\n      if (_typeof$4(animationData) !== 'object') {\n        animationData = JSON.parse(animationData);\n      }\n    }\n\n    var params = {\n      wrapper: wrapper,\n      animationData: animationData\n    };\n    var wrapperAttributes = wrapper.attributes;\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-path').value : wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('bm-type').value : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-loop').value : wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\n\n    if (loop === 'false') {\n      params.loop = false;\n    } else if (loop === 'true') {\n      params.loop = true;\n    } else if (loop !== '') {\n      params.loop = parseInt(loop, 10);\n    }\n\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-autoplay').value : wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\n    params.autoplay = autoplay !== 'false';\n    params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-name').value : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value : '';\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-prerender').value : wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\n\n    if (prerender === 'false') {\n      params.prerender = false;\n    }\n\n    this.setParams(params);\n  };\n\n  AnimationItem.prototype.includeLayers = function (data) {\n    if (data.op > this.animationData.op) {\n      this.animationData.op = data.op;\n      this.totalFrames = Math.floor(data.op - this.animationData.ip);\n    }\n\n    var layers = this.animationData.layers;\n    var i;\n    var len = layers.length;\n    var newLayers = data.layers;\n    var j;\n    var jLen = newLayers.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      i = 0;\n\n      while (i < len) {\n        if (layers[i].id === newLayers[j].id) {\n          layers[i] = newLayers[j];\n          break;\n        }\n\n        i += 1;\n      }\n    }\n\n    if (data.chars || data.fonts) {\n      this.renderer.globalData.fontManager.addChars(data.chars);\n      this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\n    }\n\n    if (data.assets) {\n      len = data.assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.animationData.assets.push(data.assets[i]);\n      }\n    }\n\n    this.animationData.__complete = false;\n    dataManager.completeAnimation(this.animationData, this.onSegmentComplete);\n  };\n\n  AnimationItem.prototype.onSegmentComplete = function (data) {\n    this.animationData = data;\n    var expressionsPlugin = getExpressionsPlugin();\n\n    if (expressionsPlugin) {\n      expressionsPlugin.initExpressions(this);\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.loadNextSegment = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments || segments.length === 0 || !this.autoloadSegments) {\n      this.trigger('data_ready');\n      this.timeCompleted = this.totalFrames;\n      return;\n    }\n\n    var segment = segments.shift();\n    this.timeCompleted = segment.time * this.frameRate;\n    var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\n    this.segmentPos += 1;\n    dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\n      this.trigger('data_failed');\n    }.bind(this));\n  };\n\n  AnimationItem.prototype.loadSegments = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments) {\n      this.timeCompleted = this.totalFrames;\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.imagesLoaded = function () {\n    this.trigger('loaded_images');\n    this.checkLoaded();\n  };\n\n  AnimationItem.prototype.preloadImages = function () {\n    this.imagePreloader.setAssetsPath(this.assetsPath);\n    this.imagePreloader.setPath(this.path);\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\n  };\n\n  AnimationItem.prototype.configAnimation = function (animData) {\n    if (!this.renderer) {\n      return;\n    }\n\n    try {\n      this.animationData = animData;\n\n      if (this.initialSegment) {\n        this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\n        this.firstFrame = Math.round(this.initialSegment[0]);\n      } else {\n        this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\n        this.firstFrame = Math.round(this.animationData.ip);\n      }\n\n      this.renderer.configAnimation(animData);\n\n      if (!animData.assets) {\n        animData.assets = [];\n      }\n\n      this.assets = this.animationData.assets;\n      this.frameRate = this.animationData.fr;\n      this.frameMult = this.animationData.fr / 1000;\n      this.renderer.searchExtraCompositions(animData.assets);\n      this.markers = markerParser(animData.markers || []);\n      this.trigger('config_ready');\n      this.preloadImages();\n      this.loadSegments();\n      this.updaFrameModifier();\n      this.waitForFontsLoaded();\n\n      if (this.isPaused) {\n        this.audioController.pause();\n      }\n    } catch (error) {\n      this.triggerConfigError(error);\n    }\n  };\n\n  AnimationItem.prototype.waitForFontsLoaded = function () {\n    if (!this.renderer) {\n      return;\n    }\n\n    if (this.renderer.globalData.fontManager.isLoaded) {\n      this.checkLoaded();\n    } else {\n      setTimeout(this.waitForFontsLoaded.bind(this), 20);\n    }\n  };\n\n  AnimationItem.prototype.checkLoaded = function () {\n    if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas') && this.imagePreloader.loadedFootages()) {\n      this.isLoaded = true;\n      var expressionsPlugin = getExpressionsPlugin();\n\n      if (expressionsPlugin) {\n        expressionsPlugin.initExpressions(this);\n      }\n\n      this.renderer.initItems();\n      setTimeout(function () {\n        this.trigger('DOMLoaded');\n      }.bind(this), 0);\n      this.gotoFrame();\n\n      if (this.autoplay) {\n        this.play();\n      }\n    }\n  };\n\n  AnimationItem.prototype.resize = function () {\n    this.renderer.updateContainerSize();\n  };\n\n  AnimationItem.prototype.setSubframe = function (flag) {\n    this.isSubframeEnabled = !!flag;\n  };\n\n  AnimationItem.prototype.gotoFrame = function () {\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\n\n    if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\n      this.currentFrame = this.timeCompleted;\n    }\n\n    this.trigger('enterFrame');\n    this.renderFrame();\n    this.trigger('drawnFrame');\n  };\n\n  AnimationItem.prototype.renderFrame = function () {\n    if (this.isLoaded === false || !this.renderer) {\n      return;\n    }\n\n    try {\n      this.renderer.renderFrame(this.currentFrame + this.firstFrame);\n    } catch (error) {\n      this.triggerRenderFrameError(error);\n    }\n  };\n\n  AnimationItem.prototype.play = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.isPaused = false;\n      this.audioController.resume();\n\n      if (this._idle) {\n        this._idle = false;\n        this.trigger('_active');\n      }\n    }\n  };\n\n  AnimationItem.prototype.pause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === false) {\n      this.isPaused = true;\n      this._idle = true;\n      this.trigger('_idle');\n      this.audioController.pause();\n    }\n  };\n\n  AnimationItem.prototype.togglePause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  };\n\n  AnimationItem.prototype.stop = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.pause();\n    this.playCount = 0;\n    this._completedLoop = false;\n    this.setCurrentRawFrameValue(0);\n  };\n\n  AnimationItem.prototype.getMarkerData = function (markerName) {\n    var marker;\n\n    for (var i = 0; i < this.markers.length; i += 1) {\n      marker = this.markers[i];\n\n      if (marker.payload && marker.payload.name === markerName) {\n        return marker;\n      }\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        this.goToAndStop(marker.time, true);\n      }\n    } else if (isFrame) {\n      this.setCurrentRawFrameValue(value);\n    } else {\n      this.setCurrentRawFrameValue(value * this.frameModifier);\n    }\n\n    this.pause();\n  };\n\n  AnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        if (!marker.duration) {\n          this.goToAndStop(marker.time, true);\n        } else {\n          this.playSegments([marker.time, marker.time + marker.duration], true);\n        }\n      }\n    } else {\n      this.goToAndStop(numValue, isFrame, name);\n    }\n\n    this.play();\n  };\n\n  AnimationItem.prototype.advanceTime = function (value) {\n    if (this.isPaused === true || this.isLoaded === false) {\n      return;\n    }\n\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\n    var _isComplete = false; // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\n\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\n      if (!this.loop || this.playCount === this.loop) {\n        if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\n          _isComplete = true;\n          nextValue = this.totalFrames - 1;\n        }\n      } else if (nextValue >= this.totalFrames) {\n        this.playCount += 1;\n\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\n          this.setCurrentRawFrameValue(nextValue % this.totalFrames);\n          this._completedLoop = true;\n          this.trigger('loopComplete');\n        }\n      } else {\n        this.setCurrentRawFrameValue(nextValue);\n      }\n    } else if (nextValue < 0) {\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\n        if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\n          // eslint-disable-line no-plusplus\n          this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);\n\n          if (!this._completedLoop) {\n            this._completedLoop = true;\n          } else {\n            this.trigger('loopComplete');\n          }\n        } else {\n          _isComplete = true;\n          nextValue = 0;\n        }\n      }\n    } else {\n      this.setCurrentRawFrameValue(nextValue);\n    }\n\n    if (_isComplete) {\n      this.setCurrentRawFrameValue(nextValue);\n      this.pause();\n      this.trigger('complete');\n    }\n  };\n\n  AnimationItem.prototype.adjustSegment = function (arr, offset) {\n    this.playCount = 0;\n\n    if (arr[1] < arr[0]) {\n      if (this.frameModifier > 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(-1);\n        }\n      }\n\n      this.totalFrames = arr[0] - arr[1];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[1];\n      this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\n    } else if (arr[1] > arr[0]) {\n      if (this.frameModifier < 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(1);\n        }\n      }\n\n      this.totalFrames = arr[1] - arr[0];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[0];\n      this.setCurrentRawFrameValue(0.001 + offset);\n    }\n\n    this.trigger('segmentStart');\n  };\n\n  AnimationItem.prototype.setSegment = function (init, end) {\n    var pendingFrame = -1;\n\n    if (this.isPaused) {\n      if (this.currentRawFrame + this.firstFrame < init) {\n        pendingFrame = init;\n      } else if (this.currentRawFrame + this.firstFrame > end) {\n        pendingFrame = end - init;\n      }\n    }\n\n    this.firstFrame = init;\n    this.totalFrames = end - init;\n    this.timeCompleted = this.totalFrames;\n\n    if (pendingFrame !== -1) {\n      this.goToAndStop(pendingFrame, true);\n    }\n  };\n\n  AnimationItem.prototype.playSegments = function (arr, forceFlag) {\n    if (forceFlag) {\n      this.segments.length = 0;\n    }\n\n    if (_typeof$4(arr[0]) === 'object') {\n      var i;\n      var len = arr.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.segments.push(arr[i]);\n      }\n    } else {\n      this.segments.push(arr);\n    }\n\n    if (this.segments.length && forceFlag) {\n      this.adjustSegment(this.segments.shift(), 0);\n    }\n\n    if (this.isPaused) {\n      this.play();\n    }\n  };\n\n  AnimationItem.prototype.resetSegments = function (forceFlag) {\n    this.segments.length = 0;\n    this.segments.push([this.animationData.ip, this.animationData.op]);\n\n    if (forceFlag) {\n      this.checkSegments(0);\n    }\n  };\n\n  AnimationItem.prototype.checkSegments = function (offset) {\n    if (this.segments.length) {\n      this.adjustSegment(this.segments.shift(), offset);\n      return true;\n    }\n\n    return false;\n  };\n\n  AnimationItem.prototype.destroy = function (name) {\n    if (name && this.name !== name || !this.renderer) {\n      return;\n    }\n\n    this.renderer.destroy();\n    this.imagePreloader.destroy();\n    this.trigger('destroy');\n    this._cbs = null;\n    this.onEnterFrame = null;\n    this.onLoopComplete = null;\n    this.onComplete = null;\n    this.onSegmentStart = null;\n    this.onDestroy = null;\n    this.renderer = null;\n    this.renderer = null;\n    this.imagePreloader = null;\n    this.projectInterface = null;\n  };\n\n  AnimationItem.prototype.setCurrentRawFrameValue = function (value) {\n    this.currentRawFrame = value;\n    this.gotoFrame();\n  };\n\n  AnimationItem.prototype.setSpeed = function (val) {\n    this.playSpeed = val;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setDirection = function (val) {\n    this.playDirection = val < 0 ? -1 : 1;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setVolume = function (val, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.setVolume(val);\n  };\n\n  AnimationItem.prototype.getVolume = function () {\n    return this.audioController.getVolume();\n  };\n\n  AnimationItem.prototype.mute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.mute();\n  };\n\n  AnimationItem.prototype.unmute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.unmute();\n  };\n\n  AnimationItem.prototype.updaFrameModifier = function () {\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\n    this.audioController.setRate(this.playSpeed * this.playDirection);\n  };\n\n  AnimationItem.prototype.getPath = function () {\n    return this.path;\n  };\n\n  AnimationItem.prototype.getAssetsPath = function (assetData) {\n    var path = '';\n\n    if (assetData.e) {\n      path = assetData.p;\n    } else if (this.assetsPath) {\n      var imagePath = assetData.p;\n\n      if (imagePath.indexOf('images/') !== -1) {\n        imagePath = imagePath.split('/')[1];\n      }\n\n      path = this.assetsPath + imagePath;\n    } else {\n      path = this.path;\n      path += assetData.u ? assetData.u : '';\n      path += assetData.p;\n    }\n\n    return path;\n  };\n\n  AnimationItem.prototype.getAssetData = function (id) {\n    var i = 0;\n    var len = this.assets.length;\n\n    while (i < len) {\n      if (id === this.assets[i].id) {\n        return this.assets[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.hide = function () {\n    this.renderer.hide();\n  };\n\n  AnimationItem.prototype.show = function () {\n    this.renderer.show();\n  };\n\n  AnimationItem.prototype.getDuration = function (isFrame) {\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\n  };\n\n  AnimationItem.prototype.trigger = function (name) {\n    if (this._cbs && this._cbs[name]) {\n      switch (name) {\n        case 'enterFrame':\n        case 'drawnFrame':\n          this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\n          break;\n\n        case 'loopComplete':\n          this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n          break;\n\n        case 'complete':\n          this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\n          break;\n\n        case 'segmentStart':\n          this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n          break;\n\n        case 'destroy':\n          this.triggerEvent(name, new BMDestroyEvent(name, this));\n          break;\n\n        default:\n          this.triggerEvent(name);\n      }\n    }\n\n    if (name === 'enterFrame' && this.onEnterFrame) {\n      this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\n    }\n\n    if (name === 'loopComplete' && this.onLoopComplete) {\n      this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n    }\n\n    if (name === 'complete' && this.onComplete) {\n      this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\n    }\n\n    if (name === 'segmentStart' && this.onSegmentStart) {\n      this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n    }\n\n    if (name === 'destroy' && this.onDestroy) {\n      this.onDestroy.call(this, new BMDestroyEvent(name, this));\n    }\n  };\n\n  AnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  AnimationItem.prototype.triggerConfigError = function (nativeError) {\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  var animationManager = function () {\n    var moduleOb = {};\n    var registeredAnimations = [];\n    var initTime = 0;\n    var len = 0;\n    var playingAnimationsNum = 0;\n    var _stopped = true;\n    var _isFrozen = false;\n\n    function removeElement(ev) {\n      var i = 0;\n      var animItem = ev.target;\n\n      while (i < len) {\n        if (registeredAnimations[i].animation === animItem) {\n          registeredAnimations.splice(i, 1);\n          i -= 1;\n          len -= 1;\n\n          if (!animItem.isPaused) {\n            subtractPlayingCount();\n          }\n        }\n\n        i += 1;\n      }\n    }\n\n    function registerAnimation(element, animationData) {\n      if (!element) {\n        return null;\n      }\n\n      var i = 0;\n\n      while (i < len) {\n        if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\n          return registeredAnimations[i].animation;\n        }\n\n        i += 1;\n      }\n\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, element);\n      animItem.setData(element, animationData);\n      return animItem;\n    }\n\n    function getRegisteredAnimations() {\n      var i;\n      var lenAnims = registeredAnimations.length;\n      var animations = [];\n\n      for (i = 0; i < lenAnims; i += 1) {\n        animations.push(registeredAnimations[i].animation);\n      }\n\n      return animations;\n    }\n\n    function addPlayingCount() {\n      playingAnimationsNum += 1;\n      activate();\n    }\n\n    function subtractPlayingCount() {\n      playingAnimationsNum -= 1;\n    }\n\n    function setupAnimation(animItem, element) {\n      animItem.addEventListener('destroy', removeElement);\n      animItem.addEventListener('_active', addPlayingCount);\n      animItem.addEventListener('_idle', subtractPlayingCount);\n      registeredAnimations.push({\n        elem: element,\n        animation: animItem\n      });\n      len += 1;\n    }\n\n    function loadAnimation(params) {\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, null);\n      animItem.setParams(params);\n      return animItem;\n    }\n\n    function setSpeed(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setSpeed(val, animation);\n      }\n    }\n\n    function setDirection(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setDirection(val, animation);\n      }\n    }\n\n    function play(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.play(animation);\n      }\n    }\n\n    function resume(nowTime) {\n      var elapsedTime = nowTime - initTime;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\n      }\n\n      initTime = nowTime;\n\n      if (playingAnimationsNum && !_isFrozen) {\n        window.requestAnimationFrame(resume);\n      } else {\n        _stopped = true;\n      }\n    }\n\n    function first(nowTime) {\n      initTime = nowTime;\n      window.requestAnimationFrame(resume);\n    }\n\n    function pause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.pause(animation);\n      }\n    }\n\n    function goToAndStop(value, isFrame, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\n      }\n    }\n\n    function stop(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.stop(animation);\n      }\n    }\n\n    function togglePause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.togglePause(animation);\n      }\n    }\n\n    function destroy(animation) {\n      var i;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        registeredAnimations[i].animation.destroy(animation);\n      }\n    }\n\n    function searchAnimations(animationData, standalone, renderer) {\n      var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')), [].slice.call(document.getElementsByClassName('bodymovin')));\n      var i;\n      var lenAnims = animElements.length;\n\n      for (i = 0; i < lenAnims; i += 1) {\n        if (renderer) {\n          animElements[i].setAttribute('data-bm-type', renderer);\n        }\n\n        registerAnimation(animElements[i], animationData);\n      }\n\n      if (standalone && lenAnims === 0) {\n        if (!renderer) {\n          renderer = 'svg';\n        }\n\n        var body = document.getElementsByTagName('body')[0];\n        body.innerText = '';\n        var div = createTag('div');\n        div.style.width = '100%';\n        div.style.height = '100%';\n        div.setAttribute('data-bm-type', renderer);\n        body.appendChild(div);\n        registerAnimation(div, animationData);\n      }\n    }\n\n    function resize() {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.resize();\n      }\n    }\n\n    function activate() {\n      if (!_isFrozen && playingAnimationsNum) {\n        if (_stopped) {\n          window.requestAnimationFrame(first);\n          _stopped = false;\n        }\n      }\n    }\n\n    function freeze() {\n      _isFrozen = true;\n    }\n\n    function unfreeze() {\n      _isFrozen = false;\n      activate();\n    }\n\n    function setVolume(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setVolume(val, animation);\n      }\n    }\n\n    function mute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.mute(animation);\n      }\n    }\n\n    function unmute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.unmute(animation);\n      }\n    }\n\n    moduleOb.registerAnimation = registerAnimation;\n    moduleOb.loadAnimation = loadAnimation;\n    moduleOb.setSpeed = setSpeed;\n    moduleOb.setDirection = setDirection;\n    moduleOb.play = play;\n    moduleOb.pause = pause;\n    moduleOb.stop = stop;\n    moduleOb.togglePause = togglePause;\n    moduleOb.searchAnimations = searchAnimations;\n    moduleOb.resize = resize; // moduleOb.start = start;\n\n    moduleOb.goToAndStop = goToAndStop;\n    moduleOb.destroy = destroy;\n    moduleOb.freeze = freeze;\n    moduleOb.unfreeze = unfreeze;\n    moduleOb.setVolume = setVolume;\n    moduleOb.mute = mute;\n    moduleOb.unmute = unmute;\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\n    return moduleOb;\n  }();\n\n  /* eslint-disable */\n  var BezierFactory = function () {\n    /**\r\n       * BezierEasing - use bezier curve for transition easing function\r\n       * by Gatan Renaudeau 2014 - 2015  MIT License\r\n       *\r\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n       * Usage:\r\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n       *\r\n       */\n    var ob = {};\n    ob.getBezierEasing = getBezierEasing;\n    var beziers = {};\n\n    function getBezierEasing(a, b, c, d, nm) {\n      var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\n\n      if (beziers[str]) {\n        return beziers[str];\n      }\n\n      var bezEasing = new BezierEasing([a, b, c, d]);\n      beziers[str] = bezEasing;\n      return bezEasing;\n    } // These values are established by empiricism with tests (tradeoff: performance VS precision)\n\n\n    var NEWTON_ITERATIONS = 4;\n    var NEWTON_MIN_SLOPE = 0.001;\n    var SUBDIVISION_PRECISION = 0.0000001;\n    var SUBDIVISION_MAX_ITERATIONS = 10;\n    var kSplineTableSize = 11;\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n    var float32ArraySupported = typeof Float32Array === 'function';\n\n    function A(aA1, aA2) {\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n    }\n\n    function B(aA1, aA2) {\n      return 3.0 * aA2 - 6.0 * aA1;\n    }\n\n    function C(aA1) {\n      return 3.0 * aA1;\n    } // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n\n\n    function calcBezier(aT, aA1, aA2) {\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n    } // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n\n\n    function getSlope(aT, aA1, aA2) {\n      return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    }\n\n    function binarySubdivide(aX, aA, aB, mX1, mX2) {\n      var currentX,\n          currentT,\n          i = 0;\n\n      do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n        if (currentX > 0.0) {\n          aB = currentT;\n        } else {\n          aA = currentT;\n        }\n      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n\n      return currentT;\n    }\n\n    function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) return aGuessT;\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n      }\n\n      return aGuessT;\n    }\n    /**\r\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n       */\n\n\n    function BezierEasing(points) {\n      this._p = points;\n      this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n      this._precomputed = false;\n      this.get = this.get.bind(this);\n    }\n\n    BezierEasing.prototype = {\n      get: function get(x) {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        if (!this._precomputed) this._precompute();\n        if (mX1 === mY1 && mX2 === mY2) return x; // linear\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n\n        if (x === 0) return 0;\n        if (x === 1) return 1;\n        return calcBezier(this._getTForX(x), mY1, mY2);\n      },\n      // Private part\n      _precompute: function _precompute() {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        this._precomputed = true;\n\n        if (mX1 !== mY1 || mX2 !== mY2) {\n          this._calcSampleValues();\n        }\n      },\n      _calcSampleValues: function _calcSampleValues() {\n        var mX1 = this._p[0],\n            mX2 = this._p[2];\n\n        for (var i = 0; i < kSplineTableSize; ++i) {\n          this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n        }\n      },\n\n      /**\r\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n           */\n      _getTForX: function _getTForX(aX) {\n        var mX1 = this._p[0],\n            mX2 = this._p[2],\n            mSampleValues = this._mSampleValues;\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n\n        for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n          intervalStart += kSampleStepSize;\n        }\n\n        --currentSample; // Interpolate to provide an initial guess for t\n\n        var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n          return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n\n        if (initialSlope === 0.0) {\n          return guessForT;\n        }\n\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n    };\n    return ob;\n  }();\n\n  var pooling = function () {\n    function _double(arr) {\n      return arr.concat(createSizedArray(arr.length));\n    }\n\n    return {\n      \"double\": _double\n    };\n  }();\n\n  var poolFactory = function () {\n    return function (initialLength, _create, _release) {\n      var _length = 0;\n      var _maxLength = initialLength;\n      var pool = createSizedArray(_maxLength);\n      var ob = {\n        newElement: newElement,\n        release: release\n      };\n\n      function newElement() {\n        var element;\n\n        if (_length) {\n          _length -= 1;\n          element = pool[_length];\n        } else {\n          element = _create();\n        }\n\n        return element;\n      }\n\n      function release(element) {\n        if (_length === _maxLength) {\n          pool = pooling[\"double\"](pool);\n          _maxLength *= 2;\n        }\n\n        if (_release) {\n          _release(element);\n        }\n\n        pool[_length] = element;\n        _length += 1;\n      }\n\n      return ob;\n    };\n  }();\n\n  var bezierLengthPool = function () {\n    function create() {\n      return {\n        addedLength: 0,\n        percents: createTypedArray('float32', getDefaultCurveSegments()),\n        lengths: createTypedArray('float32', getDefaultCurveSegments())\n      };\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  var segmentsLengthPool = function () {\n    function create() {\n      return {\n        lengths: [],\n        totalLength: 0\n      };\n    }\n\n    function release(element) {\n      var i;\n      var len = element.lengths.length;\n\n      for (i = 0; i < len; i += 1) {\n        bezierLengthPool.release(element.lengths[i]);\n      }\n\n      element.lengths.length = 0;\n    }\n\n    return poolFactory(8, create, release);\n  }();\n\n  function bezFunction() {\n    var math = Math;\n\n    function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n      var det1 = x1 * y2 + y1 * x3 + x2 * y3 - x3 * y2 - y3 * x1 - x2 * y1;\n      return det1 > -0.001 && det1 < 0.001;\n    }\n\n    function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n      if (z1 === 0 && z2 === 0 && z3 === 0) {\n        return pointOnLine2D(x1, y1, x2, y2, x3, y3);\n      }\n\n      var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\n      var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\n      var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\n      var diffDist;\n\n      if (dist1 > dist2) {\n        if (dist1 > dist3) {\n          diffDist = dist1 - dist2 - dist3;\n        } else {\n          diffDist = dist3 - dist2 - dist1;\n        }\n      } else if (dist3 > dist2) {\n        diffDist = dist3 - dist2 - dist1;\n      } else {\n        diffDist = dist2 - dist1 - dist3;\n      }\n\n      return diffDist > -0.0001 && diffDist < 0.0001;\n    }\n\n    var getBezierLength = function () {\n      return function (pt1, pt2, pt3, pt4) {\n        var curveSegments = getDefaultCurveSegments();\n        var k;\n        var i;\n        var len;\n        var ptCoord;\n        var perc;\n        var addedLength = 0;\n        var ptDistance;\n        var point = [];\n        var lastPoint = [];\n        var lengthData = bezierLengthPool.newElement();\n        len = pt3.length;\n\n        for (k = 0; k < curveSegments; k += 1) {\n          perc = k / (curveSegments - 1);\n          ptDistance = 0;\n\n          for (i = 0; i < len; i += 1) {\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\n            point[i] = ptCoord;\n\n            if (lastPoint[i] !== null) {\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\n            }\n\n            lastPoint[i] = point[i];\n          }\n\n          if (ptDistance) {\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n          }\n\n          lengthData.percents[k] = perc;\n          lengthData.lengths[k] = addedLength;\n        }\n\n        lengthData.addedLength = addedLength;\n        return lengthData;\n      };\n    }();\n\n    function getSegmentsLength(shapeData) {\n      var segmentsLength = segmentsLengthPool.newElement();\n      var closed = shapeData.c;\n      var pathV = shapeData.v;\n      var pathO = shapeData.o;\n      var pathI = shapeData.i;\n      var i;\n      var len = shapeData._length;\n      var lengths = segmentsLength.lengths;\n      var totalLength = 0;\n\n      for (i = 0; i < len - 1; i += 1) {\n        lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      if (closed && len) {\n        lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      segmentsLength.totalLength = totalLength;\n      return segmentsLength;\n    }\n\n    function BezierData(length) {\n      this.segmentLength = 0;\n      this.points = new Array(length);\n    }\n\n    function PointData(partial, point) {\n      this.partialLength = partial;\n      this.point = point;\n    }\n\n    var buildBezierData = function () {\n      var storedData = {};\n      return function (pt1, pt2, pt3, pt4) {\n        var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\n\n        if (!storedData[bezierName]) {\n          var curveSegments = getDefaultCurveSegments();\n          var k;\n          var i;\n          var len;\n          var ptCoord;\n          var perc;\n          var addedLength = 0;\n          var ptDistance;\n          var point;\n          var lastPoint = null;\n\n          if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n            curveSegments = 2;\n          }\n\n          var bezierData = new BezierData(curveSegments);\n          len = pt3.length;\n\n          for (k = 0; k < curveSegments; k += 1) {\n            point = createSizedArray(len);\n            perc = k / (curveSegments - 1);\n            ptDistance = 0;\n\n            for (i = 0; i < len; i += 1) {\n              ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\n              point[i] = ptCoord;\n\n              if (lastPoint !== null) {\n                ptDistance += bmPow(point[i] - lastPoint[i], 2);\n              }\n            }\n\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n            bezierData.points[k] = new PointData(ptDistance, point);\n            lastPoint = point;\n          }\n\n          bezierData.segmentLength = addedLength;\n          storedData[bezierName] = bezierData;\n        }\n\n        return storedData[bezierName];\n      };\n    }();\n\n    function getDistancePerc(perc, bezierData) {\n      var percents = bezierData.percents;\n      var lengths = bezierData.lengths;\n      var len = percents.length;\n      var initPos = bmFloor((len - 1) * perc);\n      var lengthPos = perc * bezierData.addedLength;\n      var lPerc = 0;\n\n      if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\n        return percents[initPos];\n      }\n\n      var dir = lengths[initPos] > lengthPos ? -1 : 1;\n      var flag = true;\n\n      while (flag) {\n        if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\n          lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\n          flag = false;\n        } else {\n          initPos += dir;\n        }\n\n        if (initPos < 0 || initPos >= len - 1) {\n          // FIX for TypedArrays that don't store floating point values with enough accuracy\n          if (initPos === len - 1) {\n            return percents[initPos];\n          }\n\n          flag = false;\n        }\n      }\n\n      return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\n    }\n\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\n      var t1 = getDistancePerc(percent, bezierData);\n      var u1 = 1 - t1;\n      var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\n      var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\n      return [ptX, ptY];\n    }\n\n    var bezierSegmentPoints = createTypedArray('float32', 8);\n\n    function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n      if (startPerc < 0) {\n        startPerc = 0;\n      } else if (startPerc > 1) {\n        startPerc = 1;\n      }\n\n      var t0 = getDistancePerc(startPerc, bezierData);\n      endPerc = endPerc > 1 ? 1 : endPerc;\n      var t1 = getDistancePerc(endPerc, bezierData);\n      var i;\n      var len = pt1.length;\n      var u0 = 1 - t0;\n      var u1 = 1 - t1;\n      var u0u0u0 = u0 * u0 * u0;\n      var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0t0 = t0 * t0 * t0; //\n\n      var u0u0u1 = u0 * u0 * u1;\n      var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0t1 = t0 * t0 * t1; //\n\n      var u0u1u1 = u0 * u1 * u1;\n      var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1t1 = t0 * t1 * t1; //\n\n      var u1u1u1 = u1 * u1 * u1;\n      var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1t1 = t1 * t1 * t1;\n\n      for (i = 0; i < len; i += 1) {\n        bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n      }\n\n      return bezierSegmentPoints;\n    }\n\n    return {\n      getSegmentsLength: getSegmentsLength,\n      getNewSegment: getNewSegment,\n      getPointInSegment: getPointInSegment,\n      buildBezierData: buildBezierData,\n      pointOnLine2D: pointOnLine2D,\n      pointOnLine3D: pointOnLine3D\n    };\n  }\n\n  var bez = bezFunction();\n\n  var PropertyFactory = function () {\n    var initFrame = initialDefaultFrame;\n    var mathAbs = Math.abs;\n\n    function interpolateValue(frameNum, caching) {\n      var offsetTime = this.offsetTime;\n      var newValue;\n\n      if (this.propType === 'multidimensional') {\n        newValue = createTypedArray('float32', this.pv.length);\n      }\n\n      var iterationIndex = caching.lastIndex;\n      var i = iterationIndex;\n      var len = this.keyframes.length - 1;\n      var flag = true;\n      var keyData;\n      var nextKeyData;\n      var keyframeMetadata;\n\n      while (flag) {\n        keyData = this.keyframes[i];\n        nextKeyData = this.keyframes[i + 1];\n\n        if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\n          if (keyData.h) {\n            keyData = nextKeyData;\n          }\n\n          iterationIndex = 0;\n          break;\n        }\n\n        if (nextKeyData.t - offsetTime > frameNum) {\n          iterationIndex = i;\n          break;\n        }\n\n        if (i < len - 1) {\n          i += 1;\n        } else {\n          iterationIndex = 0;\n          flag = false;\n        }\n      }\n\n      keyframeMetadata = this.keyframesMetadata[i] || {};\n      var k;\n      var kLen;\n      var perc;\n      var jLen;\n      var j;\n      var fnc;\n      var nextKeyTime = nextKeyData.t - offsetTime;\n      var keyTime = keyData.t - offsetTime;\n      var endValue;\n\n      if (keyData.to) {\n        if (!keyframeMetadata.bezierData) {\n          keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\n        }\n\n        var bezierData = keyframeMetadata.bezierData;\n\n        if (frameNum >= nextKeyTime || frameNum < keyTime) {\n          var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\n          kLen = bezierData.points[ind].point.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            newValue[k] = bezierData.points[ind].point[k];\n          } // caching._lastKeyframeIndex = -1;\n\n        } else {\n          if (keyframeMetadata.__fnct) {\n            fnc = keyframeMetadata.__fnct;\n          } else {\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n            keyframeMetadata.__fnct = fnc;\n          }\n\n          perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n          var distanceInLine = bezierData.segmentLength * perc;\n          var segmentPerc;\n          var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastAddedLength : 0;\n          j = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastPoint : 0;\n          flag = true;\n          jLen = bezierData.points.length;\n\n          while (flag) {\n            addedLength += bezierData.points[j].partialLength;\n\n            if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\n              kLen = bezierData.points[j].point.length;\n\n              for (k = 0; k < kLen; k += 1) {\n                newValue[k] = bezierData.points[j].point[k];\n              }\n\n              break;\n            } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n              segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n              kLen = bezierData.points[j].point.length;\n\n              for (k = 0; k < kLen; k += 1) {\n                newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n              }\n\n              break;\n            }\n\n            if (j < jLen - 1) {\n              j += 1;\n            } else {\n              flag = false;\n            }\n          }\n\n          caching._lastPoint = j;\n          caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\n          caching._lastKeyframeIndex = i;\n        }\n      } else {\n        var outX;\n        var outY;\n        var inX;\n        var inY;\n        var keyValue;\n        len = keyData.s.length;\n        endValue = nextKeyData.s || keyData.e;\n\n        if (this.sh && keyData.h !== 1) {\n          if (frameNum >= nextKeyTime) {\n            newValue[0] = endValue[0];\n            newValue[1] = endValue[1];\n            newValue[2] = endValue[2];\n          } else if (frameNum <= keyTime) {\n            newValue[0] = keyData.s[0];\n            newValue[1] = keyData.s[1];\n            newValue[2] = keyData.s[2];\n          } else {\n            var quatStart = createQuaternion(keyData.s);\n            var quatEnd = createQuaternion(endValue);\n            var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\n            quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\n          }\n        } else {\n          for (i = 0; i < len; i += 1) {\n            if (keyData.h !== 1) {\n              if (frameNum >= nextKeyTime) {\n                perc = 1;\n              } else if (frameNum < keyTime) {\n                perc = 0;\n              } else {\n                if (keyData.o.x.constructor === Array) {\n                  if (!keyframeMetadata.__fnct) {\n                    keyframeMetadata.__fnct = [];\n                  }\n\n                  if (!keyframeMetadata.__fnct[i]) {\n                    outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\n                    outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\n                    inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\n                    inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\n                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                    keyframeMetadata.__fnct[i] = fnc;\n                  } else {\n                    fnc = keyframeMetadata.__fnct[i];\n                  }\n                } else if (!keyframeMetadata.__fnct) {\n                  outX = keyData.o.x;\n                  outY = keyData.o.y;\n                  inX = keyData.i.x;\n                  inY = keyData.i.y;\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyData.keyframeMetadata = fnc;\n                } else {\n                  fnc = keyframeMetadata.__fnct;\n                }\n\n                perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n              }\n            }\n\n            endValue = nextKeyData.s || keyData.e;\n            keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\n\n            if (this.propType === 'multidimensional') {\n              newValue[i] = keyValue;\n            } else {\n              newValue = keyValue;\n            }\n          }\n        }\n      }\n\n      caching.lastIndex = iterationIndex;\n      return newValue;\n    } // based on @Toji's https://github.com/toji/gl-matrix/\n\n\n    function slerp(a, b, t) {\n      var out = [];\n      var ax = a[0];\n      var ay = a[1];\n      var az = a[2];\n      var aw = a[3];\n      var bx = b[0];\n      var by = b[1];\n      var bz = b[2];\n      var bw = b[3];\n      var omega;\n      var cosom;\n      var sinom;\n      var scale0;\n      var scale1;\n      cosom = ax * bx + ay * by + az * bz + aw * bw;\n\n      if (cosom < 0.0) {\n        cosom = -cosom;\n        bx = -bx;\n        by = -by;\n        bz = -bz;\n        bw = -bw;\n      }\n\n      if (1.0 - cosom > 0.000001) {\n        omega = Math.acos(cosom);\n        sinom = Math.sin(omega);\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\n        scale1 = Math.sin(t * omega) / sinom;\n      } else {\n        scale0 = 1.0 - t;\n        scale1 = t;\n      }\n\n      out[0] = scale0 * ax + scale1 * bx;\n      out[1] = scale0 * ay + scale1 * by;\n      out[2] = scale0 * az + scale1 * bz;\n      out[3] = scale0 * aw + scale1 * bw;\n      return out;\n    }\n\n    function quaternionToEuler(out, quat) {\n      var qx = quat[0];\n      var qy = quat[1];\n      var qz = quat[2];\n      var qw = quat[3];\n      var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\n      var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\n      var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\n      out[0] = heading / degToRads;\n      out[1] = attitude / degToRads;\n      out[2] = bank / degToRads;\n    }\n\n    function createQuaternion(values) {\n      var heading = values[0] * degToRads;\n      var attitude = values[1] * degToRads;\n      var bank = values[2] * degToRads;\n      var c1 = Math.cos(heading / 2);\n      var c2 = Math.cos(attitude / 2);\n      var c3 = Math.cos(bank / 2);\n      var s1 = Math.sin(heading / 2);\n      var s2 = Math.sin(attitude / 2);\n      var s3 = Math.sin(bank / 2);\n      var w = c1 * c2 * c3 - s1 * s2 * s3;\n      var x = s1 * s2 * c3 + c1 * c2 * s3;\n      var y = s1 * c2 * c3 + c1 * s2 * s3;\n      var z = c1 * s2 * c3 - s1 * c2 * s3;\n      return [x, y, z, w];\n    }\n\n    function getValueAtCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n\n      if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {\n        if (this._caching.lastFrame >= frameNum) {\n          this._caching._lastKeyframeIndex = -1;\n          this._caching.lastIndex = 0;\n        }\n\n        var renderResult = this.interpolateValue(frameNum, this._caching);\n        this.pv = renderResult;\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function setVValue(val) {\n      var multipliedValue;\n\n      if (this.propType === 'unidimensional') {\n        multipliedValue = val * this.mult;\n\n        if (mathAbs(this.v - multipliedValue) > 0.00001) {\n          this.v = multipliedValue;\n          this._mdf = true;\n        }\n      } else {\n        var i = 0;\n        var len = this.v.length;\n\n        while (i < len) {\n          multipliedValue = val[i] * this.mult;\n\n          if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\n            this.v[i] = multipliedValue;\n            this._mdf = true;\n          }\n\n          i += 1;\n        }\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = this._isFirstFrame;\n      var i;\n      var len = this.effectsSequence.length;\n      var finalValue = this.kf ? this.pv : this.data.k;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this._isFirstFrame = false;\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    function ValueProperty(elem, data, mult, container) {\n      this.propType = 'unidimensional';\n      this.mult = mult || 1;\n      this.data = data;\n      this.v = mult ? data.k * mult : data.k;\n      this.pv = data.k;\n      this._mdf = false;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.k = false;\n      this.kf = false;\n      this.vel = 0;\n      this.effectsSequence = [];\n      this._isFirstFrame = true;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.addEffect = addEffect;\n    }\n\n    function MultiDimensionalProperty(elem, data, mult, container) {\n      this.propType = 'multidimensional';\n      this.mult = mult || 1;\n      this.data = data;\n      this._mdf = false;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.k = false;\n      this.kf = false;\n      this.frameId = -1;\n      var i;\n      var len = data.k.length;\n      this.v = createTypedArray('float32', len);\n      this.pv = createTypedArray('float32', len);\n      this.vel = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        this.v[i] = data.k[i] * this.mult;\n        this.pv[i] = data.k[i];\n      }\n\n      this._isFirstFrame = true;\n      this.effectsSequence = [];\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.addEffect = addEffect;\n    }\n\n    function KeyframedValueProperty(elem, data, mult, container) {\n      this.propType = 'unidimensional';\n      this.keyframes = data.k;\n      this.keyframesMetadata = [];\n      this.offsetTime = elem.data.st;\n      this.frameId = -1;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0,\n        value: 0,\n        _lastKeyframeIndex: -1\n      };\n      this.k = true;\n      this.kf = true;\n      this.data = data;\n      this.mult = mult || 1;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.v = initFrame;\n      this.pv = initFrame;\n      this._isFirstFrame = true;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.interpolateValue = interpolateValue;\n      this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n      this.addEffect = addEffect;\n    }\n\n    function KeyframedMultidimensionalProperty(elem, data, mult, container) {\n      this.propType = 'multidimensional';\n      var i;\n      var len = data.k.length;\n      var s;\n      var e;\n      var to;\n      var ti;\n\n      for (i = 0; i < len - 1; i += 1) {\n        if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\n          s = data.k[i].s;\n          e = data.k[i + 1].s;\n          to = data.k[i].to;\n          ti = data.k[i].ti;\n\n          if (s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1]) || s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])) {\n            data.k[i].to = null;\n            data.k[i].ti = null;\n          }\n\n          if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\n            if (s.length === 2 || s[2] === e[2] && to[2] === 0 && ti[2] === 0) {\n              data.k[i].to = null;\n              data.k[i].ti = null;\n            }\n          }\n        }\n      }\n\n      this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n      this.data = data;\n      this.keyframes = data.k;\n      this.keyframesMetadata = [];\n      this.offsetTime = elem.data.st;\n      this.k = true;\n      this.kf = true;\n      this._isFirstFrame = true;\n      this.mult = mult || 1;\n      this.elem = elem;\n      this.container = container;\n      this.comp = elem.comp;\n      this.getValue = processEffectsSequence;\n      this.setVValue = setVValue;\n      this.interpolateValue = interpolateValue;\n      this.frameId = -1;\n      var arrLen = data.k[0].s.length;\n      this.v = createTypedArray('float32', arrLen);\n      this.pv = createTypedArray('float32', arrLen);\n\n      for (i = 0; i < arrLen; i += 1) {\n        this.v[i] = initFrame;\n        this.pv[i] = initFrame;\n      }\n\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0,\n        value: createTypedArray('float32', arrLen)\n      };\n      this.addEffect = addEffect;\n    }\n\n    function getProp(elem, data, type, mult, container) {\n      var p;\n\n      if (!data.k.length) {\n        p = new ValueProperty(elem, data, mult, container);\n      } else if (typeof data.k[0] === 'number') {\n        p = new MultiDimensionalProperty(elem, data, mult, container);\n      } else {\n        switch (type) {\n          case 0:\n            p = new KeyframedValueProperty(elem, data, mult, container);\n            break;\n\n          case 1:\n            p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      if (p.effectsSequence.length) {\n        container.addDynamicProperty(p);\n      }\n\n      return p;\n    }\n\n    var ob = {\n      getProp: getProp\n    };\n    return ob;\n  }();\n\n  function DynamicPropertyContainer() {}\n\n  DynamicPropertyContainer.prototype = {\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n        this.container.addDynamicProperty(this);\n        this._isAnimated = true;\n      }\n    },\n    iterateDynamicProperties: function iterateDynamicProperties() {\n      this._mdf = false;\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.dynamicProperties[i].getValue();\n\n        if (this.dynamicProperties[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    },\n    initDynamicPropertyContainer: function initDynamicPropertyContainer(container) {\n      this.container = container;\n      this.dynamicProperties = [];\n      this._mdf = false;\n      this._isAnimated = false;\n    }\n  };\n\n  var pointPool = function () {\n    function create() {\n      return createTypedArray('float32', 2);\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  function ShapePath() {\n    this.c = false;\n    this._length = 0;\n    this._maxLength = 8;\n    this.v = createSizedArray(this._maxLength);\n    this.o = createSizedArray(this._maxLength);\n    this.i = createSizedArray(this._maxLength);\n  }\n\n  ShapePath.prototype.setPathData = function (closed, len) {\n    this.c = closed;\n    this.setLength(len);\n    var i = 0;\n\n    while (i < len) {\n      this.v[i] = pointPool.newElement();\n      this.o[i] = pointPool.newElement();\n      this.i[i] = pointPool.newElement();\n      i += 1;\n    }\n  };\n\n  ShapePath.prototype.setLength = function (len) {\n    while (this._maxLength < len) {\n      this.doubleArrayLength();\n    }\n\n    this._length = len;\n  };\n\n  ShapePath.prototype.doubleArrayLength = function () {\n    this.v = this.v.concat(createSizedArray(this._maxLength));\n    this.i = this.i.concat(createSizedArray(this._maxLength));\n    this.o = this.o.concat(createSizedArray(this._maxLength));\n    this._maxLength *= 2;\n  };\n\n  ShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\n    var arr;\n    this._length = Math.max(this._length, pos + 1);\n\n    if (this._length >= this._maxLength) {\n      this.doubleArrayLength();\n    }\n\n    switch (type) {\n      case 'v':\n        arr = this.v;\n        break;\n\n      case 'i':\n        arr = this.i;\n        break;\n\n      case 'o':\n        arr = this.o;\n        break;\n\n      default:\n        arr = [];\n        break;\n    }\n\n    if (!arr[pos] || arr[pos] && !replace) {\n      arr[pos] = pointPool.newElement();\n    }\n\n    arr[pos][0] = x;\n    arr[pos][1] = y;\n  };\n\n  ShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\n    this.setXYAt(vX, vY, 'v', pos, replace);\n    this.setXYAt(oX, oY, 'o', pos, replace);\n    this.setXYAt(iX, iY, 'i', pos, replace);\n  };\n\n  ShapePath.prototype.reverse = function () {\n    var newPath = new ShapePath();\n    newPath.setPathData(this.c, this._length);\n    var vertices = this.v;\n    var outPoints = this.o;\n    var inPoints = this.i;\n    var init = 0;\n\n    if (this.c) {\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\n      init = 1;\n    }\n\n    var cnt = this._length - 1;\n    var len = this._length;\n    var i;\n\n    for (i = init; i < len; i += 1) {\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\n      cnt -= 1;\n    }\n\n    return newPath;\n  };\n\n  var shapePool = function () {\n    function create() {\n      return new ShapePath();\n    }\n\n    function release(shapePath) {\n      var len = shapePath._length;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        pointPool.release(shapePath.v[i]);\n        pointPool.release(shapePath.i[i]);\n        pointPool.release(shapePath.o[i]);\n        shapePath.v[i] = null;\n        shapePath.i[i] = null;\n        shapePath.o[i] = null;\n      }\n\n      shapePath._length = 0;\n      shapePath.c = false;\n    }\n\n    function clone(shape) {\n      var cloned = factory.newElement();\n      var i;\n      var len = shape._length === undefined ? shape.v.length : shape._length;\n      cloned.setLength(len);\n      cloned.c = shape.c;\n\n      for (i = 0; i < len; i += 1) {\n        cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\n      }\n\n      return cloned;\n    }\n\n    var factory = poolFactory(4, create, release);\n    factory.clone = clone;\n    return factory;\n  }();\n\n  function ShapeCollection() {\n    this._length = 0;\n    this._maxLength = 4;\n    this.shapes = createSizedArray(this._maxLength);\n  }\n\n  ShapeCollection.prototype.addShape = function (shapeData) {\n    if (this._length === this._maxLength) {\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\n      this._maxLength *= 2;\n    }\n\n    this.shapes[this._length] = shapeData;\n    this._length += 1;\n  };\n\n  ShapeCollection.prototype.releaseShapes = function () {\n    var i;\n\n    for (i = 0; i < this._length; i += 1) {\n      shapePool.release(this.shapes[i]);\n    }\n\n    this._length = 0;\n  };\n\n  var shapeCollectionPool = function () {\n    var ob = {\n      newShapeCollection: newShapeCollection,\n      release: release\n    };\n    var _length = 0;\n    var _maxLength = 4;\n    var pool = createSizedArray(_maxLength);\n\n    function newShapeCollection() {\n      var shapeCollection;\n\n      if (_length) {\n        _length -= 1;\n        shapeCollection = pool[_length];\n      } else {\n        shapeCollection = new ShapeCollection();\n      }\n\n      return shapeCollection;\n    }\n\n    function release(shapeCollection) {\n      var i;\n      var len = shapeCollection._length;\n\n      for (i = 0; i < len; i += 1) {\n        shapePool.release(shapeCollection.shapes[i]);\n      }\n\n      shapeCollection._length = 0;\n\n      if (_length === _maxLength) {\n        pool = pooling[\"double\"](pool);\n        _maxLength *= 2;\n      }\n\n      pool[_length] = shapeCollection;\n      _length += 1;\n    }\n\n    return ob;\n  }();\n\n  var ShapePropertyFactory = function () {\n    var initFrame = -999999;\n\n    function interpolateShape(frameNum, previousValue, caching) {\n      var iterationIndex = caching.lastIndex;\n      var keyPropS;\n      var keyPropE;\n      var isHold;\n      var j;\n      var k;\n      var jLen;\n      var kLen;\n      var perc;\n      var vertexValue;\n      var kf = this.keyframes;\n\n      if (frameNum < kf[0].t - this.offsetTime) {\n        keyPropS = kf[0].s[0];\n        isHold = true;\n        iterationIndex = 0;\n      } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\n        keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\n        /* if(kf[kf.length - 1].s){\r\n                  keyPropS = kf[kf.length - 1].s[0];\r\n              }else{\r\n                  keyPropS = kf[kf.length - 2].e[0];\r\n              } */\n\n        isHold = true;\n      } else {\n        var i = iterationIndex;\n        var len = kf.length - 1;\n        var flag = true;\n        var keyData;\n        var nextKeyData;\n        var keyframeMetadata;\n\n        while (flag) {\n          keyData = kf[i];\n          nextKeyData = kf[i + 1];\n\n          if (nextKeyData.t - this.offsetTime > frameNum) {\n            break;\n          }\n\n          if (i < len - 1) {\n            i += 1;\n          } else {\n            flag = false;\n          }\n        }\n\n        keyframeMetadata = this.keyframesMetadata[i] || {};\n        isHold = keyData.h === 1;\n        iterationIndex = i;\n\n        if (!isHold) {\n          if (frameNum >= nextKeyData.t - this.offsetTime) {\n            perc = 1;\n          } else if (frameNum < keyData.t - this.offsetTime) {\n            perc = 0;\n          } else {\n            var fnc;\n\n            if (keyframeMetadata.__fnct) {\n              fnc = keyframeMetadata.__fnct;\n            } else {\n              fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n              keyframeMetadata.__fnct = fnc;\n            }\n\n            perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\n          }\n\n          keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\n        }\n\n        keyPropS = keyData.s[0];\n      }\n\n      jLen = previousValue._length;\n      kLen = keyPropS.i[0].length;\n      caching.lastIndex = iterationIndex;\n\n      for (j = 0; j < jLen; j += 1) {\n        for (k = 0; k < kLen; k += 1) {\n          vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\n          previousValue.i[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\n          previousValue.o[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\n          previousValue.v[j][k] = vertexValue;\n        }\n      }\n    }\n\n    function interpolateShapeCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n      var lastFrame = this._caching.lastFrame;\n\n      if (!(lastFrame !== initFrame && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {\n        /// /\n        this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\n        this.interpolateShape(frameNum, this.pv, this._caching); /// /\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function resetShape() {\n      this.paths = this.localShapeCollection;\n    }\n\n    function shapesEqual(shape1, shape2) {\n      if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\n        return false;\n      }\n\n      var i;\n      var len = shape1._length;\n\n      for (i = 0; i < len; i += 1) {\n        if (shape1.v[i][0] !== shape2.v[i][0] || shape1.v[i][1] !== shape2.v[i][1] || shape1.o[i][0] !== shape2.o[i][0] || shape1.o[i][1] !== shape2.o[i][1] || shape1.i[i][0] !== shape2.i[i][0] || shape1.i[i][1] !== shape2.i[i][1]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function setVValue(newPath) {\n      if (!shapesEqual(this.v, newPath)) {\n        this.v = shapePool.clone(newPath);\n        this.localShapeCollection.releaseShapes();\n        this.localShapeCollection.addShape(this.v);\n        this._mdf = true;\n        this.paths = this.localShapeCollection;\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (!this.effectsSequence.length) {\n        this._mdf = false;\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = false;\n      var finalValue;\n\n      if (this.kf) {\n        finalValue = this.pv;\n      } else if (this.data.ks) {\n        finalValue = this.data.ks.k;\n      } else {\n        finalValue = this.data.pt.k;\n      }\n\n      var i;\n      var len = this.effectsSequence.length;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function ShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.container = elem;\n      this.elem = elem;\n      this.data = data;\n      this.k = false;\n      this.kf = false;\n      this._mdf = false;\n      var pathData = type === 3 ? data.pt.k : data.ks.k;\n      this.v = shapePool.clone(pathData);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.reset = resetShape;\n      this.effectsSequence = [];\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\n    ShapeProperty.prototype.getValue = processEffectsSequence;\n    ShapeProperty.prototype.setVValue = setVValue;\n    ShapeProperty.prototype.addEffect = addEffect;\n\n    function KeyframedShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.elem = elem;\n      this.container = elem;\n      this.offsetTime = elem.data.st;\n      this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n      this.keyframesMetadata = [];\n      this.k = true;\n      this.kf = true;\n      var len = this.keyframes[0].s[0].i.length;\n      this.v = shapePool.newElement();\n      this.v.setPathData(this.keyframes[0].s[0].c, len);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.lastFrame = initFrame;\n      this.reset = resetShape;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0\n      };\n      this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\n    }\n\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\n\n    var EllShapeProperty = function () {\n      var cPoint = roundCorner;\n\n      function EllShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 4);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.paths = this.localShapeCollection;\n        this.localShapeCollection.addShape(this.v);\n        this.d = data.d;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertEllToPath();\n        }\n      }\n\n      EllShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertEllToPath();\n          }\n        },\n        convertEllToPath: function convertEllToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var s0 = this.s.v[0] / 2;\n          var s1 = this.s.v[1] / 2;\n\n          var _cw = this.d !== 3;\n\n          var _v = this.v;\n          _v.v[0][0] = p0;\n          _v.v[0][1] = p1 - s1;\n          _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.v[1][1] = p1;\n          _v.v[2][0] = p0;\n          _v.v[2][1] = p1 + s1;\n          _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.v[3][1] = p1;\n          _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.i[0][1] = p1 - s1;\n          _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.i[1][1] = p1 - s1 * cPoint;\n          _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.i[2][1] = p1 + s1;\n          _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.i[3][1] = p1 + s1 * cPoint;\n          _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.o[0][1] = p1 - s1;\n          _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.o[1][1] = p1 + s1 * cPoint;\n          _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.o[2][1] = p1 + s1;\n          _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.o[3][1] = p1 - s1 * cPoint;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\n      return EllShapePropertyFactory;\n    }();\n\n    var StarShapeProperty = function () {\n      function StarShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 0);\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.data = data;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n\n        if (data.sy === 1) {\n          this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\n          this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\n          this.convertToPath = this.convertStarToPath;\n        } else {\n          this.convertToPath = this.convertPolygonToPath;\n        }\n\n        this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\n        this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\n        this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertToPath();\n        }\n      }\n\n      StarShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertToPath();\n          }\n        },\n        convertStarToPath: function convertStarToPath() {\n          var numPts = Math.floor(this.pt.v) * 2;\n          var angle = Math.PI * 2 / numPts;\n          /* this.v.v.length = numPts;\r\n                  this.v.i.length = numPts;\r\n                  this.v.o.length = numPts; */\n\n          var longFlag = true;\n          var longRad = this.or.v;\n          var shortRad = this.ir.v;\n          var longRound = this.os.v;\n          var shortRound = this.is.v;\n          var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);\n          var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);\n          var i;\n          var rad;\n          var roundness;\n          var perimSegment;\n          var currentAng = -Math.PI / 2;\n          currentAng += this.r.v;\n          var dir = this.data.d === 3 ? -1 : 1;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            rad = longFlag ? longRad : shortRad;\n            roundness = longFlag ? longRound : shortRound;\n            perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            /* this.v.v[i] = [x,y];\r\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                      this.v._length = numPts; */\n\n            longFlag = !longFlag;\n            currentAng += angle * dir;\n          }\n        },\n        convertPolygonToPath: function convertPolygonToPath() {\n          var numPts = Math.floor(this.pt.v);\n          var angle = Math.PI * 2 / numPts;\n          var rad = this.or.v;\n          var roundness = this.os.v;\n          var perimSegment = 2 * Math.PI * rad / (numPts * 4);\n          var i;\n          var currentAng = -Math.PI * 0.5;\n          var dir = this.data.d === 3 ? -1 : 1;\n          currentAng += this.r.v;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            currentAng += angle * dir;\n          }\n\n          this.paths.length = 0;\n          this.paths[0] = this.v;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\n      return StarShapePropertyFactory;\n    }();\n\n    var RectShapeProperty = function () {\n      function RectShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.c = true;\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertRectToPath();\n        }\n      }\n\n      RectShapePropertyFactory.prototype = {\n        convertRectToPath: function convertRectToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var v0 = this.s.v[0] / 2;\n          var v1 = this.s.v[1] / 2;\n          var round = bmMin(v0, v1, this.r.v);\n          var cPoint = round * (1 - roundCorner);\n          this.v._length = 0;\n\n          if (this.d === 2 || this.d === 1) {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\n            }\n          } else {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\n            }\n          }\n        },\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertRectToPath();\n          }\n        },\n        reset: resetShape\n      };\n      extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\n      return RectShapePropertyFactory;\n    }();\n\n    function getShapeProp(elem, data, type) {\n      var prop;\n\n      if (type === 3 || type === 4) {\n        var dataProp = type === 3 ? data.pt : data.ks;\n        var keys = dataProp.k;\n\n        if (keys.length) {\n          prop = new KeyframedShapeProperty(elem, data, type);\n        } else {\n          prop = new ShapeProperty(elem, data, type);\n        }\n      } else if (type === 5) {\n        prop = new RectShapeProperty(elem, data);\n      } else if (type === 6) {\n        prop = new EllShapeProperty(elem, data);\n      } else if (type === 7) {\n        prop = new StarShapeProperty(elem, data);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    }\n\n    function getConstructorFunction() {\n      return ShapeProperty;\n    }\n\n    function getKeyframedConstructorFunction() {\n      return KeyframedShapeProperty;\n    }\n\n    var ob = {};\n    ob.getShapeProp = getShapeProp;\n    ob.getConstructorFunction = getConstructorFunction;\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\n    return ob;\n  }();\n\n  /*!\r\n   Transformation Matrix v2.0\r\n   (c) Epistemex 2014-2015\r\n   www.epistemex.com\r\n   By Ken Fyrstenberg\r\n   Contributions by leeoniya.\r\n   License: MIT, header required.\r\n   */\n\n  /**\r\n   * 2D transformation matrix object initialized with identity matrix.\r\n   *\r\n   * The matrix can synchronize a canvas context by supplying the context\r\n   * as an argument, or later apply current absolute transform to an\r\n   * existing context.\r\n   *\r\n   * All values are handled as floating point values.\r\n   *\r\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n   * @prop {number} a - scale x\r\n   * @prop {number} b - shear y\r\n   * @prop {number} c - shear x\r\n   * @prop {number} d - scale y\r\n   * @prop {number} e - translate x\r\n   * @prop {number} f - translate y\r\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n   * @constructor\r\n   */\n\n  var Matrix = function () {\n    var _cos = Math.cos;\n    var _sin = Math.sin;\n    var _tan = Math.tan;\n    var _rnd = Math.round;\n\n    function reset() {\n      this.props[0] = 1;\n      this.props[1] = 0;\n      this.props[2] = 0;\n      this.props[3] = 0;\n      this.props[4] = 0;\n      this.props[5] = 1;\n      this.props[6] = 0;\n      this.props[7] = 0;\n      this.props[8] = 0;\n      this.props[9] = 0;\n      this.props[10] = 1;\n      this.props[11] = 0;\n      this.props[12] = 0;\n      this.props[13] = 0;\n      this.props[14] = 0;\n      this.props[15] = 1;\n      return this;\n    }\n\n    function rotate(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function rotateX(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateY(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateZ(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function shear(sx, sy) {\n      return this._t(1, sy, sx, 1, 0, 0);\n    }\n\n    function skew(ax, ay) {\n      return this.shear(_tan(ax), _tan(ay));\n    }\n\n    function skewFromAxis(ax, angle) {\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n    }\n\n    function scale(sx, sy, sz) {\n      if (!sz && sz !== 0) {\n        sz = 1;\n      }\n\n      if (sx === 1 && sy === 1 && sz === 1) {\n        return this;\n      }\n\n      return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    }\n\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n      this.props[0] = a;\n      this.props[1] = b;\n      this.props[2] = c;\n      this.props[3] = d;\n      this.props[4] = e;\n      this.props[5] = f;\n      this.props[6] = g;\n      this.props[7] = h;\n      this.props[8] = i;\n      this.props[9] = j;\n      this.props[10] = k;\n      this.props[11] = l;\n      this.props[12] = m;\n      this.props[13] = n;\n      this.props[14] = o;\n      this.props[15] = p;\n      return this;\n    }\n\n    function translate(tx, ty, tz) {\n      tz = tz || 0;\n\n      if (tx !== 0 || ty !== 0 || tz !== 0) {\n        return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n      }\n\n      return this;\n    }\n\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n      var _p = this.props;\n\n      if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n        // NOTE: commenting this condition because TurboFan deoptimizes code when present\n        // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n        _p[12] = _p[12] * a2 + _p[15] * m2;\n        _p[13] = _p[13] * f2 + _p[15] * n2;\n        _p[14] = _p[14] * k2 + _p[15] * o2;\n        _p[15] *= p2; // }\n\n        this._identityCalculated = false;\n        return this;\n      }\n\n      var a1 = _p[0];\n      var b1 = _p[1];\n      var c1 = _p[2];\n      var d1 = _p[3];\n      var e1 = _p[4];\n      var f1 = _p[5];\n      var g1 = _p[6];\n      var h1 = _p[7];\n      var i1 = _p[8];\n      var j1 = _p[9];\n      var k1 = _p[10];\n      var l1 = _p[11];\n      var m1 = _p[12];\n      var n1 = _p[13];\n      var o1 = _p[14];\n      var p1 = _p[15];\n      /* matrix order (canvas compatible):\r\n           * ace\r\n           * bdf\r\n           * 001\r\n           */\n\n      _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n      _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n      _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n      _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n      _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n      _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n      _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n      _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n      _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n      _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n      _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n      _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n      _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n      _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n      _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n      _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n      this._identityCalculated = false;\n      return this;\n    }\n\n    function isIdentity() {\n      if (!this._identityCalculated) {\n        this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n        this._identityCalculated = true;\n      }\n\n      return this._identity;\n    }\n\n    function equals(matr) {\n      var i = 0;\n\n      while (i < 16) {\n        if (matr.props[i] !== this.props[i]) {\n          return false;\n        }\n\n        i += 1;\n      }\n\n      return true;\n    }\n\n    function clone(matr) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        matr.props[i] = this.props[i];\n      }\n\n      return matr;\n    }\n\n    function cloneFromProps(props) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        this.props[i] = props[i];\n      }\n    }\n\n    function applyToPoint(x, y, z) {\n      return {\n        x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n        y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n        z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n      };\n      /* return {\r\n           x: x * me.a + y * me.c + me.e,\r\n           y: x * me.b + y * me.d + me.f\r\n           }; */\n    }\n\n    function applyToX(x, y, z) {\n      return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n    }\n\n    function applyToY(x, y, z) {\n      return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n    }\n\n    function applyToZ(x, y, z) {\n      return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n    }\n\n    function getInverseMatrix() {\n      var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n      var a = this.props[5] / determinant;\n      var b = -this.props[1] / determinant;\n      var c = -this.props[4] / determinant;\n      var d = this.props[0] / determinant;\n      var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n      var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n      var inverseMatrix = new Matrix();\n      inverseMatrix.props[0] = a;\n      inverseMatrix.props[1] = b;\n      inverseMatrix.props[4] = c;\n      inverseMatrix.props[5] = d;\n      inverseMatrix.props[12] = e;\n      inverseMatrix.props[13] = f;\n      return inverseMatrix;\n    }\n\n    function inversePoint(pt) {\n      var inverseMatrix = this.getInverseMatrix();\n      return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\n    }\n\n    function inversePoints(pts) {\n      var i;\n      var len = pts.length;\n      var retPts = [];\n\n      for (i = 0; i < len; i += 1) {\n        retPts[i] = inversePoint(pts[i]);\n      }\n\n      return retPts;\n    }\n\n    function applyToTriplePoints(pt1, pt2, pt3) {\n      var arr = createTypedArray('float32', 6);\n\n      if (this.isIdentity()) {\n        arr[0] = pt1[0];\n        arr[1] = pt1[1];\n        arr[2] = pt2[0];\n        arr[3] = pt2[1];\n        arr[4] = pt3[0];\n        arr[5] = pt3[1];\n      } else {\n        var p0 = this.props[0];\n        var p1 = this.props[1];\n        var p4 = this.props[4];\n        var p5 = this.props[5];\n        var p12 = this.props[12];\n        var p13 = this.props[13];\n        arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n        arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n        arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n        arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n        arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n        arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n      }\n\n      return arr;\n    }\n\n    function applyToPointArray(x, y, z) {\n      var arr;\n\n      if (this.isIdentity()) {\n        arr = [x, y, z];\n      } else {\n        arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n      }\n\n      return arr;\n    }\n\n    function applyToPointStringified(x, y) {\n      if (this.isIdentity()) {\n        return x + ',' + y;\n      }\n\n      var _p = this.props;\n      return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\n    }\n\n    function toCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var i = 0;\n      var props = this.props;\n      var cssValue = 'matrix3d(';\n      var v = 10000;\n\n      while (i < 16) {\n        cssValue += _rnd(props[i] * v) / v;\n        cssValue += i === 15 ? ')' : ',';\n        i += 1;\n      }\n\n      return cssValue;\n    }\n\n    function roundMatrixProperty(val) {\n      var v = 10000;\n\n      if (val < 0.000001 && val > 0 || val > -0.000001 && val < 0) {\n        return _rnd(val * v) / v;\n      }\n\n      return val;\n    }\n\n    function to2dCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var props = this.props;\n\n      var _a = roundMatrixProperty(props[0]);\n\n      var _b = roundMatrixProperty(props[1]);\n\n      var _c = roundMatrixProperty(props[4]);\n\n      var _d = roundMatrixProperty(props[5]);\n\n      var _e = roundMatrixProperty(props[12]);\n\n      var _f = roundMatrixProperty(props[13]);\n\n      return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\n    }\n\n    return function () {\n      this.reset = reset;\n      this.rotate = rotate;\n      this.rotateX = rotateX;\n      this.rotateY = rotateY;\n      this.rotateZ = rotateZ;\n      this.skew = skew;\n      this.skewFromAxis = skewFromAxis;\n      this.shear = shear;\n      this.scale = scale;\n      this.setTransform = setTransform;\n      this.translate = translate;\n      this.transform = transform;\n      this.applyToPoint = applyToPoint;\n      this.applyToX = applyToX;\n      this.applyToY = applyToY;\n      this.applyToZ = applyToZ;\n      this.applyToPointArray = applyToPointArray;\n      this.applyToTriplePoints = applyToTriplePoints;\n      this.applyToPointStringified = applyToPointStringified;\n      this.toCSS = toCSS;\n      this.to2dCSS = to2dCSS;\n      this.clone = clone;\n      this.cloneFromProps = cloneFromProps;\n      this.equals = equals;\n      this.inversePoints = inversePoints;\n      this.inversePoint = inversePoint;\n      this.getInverseMatrix = getInverseMatrix;\n      this._t = this.transform;\n      this.isIdentity = isIdentity;\n      this._identity = true;\n      this._identityCalculated = false;\n      this.props = createTypedArray('float32', 16);\n      this.reset();\n    };\n  }();\n\n  function _typeof$3(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$3 = function _typeof(obj) { return typeof obj; }; } else { _typeof$3 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$3(obj); }\n  var lottie = {};\n  var standalone = '__[STANDALONE]__';\n  var animationData = '__[ANIMATIONDATA]__';\n  var renderer = '';\n\n  function setLocation(href) {\n    setLocationHref(href);\n  }\n\n  function searchAnimations() {\n    if (standalone === true) {\n      animationManager.searchAnimations(animationData, standalone, renderer);\n    } else {\n      animationManager.searchAnimations();\n    }\n  }\n\n  function setSubframeRendering(flag) {\n    setSubframeEnabled(flag);\n  }\n\n  function setPrefix(prefix) {\n    setIdPrefix(prefix);\n  }\n\n  function loadAnimation(params) {\n    if (standalone === true) {\n      params.animationData = JSON.parse(animationData);\n    }\n\n    return animationManager.loadAnimation(params);\n  }\n\n  function setQuality(value) {\n    if (typeof value === 'string') {\n      switch (value) {\n        case 'high':\n          setDefaultCurveSegments(200);\n          break;\n\n        default:\n        case 'medium':\n          setDefaultCurveSegments(50);\n          break;\n\n        case 'low':\n          setDefaultCurveSegments(10);\n          break;\n      }\n    } else if (!isNaN(value) && value > 1) {\n      setDefaultCurveSegments(value);\n    }\n\n    if (getDefaultCurveSegments() >= 50) {\n      roundValues(false);\n    } else {\n      roundValues(true);\n    }\n  }\n\n  function inBrowser() {\n    return typeof navigator !== 'undefined';\n  }\n\n  function installPlugin(type, plugin) {\n    if (type === 'expressions') {\n      setExpressionsPlugin(plugin);\n    }\n  }\n\n  function getFactory(name) {\n    switch (name) {\n      case 'propertyFactory':\n        return PropertyFactory;\n\n      case 'shapePropertyFactory':\n        return ShapePropertyFactory;\n\n      case 'matrix':\n        return Matrix;\n\n      default:\n        return null;\n    }\n  }\n\n  lottie.play = animationManager.play;\n  lottie.pause = animationManager.pause;\n  lottie.setLocationHref = setLocation;\n  lottie.togglePause = animationManager.togglePause;\n  lottie.setSpeed = animationManager.setSpeed;\n  lottie.setDirection = animationManager.setDirection;\n  lottie.stop = animationManager.stop;\n  lottie.searchAnimations = searchAnimations;\n  lottie.registerAnimation = animationManager.registerAnimation;\n  lottie.loadAnimation = loadAnimation;\n  lottie.setSubframeRendering = setSubframeRendering;\n  lottie.resize = animationManager.resize; // lottie.start = start;\n\n  lottie.goToAndStop = animationManager.goToAndStop;\n  lottie.destroy = animationManager.destroy;\n  lottie.setQuality = setQuality;\n  lottie.inBrowser = inBrowser;\n  lottie.installPlugin = installPlugin;\n  lottie.freeze = animationManager.freeze;\n  lottie.unfreeze = animationManager.unfreeze;\n  lottie.setVolume = animationManager.setVolume;\n  lottie.mute = animationManager.mute;\n  lottie.unmute = animationManager.unmute;\n  lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\n  lottie.useWebWorker = setWebWorker;\n  lottie.setIDPrefix = setPrefix;\n  lottie.__getFactory = getFactory;\n  lottie.version = '5.9.1';\n\n  function checkReady() {\n    if (document.readyState === 'complete') {\n      clearInterval(readyStateCheckInterval);\n      searchAnimations();\n    }\n  }\n\n  function getQueryVariable(variable) {\n    var vars = queryString.split('&');\n\n    for (var i = 0; i < vars.length; i += 1) {\n      var pair = vars[i].split('=');\n\n      if (decodeURIComponent(pair[0]) == variable) {\n        // eslint-disable-line eqeqeq\n        return decodeURIComponent(pair[1]);\n      }\n    }\n\n    return null;\n  }\n\n  var queryString;\n\n  if (standalone) {\n    var scripts = document.getElementsByTagName('script');\n    var index = scripts.length - 1;\n    var myScript = scripts[index] || {\n      src: ''\n    };\n    queryString = myScript.src.replace(/^[^\\?]+\\??/, ''); // eslint-disable-line no-useless-escape\n\n    renderer = getQueryVariable('renderer');\n  }\n\n  var readyStateCheckInterval = setInterval(checkReady, 100); // this adds bodymovin to the window object for backwards compatibility\n\n  try {\n    if (!((typeof exports === \"undefined\" ? \"undefined\" : _typeof$3(exports)) === 'object' && typeof module !== 'undefined') && !(typeof define === 'function' && define.amd) // eslint-disable-line no-undef\n    ) {\n      window.bodymovin = lottie;\n    }\n  } catch (err) {//\n  }\n\n  var ShapeModifiers = function () {\n    var ob = {};\n    var modifiers = {};\n    ob.registerModifier = registerModifier;\n    ob.getModifier = getModifier;\n\n    function registerModifier(nm, factory) {\n      if (!modifiers[nm]) {\n        modifiers[nm] = factory;\n      }\n    }\n\n    function getModifier(nm, elem, data) {\n      return new modifiers[nm](elem, data);\n    }\n\n    return ob;\n  }();\n\n  function ShapeModifier() {}\n\n  ShapeModifier.prototype.initModifierProperties = function () {};\n\n  ShapeModifier.prototype.addShapeToModifier = function () {};\n\n  ShapeModifier.prototype.addShape = function (data) {\n    if (!this.closed) {\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\n      data.sh.container.addDynamicProperty(data.sh);\n      var shapeData = {\n        shape: data.sh,\n        data: data,\n        localShapeCollection: shapeCollectionPool.newShapeCollection()\n      };\n      this.shapes.push(shapeData);\n      this.addShapeToModifier(shapeData);\n\n      if (this._isAnimated) {\n        data.setAsAnimated();\n      }\n    }\n  };\n\n  ShapeModifier.prototype.init = function (elem, data) {\n    this.shapes = [];\n    this.elem = elem;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, data);\n    this.frameId = initialDefaultFrame;\n    this.closed = false;\n    this.k = false;\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  ShapeModifier.prototype.processKeys = function () {\n    if (this.elem.globalData.frameId === this.frameId) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  extendPrototype([DynamicPropertyContainer], ShapeModifier);\n\n  function TrimModifier() {}\n\n  extendPrototype([ShapeModifier], TrimModifier);\n\n  TrimModifier.prototype.initModifierProperties = function (elem, data) {\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\n    this.sValue = 0;\n    this.eValue = 0;\n    this.getValue = this.processKeys;\n    this.m = data.m;\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\n  };\n\n  TrimModifier.prototype.addShapeToModifier = function (shapeData) {\n    shapeData.pathsData = [];\n  };\n\n  TrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\n    var segments = [];\n\n    if (e <= 1) {\n      segments.push({\n        s: s,\n        e: e\n      });\n    } else if (s >= 1) {\n      segments.push({\n        s: s - 1,\n        e: e - 1\n      });\n    } else {\n      segments.push({\n        s: s,\n        e: 1\n      });\n      segments.push({\n        s: 0,\n        e: e - 1\n      });\n    }\n\n    var shapeSegments = [];\n    var i;\n    var len = segments.length;\n    var segmentOb;\n\n    for (i = 0; i < len; i += 1) {\n      segmentOb = segments[i];\n\n      if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\n        var shapeS;\n        var shapeE;\n\n        if (segmentOb.s * totalModifierLength <= addedLength) {\n          shapeS = 0;\n        } else {\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n          shapeE = 1;\n        } else {\n          shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        shapeSegments.push([shapeS, shapeE]);\n      }\n    }\n\n    if (!shapeSegments.length) {\n      shapeSegments.push([0, 0]);\n    }\n\n    return shapeSegments;\n  };\n\n  TrimModifier.prototype.releasePathsData = function (pathsData) {\n    var i;\n    var len = pathsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      segmentsLengthPool.release(pathsData[i]);\n    }\n\n    pathsData.length = 0;\n    return pathsData;\n  };\n\n  TrimModifier.prototype.processShapes = function (_isFirstFrame) {\n    var s;\n    var e;\n\n    if (this._mdf || _isFirstFrame) {\n      var o = this.o.v % 360 / 360;\n\n      if (o < 0) {\n        o += 1;\n      }\n\n      if (this.s.v > 1) {\n        s = 1 + o;\n      } else if (this.s.v < 0) {\n        s = 0 + o;\n      } else {\n        s = this.s.v + o;\n      }\n\n      if (this.e.v > 1) {\n        e = 1 + o;\n      } else if (this.e.v < 0) {\n        e = 0 + o;\n      } else {\n        e = this.e.v + o;\n      }\n\n      if (s > e) {\n        var _s = s;\n        s = e;\n        e = _s;\n      }\n\n      s = Math.round(s * 10000) * 0.0001;\n      e = Math.round(e * 10000) * 0.0001;\n      this.sValue = s;\n      this.eValue = e;\n    } else {\n      s = this.sValue;\n      e = this.eValue;\n    }\n\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var pathsData;\n    var pathData;\n    var totalShapeLength;\n    var totalModifierLength = 0;\n\n    if (e === s) {\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].localShapeCollection.releaseShapes();\n        this.shapes[i].shape._mdf = true;\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\n\n        if (this._mdf) {\n          this.shapes[i].pathsData.length = 0;\n        }\n      }\n    } else if (!(e === 1 && s === 0 || e === 0 && s === 1)) {\n      var segments = [];\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i]; // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\n\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\n          shapeData.shape.paths = shapeData.localShapeCollection;\n        } else {\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths._length;\n          totalShapeLength = 0;\n\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\n            totalShapeLength = shapeData.totalShapeLength;\n          } else {\n            pathsData = this.releasePathsData(shapeData.pathsData);\n\n            for (j = 0; j < jLen; j += 1) {\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\n              pathsData.push(pathData);\n              totalShapeLength += pathData.totalLength;\n            }\n\n            shapeData.totalShapeLength = totalShapeLength;\n            shapeData.pathsData = pathsData;\n          }\n\n          totalModifierLength += totalShapeLength;\n          shapeData.shape._mdf = true;\n        }\n      }\n\n      var shapeS = s;\n      var shapeE = e;\n      var addedLength = 0;\n      var edges;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shapeData = this.shapes[i];\n\n        if (shapeData.shape._mdf) {\n          localShapeCollection = shapeData.localShapeCollection;\n          localShapeCollection.releaseShapes(); // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\n\n          if (this.m === 2 && len > 1) {\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n            addedLength += shapeData.totalShapeLength;\n          } else {\n            edges = [[shapeS, shapeE]];\n          }\n\n          jLen = edges.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            shapeS = edges[j][0];\n            shapeE = edges[j][1];\n            segments.length = 0;\n\n            if (shapeE <= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength * shapeE\n              });\n            } else if (shapeS >= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * (shapeS - 1),\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            } else {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength\n              });\n              segments.push({\n                s: 0,\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            }\n\n            var newShapesData = this.addShapes(shapeData, segments[0]);\n\n            if (segments[0].s !== segments[0].e) {\n              if (segments.length > 1) {\n                var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\n\n                if (lastShapeInCollection.c) {\n                  var lastShape = newShapesData.pop();\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\n                } else {\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1]);\n                }\n              }\n\n              this.addPaths(newShapesData, localShapeCollection);\n            }\n          }\n\n          shapeData.shape.paths = localShapeCollection;\n        }\n      }\n    } else if (this._mdf) {\n      for (i = 0; i < len; i += 1) {\n        // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n        // Don't remove this even if it's losing cached info.\n        this.shapes[i].pathsData.length = 0;\n        this.shapes[i].shape._mdf = true;\n      }\n    }\n  };\n\n  TrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\n    var i;\n    var len = newPaths.length;\n\n    for (i = 0; i < len; i += 1) {\n      localShapeCollection.addShape(newPaths[i]);\n    }\n  };\n\n  TrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\n    }\n\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\n    }\n\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\n    var pathsData = shapeData.pathsData;\n    var shapePaths = shapeData.shape.paths.shapes;\n    var i;\n    var len = shapeData.shape.paths._length;\n    var j;\n    var jLen;\n    var addedLength = 0;\n    var currentLengthData;\n    var segmentCount;\n    var lengths;\n    var segment;\n    var shapes = [];\n    var initPos;\n    var newShape = true;\n\n    if (!shapePath) {\n      shapePath = shapePool.newElement();\n      segmentCount = 0;\n      initPos = 0;\n    } else {\n      segmentCount = shapePath._length;\n      initPos = shapePath._length;\n    }\n\n    shapes.push(shapePath);\n\n    for (i = 0; i < len; i += 1) {\n      lengths = pathsData[i].lengths;\n      shapePath.c = shapePaths[i].c;\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n\n      for (j = 1; j < jLen; j += 1) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n          addedLength += currentLengthData.addedLength;\n          shapePath.c = false;\n        } else if (addedLength > shapeSegment.e) {\n          shapePath.c = false;\n          break;\n        } else {\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n\n          addedLength += currentLengthData.addedLength;\n          segmentCount += 1;\n        }\n      }\n\n      if (shapePaths[i].c && lengths.length) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength <= shapeSegment.e) {\n          var segmentLength = lengths[j - 1].addedLength;\n\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n        } else {\n          shapePath.c = false;\n        }\n\n        addedLength += currentLengthData.addedLength;\n        segmentCount += 1;\n      }\n\n      if (shapePath._length) {\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\n      }\n\n      if (addedLength > shapeSegment.e) {\n        break;\n      }\n\n      if (i < len - 1) {\n        shapePath = shapePool.newElement();\n        newShape = true;\n        shapes.push(shapePath);\n        segmentCount = 0;\n      }\n    }\n\n    return shapes;\n  };\n\n  function PuckerAndBloatModifier() {}\n\n  extendPrototype([ShapeModifier], PuckerAndBloatModifier);\n\n  PuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this._isAnimated = !!this.amount.effectsSequence.length;\n  };\n\n  PuckerAndBloatModifier.prototype.processPath = function (path, amount) {\n    var percent = amount / 100;\n    var centerPoint = [0, 0];\n    var pathLength = path._length;\n    var i = 0;\n\n    for (i = 0; i < pathLength; i += 1) {\n      centerPoint[0] += path.v[i][0];\n      centerPoint[1] += path.v[i][1];\n    }\n\n    centerPoint[0] /= pathLength;\n    centerPoint[1] /= pathLength;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < pathLength; i += 1) {\n      vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\n      vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\n      oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\n      oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\n      iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\n      iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\n      clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\n    }\n\n    return clonedPath;\n  };\n\n  PuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  var TransformPropertyFactory = function () {\n    var defaultVector = [0, 0];\n\n    function applyToMatrix(mat) {\n      var _mdf = this._mdf;\n      this.iterateDynamicProperties();\n      this._mdf = this._mdf || _mdf;\n\n      if (this.a) {\n        mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      }\n\n      if (this.s) {\n        mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      }\n\n      if (this.sk) {\n        mat.skewFromAxis(-this.sk.v, this.sa.v);\n      }\n\n      if (this.r) {\n        mat.rotate(-this.r.v);\n      } else {\n        mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      }\n\n      if (this.data.p.s) {\n        if (this.data.p.z) {\n          mat.translate(this.px.v, this.py.v, -this.pz.v);\n        } else {\n          mat.translate(this.px.v, this.py.v, 0);\n        }\n      } else {\n        mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n      }\n    }\n\n    function processKeys(forceRender) {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (this._isDirty) {\n        this.precalculateMatrix();\n        this._isDirty = false;\n      }\n\n      this.iterateDynamicProperties();\n\n      if (this._mdf || forceRender) {\n        var frameRate;\n        this.v.cloneFromProps(this.pre.props);\n\n        if (this.appliedTransformations < 1) {\n          this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        }\n\n        if (this.appliedTransformations < 2) {\n          this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        }\n\n        if (this.sk && this.appliedTransformations < 3) {\n          this.v.skewFromAxis(-this.sk.v, this.sa.v);\n        }\n\n        if (this.r && this.appliedTransformations < 4) {\n          this.v.rotate(-this.r.v);\n        } else if (!this.r && this.appliedTransformations < 4) {\n          this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        }\n\n        if (this.autoOriented) {\n          var v1;\n          var v2;\n          frameRate = this.elem.globalData.frameRate;\n\n          if (this.p && this.p.keyframes && this.p.getValueAtTime) {\n            if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\n              v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\n              v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\n            } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n              v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);\n              v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\n            } else {\n              v1 = this.p.pv;\n              v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\n            }\n          } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\n            v1 = [];\n            v2 = [];\n            var px = this.px;\n            var py = this.py;\n\n            if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\n              v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\n              v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\n              v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);\n              v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);\n            } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\n              v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);\n              v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);\n              v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\n              v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\n            } else {\n              v1 = [px.pv, py.pv];\n              v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\n              v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\n            }\n          } else {\n            v2 = defaultVector;\n            v1 = v2;\n          }\n\n          this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n        }\n\n        if (this.data.p && this.data.p.s) {\n          if (this.data.p.z) {\n            this.v.translate(this.px.v, this.py.v, -this.pz.v);\n          } else {\n            this.v.translate(this.px.v, this.py.v, 0);\n          }\n        } else {\n          this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n        }\n      }\n\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function precalculateMatrix() {\n      if (!this.a.k) {\n        this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        this.appliedTransformations = 1;\n      } else {\n        return;\n      }\n\n      if (!this.s.effectsSequence.length) {\n        this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        this.appliedTransformations = 2;\n      } else {\n        return;\n      }\n\n      if (this.sk) {\n        if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\n          this.pre.skewFromAxis(-this.sk.v, this.sa.v);\n          this.appliedTransformations = 3;\n        } else {\n          return;\n        }\n      }\n\n      if (this.r) {\n        if (!this.r.effectsSequence.length) {\n          this.pre.rotate(-this.r.v);\n          this.appliedTransformations = 4;\n        }\n      } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\n        this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        this.appliedTransformations = 4;\n      }\n    }\n\n    function autoOrient() {//\n      // var prevP = this.getValueAtTime();\n    }\n\n    function addDynamicProperty(prop) {\n      this._addDynamicProperty(prop);\n\n      this.elem.addDynamicProperty(prop);\n      this._isDirty = true;\n    }\n\n    function TransformProperty(elem, data, container) {\n      this.elem = elem;\n      this.frameId = -1;\n      this.propType = 'transform';\n      this.data = data;\n      this.v = new Matrix(); // Precalculated matrix with non animated properties\n\n      this.pre = new Matrix();\n      this.appliedTransformations = 0;\n      this.initDynamicPropertyContainer(container || elem);\n\n      if (data.p && data.p.s) {\n        this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\n        this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\n\n        if (data.p.z) {\n          this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\n        }\n      } else {\n        this.p = PropertyFactory.getProp(elem, data.p || {\n          k: [0, 0, 0]\n        }, 1, 0, this);\n      }\n\n      if (data.rx) {\n        this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\n        this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\n        this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\n\n        if (data.or.k[0].ti) {\n          var i;\n          var len = data.or.k.length;\n\n          for (i = 0; i < len; i += 1) {\n            data.or.k[i].to = null;\n            data.or.k[i].ti = null;\n          }\n        }\n\n        this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this); // sh Indicates it needs to be capped between -180 and 180\n\n        this.or.sh = true;\n      } else {\n        this.r = PropertyFactory.getProp(elem, data.r || {\n          k: 0\n        }, 0, degToRads, this);\n      }\n\n      if (data.sk) {\n        this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\n        this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\n      }\n\n      this.a = PropertyFactory.getProp(elem, data.a || {\n        k: [0, 0, 0]\n      }, 1, 0, this);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: [100, 100, 100]\n      }, 1, 0.01, this); // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\n\n      if (data.o) {\n        this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\n      } else {\n        this.o = {\n          _mdf: false,\n          v: 1\n        };\n      }\n\n      this._isDirty = true;\n\n      if (!this.dynamicProperties.length) {\n        this.getValue(true);\n      }\n    }\n\n    TransformProperty.prototype = {\n      applyToMatrix: applyToMatrix,\n      getValue: processKeys,\n      precalculateMatrix: precalculateMatrix,\n      autoOrient: autoOrient\n    };\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\n\n    function getTransformProperty(elem, data, container) {\n      return new TransformProperty(elem, data, container);\n    }\n\n    return {\n      getTransformProperty: getTransformProperty\n    };\n  }();\n\n  function RepeaterModifier() {}\n\n  extendPrototype([ShapeModifier], RepeaterModifier);\n\n  RepeaterModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\n    this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\n    this.data = data;\n\n    if (!this.dynamicProperties.length) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = !!this.dynamicProperties.length;\n    this.pMatrix = new Matrix();\n    this.rMatrix = new Matrix();\n    this.sMatrix = new Matrix();\n    this.tMatrix = new Matrix();\n    this.matrix = new Matrix();\n  };\n\n  RepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\n    var dir = inv ? -1 : 1;\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    rMatrix.rotate(-transform.r.v * dir * perc);\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n  };\n\n  RepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\n    this.elem = elem;\n    this.arr = arr;\n    this.pos = pos;\n    this.elemsData = elemsData;\n    this._currentCopies = 0;\n    this._elements = [];\n    this._groups = [];\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, arr[pos]);\n\n    while (pos > 0) {\n      pos -= 1; // this._elements.unshift(arr.splice(pos,1)[0]);\n\n      this._elements.unshift(arr[pos]);\n    }\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  RepeaterModifier.prototype.resetElements = function (elements) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._processed = false;\n\n      if (elements[i].ty === 'gr') {\n        this.resetElements(elements[i].it);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.cloneElements = function (elements) {\n    var newElements = JSON.parse(JSON.stringify(elements));\n    this.resetElements(newElements);\n    return newElements;\n  };\n\n  RepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._render = renderFlag;\n\n      if (elements[i].ty === 'gr') {\n        this.changeGroupRender(elements[i].it, renderFlag);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\n    var items;\n    var itemsTransform;\n    var i;\n    var dir;\n    var cont;\n    var hasReloaded = false;\n\n    if (this._mdf || _isFirstFrame) {\n      var copies = Math.ceil(this.c.v);\n\n      if (this._groups.length < copies) {\n        while (this._groups.length < copies) {\n          var group = {\n            it: this.cloneElements(this._elements),\n            ty: 'gr'\n          };\n          group.it.push({\n            a: {\n              a: 0,\n              ix: 1,\n              k: [0, 0]\n            },\n            nm: 'Transform',\n            o: {\n              a: 0,\n              ix: 7,\n              k: 100\n            },\n            p: {\n              a: 0,\n              ix: 2,\n              k: [0, 0]\n            },\n            r: {\n              a: 1,\n              ix: 6,\n              k: [{\n                s: 0,\n                e: 0,\n                t: 0\n              }, {\n                s: 0,\n                e: 0,\n                t: 1\n              }]\n            },\n            s: {\n              a: 0,\n              ix: 3,\n              k: [100, 100]\n            },\n            sa: {\n              a: 0,\n              ix: 5,\n              k: 0\n            },\n            sk: {\n              a: 0,\n              ix: 4,\n              k: 0\n            },\n            ty: 'tr'\n          });\n          this.arr.splice(0, 0, group);\n\n          this._groups.splice(0, 0, group);\n\n          this._currentCopies += 1;\n        }\n\n        this.elem.reloadShapes();\n        hasReloaded = true;\n      }\n\n      cont = 0;\n      var renderFlag;\n\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\n        renderFlag = cont < copies;\n        this._groups[i]._render = renderFlag;\n        this.changeGroupRender(this._groups[i].it, renderFlag);\n\n        if (!renderFlag) {\n          var elems = this.elemsData[i].it;\n          var transformData = elems[elems.length - 1];\n\n          if (transformData.transform.op.v !== 0) {\n            transformData.transform.op._mdf = true;\n            transformData.transform.op.v = 0;\n          } else {\n            transformData.transform.op._mdf = false;\n          }\n        }\n\n        cont += 1;\n      }\n\n      this._currentCopies = copies; /// /\n\n      var offset = this.o.v;\n      var offsetModulo = offset % 1;\n      var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\n      var pProps = this.pMatrix.props;\n      var rProps = this.rMatrix.props;\n      var sProps = this.sMatrix.props;\n      this.pMatrix.reset();\n      this.rMatrix.reset();\n      this.sMatrix.reset();\n      this.tMatrix.reset();\n      this.matrix.reset();\n      var iteration = 0;\n\n      if (offset > 0) {\n        while (iteration < roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          iteration += 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\n          iteration += offsetModulo;\n        }\n      } else if (offset < 0) {\n        while (iteration > roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\n          iteration -= 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\n          iteration -= offsetModulo;\n        }\n      }\n\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\n      dir = this.data.m === 1 ? 1 : -1;\n      cont = this._currentCopies;\n      var j;\n      var jLen;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        jLen = itemsTransform.length;\n        items[items.length - 1].transform.mProps._mdf = true;\n        items[items.length - 1].transform.op._mdf = true;\n        items[items.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\n\n        if (iteration !== 0) {\n          if (i !== 0 && dir === 1 || i !== this._currentCopies - 1 && dir === -1) {\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          }\n\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n\n          this.matrix.reset();\n        } else {\n          this.matrix.reset();\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n        }\n\n        iteration += 1;\n        cont -= 1;\n        i += dir;\n      }\n    } else {\n      cont = this._currentCopies;\n      i = 0;\n      dir = 1;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        items[items.length - 1].transform.mProps._mdf = false;\n        items[items.length - 1].transform.op._mdf = false;\n        cont -= 1;\n        i += dir;\n      }\n    }\n\n    return hasReloaded;\n  };\n\n  RepeaterModifier.prototype.addShape = function () {};\n\n  function RoundCornersModifier() {}\n\n  extendPrototype([ShapeModifier], RoundCornersModifier);\n\n  RoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this._isAnimated = !!this.rd.effectsSequence.length;\n  };\n\n  RoundCornersModifier.prototype.processPath = function (path, round) {\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var i;\n    var len = path._length;\n    var currentV;\n    var currentI;\n    var currentO;\n    var closerV;\n    var distance;\n    var newPosPerc;\n    var index = 0;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < len; i += 1) {\n      currentV = path.v[i];\n      currentO = path.o[i];\n      currentI = path.i[i];\n\n      if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\n        if ((i === 0 || i === len - 1) && !path.c) {\n          clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\n          /* clonedPath.v[index] = currentV;\r\n                  clonedPath.o[index] = currentO;\r\n                  clonedPath.i[index] = currentI; */\n\n          index += 1;\n        } else {\n          if (i === 0) {\n            closerV = path.v[len - 1];\n          } else {\n            closerV = path.v[i - 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = iX;\n          iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\n          vY = iY;\n          oX = vX - (vX - currentV[0]) * roundCorner;\n          oY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n\n          if (i === len - 1) {\n            closerV = path.v[0];\n          } else {\n            closerV = path.v[i + 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = oX;\n          oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\n          vY = oY;\n          iX = vX - (vX - currentV[0]) * roundCorner;\n          iY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n        }\n      } else {\n        clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\n        index += 1;\n      }\n    }\n\n    return clonedPath;\n  };\n\n  RoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var rd = this.rd.v;\n\n    if (rd !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function getFontProperties(fontData) {\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\n    var fWeight = 'normal';\n    var fStyle = 'normal';\n    var len = styles.length;\n    var styleName;\n\n    for (var i = 0; i < len; i += 1) {\n      styleName = styles[i].toLowerCase();\n\n      switch (styleName) {\n        case 'italic':\n          fStyle = 'italic';\n          break;\n\n        case 'bold':\n          fWeight = '700';\n          break;\n\n        case 'black':\n          fWeight = '900';\n          break;\n\n        case 'medium':\n          fWeight = '500';\n          break;\n\n        case 'regular':\n        case 'normal':\n          fWeight = '400';\n          break;\n\n        case 'light':\n        case 'thin':\n          fWeight = '200';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return {\n      style: fStyle,\n      weight: fontData.fWeight || fWeight\n    };\n  }\n\n  var FontManager = function () {\n    var maxWaitingTime = 5000;\n    var emptyChar = {\n      w: 0,\n      size: 0,\n      shapes: [],\n      data: {\n        shapes: []\n      }\n    };\n    var combinedCharacters = []; // Hindi characters\n\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\n    var surrogateModifiers = ['d83cdffb', 'd83cdffc', 'd83cdffd', 'd83cdffe', 'd83cdfff'];\n    var zeroWidthJoiner = [65039, 8205];\n\n    function trimFontOptions(font) {\n      var familyArray = font.split(',');\n      var i;\n      var len = familyArray.length;\n      var enabledFamilies = [];\n\n      for (i = 0; i < len; i += 1) {\n        if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\n          enabledFamilies.push(familyArray[i]);\n        }\n      }\n\n      return enabledFamilies.join(',');\n    }\n\n    function setUpNode(font, family) {\n      var parentNode = createTag('span'); // Node is invisible to screen readers.\n\n      parentNode.setAttribute('aria-hidden', true);\n      parentNode.style.fontFamily = family;\n      var node = createTag('span'); // Characters that vary significantly among different fonts\n\n      node.innerText = 'giItT1WQy@!-/#'; // Visible - so we can measure it - but not on the screen\n\n      parentNode.style.position = 'absolute';\n      parentNode.style.left = '-10000px';\n      parentNode.style.top = '-10000px'; // Large font size makes even subtle changes obvious\n\n      parentNode.style.fontSize = '300px'; // Reset any font properties\n\n      parentNode.style.fontVariant = 'normal';\n      parentNode.style.fontStyle = 'normal';\n      parentNode.style.fontWeight = 'normal';\n      parentNode.style.letterSpacing = '0';\n      parentNode.appendChild(node);\n      document.body.appendChild(parentNode); // Remember width with no applied web font\n\n      var width = node.offsetWidth;\n      node.style.fontFamily = trimFontOptions(font) + ', ' + family;\n      return {\n        node: node,\n        w: width,\n        parent: parentNode\n      };\n    }\n\n    function checkLoadedFonts() {\n      var i;\n      var len = this.fonts.length;\n      var node;\n      var w;\n      var loadedCount = len;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.fonts[i].loaded) {\n          loadedCount -= 1;\n        } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\n          this.fonts[i].loaded = true;\n        } else {\n          node = this.fonts[i].monoCase.node;\n          w = this.fonts[i].monoCase.w;\n\n          if (node.offsetWidth !== w) {\n            loadedCount -= 1;\n            this.fonts[i].loaded = true;\n          } else {\n            node = this.fonts[i].sansCase.node;\n            w = this.fonts[i].sansCase.w;\n\n            if (node.offsetWidth !== w) {\n              loadedCount -= 1;\n              this.fonts[i].loaded = true;\n            }\n          }\n\n          if (this.fonts[i].loaded) {\n            this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\n            this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\n          }\n        }\n      }\n\n      if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\n        setTimeout(this.checkLoadedFontsBinded, 20);\n      } else {\n        setTimeout(this.setIsLoadedBinded, 10);\n      }\n    }\n\n    function createHelper(def, fontData) {\n      var tHelper = createNS('text');\n      tHelper.style.fontSize = '100px'; // tHelper.style.fontFamily = fontData.fFamily;\n\n      var fontProps = getFontProperties(fontData);\n      tHelper.setAttribute('font-family', fontData.fFamily);\n      tHelper.setAttribute('font-style', fontProps.style);\n      tHelper.setAttribute('font-weight', fontProps.weight);\n      tHelper.textContent = '1';\n\n      if (fontData.fClass) {\n        tHelper.style.fontFamily = 'inherit';\n        tHelper.setAttribute('class', fontData.fClass);\n      } else {\n        tHelper.style.fontFamily = fontData.fFamily;\n      }\n\n      def.appendChild(tHelper);\n      var tCanvasHelper = createTag('canvas').getContext('2d');\n      tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px ' + fontData.fFamily; // tCanvasHelper.font = ' 100px '+ fontData.fFamily;\n\n      return tHelper;\n    }\n\n    function addFonts(fontData, defs) {\n      if (!fontData) {\n        this.isLoaded = true;\n        return;\n      }\n\n      if (this.chars) {\n        this.isLoaded = true;\n        this.fonts = fontData.list;\n        return;\n      }\n\n      var fontArr = fontData.list;\n      var i;\n      var len = fontArr.length;\n      var _pendingFonts = len;\n\n      for (i = 0; i < len; i += 1) {\n        var shouldLoadFont = true;\n        var loadedSelector;\n        var j;\n        fontArr[i].loaded = false;\n        fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\n        fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\n\n        if (!fontArr[i].fPath) {\n          fontArr[i].loaded = true;\n          _pendingFonts -= 1;\n        } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\n          loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\n\n          if (loadedSelector.length > 0) {\n            shouldLoadFont = false;\n          }\n\n          if (shouldLoadFont) {\n            var s = createTag('style');\n            s.setAttribute('f-forigin', fontArr[i].fOrigin);\n            s.setAttribute('f-origin', fontArr[i].origin);\n            s.setAttribute('f-family', fontArr[i].fFamily);\n            s.type = 'text/css';\n            s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\n            defs.appendChild(s);\n          }\n        } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\n          loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var l = createTag('link');\n            l.setAttribute('f-forigin', fontArr[i].fOrigin);\n            l.setAttribute('f-origin', fontArr[i].origin);\n            l.type = 'text/css';\n            l.rel = 'stylesheet';\n            l.href = fontArr[i].fPath;\n            document.body.appendChild(l);\n          }\n        } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\n          loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (fontArr[i].fPath === loadedSelector[j].src) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var sc = createTag('link');\n            sc.setAttribute('f-forigin', fontArr[i].fOrigin);\n            sc.setAttribute('f-origin', fontArr[i].origin);\n            sc.setAttribute('rel', 'stylesheet');\n            sc.setAttribute('href', fontArr[i].fPath);\n            defs.appendChild(sc);\n          }\n        }\n\n        fontArr[i].helper = createHelper(defs, fontArr[i]);\n        fontArr[i].cache = {};\n        this.fonts.push(fontArr[i]);\n      }\n\n      if (_pendingFonts === 0) {\n        this.isLoaded = true;\n      } else {\n        // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n        // Adding this timeout seems to fix it\n        setTimeout(this.checkLoadedFonts.bind(this), 100);\n      }\n    }\n\n    function addChars(chars) {\n      if (!chars) {\n        return;\n      }\n\n      if (!this.chars) {\n        this.chars = [];\n      }\n\n      var i;\n      var len = chars.length;\n      var j;\n      var jLen = this.chars.length;\n      var found;\n\n      for (i = 0; i < len; i += 1) {\n        j = 0;\n        found = false;\n\n        while (j < jLen) {\n          if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\n            found = true;\n          }\n\n          j += 1;\n        }\n\n        if (!found) {\n          this.chars.push(chars[i]);\n          jLen += 1;\n        }\n      }\n    }\n\n    function getCharData(_char, style, font) {\n      var i = 0;\n      var len = this.chars.length;\n\n      while (i < len) {\n        if (this.chars[i].ch === _char && this.chars[i].style === style && this.chars[i].fFamily === font) {\n          return this.chars[i];\n        }\n\n        i += 1;\n      }\n\n      if ((typeof _char === 'string' && _char.charCodeAt(0) !== 13 || !_char) && console && console.warn // eslint-disable-line no-console\n      && !this._warned) {\n        this._warned = true;\n        console.warn('Missing character from exported characters list: ', _char, style, font); // eslint-disable-line no-console\n      }\n\n      return emptyChar;\n    }\n\n    function measureText(_char2, fontName, size) {\n      var fontData = this.getFontByName(fontName);\n\n      var index = _char2.charCodeAt(0);\n\n      if (!fontData.cache[index + 1]) {\n        var tHelper = fontData.helper; // Canvas version\n        // fontData.cache[index] = tHelper.measureText(char).width / 100;\n        // SVG version\n        // console.log(tHelper.getBBox().width)\n\n        if (_char2 === ' ') {\n          tHelper.textContent = '|' + _char2 + '|';\n          var doubleSize = tHelper.getComputedTextLength();\n          tHelper.textContent = '||';\n          var singleSize = tHelper.getComputedTextLength();\n          fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\n        } else {\n          tHelper.textContent = _char2;\n          fontData.cache[index + 1] = tHelper.getComputedTextLength() / 100;\n        }\n      }\n\n      return fontData.cache[index + 1] * size;\n    }\n\n    function getFontByName(name) {\n      var i = 0;\n      var len = this.fonts.length;\n\n      while (i < len) {\n        if (this.fonts[i].fName === name) {\n          return this.fonts[i];\n        }\n\n        i += 1;\n      }\n\n      return this.fonts[0];\n    }\n\n    function isModifier(firstCharCode, secondCharCode) {\n      var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\n      return surrogateModifiers.indexOf(sum) !== -1;\n    }\n\n    function isZeroWidthJoiner(firstCharCode, secondCharCode) {\n      if (!secondCharCode) {\n        return firstCharCode === zeroWidthJoiner[1];\n      }\n\n      return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];\n    }\n\n    function isCombinedCharacter(_char3) {\n      return combinedCharacters.indexOf(_char3) !== -1;\n    }\n\n    function setIsLoaded() {\n      this.isLoaded = true;\n    }\n\n    var Font = function Font() {\n      this.fonts = [];\n      this.chars = null;\n      this.typekitLoaded = 0;\n      this.isLoaded = false;\n      this._warned = false;\n      this.initTime = Date.now();\n      this.setIsLoadedBinded = this.setIsLoaded.bind(this);\n      this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\n    };\n\n    Font.isModifier = isModifier;\n    Font.isZeroWidthJoiner = isZeroWidthJoiner;\n    Font.isCombinedCharacter = isCombinedCharacter;\n    var fontPrototype = {\n      addChars: addChars,\n      addFonts: addFonts,\n      getCharData: getCharData,\n      getFontByName: getFontByName,\n      measureText: measureText,\n      checkLoadedFonts: checkLoadedFonts,\n      setIsLoaded: setIsLoaded\n    };\n    Font.prototype = fontPrototype;\n    return Font;\n  }();\n\n  function RenderableElement() {}\n\n  RenderableElement.prototype = {\n    initRenderable: function initRenderable() {\n      // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\n      this.isInRange = false; // layer's display state\n\n      this.hidden = false; // If layer's transparency equals 0, it can be hidden\n\n      this.isTransparent = false; // list of animated components\n\n      this.renderableComponents = [];\n    },\n    addRenderableComponent: function addRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) === -1) {\n        this.renderableComponents.push(component);\n      }\n    },\n    removeRenderableComponent: function removeRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) !== -1) {\n        this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\n      }\n    },\n    prepareRenderableFrame: function prepareRenderableFrame(num) {\n      this.checkLayerLimits(num);\n    },\n    checkTransparency: function checkTransparency() {\n      if (this.finalTransform.mProp.o.v <= 0) {\n        if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\n          this.isTransparent = true;\n          this.hide();\n        }\n      } else if (this.isTransparent) {\n        this.isTransparent = false;\n        this.show();\n      }\n    },\n\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       *\r\n       */\n    checkLayerLimits: function checkLayerLimits(num) {\n      if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\n        if (this.isInRange !== true) {\n          this.globalData._mdf = true;\n          this._mdf = true;\n          this.isInRange = true;\n          this.show();\n        }\n      } else if (this.isInRange !== false) {\n        this.globalData._mdf = true;\n        this.isInRange = false;\n        this.hide();\n      }\n    },\n    renderRenderable: function renderRenderable() {\n      var i;\n      var len = this.renderableComponents.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderableComponents[i].renderFrame(this._isFirstFrame);\n      }\n      /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\n\n    },\n    sourceRectAtTime: function sourceRectAtTime() {\n      return {\n        top: 0,\n        left: 0,\n        width: 100,\n        height: 100\n      };\n    },\n    getLayerSize: function getLayerSize() {\n      if (this.data.ty === 5) {\n        return {\n          w: this.data.textData.width,\n          h: this.data.textData.height\n        };\n      }\n\n      return {\n        w: this.data.width,\n        h: this.data.height\n      };\n    }\n  };\n\n  var MaskManagerInterface = function () {\n    function MaskInterface(mask, data) {\n      this._mask = mask;\n      this._data = data;\n    }\n\n    Object.defineProperty(MaskInterface.prototype, 'maskPath', {\n      get: function get() {\n        if (this._mask.prop.k) {\n          this._mask.prop.getValue();\n        }\n\n        return this._mask.prop;\n      }\n    });\n    Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\n      get: function get() {\n        if (this._mask.op.k) {\n          this._mask.op.getValue();\n        }\n\n        return this._mask.op.v * 100;\n      }\n    });\n\n    var MaskManager = function MaskManager(maskManager) {\n      var _masksInterfaces = createSizedArray(maskManager.viewData.length);\n\n      var i;\n      var len = maskManager.viewData.length;\n\n      for (i = 0; i < len; i += 1) {\n        _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\n      }\n\n      var maskFunction = function maskFunction(name) {\n        i = 0;\n\n        while (i < len) {\n          if (maskManager.masksProperties[i].nm === name) {\n            return _masksInterfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      };\n\n      return maskFunction;\n    };\n\n    return MaskManager;\n  }();\n\n  var ExpressionPropertyInterface = function () {\n    var defaultUnidimensionalValue = {\n      pv: 0,\n      v: 0,\n      mult: 1\n    };\n    var defaultMultidimensionalValue = {\n      pv: [0, 0, 0],\n      v: [0, 0, 0],\n      mult: 1\n    };\n\n    function completeProperty(expressionValue, property, type) {\n      Object.defineProperty(expressionValue, 'velocity', {\n        get: function get() {\n          return property.getVelocityAtTime(property.comp.currentFrame);\n        }\n      });\n      expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\n\n      expressionValue.key = function (pos) {\n        if (!expressionValue.numKeys) {\n          return 0;\n        }\n\n        var value = '';\n\n        if ('s' in property.keyframes[pos - 1]) {\n          value = property.keyframes[pos - 1].s;\n        } else if ('e' in property.keyframes[pos - 2]) {\n          value = property.keyframes[pos - 2].e;\n        } else {\n          value = property.keyframes[pos - 2].s;\n        }\n\n        var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\n\n        valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\n        valueProp.value = type === 'unidimensional' ? value[0] : value;\n        return valueProp;\n      };\n\n      expressionValue.valueAtTime = property.getValueAtTime;\n      expressionValue.speedAtTime = property.getSpeedAtTime;\n      expressionValue.velocityAtTime = property.getVelocityAtTime;\n      expressionValue.propertyGroup = property.propertyGroup;\n    }\n\n    function UnidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultUnidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var val = property.pv * mult;\n      var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n      expressionValue.value = val;\n      completeProperty(expressionValue, property, 'unidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        val = property.v * mult;\n\n        if (expressionValue.value !== val) {\n          expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n          expressionValue.value = val;\n          completeProperty(expressionValue, property, 'unidimensional');\n        }\n\n        return expressionValue;\n      };\n    }\n\n    function MultidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultMultidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var len = property.data && property.data.l || property.pv.length;\n      var expressionValue = createTypedArray('float32', len);\n      var arrValue = createTypedArray('float32', len);\n      expressionValue.value = arrValue;\n      completeProperty(expressionValue, property, 'multidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        for (var i = 0; i < len; i += 1) {\n          arrValue[i] = property.v[i] * mult;\n          expressionValue[i] = arrValue[i];\n        }\n\n        return expressionValue;\n      };\n    } // TODO: try to avoid using this getter\n\n\n    function defaultGetter() {\n      return defaultUnidimensionalValue;\n    }\n\n    return function (property) {\n      if (!property) {\n        return defaultGetter;\n      }\n\n      if (property.propType === 'unidimensional') {\n        return UnidimensionalPropertyInterface(property);\n      }\n\n      return MultidimensionalPropertyInterface(property);\n    };\n  }();\n\n  var TransformExpressionInterface = function () {\n    return function (transform) {\n      function _thisFunction(name) {\n        switch (name) {\n          case 'scale':\n          case 'Scale':\n          case 'ADBE Scale':\n          case 6:\n            return _thisFunction.scale;\n\n          case 'rotation':\n          case 'Rotation':\n          case 'ADBE Rotation':\n          case 'ADBE Rotate Z':\n          case 10:\n            return _thisFunction.rotation;\n\n          case 'ADBE Rotate X':\n            return _thisFunction.xRotation;\n\n          case 'ADBE Rotate Y':\n            return _thisFunction.yRotation;\n\n          case 'position':\n          case 'Position':\n          case 'ADBE Position':\n          case 2:\n            return _thisFunction.position;\n\n          case 'ADBE Position_0':\n            return _thisFunction.xPosition;\n\n          case 'ADBE Position_1':\n            return _thisFunction.yPosition;\n\n          case 'ADBE Position_2':\n            return _thisFunction.zPosition;\n\n          case 'anchorPoint':\n          case 'AnchorPoint':\n          case 'Anchor Point':\n          case 'ADBE AnchorPoint':\n          case 1:\n            return _thisFunction.anchorPoint;\n\n          case 'opacity':\n          case 'Opacity':\n          case 11:\n            return _thisFunction.opacity;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'rotation', {\n        get: ExpressionPropertyInterface(transform.r || transform.rz)\n      });\n      Object.defineProperty(_thisFunction, 'zRotation', {\n        get: ExpressionPropertyInterface(transform.rz || transform.r)\n      });\n      Object.defineProperty(_thisFunction, 'xRotation', {\n        get: ExpressionPropertyInterface(transform.rx)\n      });\n      Object.defineProperty(_thisFunction, 'yRotation', {\n        get: ExpressionPropertyInterface(transform.ry)\n      });\n      Object.defineProperty(_thisFunction, 'scale', {\n        get: ExpressionPropertyInterface(transform.s)\n      });\n\n      var _px;\n\n      var _py;\n\n      var _pz;\n\n      var _transformFactory;\n\n      if (transform.p) {\n        _transformFactory = ExpressionPropertyInterface(transform.p);\n      } else {\n        _px = ExpressionPropertyInterface(transform.px);\n        _py = ExpressionPropertyInterface(transform.py);\n\n        if (transform.pz) {\n          _pz = ExpressionPropertyInterface(transform.pz);\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'position', {\n        get: function get() {\n          if (transform.p) {\n            return _transformFactory();\n          }\n\n          return [_px(), _py(), _pz ? _pz() : 0];\n        }\n      });\n      Object.defineProperty(_thisFunction, 'xPosition', {\n        get: ExpressionPropertyInterface(transform.px)\n      });\n      Object.defineProperty(_thisFunction, 'yPosition', {\n        get: ExpressionPropertyInterface(transform.py)\n      });\n      Object.defineProperty(_thisFunction, 'zPosition', {\n        get: ExpressionPropertyInterface(transform.pz)\n      });\n      Object.defineProperty(_thisFunction, 'anchorPoint', {\n        get: ExpressionPropertyInterface(transform.a)\n      });\n      Object.defineProperty(_thisFunction, 'opacity', {\n        get: ExpressionPropertyInterface(transform.o)\n      });\n      Object.defineProperty(_thisFunction, 'skew', {\n        get: ExpressionPropertyInterface(transform.sk)\n      });\n      Object.defineProperty(_thisFunction, 'skewAxis', {\n        get: ExpressionPropertyInterface(transform.sa)\n      });\n      Object.defineProperty(_thisFunction, 'orientation', {\n        get: ExpressionPropertyInterface(transform.or)\n      });\n      return _thisFunction;\n    };\n  }();\n\n  var LayerExpressionInterface = function () {\n    function getMatrix(time) {\n      var toWorldMat = new Matrix();\n\n      if (time !== undefined) {\n        var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\n\n        propMatrix.clone(toWorldMat);\n      } else {\n        var transformMat = this._elem.finalTransform.mProp;\n        transformMat.applyToMatrix(toWorldMat);\n      }\n\n      return toWorldMat;\n    }\n\n    function toWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function toWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function fromWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function fromWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function applyPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\n    }\n\n    function invertPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.inversePoint(arr);\n    }\n\n    function fromComp(arr) {\n      var toWorldMat = new Matrix();\n      toWorldMat.reset();\n\n      this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\n\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n        }\n\n        return toWorldMat.inversePoint(arr);\n      }\n\n      return toWorldMat.inversePoint(arr);\n    }\n\n    function sampleImage() {\n      return [1, 1, 1, 1];\n    }\n\n    return function (elem) {\n      var transformInterface;\n\n      function _registerMaskInterface(maskManager) {\n        _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\n      }\n\n      function _registerEffectsInterface(effects) {\n        _thisLayerFunction.effect = effects;\n      }\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Root Vectors Group':\n          case 'Contents':\n          case 2:\n            return _thisLayerFunction.shapeInterface;\n\n          case 1:\n          case 6:\n          case 'Transform':\n          case 'transform':\n          case 'ADBE Transform Group':\n            return transformInterface;\n\n          case 4:\n          case 'ADBE Effect Parade':\n          case 'effects':\n          case 'Effects':\n            return _thisLayerFunction.effect;\n\n          case 'ADBE Text Properties':\n            return _thisLayerFunction.textInterface;\n\n          default:\n            return null;\n        }\n      }\n\n      _thisLayerFunction.getMatrix = getMatrix;\n      _thisLayerFunction.invertPoint = invertPoint;\n      _thisLayerFunction.applyPoint = applyPoint;\n      _thisLayerFunction.toWorld = toWorld;\n      _thisLayerFunction.toWorldVec = toWorldVec;\n      _thisLayerFunction.fromWorld = fromWorld;\n      _thisLayerFunction.fromWorldVec = fromWorldVec;\n      _thisLayerFunction.toComp = toWorld;\n      _thisLayerFunction.fromComp = fromComp;\n      _thisLayerFunction.sampleImage = sampleImage;\n      _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\n      _thisLayerFunction._elem = elem;\n      transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\n      var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\n      Object.defineProperties(_thisLayerFunction, {\n        hasParent: {\n          get: function get() {\n            return elem.hierarchy.length;\n          }\n        },\n        parent: {\n          get: function get() {\n            return elem.hierarchy[0].layerInterface;\n          }\n        },\n        rotation: getDescriptor(transformInterface, 'rotation'),\n        scale: getDescriptor(transformInterface, 'scale'),\n        position: getDescriptor(transformInterface, 'position'),\n        opacity: getDescriptor(transformInterface, 'opacity'),\n        anchorPoint: anchorPointDescriptor,\n        anchor_point: anchorPointDescriptor,\n        transform: {\n          get: function get() {\n            return transformInterface;\n          }\n        },\n        active: {\n          get: function get() {\n            return elem.isInRange;\n          }\n        }\n      });\n      _thisLayerFunction.startTime = elem.data.st;\n      _thisLayerFunction.index = elem.data.ind;\n      _thisLayerFunction.source = elem.data.refId;\n      _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\n      _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\n      _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      _thisLayerFunction._name = elem.data.nm;\n      _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\n      _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var propertyGroupFactory = function () {\n    return function (interfaceFunction, parentPropertyGroup) {\n      return function (val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return parentPropertyGroup(val - 1);\n      };\n    };\n  }();\n\n  var PropertyInterface = function () {\n    return function (propertyName, propertyGroup) {\n      var interfaceFunction = {\n        _name: propertyName\n      };\n\n      function _propertyGroup(val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return propertyGroup(val - 1);\n      }\n\n      return _propertyGroup;\n    };\n  }();\n\n  var EffectsExpressionInterface = function () {\n    var ob = {\n      createEffectsInterface: createEffectsInterface\n    };\n\n    function createEffectsInterface(elem, propertyGroup) {\n      if (elem.effectsManager) {\n        var effectElements = [];\n        var effectsData = elem.data.ef;\n        var i;\n        var len = elem.effectsManager.effectElements.length;\n\n        for (i = 0; i < len; i += 1) {\n          effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\n        }\n\n        var effects = elem.data.ef || [];\n\n        var groupInterface = function groupInterface(name) {\n          i = 0;\n          len = effects.length;\n\n          while (i < len) {\n            if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n              return effectElements[i];\n            }\n\n            i += 1;\n          }\n\n          return null;\n        };\n\n        Object.defineProperty(groupInterface, 'numProperties', {\n          get: function get() {\n            return effects.length;\n          }\n        });\n        return groupInterface;\n      }\n\n      return null;\n    }\n\n    function createGroupInterface(data, elements, propertyGroup, elem) {\n      function groupInterface(name) {\n        var effects = data.ef;\n        var i = 0;\n        var len = effects.length;\n\n        while (i < len) {\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n            if (effects[i].ty === 5) {\n              return effectElements[i];\n            }\n\n            return effectElements[i]();\n          }\n\n          i += 1;\n        }\n\n        throw new Error();\n      }\n\n      var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\n\n      var effectElements = [];\n      var i;\n      var len = data.ef.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (data.ef[i].ty === 5) {\n          effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\n        } else {\n          effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\n        }\n      }\n\n      if (data.mn === 'ADBE Color Control') {\n        Object.defineProperty(groupInterface, 'color', {\n          get: function get() {\n            return effectElements[0]();\n          }\n        });\n      }\n\n      Object.defineProperties(groupInterface, {\n        numProperties: {\n          get: function get() {\n            return data.np;\n          }\n        },\n        _name: {\n          value: data.nm\n        },\n        propertyGroup: {\n          value: _propertyGroup\n        }\n      });\n      groupInterface.enabled = data.en !== 0;\n      groupInterface.active = groupInterface.enabled;\n      return groupInterface;\n    }\n\n    function createValueInterface(element, type, elem, propertyGroup) {\n      var expressionProperty = ExpressionPropertyInterface(element.p);\n\n      function interfaceFunction() {\n        if (type === 10) {\n          return elem.comp.compInterface(element.p.v);\n        }\n\n        return expressionProperty();\n      }\n\n      if (element.p.setGroupProperty) {\n        element.p.setGroupProperty(PropertyInterface('', propertyGroup));\n      }\n\n      return interfaceFunction;\n    }\n\n    return ob;\n  }();\n\n  var CompExpressionInterface = function () {\n    return function (comp) {\n      function _thisLayerFunction(name) {\n        var i = 0;\n        var len = comp.layers.length;\n\n        while (i < len) {\n          if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\n            return comp.elements[i].layerInterface;\n          }\n\n          i += 1;\n        }\n\n        return null; // return {active:false};\n      }\n\n      Object.defineProperty(_thisLayerFunction, '_name', {\n        value: comp.data.nm\n      });\n      _thisLayerFunction.layer = _thisLayerFunction;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\n      _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\n      _thisLayerFunction.displayStartTime = 0;\n      _thisLayerFunction.numLayers = comp.layers.length;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var ShapePathInterface = function () {\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\n      var prop = view.sh;\n\n      function interfaceFunction(val) {\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\n          return interfaceFunction.path;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        path: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        shape: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        ix: {\n          value: shape.ix\n        },\n        propertyIndex: {\n          value: shape.ix\n        },\n        mn: {\n          value: shape.mn\n        },\n        propertyGroup: {\n          value: propertyGroup\n        }\n      });\n      return interfaceFunction;\n    };\n  }();\n\n  var ShapeExpressionInterface = function () {\n    function iterateElements(shapes, view, propertyGroup) {\n      var arr = [];\n      var i;\n      var len = shapes ? shapes.length : 0;\n\n      for (i = 0; i < len; i += 1) {\n        if (shapes[i].ty === 'gr') {\n          arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'fl') {\n          arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'st') {\n          arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tm') {\n          arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tr') {// arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n        } else if (shapes[i].ty === 'el') {\n          arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sr') {\n          arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sh') {\n          arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rc') {\n          arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rd') {\n          arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rp') {\n          arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'gf') {\n          arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else {\n          arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\n        }\n      }\n\n      return arr;\n    }\n\n    function contentsInterfaceFactory(shape, view, propertyGroup) {\n      var interfaces;\n\n      var interfaceFunction = function _interfaceFunction(value) {\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        if (typeof value === 'number') {\n          return interfaces[value - 1];\n        }\n\n        return null;\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\n      interfaceFunction.numProperties = interfaces.length;\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.transform = transformInterface;\n      interfaceFunction.propertyIndex = shape.cix;\n      interfaceFunction._name = shape.nm;\n      return interfaceFunction;\n    }\n\n    function groupInterfaceFactory(shape, view, propertyGroup) {\n      var interfaceFunction = function _interfaceFunction(value) {\n        switch (value) {\n          case 'ADBE Vectors Group':\n          case 'Contents':\n          case 2:\n            return interfaceFunction.content;\n          // Not necessary for now. Keeping them here in case a new case appears\n          // case 'ADBE Vector Transform Group':\n          // case 3:\n\n          default:\n            return interfaceFunction.transform;\n        }\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.content = content;\n      interfaceFunction.transform = transformInterface;\n      Object.defineProperty(interfaceFunction, '_name', {\n        get: function get() {\n          return shape.nm;\n        }\n      }); // interfaceFunction.content = interfaceFunction;\n\n      interfaceFunction.numProperties = shape.np;\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.nm = shape.nm;\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function fillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function gradientFillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Start Point' || val === 'start point') {\n          return interfaceFunction.startPoint;\n        }\n\n        if (val === 'End Point' || val === 'end point') {\n          return interfaceFunction.endPoint;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        startPoint: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        endPoint: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        type: {\n          get: function get() {\n            return 'a';\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function defaultInterfaceFactory() {\n      function interfaceFunction() {\n        return null;\n      }\n\n      return interfaceFunction;\n    }\n\n    function strokeInterfaceFactory(shape, view, propertyGroup) {\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\n\n      function addPropertyToDashOb(i) {\n        Object.defineProperty(dashOb, shape.d[i].nm, {\n          get: ExpressionPropertyInterface(view.d.dataProps[i].p)\n        });\n      }\n\n      var i;\n      var len = shape.d ? shape.d.length : 0;\n      var dashOb = {};\n\n      for (i = 0; i < len; i += 1) {\n        addPropertyToDashOb(i);\n        view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\n      }\n\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (val === 'Stroke Width' || val === 'stroke width') {\n          return interfaceFunction.strokeWidth;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        strokeWidth: {\n          get: ExpressionPropertyInterface(view.w)\n        },\n        dash: {\n          get: function get() {\n            return dashOb;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\n      return interfaceFunction;\n    }\n\n    function trimInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === shape.e.ix || val === 'End' || val === 'end') {\n          return interfaceFunction.end;\n        }\n\n        if (val === shape.s.ix) {\n          return interfaceFunction.start;\n        }\n\n        if (val === shape.o.ix) {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.propertyGroup = propertyGroup;\n      Object.defineProperties(interfaceFunction, {\n        start: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        end: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function transformInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.a.ix === value || value === 'Anchor Point') {\n          return interfaceFunction.anchorPoint;\n        }\n\n        if (shape.o.ix === value || value === 'Opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (shape.p.ix === value || value === 'Position') {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.s.ix === value || value === 'Scale') {\n          return interfaceFunction.scale;\n        }\n\n        if (shape.sk && shape.sk.ix === value || value === 'Skew') {\n          return interfaceFunction.skew;\n        }\n\n        if (shape.sa && shape.sa.ix === value || value === 'Skew Axis') {\n          return interfaceFunction.skewAxis;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\n      view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\n      view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (view.transform.mProps.sk) {\n        view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\n        view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\n      }\n\n      view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        opacity: {\n          get: ExpressionPropertyInterface(view.transform.mProps.o)\n        },\n        position: {\n          get: ExpressionPropertyInterface(view.transform.mProps.p)\n        },\n        anchorPoint: {\n          get: ExpressionPropertyInterface(view.transform.mProps.a)\n        },\n        scale: {\n          get: ExpressionPropertyInterface(view.transform.mProps.s)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(view.transform.mProps.r)\n        },\n        skew: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sk)\n        },\n        skewAxis: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sa)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.ty = 'tr';\n      interfaceFunction.mn = shape.mn;\n      interfaceFunction.propertyGroup = propertyGroup;\n      return interfaceFunction;\n    }\n\n    function ellipseInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.s.ix === value) {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function starInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.pt.ix === value) {\n          return interfaceFunction.points;\n        }\n\n        if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\n          return interfaceFunction.outerRadius;\n        }\n\n        if (shape.os.ix === value) {\n          return interfaceFunction.outerRoundness;\n        }\n\n        if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\n          return interfaceFunction.innerRadius;\n        }\n\n        if (shape.is && shape.is.ix === value) {\n          return interfaceFunction.innerRoundness;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\n      prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\n      prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (shape.ir) {\n        prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\n        prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        points: {\n          get: ExpressionPropertyInterface(prop.pt)\n        },\n        outerRadius: {\n          get: ExpressionPropertyInterface(prop.or)\n        },\n        outerRoundness: {\n          get: ExpressionPropertyInterface(prop.os)\n        },\n        innerRadius: {\n          get: ExpressionPropertyInterface(prop.ir)\n        },\n        innerRoundness: {\n          get: ExpressionPropertyInterface(prop.is)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function rectInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.roundness;\n        }\n\n        if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        roundness: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function roundedInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.r.ix === value || value === 'Round Corners 1') {\n          return interfaceFunction.radius;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        radius: {\n          get: ExpressionPropertyInterface(prop.rd)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function repeaterInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.c.ix === value || value === 'Copies') {\n          return interfaceFunction.copies;\n        }\n\n        if (shape.o.ix === value || value === 'Offset') {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\n      prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        copies: {\n          get: ExpressionPropertyInterface(prop.c)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(prop.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    return function (shapes, view, propertyGroup) {\n      var interfaces;\n\n      function _interfaceFunction(value) {\n        if (typeof value === 'number') {\n          value = value === undefined ? 1 : value;\n\n          if (value === 0) {\n            return propertyGroup;\n          }\n\n          return interfaces[value - 1];\n        }\n\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      function parentGroupWrapper() {\n        return propertyGroup;\n      }\n\n      _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\n      interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\n      _interfaceFunction.numProperties = interfaces.length;\n      _interfaceFunction._name = 'Contents';\n      return _interfaceFunction;\n    };\n  }();\n\n  var TextExpressionInterface = function () {\n    return function (elem) {\n      var _prevValue;\n\n      var _sourceText;\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Text Document':\n            return _thisLayerFunction.sourceText;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisLayerFunction, 'sourceText', {\n        get: function get() {\n          elem.textProperty.getValue();\n          var stringValue = elem.textProperty.currentData.t;\n\n          if (stringValue !== _prevValue) {\n            elem.textProperty.currentData.t = _prevValue;\n            _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\n            // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n\n            _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\n          }\n\n          return _sourceText;\n        }\n      });\n      return _thisLayerFunction;\n    };\n  }();\n\n  var getBlendMode = function () {\n    var blendModeEnums = {\n      0: 'source-over',\n      1: 'multiply',\n      2: 'screen',\n      3: 'overlay',\n      4: 'darken',\n      5: 'lighten',\n      6: 'color-dodge',\n      7: 'color-burn',\n      8: 'hard-light',\n      9: 'soft-light',\n      10: 'difference',\n      11: 'exclusion',\n      12: 'hue',\n      13: 'saturation',\n      14: 'color',\n      15: 'luminosity'\n    };\n    return function (mode) {\n      return blendModeEnums[mode] || '';\n    };\n  }();\n\n  function SliderEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function AngleEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function ColorEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function PointEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function LayerIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function MaskIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function CheckboxEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function NoValueEffect() {\n    this.p = {};\n  }\n\n  function EffectsManager(data, element) {\n    var effects = data.ef || [];\n    this.effectElements = [];\n    var i;\n    var len = effects.length;\n    var effectItem;\n\n    for (i = 0; i < len; i += 1) {\n      effectItem = new GroupEffect(effects[i], element);\n      this.effectElements.push(effectItem);\n    }\n  }\n\n  function GroupEffect(data, element) {\n    this.init(data, element);\n  }\n\n  extendPrototype([DynamicPropertyContainer], GroupEffect);\n  GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\n\n  GroupEffect.prototype.init = function (data, element) {\n    this.data = data;\n    this.effectElements = [];\n    this.initDynamicPropertyContainer(element);\n    var i;\n    var len = this.data.ef.length;\n    var eff;\n    var effects = this.data.ef;\n\n    for (i = 0; i < len; i += 1) {\n      eff = null;\n\n      switch (effects[i].ty) {\n        case 0:\n          eff = new SliderEffect(effects[i], element, this);\n          break;\n\n        case 1:\n          eff = new AngleEffect(effects[i], element, this);\n          break;\n\n        case 2:\n          eff = new ColorEffect(effects[i], element, this);\n          break;\n\n        case 3:\n          eff = new PointEffect(effects[i], element, this);\n          break;\n\n        case 4:\n        case 7:\n          eff = new CheckboxEffect(effects[i], element, this);\n          break;\n\n        case 10:\n          eff = new LayerIndexEffect(effects[i], element, this);\n          break;\n\n        case 11:\n          eff = new MaskIndexEffect(effects[i], element, this);\n          break;\n\n        case 5:\n          eff = new EffectsManager(effects[i], element, this);\n          break;\n        // case 6:\n\n        default:\n          eff = new NoValueEffect(effects[i], element, this);\n          break;\n      }\n\n      if (eff) {\n        this.effectElements.push(eff);\n      }\n    }\n  };\n\n  function BaseElement() {}\n\n  BaseElement.prototype = {\n    checkMasks: function checkMasks() {\n      if (!this.data.hasMask) {\n        return false;\n      }\n\n      var i = 0;\n      var len = this.data.masksProperties.length;\n\n      while (i < len) {\n        if (this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false) {\n          return true;\n        }\n\n        i += 1;\n      }\n\n      return false;\n    },\n    initExpressions: function initExpressions() {\n      this.layerInterface = LayerExpressionInterface(this);\n\n      if (this.data.hasMask && this.maskManager) {\n        this.layerInterface.registerMaskInterface(this.maskManager);\n      }\n\n      var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\n      this.layerInterface.registerEffectsInterface(effectsInterface);\n\n      if (this.data.ty === 0 || this.data.xt) {\n        this.compInterface = CompExpressionInterface(this);\n      } else if (this.data.ty === 4) {\n        this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\n        this.layerInterface.content = this.layerInterface.shapeInterface;\n      } else if (this.data.ty === 5) {\n        this.layerInterface.textInterface = TextExpressionInterface(this);\n        this.layerInterface.text = this.layerInterface.textInterface;\n      }\n    },\n    setBlendMode: function setBlendMode() {\n      var blendModeValue = getBlendMode(this.data.bm);\n      var elem = this.baseElement || this.layerElement;\n      elem.style['mix-blend-mode'] = blendModeValue;\n    },\n    initBaseData: function initBaseData(data, globalData, comp) {\n      this.globalData = globalData;\n      this.comp = comp;\n      this.data = data;\n      this.layerId = createElementID(); // Stretch factor for old animations missing this property.\n\n      if (!this.data.sr) {\n        this.data.sr = 1;\n      } // effects manager\n\n\n      this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\n    },\n    getType: function getType() {\n      return this.type;\n    },\n    sourceRectAtTime: function sourceRectAtTime() {}\n  };\n\n  /**\r\n   * @file\r\n   * Handles element's layer frame update.\r\n   * Checks layer in point and out point\r\n   *\r\n   */\n  function FrameElement() {}\n\n  FrameElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       */\n    initFrame: function initFrame() {\n      // set to true when inpoint is rendered\n      this._isFirstFrame = false; // list of animated properties\n\n      this.dynamicProperties = []; // If layer has been modified in current tick this will be true\n\n      this._mdf = false;\n    },\n\n    /**\r\n       * @function\r\n       * Calculates all dynamic values\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       * @param {boolean} isVisible\r\n       * if layers is currently in range\r\n       *\r\n       */\n    prepareProperties: function prepareProperties(num, isVisible) {\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (isVisible || this._isParent && this.dynamicProperties[i].propType === 'transform') {\n          this.dynamicProperties[i].getValue();\n\n          if (this.dynamicProperties[i]._mdf) {\n            this.globalData._mdf = true;\n            this._mdf = true;\n          }\n        }\n      }\n    },\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n      }\n    }\n  };\n\n  function _typeof$2(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$2 = function _typeof(obj) { return typeof obj; }; } else { _typeof$2 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$2(obj); }\n\n  var FootageInterface = function () {\n    var outlineInterfaceFactory = function outlineInterfaceFactory(elem) {\n      var currentPropertyName = '';\n      var currentProperty = elem.getFootageData();\n\n      function init() {\n        currentPropertyName = '';\n        currentProperty = elem.getFootageData();\n        return searchProperty;\n      }\n\n      function searchProperty(value) {\n        if (currentProperty[value]) {\n          currentPropertyName = value;\n          currentProperty = currentProperty[value];\n\n          if (_typeof$2(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        var propertyNameIndex = value.indexOf(currentPropertyName);\n\n        if (propertyNameIndex !== -1) {\n          var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\n          currentProperty = currentProperty[index];\n\n          if (_typeof$2(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        return '';\n      }\n\n      return init;\n    };\n\n    var dataInterfaceFactory = function dataInterfaceFactory(elem) {\n      function interfaceFunction(value) {\n        if (value === 'Outline') {\n          return interfaceFunction.outlineInterface();\n        }\n\n        return null;\n      }\n\n      interfaceFunction._name = 'Outline';\n      interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\n      return interfaceFunction;\n    };\n\n    return function (elem) {\n      function _interfaceFunction(value) {\n        if (value === 'Data') {\n          return _interfaceFunction.dataInterface;\n        }\n\n        return null;\n      }\n\n      _interfaceFunction._name = 'Data';\n      _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\n      return _interfaceFunction;\n    };\n  }();\n\n  function FootageElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.footageData = globalData.imageLoader.getAsset(this.assetData);\n    this.initBaseData(data, globalData, comp);\n  }\n\n  FootageElement.prototype.prepareFrame = function () {};\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\n\n  FootageElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  FootageElement.prototype.renderFrame = function () {};\n\n  FootageElement.prototype.destroy = function () {};\n\n  FootageElement.prototype.initExpressions = function () {\n    this.layerInterface = FootageInterface(this);\n  };\n\n  FootageElement.prototype.getFootageData = function () {\n    return this.footageData;\n  };\n\n  function AudioElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initBaseData(data, globalData, comp);\n    this._isPlaying = false;\n    this._canPlay = false;\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.audio = this.globalData.audioController.createAudio(assetPath);\n    this._currentTime = 0;\n    this.globalData.audioController.addAudio(this);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  AudioElement.prototype.prepareFrame = function (num) {\n    this.prepareRenderableFrame(num, true);\n    this.prepareProperties(num, true);\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n      this._currentTime = timeRemapped;\n    } else {\n      this._currentTime = num / this.data.sr;\n    }\n  };\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\n\n  AudioElement.prototype.renderFrame = function () {\n    if (this.isInRange && this._canPlay) {\n      if (!this._isPlaying) {\n        this.audio.play();\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n        this._isPlaying = true;\n      } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n      }\n    }\n  };\n\n  AudioElement.prototype.show = function () {// this.audio.play()\n  };\n\n  AudioElement.prototype.hide = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n  };\n\n  AudioElement.prototype.pause = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n    this._canPlay = false;\n  };\n\n  AudioElement.prototype.resume = function () {\n    this._canPlay = true;\n  };\n\n  AudioElement.prototype.setRate = function (rateValue) {\n    this.audio.rate(rateValue);\n  };\n\n  AudioElement.prototype.volume = function (volumeValue) {\n    this.audio.volume(volumeValue);\n  };\n\n  AudioElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  AudioElement.prototype.destroy = function () {};\n\n  AudioElement.prototype.sourceRectAtTime = function () {};\n\n  AudioElement.prototype.initExpressions = function () {};\n\n  function BaseRenderer() {}\n\n  BaseRenderer.prototype.checkLayers = function (num) {\n    var i;\n    var len = this.layers.length;\n    var data;\n    this.completeLayers = true;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (!this.elements[i]) {\n        data = this.layers[i];\n\n        if (data.ip - data.st <= num - this.layers[i].st && data.op - data.st > num - this.layers[i].st) {\n          this.buildItem(i);\n        }\n      }\n\n      this.completeLayers = this.elements[i] ? this.completeLayers : false;\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.createItem = function (layer) {\n    switch (layer.ty) {\n      case 2:\n        return this.createImage(layer);\n\n      case 0:\n        return this.createComp(layer);\n\n      case 1:\n        return this.createSolid(layer);\n\n      case 3:\n        return this.createNull(layer);\n\n      case 4:\n        return this.createShape(layer);\n\n      case 5:\n        return this.createText(layer);\n\n      case 6:\n        return this.createAudio(layer);\n\n      case 13:\n        return this.createCamera(layer);\n\n      case 15:\n        return this.createFootage(layer);\n\n      default:\n        return this.createNull(layer);\n    }\n  };\n\n  BaseRenderer.prototype.createCamera = function () {\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\n  };\n\n  BaseRenderer.prototype.createAudio = function (data) {\n    return new AudioElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.createFootage = function (data) {\n    return new FootageElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.buildAllItems = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.buildItem(i);\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.includeLayers = function (newLayers) {\n    this.completeLayers = false;\n    var i;\n    var len = newLayers.length;\n    var j;\n    var jLen = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      j = 0;\n\n      while (j < jLen) {\n        if (this.layers[j].id === newLayers[i].id) {\n          this.layers[j] = newLayers[i];\n          break;\n        }\n\n        j += 1;\n      }\n    }\n  };\n\n  BaseRenderer.prototype.setProjectInterface = function (pInterface) {\n    this.globalData.projectInterface = pInterface;\n  };\n\n  BaseRenderer.prototype.initItems = function () {\n    if (!this.globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n  };\n\n  BaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\n    var elements = this.elements;\n    var layers = this.layers;\n    var i = 0;\n    var len = layers.length;\n\n    while (i < len) {\n      if (layers[i].ind == parentName) {\n        // eslint-disable-line eqeqeq\n        if (!elements[i] || elements[i] === true) {\n          this.buildItem(i);\n          this.addPendingElement(element);\n        } else {\n          hierarchy.push(elements[i]);\n          elements[i].setAsParent();\n\n          if (layers[i].parent !== undefined) {\n            this.buildElementParenting(element, layers[i].parent, hierarchy);\n          } else {\n            element.setHierarchy(hierarchy);\n          }\n        }\n      }\n\n      i += 1;\n    }\n  };\n\n  BaseRenderer.prototype.addPendingElement = function (element) {\n    this.pendingElements.push(element);\n  };\n\n  BaseRenderer.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i]);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  BaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\n    this.globalData.fontManager = new FontManager();\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\n    this.globalData.audioController = this.animationItem.audioController;\n    this.globalData.frameId = 0;\n    this.globalData.frameRate = animData.fr;\n    this.globalData.nm = animData.nm;\n    this.globalData.compSize = {\n      w: animData.w,\n      h: animData.h\n    };\n  };\n\n  function TransformElement() {}\n\n  TransformElement.prototype = {\n    initTransform: function initTransform() {\n      this.finalTransform = {\n        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {\n          o: 0\n        },\n        _matMdf: false,\n        _opMdf: false,\n        mat: new Matrix()\n      };\n\n      if (this.data.ao) {\n        this.finalTransform.mProp.autoOriented = true;\n      } // TODO: check TYPE 11: Guided elements\n\n\n      if (this.data.ty !== 11) {// this.createElements();\n      }\n    },\n    renderTransform: function renderTransform() {\n      this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\n      this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\n\n      if (this.hierarchy) {\n        var mat;\n        var finalMat = this.finalTransform.mat;\n        var i = 0;\n        var len = this.hierarchy.length; // Checking if any of the transformation matrices in the hierarchy chain has changed.\n\n        if (!this.finalTransform._matMdf) {\n          while (i < len) {\n            if (this.hierarchy[i].finalTransform.mProp._mdf) {\n              this.finalTransform._matMdf = true;\n              break;\n            }\n\n            i += 1;\n          }\n        }\n\n        if (this.finalTransform._matMdf) {\n          mat = this.finalTransform.mProp.v.props;\n          finalMat.cloneFromProps(mat);\n\n          for (i = 0; i < len; i += 1) {\n            mat = this.hierarchy[i].finalTransform.mProp.v.props;\n            finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\n          }\n        }\n      }\n    },\n    globalToLocal: function globalToLocal(pt) {\n      var transforms = [];\n      transforms.push(this.finalTransform);\n      var flag = true;\n      var comp = this.comp;\n\n      while (flag) {\n        if (comp.finalTransform) {\n          if (comp.data.hasMask) {\n            transforms.splice(0, 0, comp.finalTransform);\n          }\n\n          comp = comp.comp;\n        } else {\n          flag = false;\n        }\n      }\n\n      var i;\n      var len = transforms.length;\n      var ptNew;\n\n      for (i = 0; i < len; i += 1) {\n        ptNew = transforms[i].mat.applyToPointArray(0, 0, 0); // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\n\n        pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\n      }\n\n      return pt;\n    },\n    mHelper: new Matrix()\n  };\n\n  function MaskElement(data, element, globalData) {\n    this.data = data;\n    this.element = element;\n    this.globalData = globalData;\n    this.storedData = [];\n    this.masksProperties = this.data.masksProperties || [];\n    this.maskElement = null;\n    var defs = this.globalData.defs;\n    var i;\n    var len = this.masksProperties ? this.masksProperties.length : 0;\n    this.viewData = createSizedArray(len);\n    this.solidPath = '';\n    var path;\n    var properties = this.masksProperties;\n    var count = 0;\n    var currentMasks = [];\n    var j;\n    var jLen;\n    var layerId = createElementID();\n    var rect;\n    var expansor;\n    var feMorph;\n    var x;\n    var maskType = 'clipPath';\n    var maskRef = 'clip-path';\n\n    for (i = 0; i < len; i += 1) {\n      if (properties[i].mode !== 'a' && properties[i].mode !== 'n' || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\n        maskType = 'mask';\n        maskRef = 'mask';\n      }\n\n      if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\n        rect = createNS('rect');\n        rect.setAttribute('fill', '#ffffff');\n        rect.setAttribute('width', this.element.comp.data.w || 0);\n        rect.setAttribute('height', this.element.comp.data.h || 0);\n        currentMasks.push(rect);\n      } else {\n        rect = null;\n      }\n\n      path = createNS('path');\n\n      if (properties[i].mode === 'n') {\n        // TODO move this to a factory or to a constructor\n        this.viewData[i] = {\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          elem: path,\n          lastPath: ''\n        };\n        defs.appendChild(path);\n      } else {\n        count += 1;\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        path.setAttribute('clip-rule', 'nonzero');\n        var filterID;\n\n        if (properties[i].x.k !== 0) {\n          maskType = 'mask';\n          maskRef = 'mask';\n          x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\n          filterID = createElementID();\n          expansor = createNS('filter');\n          expansor.setAttribute('id', filterID);\n          feMorph = createNS('feMorphology');\n          feMorph.setAttribute('operator', 'erode');\n          feMorph.setAttribute('in', 'SourceGraphic');\n          feMorph.setAttribute('radius', '0');\n          expansor.appendChild(feMorph);\n          defs.appendChild(expansor);\n          path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        } else {\n          feMorph = null;\n          x = null;\n        } // TODO move this to a factory or to a constructor\n\n\n        this.storedData[i] = {\n          elem: path,\n          x: x,\n          expan: feMorph,\n          lastPath: '',\n          lastOperator: '',\n          filterId: filterID,\n          lastRadius: 0\n        };\n\n        if (properties[i].mode === 'i') {\n          jLen = currentMasks.length;\n          var g = createNS('g');\n\n          for (j = 0; j < jLen; j += 1) {\n            g.appendChild(currentMasks[j]);\n          }\n\n          var mask = createNS('mask');\n          mask.setAttribute('mask-type', 'alpha');\n          mask.setAttribute('id', layerId + '_' + count);\n          mask.appendChild(path);\n          defs.appendChild(mask);\n          g.setAttribute('mask', 'url(' + getLocationHref() + '#' + layerId + '_' + count + ')');\n          currentMasks.length = 0;\n          currentMasks.push(g);\n        } else {\n          currentMasks.push(path);\n        }\n\n        if (properties[i].inv && !this.solidPath) {\n          this.solidPath = this.createLayerSolidPath();\n        } // TODO move this to a factory or to a constructor\n\n\n        this.viewData[i] = {\n          elem: path,\n          lastPath: '',\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          invRect: rect\n        };\n\n        if (!this.viewData[i].prop.k) {\n          this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\n        }\n      }\n    }\n\n    this.maskElement = createNS(maskType);\n    len = currentMasks.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.maskElement.appendChild(currentMasks[i]);\n    }\n\n    if (count > 0) {\n      this.maskElement.setAttribute('id', layerId);\n      this.element.maskedElement.setAttribute(maskRef, 'url(' + getLocationHref() + '#' + layerId + ')');\n      defs.appendChild(this.maskElement);\n    }\n\n    if (this.viewData.length) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  MaskElement.prototype.getMaskProperty = function (pos) {\n    return this.viewData[pos].prop;\n  };\n\n  MaskElement.prototype.renderFrame = function (isFirstFrame) {\n    var finalMat = this.element.finalTransform.mat;\n    var i;\n    var len = this.masksProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.viewData[i].prop._mdf || isFirstFrame) {\n        this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\n      }\n\n      if (this.viewData[i].op._mdf || isFirstFrame) {\n        this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\n      }\n\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\n          this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\n        }\n\n        if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\n          var feMorph = this.storedData[i].expan;\n\n          if (this.storedData[i].x.v < 0) {\n            if (this.storedData[i].lastOperator !== 'erode') {\n              this.storedData[i].lastOperator = 'erode';\n              this.storedData[i].elem.setAttribute('filter', 'url(' + getLocationHref() + '#' + this.storedData[i].filterId + ')');\n            }\n\n            feMorph.setAttribute('radius', -this.storedData[i].x.v);\n          } else {\n            if (this.storedData[i].lastOperator !== 'dilate') {\n              this.storedData[i].lastOperator = 'dilate';\n              this.storedData[i].elem.setAttribute('filter', null);\n            }\n\n            this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\n          }\n        }\n      }\n    }\n  };\n\n  MaskElement.prototype.getMaskelement = function () {\n    return this.maskElement;\n  };\n\n  MaskElement.prototype.createLayerSolidPath = function () {\n    var path = 'M0,0 ';\n    path += ' h' + this.globalData.compSize.w;\n    path += ' v' + this.globalData.compSize.h;\n    path += ' h-' + this.globalData.compSize.w;\n    path += ' v-' + this.globalData.compSize.h + ' ';\n    return path;\n  };\n\n  MaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\n    var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    var i;\n    var len;\n    len = pathNodes._length;\n\n    for (i = 1; i < len; i += 1) {\n      // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\n    } // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n\n\n    if (pathNodes.c && len > 1) {\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    } // pathNodes.__renderedString = pathString;\n\n\n    if (viewData.lastPath !== pathString) {\n      var pathShapeValue = '';\n\n      if (viewData.elem) {\n        if (pathNodes.c) {\n          pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\n        }\n\n        viewData.elem.setAttribute('d', pathShapeValue);\n      }\n\n      viewData.lastPath = pathString;\n    }\n  };\n\n  MaskElement.prototype.destroy = function () {\n    this.element = null;\n    this.globalData = null;\n    this.maskElement = null;\n    this.data = null;\n    this.masksProperties = null;\n  };\n\n  var filtersFactory = function () {\n    var ob = {};\n    ob.createFilter = createFilter;\n    ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\n\n    function createFilter(filId, skipCoordinates) {\n      var fil = createNS('filter');\n      fil.setAttribute('id', filId);\n\n      if (skipCoordinates !== true) {\n        fil.setAttribute('filterUnits', 'objectBoundingBox');\n        fil.setAttribute('x', '0%');\n        fil.setAttribute('y', '0%');\n        fil.setAttribute('width', '100%');\n        fil.setAttribute('height', '100%');\n      }\n\n      return fil;\n    }\n\n    function createAlphaToLuminanceFilter() {\n      var feColorMatrix = createNS('feColorMatrix');\n      feColorMatrix.setAttribute('type', 'matrix');\n      feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n      feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\n      return feColorMatrix;\n    }\n\n    return ob;\n  }();\n\n  var featureSupport = function () {\n    var ob = {\n      maskType: true\n    };\n\n    if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\n      ob.maskType = false;\n    }\n\n    return ob;\n  }();\n\n  function SVGTintFilter(filter, filterManager) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', 'f1');\n    filter.appendChild(feColorMatrix);\n    feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', 'f2');\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n\n    if (filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k) {\n      var feMerge = createNS('feMerge');\n      filter.appendChild(feMerge);\n      var feMergeNode;\n      feMergeNode = createNS('feMergeNode');\n      feMergeNode.setAttribute('in', 'SourceGraphic');\n      feMerge.appendChild(feMergeNode);\n      feMergeNode = createNS('feMergeNode');\n      feMergeNode.setAttribute('in', 'f2');\n      feMerge.appendChild(feMergeNode);\n    }\n  }\n\n  SVGTintFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var colorBlack = this.filterManager.effectElements[0].p.v;\n      var colorWhite = this.filterManager.effectElements[1].p.v;\n      var opacity = this.filterManager.effectElements[2].p.v / 100;\n      this.matrixFilter.setAttribute('values', colorWhite[0] - colorBlack[0] + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGFillFilter(filter, filterManager) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n  }\n\n  SVGFillFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color = this.filterManager.effectElements[2].p.v;\n      var opacity = this.filterManager.effectElements[6].p.v;\n      this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGStrokeEffect(elem, filterManager) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.elem = elem;\n    this.paths = [];\n  }\n\n  SVGStrokeEffect.prototype.initialize = function () {\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n    var path;\n    var groupPath;\n    var i;\n    var len;\n\n    if (this.filterManager.effectElements[1].p.v === 1) {\n      len = this.elem.maskManager.masksProperties.length;\n      i = 0;\n    } else {\n      i = this.filterManager.effectElements[0].p.v - 1;\n      len = i + 1;\n    }\n\n    groupPath = createNS('g');\n    groupPath.setAttribute('fill', 'none');\n    groupPath.setAttribute('stroke-linecap', 'round');\n    groupPath.setAttribute('stroke-dashoffset', 1);\n\n    for (i; i < len; i += 1) {\n      path = createNS('path');\n      groupPath.appendChild(path);\n      this.paths.push({\n        p: path,\n        m: i\n      });\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 3) {\n      var mask = createNS('mask');\n      var id = createElementID();\n      mask.setAttribute('id', id);\n      mask.setAttribute('mask-type', 'alpha');\n      mask.appendChild(groupPath);\n      this.elem.globalData.defs.appendChild(mask);\n      var g = createNS('g');\n      g.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n\n      while (elemChildren[0]) {\n        g.appendChild(elemChildren[0]);\n      }\n\n      this.elem.layerElement.appendChild(g);\n      this.masker = mask;\n      groupPath.setAttribute('stroke', '#fff');\n    } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (this.filterManager.effectElements[10].p.v === 2) {\n        elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n\n        while (elemChildren.length) {\n          this.elem.layerElement.removeChild(elemChildren[0]);\n        }\n      }\n\n      this.elem.layerElement.appendChild(groupPath);\n      this.elem.layerElement.removeAttribute('mask');\n      groupPath.setAttribute('stroke', '#fff');\n    }\n\n    this.initialized = true;\n    this.pathMasker = groupPath;\n  };\n\n  SVGStrokeEffect.prototype.renderFrame = function (forceRender) {\n    if (!this.initialized) {\n      this.initialize();\n    }\n\n    var i;\n    var len = this.paths.length;\n    var mask;\n    var path;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.paths[i].m !== -1) {\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\n        path = this.paths[i].p;\n\n        if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\n          path.setAttribute('d', mask.lastPath);\n        }\n\n        if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\n          var dasharrayValue;\n\n          if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\n            var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var l = path.getTotalLength();\n            dasharrayValue = '0 0 0 ' + l * s + ' ';\n            var lineLength = l * (e - s);\n            var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n            var units = Math.floor(lineLength / segment);\n            var j;\n\n            for (j = 0; j < units; j += 1) {\n              dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\n            }\n\n            dasharrayValue += '0 ' + l * 10 + ' 0 0';\n          } else {\n            dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n          }\n\n          path.setAttribute('stroke-dasharray', dasharrayValue);\n        }\n      }\n    }\n\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n      this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\n    }\n\n    if (forceRender || this.filterManager.effectElements[6].p._mdf) {\n      this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (forceRender || this.filterManager.effectElements[3].p._mdf) {\n        var color = this.filterManager.effectElements[3].p.v;\n        this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\n      }\n    }\n  };\n\n  function SVGTritoneFilter(filter, filterManager) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', 'f1');\n    filter.appendChild(feColorMatrix);\n    var feComponentTransfer = createNS('feComponentTransfer');\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n    filter.appendChild(feComponentTransfer);\n    this.matrixFilter = feComponentTransfer;\n    var feFuncR = createNS('feFuncR');\n    feFuncR.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncR);\n    this.feFuncR = feFuncR;\n    var feFuncG = createNS('feFuncG');\n    feFuncG.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncG);\n    this.feFuncG = feFuncG;\n    var feFuncB = createNS('feFuncB');\n    feFuncB.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncB);\n    this.feFuncB = feFuncB;\n  }\n\n  SVGTritoneFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color1 = this.filterManager.effectElements[0].p.v;\n      var color2 = this.filterManager.effectElements[1].p.v;\n      var color3 = this.filterManager.effectElements[2].p.v;\n      var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\n      var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\n      var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\n      this.feFuncR.setAttribute('tableValues', tableR);\n      this.feFuncG.setAttribute('tableValues', tableG);\n      this.feFuncB.setAttribute('tableValues', tableB); // var opacity = this.filterManager.effectElements[2].p.v/100;\n      // this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGProLevelsFilter(filter, filterManager) {\n    this.filterManager = filterManager;\n    var effectElements = this.filterManager.effectElements;\n    var feComponentTransfer = createNS('feComponentTransfer');\n\n    if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\n      this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\n    }\n\n    if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\n      this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\n    }\n\n    if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\n      this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n\n    if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\n      this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\n    }\n\n    if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      filter.appendChild(feComponentTransfer);\n      feComponentTransfer = createNS('feComponentTransfer');\n    }\n\n    if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      filter.appendChild(feComponentTransfer);\n      this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\n      this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\n      this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n  }\n\n  SVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\n    var feFunc = createNS(type);\n    feFunc.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFunc);\n    return feFunc;\n  };\n\n  SVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\n    var cnt = 0;\n    var segments = 256;\n    var perc;\n    var min = Math.min(inputBlack, inputWhite);\n    var max = Math.max(inputBlack, inputWhite);\n    var table = Array.call(null, {\n      length: segments\n    });\n    var colorValue;\n    var pos = 0;\n    var outputDelta = outputWhite - outputBlack;\n    var inputDelta = inputWhite - inputBlack;\n\n    while (cnt <= 256) {\n      perc = cnt / 256;\n\n      if (perc <= min) {\n        colorValue = inputDelta < 0 ? outputWhite : outputBlack;\n      } else if (perc >= max) {\n        colorValue = inputDelta < 0 ? outputBlack : outputWhite;\n      } else {\n        colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);\n      }\n\n      table[pos] = colorValue;\n      pos += 1;\n      cnt += 256 / (segments - 1);\n    }\n\n    return table.join(' ');\n  };\n\n  SVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var val;\n      var effectElements = this.filterManager.effectElements;\n\n      if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\n        val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\n        this.feFuncRComposed.setAttribute('tableValues', val);\n        this.feFuncGComposed.setAttribute('tableValues', val);\n        this.feFuncBComposed.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\n        val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\n        this.feFuncR.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\n        val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\n        this.feFuncG.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\n        val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\n        this.feFuncB.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\n        val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\n        this.feFuncA.setAttribute('tableValues', val);\n      }\n    }\n  };\n\n  function SVGDropShadowEffect(filter, filterManager) {\n    var filterSize = filterManager.container.globalData.renderConfig.filterSize;\n    filter.setAttribute('x', filterSize.x);\n    filter.setAttribute('y', filterSize.y);\n    filter.setAttribute('width', filterSize.width);\n    filter.setAttribute('height', filterSize.height);\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('in', 'SourceAlpha');\n    feGaussianBlur.setAttribute('result', 'drop_shadow_1');\n    feGaussianBlur.setAttribute('stdDeviation', '0');\n    this.feGaussianBlur = feGaussianBlur;\n    filter.appendChild(feGaussianBlur);\n    var feOffset = createNS('feOffset');\n    feOffset.setAttribute('dx', '25');\n    feOffset.setAttribute('dy', '0');\n    feOffset.setAttribute('in', 'drop_shadow_1');\n    feOffset.setAttribute('result', 'drop_shadow_2');\n    this.feOffset = feOffset;\n    filter.appendChild(feOffset);\n    var feFlood = createNS('feFlood');\n    feFlood.setAttribute('flood-color', '#00ff00');\n    feFlood.setAttribute('flood-opacity', '1');\n    feFlood.setAttribute('result', 'drop_shadow_3');\n    this.feFlood = feFlood;\n    filter.appendChild(feFlood);\n    var feComposite = createNS('feComposite');\n    feComposite.setAttribute('in', 'drop_shadow_3');\n    feComposite.setAttribute('in2', 'drop_shadow_2');\n    feComposite.setAttribute('operator', 'in');\n    feComposite.setAttribute('result', 'drop_shadow_4');\n    filter.appendChild(feComposite);\n    var feMerge = createNS('feMerge');\n    filter.appendChild(feMerge);\n    var feMergeNode;\n    feMergeNode = createNS('feMergeNode');\n    feMerge.appendChild(feMergeNode);\n    feMergeNode = createNS('feMergeNode');\n    feMergeNode.setAttribute('in', 'SourceGraphic');\n    this.feMergeNode = feMergeNode;\n    this.feMerge = feMerge;\n    this.originalNodeAdded = false;\n    feMerge.appendChild(feMergeNode);\n  }\n\n  SVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n        this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\n      }\n\n      if (forceRender || this.filterManager.effectElements[0].p._mdf) {\n        var col = this.filterManager.effectElements[0].p.v;\n        this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\n      }\n\n      if (forceRender || this.filterManager.effectElements[1].p._mdf) {\n        this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\n      }\n\n      if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\n        var distance = this.filterManager.effectElements[3].p.v;\n        var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\n        var x = distance * Math.cos(angle);\n        var y = distance * Math.sin(angle);\n        this.feOffset.setAttribute('dx', x);\n        this.feOffset.setAttribute('dy', y);\n      }\n      /* if(forceRender || this.filterManager.effectElements[5].p._mdf){\r\n              if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\r\n                  this.feMerge.removeChild(this.feMergeNode);\r\n                  this.originalNodeAdded = false;\r\n              } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\r\n                  this.feMerge.appendChild(this.feMergeNode);\r\n                  this.originalNodeAdded = true;\r\n              }\r\n          } */\n\n    }\n  };\n\n  var _svgMatteSymbols = [];\n\n  function SVGMatte3Effect(filterElem, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.filterElem = filterElem;\n    this.elem = elem;\n    elem.matteElement = createNS('g');\n    elem.matteElement.appendChild(elem.layerElement);\n    elem.matteElement.appendChild(elem.transformedElement);\n    elem.baseElement = elem.matteElement;\n  }\n\n  SVGMatte3Effect.prototype.findSymbol = function (mask) {\n    var i = 0;\n    var len = _svgMatteSymbols.length;\n\n    while (i < len) {\n      if (_svgMatteSymbols[i] === mask) {\n        return _svgMatteSymbols[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  SVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\n    var parentNode = mask.layerElement.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    var children = parentNode.children;\n    var i = 0;\n    var len = children.length;\n\n    while (i < len) {\n      if (children[i] === mask.layerElement) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    var nextChild;\n\n    if (i <= len - 2) {\n      nextChild = children[i + 1];\n    }\n\n    var useElem = createNS('use');\n    useElem.setAttribute('href', '#' + symbolId);\n\n    if (nextChild) {\n      parentNode.insertBefore(useElem, nextChild);\n    } else {\n      parentNode.appendChild(useElem);\n    }\n  };\n\n  SVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\n    if (!this.findSymbol(mask)) {\n      var symbolId = createElementID();\n      var masker = createNS('mask');\n      masker.setAttribute('id', mask.layerId);\n      masker.setAttribute('mask-type', 'alpha');\n\n      _svgMatteSymbols.push(mask);\n\n      var defs = elem.globalData.defs;\n      defs.appendChild(masker);\n      var symbol = createNS('symbol');\n      symbol.setAttribute('id', symbolId);\n      this.replaceInParent(mask, symbolId);\n      symbol.appendChild(mask.layerElement);\n      defs.appendChild(symbol);\n      var useElem = createNS('use');\n      useElem.setAttribute('href', '#' + symbolId);\n      masker.appendChild(useElem);\n      mask.data.hd = false;\n      mask.show();\n    }\n\n    elem.setMatte(mask.layerId);\n  };\n\n  SVGMatte3Effect.prototype.initialize = function () {\n    var ind = this.filterManager.effectElements[0].p.v;\n    var elements = this.elem.comp.elements;\n    var i = 0;\n    var len = elements.length;\n\n    while (i < len) {\n      if (elements[i] && elements[i].data.ind === ind) {\n        this.setElementAsMask(this.elem, elements[i]);\n      }\n\n      i += 1;\n    }\n\n    this.initialized = true;\n  };\n\n  SVGMatte3Effect.prototype.renderFrame = function () {\n    if (!this.initialized) {\n      this.initialize();\n    }\n  };\n\n  function SVGGaussianBlurEffect(filter, filterManager) {\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\n    filter.setAttribute('x', '-100%');\n    filter.setAttribute('y', '-100%');\n    filter.setAttribute('width', '300%');\n    filter.setAttribute('height', '300%');\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    filter.appendChild(feGaussianBlur);\n    this.feGaussianBlur = feGaussianBlur;\n  }\n\n  SVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      // Empirical value, matching AE's blur appearance.\n      var kBlurrinessToSigma = 0.3;\n      var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma; // Dimensions mapping:\n      //\n      //   1 -> horizontal & vertical\n      //   2 -> horizontal only\n      //   3 -> vertical only\n      //\n\n      var dimensions = this.filterManager.effectElements[1].p.v;\n      var sigmaX = dimensions == 3 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      var sigmaY = dimensions == 2 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY); // Repeat edges mapping:\n      //\n      //   0 -> off -> duplicate\n      //   1 -> on  -> wrap\n\n      var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\n    }\n  };\n\n  var registeredEffects = {};\n\n  function SVGEffects(elem) {\n    var i;\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    var filId = createElementID();\n    var fil = filtersFactory.createFilter(filId, true);\n    var count = 0;\n    this.filters = [];\n    var filterManager;\n\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n\n      if (registeredEffects[type]) {\n        var Effect = registeredEffects[type].effect;\n        filterManager = new Effect(fil, elem.effectsManager.effectElements[i], elem);\n\n        if (registeredEffects[type].countsAsEffect) {\n          count += 1;\n        }\n      }\n\n      if (elem.data.ef[i].ty === 20) {\n        count += 1;\n        filterManager = new SVGTintFilter(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 21) {\n        count += 1;\n        filterManager = new SVGFillFilter(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 22) {\n        filterManager = new SVGStrokeEffect(elem, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 23) {\n        count += 1;\n        filterManager = new SVGTritoneFilter(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 24) {\n        count += 1;\n        filterManager = new SVGProLevelsFilter(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 25) {\n        count += 1;\n        filterManager = new SVGDropShadowEffect(fil, elem.effectsManager.effectElements[i]);\n      } else if (elem.data.ef[i].ty === 28) {\n        // count += 1;\n        filterManager = new SVGMatte3Effect(fil, elem.effectsManager.effectElements[i], elem);\n      } else if (elem.data.ef[i].ty === 29) {\n        count += 1;\n        filterManager = new SVGGaussianBlurEffect(fil, elem.effectsManager.effectElements[i]);\n      }\n\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n\n    if (count) {\n      elem.globalData.defs.appendChild(fil);\n      elem.layerElement.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n    }\n\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n\n  SVGEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n\n  function registerEffect(id, effect, countsAsEffect) {\n    registeredEffects[id] = {\n      effect: effect,\n      countsAsEffect: countsAsEffect\n    };\n  }\n\n  function SVGBaseElement() {}\n\n  SVGBaseElement.prototype = {\n    initRendererElement: function initRendererElement() {\n      this.layerElement = createNS('g');\n    },\n    createContainerElements: function createContainerElements() {\n      this.matteElement = createNS('g');\n      this.transformedElement = this.layerElement;\n      this.maskedElement = this.layerElement;\n      this._sizeChanged = false;\n      var layerElementParent = null; // If this layer acts as a mask for the following layer\n\n      var filId;\n      var fil;\n      var gg;\n\n      if (this.data.td) {\n        if (this.data.td == 3 || this.data.td == 1) {\n          // eslint-disable-line eqeqeq\n          var masker = createNS('mask');\n          masker.setAttribute('id', this.layerId);\n          masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha'); // eslint-disable-line eqeqeq\n\n          masker.appendChild(this.layerElement);\n          layerElementParent = masker;\n          this.globalData.defs.appendChild(masker); // This is only for IE and Edge when mask if of type alpha\n\n          if (!featureSupport.maskType && this.data.td == 1) {\n            // eslint-disable-line eqeqeq\n            masker.setAttribute('mask-type', 'luminance');\n            filId = createElementID();\n            fil = filtersFactory.createFilter(filId);\n            this.globalData.defs.appendChild(fil);\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            gg.appendChild(this.layerElement);\n            layerElementParent = gg;\n            masker.appendChild(gg);\n            gg.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          }\n        } else if (this.data.td == 2) {\n          // eslint-disable-line eqeqeq\n          var maskGroup = createNS('mask');\n          maskGroup.setAttribute('id', this.layerId);\n          maskGroup.setAttribute('mask-type', 'alpha');\n          var maskGrouper = createNS('g');\n          maskGroup.appendChild(maskGrouper);\n          filId = createElementID();\n          fil = filtersFactory.createFilter(filId); /// /\n          // This solution doesn't work on Android when meta tag with viewport attribute is set\n\n          /* var feColorMatrix = createNS('feColorMatrix');\r\n                  feColorMatrix.setAttribute('type', 'matrix');\r\n                  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                  feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                  fil.appendChild(feColorMatrix); */\n          /// /\n\n          var feCTr = createNS('feComponentTransfer');\n          feCTr.setAttribute('in', 'SourceGraphic');\n          fil.appendChild(feCTr);\n          var feFunc = createNS('feFuncA');\n          feFunc.setAttribute('type', 'table');\n          feFunc.setAttribute('tableValues', '1.0 0.0');\n          feCTr.appendChild(feFunc); /// /\n\n          this.globalData.defs.appendChild(fil);\n          var alphaRect = createNS('rect');\n          alphaRect.setAttribute('width', this.comp.data.w);\n          alphaRect.setAttribute('height', this.comp.data.h);\n          alphaRect.setAttribute('x', '0');\n          alphaRect.setAttribute('y', '0');\n          alphaRect.setAttribute('fill', '#ffffff');\n          alphaRect.setAttribute('opacity', '0');\n          maskGrouper.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          maskGrouper.appendChild(alphaRect);\n          maskGrouper.appendChild(this.layerElement);\n          layerElementParent = maskGrouper;\n\n          if (!featureSupport.maskType) {\n            maskGroup.setAttribute('mask-type', 'luminance');\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            maskGrouper.appendChild(alphaRect);\n            gg.appendChild(this.layerElement);\n            layerElementParent = gg;\n            maskGrouper.appendChild(gg);\n          }\n\n          this.globalData.defs.appendChild(maskGroup);\n        }\n      } else if (this.data.tt) {\n        this.matteElement.appendChild(this.layerElement);\n        layerElementParent = this.matteElement;\n        this.baseElement = this.matteElement;\n      } else {\n        this.baseElement = this.layerElement;\n      }\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      } // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\n\n\n      if (this.data.ty === 0 && !this.data.hd) {\n        var cp = createNS('clipPath');\n        var pt = createNS('path');\n        pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\n        var clipId = createElementID();\n        cp.setAttribute('id', clipId);\n        cp.appendChild(pt);\n        this.globalData.defs.appendChild(cp);\n\n        if (this.checkMasks()) {\n          var cpGroup = createNS('g');\n          cpGroup.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n          cpGroup.appendChild(this.layerElement);\n          this.transformedElement = cpGroup;\n\n          if (layerElementParent) {\n            layerElementParent.appendChild(this.transformedElement);\n          } else {\n            this.baseElement = this.transformedElement;\n          }\n        } else {\n          this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n        }\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      if (this.finalTransform._matMdf) {\n        this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\n      }\n    },\n    destroyBaseElement: function destroyBaseElement() {\n      this.layerElement = null;\n      this.matteElement = null;\n      this.maskManager.destroy();\n    },\n    getBaseElement: function getBaseElement() {\n      if (this.data.hd) {\n        return null;\n      }\n\n      return this.baseElement;\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n      this.renderableEffectsManager = new SVGEffects(this);\n    },\n    setMatte: function setMatte(id) {\n      if (!this.matteElement) {\n        return;\n      }\n\n      this.matteElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n    }\n  };\n\n  /**\r\n   * @file\r\n   * Handles AE's layer parenting property.\r\n   *\r\n   */\n  function HierarchyElement() {}\n\n  HierarchyElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes hierarchy properties\r\n       *\r\n       */\n    initHierarchy: function initHierarchy() {\n      // element's parent list\n      this.hierarchy = []; // if element is parent of another layer _isParent will be true\n\n      this._isParent = false;\n      this.checkParenting();\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer's hierarchy.\r\n       * @param {array} hierarch\r\n       * layer's parent list\r\n       *\r\n       */\n    setHierarchy: function setHierarchy(hierarchy) {\n      this.hierarchy = hierarchy;\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer as parent.\r\n       *\r\n       */\n    setAsParent: function setAsParent() {\n      this._isParent = true;\n    },\n\n    /**\r\n       * @function\r\n       * Searches layer's parenting chain\r\n       *\r\n       */\n    checkParenting: function checkParenting() {\n      if (this.data.parent !== undefined) {\n        this.comp.buildElementParenting(this, this.data.parent, []);\n      }\n    }\n  };\n\n  function RenderableDOMElement() {}\n\n  (function () {\n    var _prototype = {\n      initElement: function initElement(data, globalData, comp) {\n        this.initFrame();\n        this.initBaseData(data, globalData, comp);\n        this.initTransform(data, globalData, comp);\n        this.initHierarchy();\n        this.initRenderable();\n        this.initRendererElement();\n        this.createContainerElements();\n        this.createRenderableComponents();\n        this.createContent();\n        this.hide();\n      },\n      hide: function hide() {\n        // console.log('HIDE', this);\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n          var elem = this.baseElement || this.layerElement;\n          elem.style.display = 'none';\n          this.hidden = true;\n        }\n      },\n      show: function show() {\n        // console.log('SHOW', this);\n        if (this.isInRange && !this.isTransparent) {\n          if (!this.data.hd) {\n            var elem = this.baseElement || this.layerElement;\n            elem.style.display = 'block';\n          }\n\n          this.hidden = false;\n          this._isFirstFrame = true;\n        }\n      },\n      renderFrame: function renderFrame() {\n        // If it is exported as hidden (data.hd === true) no need to render\n        // If it is not visible no need to render\n        if (this.data.hd || this.hidden) {\n          return;\n        }\n\n        this.renderTransform();\n        this.renderRenderable();\n        this.renderElement();\n        this.renderInnerContent();\n\n        if (this._isFirstFrame) {\n          this._isFirstFrame = false;\n        }\n      },\n      renderInnerContent: function renderInnerContent() {},\n      prepareFrame: function prepareFrame(num) {\n        this._mdf = false;\n        this.prepareRenderableFrame(num);\n        this.prepareProperties(num, this.isInRange);\n        this.checkTransparency();\n      },\n      destroy: function destroy() {\n        this.innerElem = null;\n        this.destroyBaseElement();\n      }\n    };\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\n  })();\n\n  function IImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n    this.sourceRect = {\n      top: 0,\n      left: 0,\n      width: this.assetData.w,\n      height: this.assetData.h\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\n\n  IImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.innerElem = createNS('image');\n    this.innerElem.setAttribute('width', this.assetData.w + 'px');\n    this.innerElem.setAttribute('height', this.assetData.h + 'px');\n    this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n    this.layerElement.appendChild(this.innerElem);\n  };\n\n  IImageElement.prototype.sourceRectAtTime = function () {\n    return this.sourceRect;\n  };\n\n  function ProcessedElement(element, position) {\n    this.elem = element;\n    this.pos = position;\n  }\n\n  function IShapeElement() {}\n\n  IShapeElement.prototype = {\n    addShapeToModifiers: function addShapeToModifiers(data) {\n      var i;\n      var len = this.shapeModifiers.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapeModifiers[i].addShape(data);\n      }\n    },\n    isShapeInAnimatedModifiers: function isShapeInAnimatedModifiers(data) {\n      var i = 0;\n      var len = this.shapeModifiers.length;\n\n      while (i < len) {\n        if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    renderModifiers: function renderModifiers() {\n      if (!this.shapeModifiers.length) {\n        return;\n      }\n\n      var i;\n      var len = this.shapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].sh.reset();\n      }\n\n      len = this.shapeModifiers.length;\n      var shouldBreakProcess;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame); // workaround to fix cases where a repeater resets the shape so the following processes get called twice\n        // TODO: find a better solution for this\n\n        if (shouldBreakProcess) {\n          break;\n        }\n      }\n    },\n    searchProcessedElement: function searchProcessedElement(elem) {\n      var elements = this.processedElements;\n      var i = 0;\n      var len = elements.length;\n\n      while (i < len) {\n        if (elements[i].elem === elem) {\n          return elements[i].pos;\n        }\n\n        i += 1;\n      }\n\n      return 0;\n    },\n    addProcessedElement: function addProcessedElement(elem, pos) {\n      var elements = this.processedElements;\n      var i = elements.length;\n\n      while (i) {\n        i -= 1;\n\n        if (elements[i].elem === elem) {\n          elements[i].pos = pos;\n          return;\n        }\n      }\n\n      elements.push(new ProcessedElement(elem, pos));\n    },\n    prepareFrame: function prepareFrame(num) {\n      this.prepareRenderableFrame(num);\n      this.prepareProperties(num, this.isInRange);\n    }\n  };\n\n  var lineCapEnum = {\n    1: 'butt',\n    2: 'round',\n    3: 'square'\n  };\n  var lineJoinEnum = {\n    1: 'miter',\n    2: 'round',\n    3: 'bevel'\n  };\n\n  function SVGShapeData(transformers, level, shape) {\n    this.caches = [];\n    this.styles = [];\n    this.transformers = transformers;\n    this.lStr = '';\n    this.sh = shape;\n    this.lvl = level; // TODO find if there are some cases where _isAnimated can be false.\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\n\n    this._isAnimated = !!shape.k; // TODO: commenting this for now since all shapes are animated\n\n    var i = 0;\n    var len = transformers.length;\n\n    while (i < len) {\n      if (transformers[i].mProps.dynamicProperties.length) {\n        this._isAnimated = true;\n        break;\n      }\n\n      i += 1;\n    }\n  }\n\n  SVGShapeData.prototype.setAsAnimated = function () {\n    this._isAnimated = true;\n  };\n\n  function SVGStyleData(data, level) {\n    this.data = data;\n    this.type = data.ty;\n    this.d = '';\n    this.lvl = level;\n    this._mdf = false;\n    this.closed = data.hd === true;\n    this.pElem = createNS('path');\n    this.msElem = null;\n  }\n\n  SVGStyleData.prototype.reset = function () {\n    this.d = '';\n    this._mdf = false;\n  };\n\n  function DashProperty(elem, data, renderer, container) {\n    this.elem = elem;\n    this.frameId = -1;\n    this.dataProps = createSizedArray(data.length);\n    this.renderer = renderer;\n    this.k = false;\n    this.dashStr = '';\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\n    this.dashoffset = createTypedArray('float32', 1);\n    this.initDynamicPropertyContainer(container);\n    var i;\n    var len = data.length || 0;\n    var prop;\n\n    for (i = 0; i < len; i += 1) {\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\n      this.k = prop.k || this.k;\n      this.dataProps[i] = {\n        n: data[i].n,\n        p: prop\n      };\n    }\n\n    if (!this.k) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = this.k;\n  }\n\n  DashProperty.prototype.getValue = function (forceRender) {\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || forceRender;\n\n    if (this._mdf) {\n      var i = 0;\n      var len = this.dataProps.length;\n\n      if (this.renderer === 'svg') {\n        this.dashStr = '';\n      }\n\n      for (i = 0; i < len; i += 1) {\n        if (this.dataProps[i].n !== 'o') {\n          if (this.renderer === 'svg') {\n            this.dashStr += ' ' + this.dataProps[i].p.v;\n          } else {\n            this.dashArray[i] = this.dataProps[i].p.v;\n          }\n        } else {\n          this.dashoffset[0] = this.dataProps[i].p.v;\n        }\n      }\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], DashProperty);\n\n  function SVGStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\n\n  function SVGFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGFillStyleData);\n\n  function SVGNoStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGNoStyleData);\n\n  function GradientProperty(elem, data, container) {\n    this.data = data;\n    this.c = createTypedArray('uint8c', data.p * 4);\n    var cLength = data.k.k[0].s ? data.k.k[0].s.length - data.p * 4 : data.k.k.length - data.p * 4;\n    this.o = createTypedArray('float32', cLength);\n    this._cmdf = false;\n    this._omdf = false;\n    this._collapsable = this.checkCollapsable();\n    this._hasOpacity = cLength;\n    this.initDynamicPropertyContainer(container);\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\n    this.k = this.prop.k;\n    this.getValue(true);\n  }\n\n  GradientProperty.prototype.comparePoints = function (values, points) {\n    var i = 0;\n    var len = this.o.length / 2;\n    var diff;\n\n    while (i < len) {\n      diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\n\n      if (diff > 0.01) {\n        return false;\n      }\n\n      i += 1;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.checkCollapsable = function () {\n    if (this.o.length / 2 !== this.c.length / 4) {\n      return false;\n    }\n\n    if (this.data.k.k[0].s) {\n      var i = 0;\n      var len = this.data.k.k.length;\n\n      while (i < len) {\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\n          return false;\n        }\n\n        i += 1;\n      }\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.getValue = function (forceRender) {\n    this.prop.getValue();\n    this._mdf = false;\n    this._cmdf = false;\n    this._omdf = false;\n\n    if (this.prop._mdf || forceRender) {\n      var i;\n      var len = this.data.p * 4;\n      var mult;\n      var val;\n\n      for (i = 0; i < len; i += 1) {\n        mult = i % 4 === 0 ? 100 : 255;\n        val = Math.round(this.prop.v[i] * mult);\n\n        if (this.c[i] !== val) {\n          this.c[i] = val;\n          this._cmdf = !forceRender;\n        }\n      }\n\n      if (this.o.length) {\n        len = this.prop.v.length;\n\n        for (i = this.data.p * 4; i < len; i += 1) {\n          mult = i % 2 === 0 ? 100 : 1;\n          val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\n\n          if (this.o[i - this.data.p * 4] !== val) {\n            this.o[i - this.data.p * 4] = val;\n            this._omdf = !forceRender;\n          }\n        }\n      }\n\n      this._mdf = !forceRender;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], GradientProperty);\n\n  function SVGGradientFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.initGradientData(elem, data, styleOb);\n  }\n\n  SVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\n    this.h = PropertyFactory.getProp(elem, data.h || {\n      k: 0\n    }, 0, 0.01, this);\n    this.a = PropertyFactory.getProp(elem, data.a || {\n      k: 0\n    }, 0, degToRads, this);\n    this.g = new GradientProperty(elem, data.g, this);\n    this.style = styleOb;\n    this.stops = [];\n    this.setGradientData(styleOb.pElem, data);\n    this.setGradientOpacity(data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\n    var gradientId = createElementID();\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n    gfill.setAttribute('id', gradientId);\n    gfill.setAttribute('spreadMethod', 'pad');\n    gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\n    var stops = [];\n    var stop;\n    var j;\n    var jLen;\n    jLen = data.g.p * 4;\n\n    for (j = 0; j < jLen; j += 4) {\n      stop = createNS('stop');\n      gfill.appendChild(stop);\n      stops.push(stop);\n    }\n\n    pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + gradientId + ')');\n    this.gf = gfill;\n    this.cst = stops;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\n    if (this.g._hasOpacity && !this.g._collapsable) {\n      var stop;\n      var j;\n      var jLen;\n      var mask = createNS('mask');\n      var maskElement = createNS('path');\n      mask.appendChild(maskElement);\n      var opacityId = createElementID();\n      var maskId = createElementID();\n      mask.setAttribute('id', maskId);\n      var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n      opFill.setAttribute('id', opacityId);\n      opFill.setAttribute('spreadMethod', 'pad');\n      opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\n      jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\n      var stops = this.stops;\n\n      for (j = data.g.p * 4; j < jLen; j += 2) {\n        stop = createNS('stop');\n        stop.setAttribute('stop-color', 'rgb(255,255,255)');\n        opFill.appendChild(stop);\n        stops.push(stop);\n      }\n\n      maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + opacityId + ')');\n\n      if (data.ty === 'gs') {\n        maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n        maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n\n        if (data.lj === 1) {\n          maskElement.setAttribute('stroke-miterlimit', data.ml);\n        }\n      }\n\n      this.of = opFill;\n      this.ms = mask;\n      this.ost = stops;\n      this.maskId = maskId;\n      styleOb.msElem = maskElement;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\n\n  function SVGGradientStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.initGradientData(elem, data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\n\n  function ShapeGroupData() {\n    this.it = [];\n    this.prevViewData = [];\n    this.gr = createNS('g');\n  }\n\n  function SVGTransformData(mProps, op, container) {\n    this.transform = {\n      mProps: mProps,\n      op: op,\n      container: container\n    };\n    this.elements = [];\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\n  }\n\n  var buildShapeString = function buildShapeString(pathNodes, length, closed, mat) {\n    if (length === 0) {\n      return '';\n    }\n\n    var _o = pathNodes.o;\n    var _i = pathNodes.i;\n    var _v = pathNodes.v;\n    var i;\n    var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n\n    for (i = 1; i < length; i += 1) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\n    }\n\n    if (closed && length) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n      shapeString += 'z';\n    }\n\n    return shapeString;\n  };\n\n  var SVGElementsRenderer = function () {\n    var _identityMatrix = new Matrix();\n\n    var _matrixHelper = new Matrix();\n\n    var ob = {\n      createRenderFunction: createRenderFunction\n    };\n\n    function createRenderFunction(data) {\n      switch (data.ty) {\n        case 'fl':\n          return renderFill;\n\n        case 'gf':\n          return renderGradient;\n\n        case 'gs':\n          return renderGradientStroke;\n\n        case 'st':\n          return renderStroke;\n\n        case 'sh':\n        case 'el':\n        case 'rc':\n        case 'sr':\n          return renderPath;\n\n        case 'tr':\n          return renderContentTransform;\n\n        case 'no':\n          return renderNoop;\n\n        default:\n          return null;\n      }\n    }\n\n    function renderContentTransform(styleData, itemData, isFirstFrame) {\n      if (isFirstFrame || itemData.transform.op._mdf) {\n        itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\n      }\n\n      if (isFirstFrame || itemData.transform.mProps._mdf) {\n        itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\n      }\n    }\n\n    function renderNoop() {}\n\n    function renderPath(styleData, itemData, isFirstFrame) {\n      var j;\n      var jLen;\n      var pathStringTransformed;\n      var redraw;\n      var pathNodes;\n      var l;\n      var lLen = itemData.styles.length;\n      var lvl = itemData.lvl;\n      var paths;\n      var mat;\n      var props;\n      var iterations;\n      var k;\n\n      for (l = 0; l < lLen; l += 1) {\n        redraw = itemData.sh._mdf || isFirstFrame;\n\n        if (itemData.styles[l].lvl < lvl) {\n          mat = _matrixHelper.reset();\n          iterations = lvl - itemData.styles[l].lvl;\n          k = itemData.transformers.length - 1;\n\n          while (!redraw && iterations > 0) {\n            redraw = itemData.transformers[k].mProps._mdf || redraw;\n            iterations -= 1;\n            k -= 1;\n          }\n\n          if (redraw) {\n            iterations = lvl - itemData.styles[l].lvl;\n            k = itemData.transformers.length - 1;\n\n            while (iterations > 0) {\n              props = itemData.transformers[k].mProps.v.props;\n              mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n              iterations -= 1;\n              k -= 1;\n            }\n          }\n        } else {\n          mat = _identityMatrix;\n        }\n\n        paths = itemData.sh.paths;\n        jLen = paths._length;\n\n        if (redraw) {\n          pathStringTransformed = '';\n\n          for (j = 0; j < jLen; j += 1) {\n            pathNodes = paths.shapes[j];\n\n            if (pathNodes && pathNodes._length) {\n              pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\n            }\n          }\n\n          itemData.caches[l] = pathStringTransformed;\n        } else {\n          pathStringTransformed = itemData.caches[l];\n        }\n\n        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\n        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\n      }\n    }\n\n    function renderFill(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n\n      if (itemData.c._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\n      }\n    }\n\n    function renderGradientStroke(styleData, itemData, isFirstFrame) {\n      renderGradient(styleData, itemData, isFirstFrame);\n      renderStroke(styleData, itemData, isFirstFrame);\n    }\n\n    function renderGradient(styleData, itemData, isFirstFrame) {\n      var gfill = itemData.gf;\n      var hasOpacity = itemData.g._hasOpacity;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (itemData.o._mdf || isFirstFrame) {\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\n        itemData.style.pElem.setAttribute(attr, itemData.o.v);\n      }\n\n      if (itemData.s._mdf || isFirstFrame) {\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\n        gfill.setAttribute(attr1, pt1[0]);\n        gfill.setAttribute(attr2, pt1[1]);\n\n        if (hasOpacity && !itemData.g._collapsable) {\n          itemData.of.setAttribute(attr1, pt1[0]);\n          itemData.of.setAttribute(attr2, pt1[1]);\n        }\n      }\n\n      var stops;\n      var i;\n      var len;\n      var stop;\n\n      if (itemData.g._cmdf || isFirstFrame) {\n        stops = itemData.cst;\n        var cValues = itemData.g.c;\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n          stop.setAttribute('offset', cValues[i * 4] + '%');\n          stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\n        }\n      }\n\n      if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\n        var oValues = itemData.g.o;\n\n        if (itemData.g._collapsable) {\n          stops = itemData.cst;\n        } else {\n          stops = itemData.ost;\n        }\n\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n\n          if (!itemData.g._collapsable) {\n            stop.setAttribute('offset', oValues[i * 2] + '%');\n          }\n\n          stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\n        }\n      }\n\n      if (styleData.t === 1) {\n        if (itemData.e._mdf || isFirstFrame) {\n          gfill.setAttribute('x2', pt2[0]);\n          gfill.setAttribute('y2', pt2[1]);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('x2', pt2[0]);\n            itemData.of.setAttribute('y2', pt2[1]);\n          }\n        }\n      } else {\n        var rad;\n\n        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          gfill.setAttribute('r', rad);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('r', rad);\n          }\n        }\n\n        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\n          if (!rad) {\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          }\n\n          var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n          var percent = itemData.h.v;\n\n          if (percent >= 1) {\n            percent = 0.99;\n          } else if (percent <= -1) {\n            percent = -0.99;\n          }\n\n          var dist = rad * percent;\n          var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n          var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n          gfill.setAttribute('fx', x);\n          gfill.setAttribute('fy', y);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('fx', x);\n            itemData.of.setAttribute('fy', y);\n          }\n        } // gfill.setAttribute('fy','200');\n\n      }\n    }\n\n    function renderStroke(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n      var d = itemData.d;\n\n      if (d && (d._mdf || isFirstFrame) && d.dashStr) {\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\n      }\n\n      if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\n        styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\n      }\n\n      if (itemData.w._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\n\n        if (styleElem.msElem) {\n          styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\n        }\n      }\n    }\n\n    return ob;\n  }();\n\n  function SVGShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = []; // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\n\n  SVGShapeElement.prototype.initSecondaryElement = function () {};\n\n  SVGShapeElement.prototype.identityMatrix = new Matrix();\n\n  SVGShapeElement.prototype.buildExpressionInterface = function () {};\n\n  SVGShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n  };\n  /*\r\n  This method searches for multiple shapes that affect a single element and one of them is animated\r\n  */\n\n\n  SVGShapeElement.prototype.filterUniqueShapes = function () {\n    var i;\n    var len = this.shapes.length;\n    var shape;\n    var j;\n    var jLen = this.stylesList.length;\n    var style;\n    var tempShapes = [];\n    var areAnimated = false;\n\n    for (j = 0; j < jLen; j += 1) {\n      style = this.stylesList[j];\n      areAnimated = false;\n      tempShapes.length = 0;\n\n      for (i = 0; i < len; i += 1) {\n        shape = this.shapes[i];\n\n        if (shape.styles.indexOf(style) !== -1) {\n          tempShapes.push(shape);\n          areAnimated = shape._isAnimated || areAnimated;\n        }\n      }\n\n      if (tempShapes.length > 1 && areAnimated) {\n        this.setShapesAsAnimated(tempShapes);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\n    var i;\n    var len = shapes.length;\n\n    for (i = 0; i < len; i += 1) {\n      shapes[i].setAsAnimated();\n    }\n  };\n\n  SVGShapeElement.prototype.createStyleElement = function (data, level) {\n    // TODO: prevent drawing of hidden styles\n    var elementData;\n    var styleOb = new SVGStyleData(data, level);\n    var pathElement = styleOb.pElem;\n\n    if (data.ty === 'st') {\n      elementData = new SVGStrokeStyleData(this, data, styleOb);\n    } else if (data.ty === 'fl') {\n      elementData = new SVGFillStyleData(this, data, styleOb);\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\n      elementData = new GradientConstructor(this, data, styleOb);\n      this.globalData.defs.appendChild(elementData.gf);\n\n      if (elementData.maskId) {\n        this.globalData.defs.appendChild(elementData.ms);\n        this.globalData.defs.appendChild(elementData.of);\n        pathElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + elementData.maskId + ')');\n      }\n    } else if (data.ty === 'no') {\n      elementData = new SVGNoStyleData(this, data, styleOb);\n    }\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n      pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n      pathElement.setAttribute('fill-opacity', '0');\n\n      if (data.lj === 1) {\n        pathElement.setAttribute('stroke-miterlimit', data.ml);\n      }\n    }\n\n    if (data.r === 2) {\n      pathElement.setAttribute('fill-rule', 'evenodd');\n    }\n\n    if (data.ln) {\n      pathElement.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      pathElement.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    this.stylesList.push(styleOb);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createGroupElement = function (data) {\n    var elementData = new ShapeGroupData();\n\n    if (data.ln) {\n      elementData.gr.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      elementData.gr.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createTransformElement = function (data, container) {\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\n    var i = 0;\n    var len = this.animatedContents.length;\n\n    while (i < len) {\n      if (this.animatedContents[i].element === element) {\n        return;\n      }\n\n      i += 1;\n    }\n\n    this.animatedContents.push({\n      fn: SVGElementsRenderer.createRenderFunction(data),\n      element: element,\n      data: data\n    });\n  };\n\n  SVGShapeElement.prototype.setElementStyles = function (elementData) {\n    var arr = elementData.styles;\n    var j;\n    var jLen = this.stylesList.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      if (!this.stylesList[j].closed) {\n        arr.push(this.stylesList[j]);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n  };\n\n  SVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\n    var ownTransformers = [].concat(transformers);\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var currentTransform;\n    var modifier;\n    var processedPos;\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._render = render;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs' || arr[i].ty === 'no') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], level);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        if (arr[i]._render) {\n          if (itemsData[i].style.pElem.parentNode !== container) {\n            container.appendChild(itemsData[i].style.pElem);\n          }\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\n\n        if (arr[i]._render) {\n          if (itemsData[i].gr.parentNode !== container) {\n            container.appendChild(itemsData[i].gr);\n          }\n        }\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          itemsData[i] = this.createTransformElement(arr[i], container);\n        }\n\n        currentTransform = itemsData[i].transform;\n        ownTransformers.push(currentTransform);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\n        }\n\n        this.setElementStyles(itemsData[i]);\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          render = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    len = ownStyles.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownStyles[i].closed = true;\n    }\n\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  SVGShapeElement.prototype.renderInnerContent = function () {\n    this.renderModifiers();\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.stylesList[i].reset();\n    }\n\n    this.renderShape();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.stylesList[i]._mdf || this._isFirstFrame) {\n        if (this.stylesList[i].msElem) {\n          this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d); // Adding M0 0 fixes same mask bug on all browsers\n\n          this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\n        }\n\n        this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.renderShape = function () {\n    var i;\n    var len = this.animatedContents.length;\n    var animatedContent;\n\n    for (i = 0; i < len; i += 1) {\n      animatedContent = this.animatedContents[i];\n\n      if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\n        animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.destroy = function () {\n    this.destroyBaseElement();\n    this.shapesData = null;\n    this.itemsData = null;\n  };\n\n  function LetterProps(o, sw, sc, fc, m, p) {\n    this.o = o;\n    this.sw = sw;\n    this.sc = sc;\n    this.fc = fc;\n    this.m = m;\n    this.p = p;\n    this._mdf = {\n      o: true,\n      sw: !!sw,\n      sc: !!sc,\n      fc: !!fc,\n      m: true,\n      p: true\n    };\n  }\n\n  LetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\n    this._mdf.o = false;\n    this._mdf.sw = false;\n    this._mdf.sc = false;\n    this._mdf.fc = false;\n    this._mdf.m = false;\n    this._mdf.p = false;\n    var updated = false;\n\n    if (this.o !== o) {\n      this.o = o;\n      this._mdf.o = true;\n      updated = true;\n    }\n\n    if (this.sw !== sw) {\n      this.sw = sw;\n      this._mdf.sw = true;\n      updated = true;\n    }\n\n    if (this.sc !== sc) {\n      this.sc = sc;\n      this._mdf.sc = true;\n      updated = true;\n    }\n\n    if (this.fc !== fc) {\n      this.fc = fc;\n      this._mdf.fc = true;\n      updated = true;\n    }\n\n    if (this.m !== m) {\n      this.m = m;\n      this._mdf.m = true;\n      updated = true;\n    }\n\n    if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\n      this.p = p;\n      this._mdf.p = true;\n      updated = true;\n    }\n\n    return updated;\n  };\n\n  function TextProperty(elem, data) {\n    this._frameId = initialDefaultFrame;\n    this.pv = '';\n    this.v = '';\n    this.kf = false;\n    this._isFirstFrame = true;\n    this._mdf = false;\n    this.data = data;\n    this.elem = elem;\n    this.comp = this.elem.comp;\n    this.keysIndex = 0;\n    this.canResize = false;\n    this.minimumFontSize = 1;\n    this.effectsSequence = [];\n    this.currentData = {\n      ascent: 0,\n      boxWidth: this.defaultBoxWidth,\n      f: '',\n      fStyle: '',\n      fWeight: '',\n      fc: '',\n      j: '',\n      justifyOffset: '',\n      l: [],\n      lh: 0,\n      lineWidths: [],\n      ls: '',\n      of: '',\n      s: '',\n      sc: '',\n      sw: 0,\n      t: 0,\n      tr: 0,\n      sz: 0,\n      ps: null,\n      fillColorAnim: false,\n      strokeColorAnim: false,\n      strokeWidthAnim: false,\n      yOffset: 0,\n      finalSize: 0,\n      finalText: [],\n      finalLineHeight: 0,\n      __complete: false\n    };\n    this.copyData(this.currentData, this.data.d.k[0].s);\n\n    if (!this.searchProperty()) {\n      this.completeTextData(this.currentData);\n    }\n  }\n\n  TextProperty.prototype.defaultBoxWidth = [0, 0];\n\n  TextProperty.prototype.copyData = function (obj, data) {\n    for (var s in data) {\n      if (Object.prototype.hasOwnProperty.call(data, s)) {\n        obj[s] = data[s];\n      }\n    }\n\n    return obj;\n  };\n\n  TextProperty.prototype.setCurrentData = function (data) {\n    if (!data.__complete) {\n      this.completeTextData(data);\n    }\n\n    this.currentData = data;\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\n    this._mdf = true;\n  };\n\n  TextProperty.prototype.searchProperty = function () {\n    return this.searchKeyframes();\n  };\n\n  TextProperty.prototype.searchKeyframes = function () {\n    this.kf = this.data.d.k.length > 1;\n\n    if (this.kf) {\n      this.addEffect(this.getKeyframeValue.bind(this));\n    }\n\n    return this.kf;\n  };\n\n  TextProperty.prototype.addEffect = function (effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.getValue = function (_finalValue) {\n    if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\n      return;\n    }\n\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\n    var currentValue = this.currentData;\n    var currentIndex = this.keysIndex;\n\n    if (this.lock) {\n      this.setCurrentData(this.currentData);\n      return;\n    }\n\n    this.lock = true;\n    this._mdf = false;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\n\n    for (i = 0; i < len; i += 1) {\n      // Checking if index changed to prevent creating a new object every time the expression updates.\n      if (currentIndex !== this.keysIndex) {\n        finalValue = this.effectsSequence[i](finalValue, finalValue.t);\n      } else {\n        finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\n      }\n    }\n\n    if (currentValue !== finalValue) {\n      this.setCurrentData(finalValue);\n    }\n\n    this.v = this.currentData;\n    this.pv = this.v;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  };\n\n  TextProperty.prototype.getKeyframeValue = function () {\n    var textKeys = this.data.d.k;\n    var frameNum = this.elem.comp.renderedFrame;\n    var i = 0;\n    var len = textKeys.length;\n\n    while (i <= len - 1) {\n      if (i === len - 1 || textKeys[i + 1].t > frameNum) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    if (this.keysIndex !== i) {\n      this.keysIndex = i;\n    }\n\n    return this.data.d.k[this.keysIndex].s;\n  };\n\n  TextProperty.prototype.buildFinalText = function (text) {\n    var charactersArray = [];\n    var i = 0;\n    var len = text.length;\n    var charCode;\n    var secondCharCode;\n    var shouldCombine = false;\n\n    while (i < len) {\n      charCode = text.charCodeAt(i);\n\n      if (FontManager.isCombinedCharacter(charCode)) {\n        charactersArray[charactersArray.length - 1] += text.charAt(i);\n      } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n\n        if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\n          if (shouldCombine || FontManager.isModifier(charCode, secondCharCode)) {\n            charactersArray[charactersArray.length - 1] += text.substr(i, 2);\n            shouldCombine = false;\n          } else {\n            charactersArray.push(text.substr(i, 2));\n          }\n\n          i += 1;\n        } else {\n          charactersArray.push(text.charAt(i));\n        }\n      } else if (charCode > 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n\n        if (FontManager.isZeroWidthJoiner(charCode, secondCharCode)) {\n          shouldCombine = true;\n          charactersArray[charactersArray.length - 1] += text.substr(i, 2);\n          i += 1;\n        } else {\n          charactersArray.push(text.charAt(i));\n        }\n      } else if (FontManager.isZeroWidthJoiner(charCode)) {\n        charactersArray[charactersArray.length - 1] += text.charAt(i);\n        shouldCombine = true;\n      } else {\n        charactersArray.push(text.charAt(i));\n      }\n\n      i += 1;\n    }\n\n    return charactersArray;\n  };\n\n  TextProperty.prototype.completeTextData = function (documentData) {\n    documentData.__complete = true;\n    var fontManager = this.elem.globalData.fontManager;\n    var data = this.data;\n    var letters = [];\n    var i;\n    var len;\n    var newLineFlag;\n    var index = 0;\n    var val;\n    var anchorGrouping = data.m.g;\n    var currentSize = 0;\n    var currentPos = 0;\n    var currentLine = 0;\n    var lineWidths = [];\n    var lineWidth = 0;\n    var maxLineWidth = 0;\n    var j;\n    var jLen;\n    var fontData = fontManager.getFontByName(documentData.f);\n    var charData;\n    var cLength = 0;\n    var fontProps = getFontProperties(fontData);\n    documentData.fWeight = fontProps.weight;\n    documentData.fStyle = fontProps.style;\n    documentData.finalSize = documentData.s;\n    documentData.finalText = this.buildFinalText(documentData.t);\n    len = documentData.finalText.length;\n    documentData.finalLineHeight = documentData.lh;\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n    var charCode;\n\n    if (documentData.sz) {\n      var flag = true;\n      var boxWidth = documentData.sz[0];\n      var boxHeight = documentData.sz[1];\n      var currentHeight;\n      var finalText;\n\n      while (flag) {\n        finalText = this.buildFinalText(documentData.t);\n        currentHeight = 0;\n        lineWidth = 0;\n        len = finalText.length;\n        trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n        var lastSpaceIndex = -1;\n\n        for (i = 0; i < len; i += 1) {\n          charCode = finalText[i].charCodeAt(0);\n          newLineFlag = false;\n\n          if (finalText[i] === ' ') {\n            lastSpaceIndex = i;\n          } else if (charCode === 13 || charCode === 3) {\n            lineWidth = 0;\n            newLineFlag = true;\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n          }\n\n          if (fontManager.chars) {\n            charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\n            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n          } else {\n            // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\n            cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\n          }\n\n          if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\n            if (lastSpaceIndex === -1) {\n              len += 1;\n            } else {\n              i = lastSpaceIndex;\n            }\n\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n            finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r'); // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\n\n            lastSpaceIndex = -1;\n            lineWidth = 0;\n          } else {\n            lineWidth += cLength;\n            lineWidth += trackingOffset;\n          }\n        }\n\n        currentHeight += fontData.ascent * documentData.finalSize / 100;\n\n        if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\n          documentData.finalSize -= 1;\n          documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\n        } else {\n          documentData.finalText = finalText;\n          len = documentData.finalText.length;\n          flag = false;\n        }\n      }\n    }\n\n    lineWidth = -trackingOffset;\n    cLength = 0;\n    var uncollapsedSpaces = 0;\n    var currentChar;\n\n    for (i = 0; i < len; i += 1) {\n      newLineFlag = false;\n      currentChar = documentData.finalText[i];\n      charCode = currentChar.charCodeAt(0);\n\n      if (charCode === 13 || charCode === 3) {\n        uncollapsedSpaces = 0;\n        lineWidths.push(lineWidth);\n        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n        lineWidth = -2 * trackingOffset;\n        val = '';\n        newLineFlag = true;\n        currentLine += 1;\n      } else {\n        val = currentChar;\n      }\n\n      if (fontManager.chars) {\n        charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\n        cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n      } else {\n        // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n        // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\n        cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\n      } //\n\n\n      if (currentChar === ' ') {\n        uncollapsedSpaces += cLength + trackingOffset;\n      } else {\n        lineWidth += cLength + trackingOffset + uncollapsedSpaces;\n        uncollapsedSpaces = 0;\n      }\n\n      letters.push({\n        l: cLength,\n        an: cLength,\n        add: currentSize,\n        n: newLineFlag,\n        anIndexes: [],\n        val: val,\n        line: currentLine,\n        animatorJustifyOffset: 0\n      });\n\n      if (anchorGrouping == 2) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || val === ' ' || i === len - 1) {\n          if (val === '' || val === ' ') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          index += 1;\n          currentSize = 0;\n        }\n      } else if (anchorGrouping == 3) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || i === len - 1) {\n          if (val === '') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          currentSize = 0;\n          index += 1;\n        }\n      } else {\n        letters[index].ind = index;\n        letters[index].extra = 0;\n        index += 1;\n      }\n    }\n\n    documentData.l = letters;\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n    lineWidths.push(lineWidth);\n\n    if (documentData.sz) {\n      documentData.boxWidth = documentData.sz[0];\n      documentData.justifyOffset = 0;\n    } else {\n      documentData.boxWidth = maxLineWidth;\n\n      switch (documentData.j) {\n        case 1:\n          documentData.justifyOffset = -documentData.boxWidth;\n          break;\n\n        case 2:\n          documentData.justifyOffset = -documentData.boxWidth / 2;\n          break;\n\n        default:\n          documentData.justifyOffset = 0;\n      }\n    }\n\n    documentData.lineWidths = lineWidths;\n    var animators = data.a;\n    var animatorData;\n    var letterData;\n    jLen = animators.length;\n    var based;\n    var ind;\n    var indexes = [];\n\n    for (j = 0; j < jLen; j += 1) {\n      animatorData = animators[j];\n\n      if (animatorData.a.sc) {\n        documentData.strokeColorAnim = true;\n      }\n\n      if (animatorData.a.sw) {\n        documentData.strokeWidthAnim = true;\n      }\n\n      if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\n        documentData.fillColorAnim = true;\n      }\n\n      ind = 0;\n      based = animatorData.s.b;\n\n      for (i = 0; i < len; i += 1) {\n        letterData = letters[i];\n        letterData.anIndexes[j] = ind;\n\n        if (based == 1 && letterData.val !== '' || based == 2 && letterData.val !== '' && letterData.val !== ' ' || based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1) || based == 4 && (letterData.n || i == len - 1)) {\n          // eslint-disable-line eqeqeq\n          if (animatorData.s.rn === 1) {\n            indexes.push(ind);\n          }\n\n          ind += 1;\n        }\n      }\n\n      data.a[j].s.totalChars = ind;\n      var currentInd = -1;\n      var newInd;\n\n      if (animatorData.s.rn === 1) {\n        for (i = 0; i < len; i += 1) {\n          letterData = letters[i];\n\n          if (currentInd != letterData.anIndexes[j]) {\n            // eslint-disable-line eqeqeq\n            currentInd = letterData.anIndexes[j];\n            newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\n          }\n\n          letterData.anIndexes[j] = newInd;\n        }\n      }\n    }\n\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\n    documentData.ls = documentData.ls || 0;\n    documentData.ascent = fontData.ascent * documentData.finalSize / 100;\n  };\n\n  TextProperty.prototype.updateDocumentData = function (newData, index) {\n    index = index === undefined ? this.keysIndex : index;\n    var dData = this.copyData({}, this.data.d.k[index].s);\n    dData = this.copyData(dData, newData);\n    this.data.d.k[index].s = dData;\n    this.recalculate(index);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.recalculate = function (index) {\n    var dData = this.data.d.k[index].s;\n    dData.__complete = false;\n    this.keysIndex = 0;\n    this._isFirstFrame = true;\n    this.getValue(dData);\n  };\n\n  TextProperty.prototype.canResizeFont = function (_canResize) {\n    this.canResize = _canResize;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.setMinimumFontSize = function (_fontValue) {\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  var TextSelectorProp = function () {\n    var max = Math.max;\n    var min = Math.min;\n    var floor = Math.floor;\n\n    function TextSelectorPropFactory(elem, data) {\n      this._currentTextLength = -1;\n      this.k = false;\n      this.data = data;\n      this.elem = elem;\n      this.comp = elem.comp;\n      this.finalS = 0;\n      this.finalE = 0;\n      this.initDynamicPropertyContainer(elem);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: 0\n      }, 0, 0, this);\n\n      if ('e' in data) {\n        this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\n      } else {\n        this.e = {\n          v: 100\n        };\n      }\n\n      this.o = PropertyFactory.getProp(elem, data.o || {\n        k: 0\n      }, 0, 0, this);\n      this.xe = PropertyFactory.getProp(elem, data.xe || {\n        k: 0\n      }, 0, 0, this);\n      this.ne = PropertyFactory.getProp(elem, data.ne || {\n        k: 0\n      }, 0, 0, this);\n      this.sm = PropertyFactory.getProp(elem, data.sm || {\n        k: 100\n      }, 0, 0, this);\n      this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\n\n      if (!this.dynamicProperties.length) {\n        this.getValue();\n      }\n    }\n\n    TextSelectorPropFactory.prototype = {\n      getMult: function getMult(ind) {\n        if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\n          this.getValue();\n        }\n\n        var x1 = 0;\n        var y1 = 0;\n        var x2 = 1;\n        var y2 = 1;\n\n        if (this.ne.v > 0) {\n          x1 = this.ne.v / 100.0;\n        } else {\n          y1 = -this.ne.v / 100.0;\n        }\n\n        if (this.xe.v > 0) {\n          x2 = 1.0 - this.xe.v / 100.0;\n        } else {\n          y2 = 1.0 + this.xe.v / 100.0;\n        }\n\n        var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\n        var mult = 0;\n        var s = this.finalS;\n        var e = this.finalE;\n        var type = this.data.sh;\n\n        if (type === 2) {\n          if (e === s) {\n            mult = ind >= e ? 1 : 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 3) {\n          if (e === s) {\n            mult = ind >= e ? 0 : 1;\n          } else {\n            mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 4) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\n            if (mult < 0.5) {\n              mult *= 2;\n            } else {\n              mult = 1 - 2 * (mult - 0.5);\n            }\n          }\n\n          mult = easer(mult);\n        } else if (type === 5) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            var tot = e - s;\n            /* ind += 0.5;\r\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\n\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            var x = -tot / 2 + ind;\n            var a = tot / 2;\n            mult = Math.sqrt(1 - x * x / (a * a));\n          }\n\n          mult = easer(mult);\n        } else if (type === 6) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e - s))) / 2; // eslint-disable-line\n          }\n\n          mult = easer(mult);\n        } else {\n          if (ind >= floor(s)) {\n            if (ind - s < 0) {\n              mult = max(0, min(min(e, 1) - (s - ind), 1));\n            } else {\n              mult = max(0, min(e - ind, 1));\n            }\n          }\n\n          mult = easer(mult);\n        } // Smoothness implementation.\n        // The smoothness represents a reduced range of the original [0; 1] range.\n        // if smoothness is 25%, the new range will be [0.375; 0.625]\n        // Steps are:\n        // - find the lower value of the new range (threshold)\n        // - if multiplier is smaller than that value, floor it to 0\n        // - if it is larger,\n        //     - subtract the threshold\n        //     - divide it by the smoothness (this will return the range to [0; 1])\n        // Note: If it doesn't work on some scenarios, consider applying it before the easer.\n\n\n        if (this.sm.v !== 100) {\n          var smoothness = this.sm.v * 0.01;\n\n          if (smoothness === 0) {\n            smoothness = 0.00000001;\n          }\n\n          var threshold = 0.5 - smoothness * 0.5;\n\n          if (mult < threshold) {\n            mult = 0;\n          } else {\n            mult = (mult - threshold) / smoothness;\n\n            if (mult > 1) {\n              mult = 1;\n            }\n          }\n        }\n\n        return mult * this.a.v;\n      },\n      getValue: function getValue(newCharsFlag) {\n        this.iterateDynamicProperties();\n        this._mdf = newCharsFlag || this._mdf;\n        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\n\n        if (newCharsFlag && this.data.r === 2) {\n          this.e.v = this._currentTextLength;\n        }\n\n        var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\n        var o = this.o.v / divisor;\n        var s = this.s.v / divisor + o;\n        var e = this.e.v / divisor + o;\n\n        if (s > e) {\n          var _s = s;\n          s = e;\n          e = _s;\n        }\n\n        this.finalS = s;\n        this.finalE = e;\n      }\n    };\n    extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\n\n    function getTextSelectorProp(elem, data, arr) {\n      return new TextSelectorPropFactory(elem, data, arr);\n    }\n\n    return {\n      getTextSelectorProp: getTextSelectorProp\n    };\n  }();\n\n  function TextAnimatorDataProperty(elem, animatorProps, container) {\n    var defaultData = {\n      propType: false\n    };\n    var getProp = PropertyFactory.getProp;\n    var textAnimatorAnimatables = animatorProps.a;\n    this.a = {\n      r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\n      rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\n      ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\n      sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\n      sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\n      s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\n      a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\n      o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\n      p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\n      sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\n      sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\n      fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\n      fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\n      fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\n      fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\n      t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData\n    };\n    this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\n    this.s.t = animatorProps.s.t;\n  }\n\n  function TextAnimatorProperty(textData, renderType, elem) {\n    this._isFirstFrame = true;\n    this._hasMaskedPath = false;\n    this._frameId = -1;\n    this._textData = textData;\n    this._renderType = renderType;\n    this._elem = elem;\n    this._animatorsData = createSizedArray(this._textData.a.length);\n    this._pathData = {};\n    this._moreOptions = {\n      alignment: {}\n    };\n    this.renderedLetters = [];\n    this.lettersChangedFlag = false;\n    this.initDynamicPropertyContainer(elem);\n  }\n\n  TextAnimatorProperty.prototype.searchProperties = function () {\n    var i;\n    var len = this._textData.a.length;\n    var animatorProps;\n    var getProp = PropertyFactory.getProp;\n\n    for (i = 0; i < len; i += 1) {\n      animatorProps = this._textData.a[i];\n      this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\n    }\n\n    if (this._textData.p && 'm' in this._textData.p) {\n      this._pathData = {\n        a: getProp(this._elem, this._textData.p.a, 0, 0, this),\n        f: getProp(this._elem, this._textData.p.f, 0, 0, this),\n        l: getProp(this._elem, this._textData.p.l, 0, 0, this),\n        r: getProp(this._elem, this._textData.p.r, 0, 0, this),\n        p: getProp(this._elem, this._textData.p.p, 0, 0, this),\n        m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\n      };\n      this._hasMaskedPath = true;\n    } else {\n      this._hasMaskedPath = false;\n    }\n\n    this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\n  };\n\n  TextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\n    this.lettersChangedFlag = lettersChangedFlag;\n\n    if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\n      return;\n    }\n\n    this._isFirstFrame = false;\n    var alignment = this._moreOptions.alignment.v;\n    var animators = this._animatorsData;\n    var textData = this._textData;\n    var matrixHelper = this.mHelper;\n    var renderType = this._renderType;\n    var renderedLettersCount = this.renderedLetters.length;\n    var xPos;\n    var yPos;\n    var i;\n    var len;\n    var letters = documentData.l;\n    var pathInfo;\n    var currentLength;\n    var currentPoint;\n    var segmentLength;\n    var flag;\n    var pointInd;\n    var segmentInd;\n    var prevPoint;\n    var points;\n    var segments;\n    var partialLength;\n    var totalLength;\n    var perc;\n    var tanAngle;\n    var mask;\n\n    if (this._hasMaskedPath) {\n      mask = this._pathData.m;\n\n      if (!this._pathData.n || this._pathData._mdf) {\n        var paths = mask.v;\n\n        if (this._pathData.r.v) {\n          paths = paths.reverse();\n        } // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\n\n\n        pathInfo = {\n          tLength: 0,\n          segments: []\n        };\n        len = paths._length - 1;\n        var bezierData;\n        totalLength = 0;\n\n        for (i = 0; i < len; i += 1) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[i + 1], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        i = len;\n\n        if (mask.v.c) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[0], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        this._pathData.pi = pathInfo;\n      }\n\n      pathInfo = this._pathData.pi;\n      currentLength = this._pathData.f.v;\n      segmentInd = 0;\n      pointInd = 1;\n      segmentLength = 0;\n      flag = true;\n      segments = pathInfo.segments;\n\n      if (currentLength < 0 && mask.v.c) {\n        if (pathInfo.tLength < Math.abs(currentLength)) {\n          currentLength = -Math.abs(currentLength) % pathInfo.tLength;\n        }\n\n        segmentInd = segments.length - 1;\n        points = segments[segmentInd].points;\n        pointInd = points.length - 1;\n\n        while (currentLength < 0) {\n          currentLength += points[pointInd].partialLength;\n          pointInd -= 1;\n\n          if (pointInd < 0) {\n            segmentInd -= 1;\n            points = segments[segmentInd].points;\n            pointInd = points.length - 1;\n          }\n        }\n      }\n\n      points = segments[segmentInd].points;\n      prevPoint = points[pointInd - 1];\n      currentPoint = points[pointInd];\n      partialLength = currentPoint.partialLength;\n    }\n\n    len = letters.length;\n    xPos = 0;\n    yPos = 0;\n    var yOff = documentData.finalSize * 1.2 * 0.714;\n    var firstLine = true;\n    var animatorProps;\n    var animatorSelector;\n    var j;\n    var jLen;\n    var letterValue;\n    jLen = animators.length;\n    var mult;\n    var ind = -1;\n    var offf;\n    var xPathPos;\n    var yPathPos;\n    var initPathPos = currentLength;\n    var initSegmentInd = segmentInd;\n    var initPointInd = pointInd;\n    var currentLine = -1;\n    var elemOpacity;\n    var sc;\n    var sw;\n    var fc;\n    var k;\n    var letterSw;\n    var letterSc;\n    var letterFc;\n    var letterM = '';\n    var letterP = this.defaultPropsArray;\n    var letterO; //\n\n    if (documentData.j === 2 || documentData.j === 1) {\n      var animatorJustifyOffset = 0;\n      var animatorFirstCharOffset = 0;\n      var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\n      var lastIndex = 0;\n      var isNewLine = true;\n\n      for (i = 0; i < len; i += 1) {\n        if (letters[i].n) {\n          if (animatorJustifyOffset) {\n            animatorJustifyOffset += animatorFirstCharOffset;\n          }\n\n          while (lastIndex < i) {\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n            lastIndex += 1;\n          }\n\n          animatorJustifyOffset = 0;\n          isNewLine = true;\n        } else {\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.t.propType) {\n              if (isNewLine && documentData.j === 2) {\n                animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\n              }\n\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\n              } else {\n                animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\n              }\n            }\n          }\n\n          isNewLine = false;\n        }\n      }\n\n      if (animatorJustifyOffset) {\n        animatorJustifyOffset += animatorFirstCharOffset;\n      }\n\n      while (lastIndex < i) {\n        letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n        lastIndex += 1;\n      }\n    } //\n\n\n    for (i = 0; i < len; i += 1) {\n      matrixHelper.reset();\n      elemOpacity = 1;\n\n      if (letters[i].n) {\n        xPos = 0;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        currentLength = initPathPos;\n        firstLine = false;\n\n        if (this._hasMaskedPath) {\n          segmentInd = initSegmentInd;\n          pointInd = initPointInd;\n          points = segments[segmentInd].points;\n          prevPoint = points[pointInd - 1];\n          currentPoint = points[pointInd];\n          partialLength = currentPoint.partialLength;\n          segmentLength = 0;\n        }\n\n        letterM = '';\n        letterFc = '';\n        letterSw = '';\n        letterO = '';\n        letterP = this.defaultPropsArray;\n      } else {\n        if (this._hasMaskedPath) {\n          if (currentLine !== letters[i].line) {\n            switch (documentData.j) {\n              case 1:\n                currentLength += totalLength - documentData.lineWidths[letters[i].line];\n                break;\n\n              case 2:\n                currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\n                break;\n\n              default:\n                break;\n            }\n\n            currentLine = letters[i].line;\n          }\n\n          if (ind !== letters[i].ind) {\n            if (letters[ind]) {\n              currentLength += letters[ind].extra;\n            }\n\n            currentLength += letters[i].an / 2;\n            ind = letters[i].ind;\n          }\n\n          currentLength += alignment[0] * letters[i].an * 0.005;\n          var animatorOffset = 0;\n\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.p.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.p.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.p.v[0] * mult;\n              }\n            }\n\n            if (animatorProps.a.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.a.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.a.v[0] * mult;\n              }\n            }\n          }\n\n          flag = true; // Force alignment only works with a single line for now\n\n          if (this._pathData.a.v) {\n            currentLength = letters[0].an * 0.5 + (totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind / (len - 1);\n            currentLength += this._pathData.f.v;\n          }\n\n          while (flag) {\n            if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\n              perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\n              xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\n              yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\n              matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -(alignment[1] * yOff) * 0.01);\n              flag = false;\n            } else if (points) {\n              segmentLength += currentPoint.partialLength;\n              pointInd += 1;\n\n              if (pointInd >= points.length) {\n                pointInd = 0;\n                segmentInd += 1;\n\n                if (!segments[segmentInd]) {\n                  if (mask.v.c) {\n                    pointInd = 0;\n                    segmentInd = 0;\n                    points = segments[segmentInd].points;\n                  } else {\n                    segmentLength -= currentPoint.partialLength;\n                    points = null;\n                  }\n                } else {\n                  points = segments[segmentInd].points;\n                }\n              }\n\n              if (points) {\n                prevPoint = currentPoint;\n                currentPoint = points[pointInd];\n                partialLength = currentPoint.partialLength;\n              }\n            }\n          }\n\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0);\n        } else {\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0); // Grouping alignment\n\n          matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -alignment[1] * yOff * 0.01, 0);\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.t.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars); // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\n\n            if (xPos !== 0 || documentData.j !== 0) {\n              if (this._hasMaskedPath) {\n                if (mult.length) {\n                  currentLength += animatorProps.t.v * mult[0];\n                } else {\n                  currentLength += animatorProps.t.v * mult;\n                }\n              } else if (mult.length) {\n                xPos += animatorProps.t.v * mult[0];\n              } else {\n                xPos += animatorProps.t.v * mult;\n              }\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          sw = documentData.sw || 0;\n        }\n\n        if (documentData.strokeColorAnim) {\n          if (documentData.sc) {\n            sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\n          } else {\n            sc = [0, 0, 0];\n          }\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.a.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.s.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);\n            } else {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n          if (animatorProps.sk.propType) {\n            if (mult.length) {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\n            } else {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\n            }\n          }\n\n          if (animatorProps.r.propType) {\n            if (mult.length) {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\n            } else {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult);\n            }\n          }\n\n          if (animatorProps.ry.propType) {\n            if (mult.length) {\n              matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\n            } else {\n              matrixHelper.rotateY(animatorProps.ry.v * mult);\n            }\n          }\n\n          if (animatorProps.rx.propType) {\n            if (mult.length) {\n              matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\n            } else {\n              matrixHelper.rotateX(animatorProps.rx.v * mult);\n            }\n          }\n\n          if (animatorProps.o.propType) {\n            if (mult.length) {\n              elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];\n            } else {\n              elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;\n            }\n          }\n\n          if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\n            if (mult.length) {\n              sw += animatorProps.sw.v * mult[0];\n            } else {\n              sw += animatorProps.sw.v * mult;\n            }\n          }\n\n          if (documentData.strokeColorAnim && animatorProps.sc.propType) {\n            for (k = 0; k < 3; k += 1) {\n              if (mult.length) {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\n              } else {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\n              }\n            }\n          }\n\n          if (documentData.fillColorAnim && documentData.fc) {\n            if (animatorProps.fc.propType) {\n              for (k = 0; k < 3; k += 1) {\n                if (mult.length) {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\n                } else {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\n                }\n              }\n            }\n\n            if (animatorProps.fh.propType) {\n              if (mult.length) {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\n              } else {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult);\n              }\n            }\n\n            if (animatorProps.fs.propType) {\n              if (mult.length) {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\n              } else {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\n              }\n            }\n\n            if (animatorProps.fb.propType) {\n              if (mult.length) {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\n              } else {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\n              }\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.p.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (this._hasMaskedPath) {\n              if (mult.length) {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\n              } else {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n              }\n            } else if (mult.length) {\n              matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          letterSw = sw < 0 ? 0 : sw;\n        }\n\n        if (documentData.strokeColorAnim) {\n          letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\n        }\n\n        if (this._hasMaskedPath) {\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(0, alignment[1] * yOff * 0.01 + yPos, 0);\n\n          if (this._pathData.p.v) {\n            tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\n            var rot = Math.atan(tanAngle) * 180 / Math.PI;\n\n            if (currentPoint.point[0] < prevPoint.point[0]) {\n              rot += 180;\n            }\n\n            matrixHelper.rotate(-rot * Math.PI / 180);\n          }\n\n          matrixHelper.translate(xPathPos, yPathPos, 0);\n          currentLength -= alignment[0] * letters[i].an * 0.005;\n\n          if (letters[i + 1] && ind !== letters[i + 1].ind) {\n            currentLength += letters[i].an / 2;\n            currentLength += documentData.tr * 0.001 * documentData.finalSize;\n          }\n        } else {\n          matrixHelper.translate(xPos, yPos, 0);\n\n          if (documentData.ps) {\n            // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\n            matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n          }\n\n          switch (documentData.j) {\n            case 1:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\n              break;\n\n            case 2:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\n              break;\n\n            default:\n              break;\n          }\n\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(offf, 0, 0);\n          matrixHelper.translate(alignment[0] * letters[i].an * 0.005, alignment[1] * yOff * 0.01, 0);\n          xPos += letters[i].l + documentData.tr * 0.001 * documentData.finalSize;\n        }\n\n        if (renderType === 'html') {\n          letterM = matrixHelper.toCSS();\n        } else if (renderType === 'svg') {\n          letterM = matrixHelper.to2dCSS();\n        } else {\n          letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\n        }\n\n        letterO = elemOpacity;\n      }\n\n      if (renderedLettersCount <= i) {\n        letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\n        this.renderedLetters.push(letterValue);\n        renderedLettersCount += 1;\n        this.lettersChangedFlag = true;\n      } else {\n        letterValue = this.renderedLetters[i];\n        this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\n      }\n    }\n  };\n\n  TextAnimatorProperty.prototype.getValue = function () {\n    if (this._elem.globalData.frameId === this._frameId) {\n      return;\n    }\n\n    this._frameId = this._elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  TextAnimatorProperty.prototype.mHelper = new Matrix();\n  TextAnimatorProperty.prototype.defaultPropsArray = [];\n  extendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\n\n  function ITextElement() {}\n\n  ITextElement.prototype.initElement = function (data, globalData, comp) {\n    this.lettersChangedFlag = true;\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n    this.initRenderable();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n    this.createContent();\n    this.hide();\n    this.textAnimator.searchProperties(this.dynamicProperties);\n  };\n\n  ITextElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\n      this.buildNewText();\n      this.textProperty._isFirstFrame = false;\n      this.textProperty._mdf = false;\n    }\n  };\n\n  ITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\n    var j;\n    var jLen = shapes.length;\n    var pathNodes;\n    var shapeStr = '';\n\n    for (j = 0; j < jLen; j += 1) {\n      if (shapes[j].ty === 'sh') {\n        pathNodes = shapes[j].ks.k;\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\n      }\n    }\n\n    return shapeStr;\n  };\n\n  ITextElement.prototype.updateDocumentData = function (newData, index) {\n    this.textProperty.updateDocumentData(newData, index);\n  };\n\n  ITextElement.prototype.canResizeFont = function (_canResize) {\n    this.textProperty.canResizeFont(_canResize);\n  };\n\n  ITextElement.prototype.setMinimumFontSize = function (_fontSize) {\n    this.textProperty.setMinimumFontSize(_fontSize);\n  };\n\n  ITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\n    if (documentData.ps) {\n      matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n    }\n\n    matrixHelper.translate(0, -documentData.ls, 0);\n\n    switch (documentData.j) {\n      case 1:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\n        break;\n\n      case 2:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\n        break;\n\n      default:\n        break;\n    }\n\n    matrixHelper.translate(xPos, yPos, 0);\n  };\n\n  ITextElement.prototype.buildColor = function (colorData) {\n    return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\n  };\n\n  ITextElement.prototype.emptyProp = new LetterProps();\n\n  ITextElement.prototype.destroy = function () {};\n\n  var emptyShapeData = {\n    shapes: []\n  };\n\n  function SVGTextLottieElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.renderType = 'svg';\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\n\n  SVGTextLottieElement.prototype.createContent = function () {\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\n      this.textContainer = createNS('text');\n    }\n  };\n\n  SVGTextLottieElement.prototype.buildTextContents = function (textArray) {\n    var i = 0;\n    var len = textArray.length;\n    var textContents = [];\n    var currentTextContent = '';\n\n    while (i < len) {\n      if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\n        textContents.push(currentTextContent);\n        currentTextContent = '';\n      } else {\n        currentTextContent += textArray[i];\n      }\n\n      i += 1;\n    }\n\n    textContents.push(currentTextContent);\n    return textContents;\n  };\n\n  SVGTextLottieElement.prototype.buildNewText = function () {\n    this.addDynamicProperty(this);\n    var i;\n    var len;\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\n\n    if (documentData.fc) {\n      this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\n    } else {\n      this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\n    }\n\n    if (documentData.sc) {\n      this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\n      this.layerElement.setAttribute('stroke-width', documentData.sw);\n    }\n\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (fontData.fClass) {\n      this.layerElement.setAttribute('class', fontData.fClass);\n    } else {\n      this.layerElement.setAttribute('font-family', fontData.fFamily);\n      var fWeight = documentData.fWeight;\n      var fStyle = documentData.fStyle;\n      this.layerElement.setAttribute('font-style', fStyle);\n      this.layerElement.setAttribute('font-weight', fWeight);\n    }\n\n    this.layerElement.setAttribute('aria-label', documentData.t);\n    var letters = documentData.l || [];\n    var usesGlyphs = !!this.globalData.fontManager.chars;\n    len = letters.length;\n    var tSpan;\n    var matrixHelper = this.mHelper;\n    var shapeStr = '';\n    var singleShape = this.data.singleShape;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n\n    if (singleShape && !usesGlyphs && !documentData.sz) {\n      var tElement = this.textContainer;\n      var justify = 'start';\n\n      switch (documentData.j) {\n        case 1:\n          justify = 'end';\n          break;\n\n        case 2:\n          justify = 'middle';\n          break;\n\n        default:\n          justify = 'start';\n          break;\n      }\n\n      tElement.setAttribute('text-anchor', justify);\n      tElement.setAttribute('letter-spacing', trackingOffset);\n      var textContent = this.buildTextContents(documentData.finalText);\n      len = textContent.length;\n      yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\n\n      for (i = 0; i < len; i += 1) {\n        tSpan = this.textSpans[i].span || createNS('tspan');\n        tSpan.textContent = textContent[i];\n        tSpan.setAttribute('x', 0);\n        tSpan.setAttribute('y', yPos);\n        tSpan.style.display = 'inherit';\n        tElement.appendChild(tSpan);\n\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            glyph: null\n          };\n        }\n\n        this.textSpans[i].span = tSpan;\n        yPos += documentData.finalLineHeight;\n      }\n\n      this.layerElement.appendChild(tElement);\n    } else {\n      var cachedSpansLength = this.textSpans.length;\n      var charData;\n\n      for (i = 0; i < len; i += 1) {\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            childSpan: null,\n            glyph: null\n          };\n        }\n\n        if (!usesGlyphs || !singleShape || i === 0) {\n          tSpan = cachedSpansLength > i ? this.textSpans[i].span : createNS(usesGlyphs ? 'g' : 'text');\n\n          if (cachedSpansLength <= i) {\n            tSpan.setAttribute('stroke-linecap', 'butt');\n            tSpan.setAttribute('stroke-linejoin', 'round');\n            tSpan.setAttribute('stroke-miterlimit', '4');\n            this.textSpans[i].span = tSpan;\n\n            if (usesGlyphs) {\n              var childSpan = createNS('g');\n              tSpan.appendChild(childSpan);\n              this.textSpans[i].childSpan = childSpan;\n            }\n\n            this.textSpans[i].span = tSpan;\n            this.layerElement.appendChild(tSpan);\n          }\n\n          tSpan.style.display = 'inherit';\n        }\n\n        matrixHelper.reset();\n        matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n\n        if (singleShape) {\n          if (letters[i].n) {\n            xPos = -trackingOffset;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            firstLine = false;\n          }\n\n          this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n          xPos += letters[i].l || 0; // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\n\n          xPos += trackingOffset;\n        }\n\n        if (usesGlyphs) {\n          charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n          var glyphElement;\n\n          if (charData.t === 1) {\n            glyphElement = new SVGCompElement(charData.data, this.globalData, this);\n          } else {\n            var data = emptyShapeData;\n\n            if (charData.data && charData.data.shapes) {\n              data = charData.data;\n            }\n\n            glyphElement = new SVGShapeElement(data, this.globalData, this);\n          }\n\n          this.textSpans[i].glyph = glyphElement;\n          glyphElement._debug = true;\n          glyphElement.prepareFrame(0);\n          glyphElement.renderFrame();\n          this.textSpans[i].childSpan.appendChild(glyphElement.layerElement);\n          this.textSpans[i].childSpan.setAttribute('transform', 'scale(' + documentData.finalSize / 100 + ',' + documentData.finalSize / 100 + ')');\n        } else {\n          if (singleShape) {\n            tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\n          }\n\n          tSpan.textContent = letters[i].val;\n          tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n        } //\n\n      }\n\n      if (singleShape && tSpan) {\n        tSpan.setAttribute('d', shapeStr);\n      }\n    }\n\n    while (i < this.textSpans.length) {\n      this.textSpans[i].span.style.display = 'none';\n      i += 1;\n    }\n\n    this._sizeChanged = true;\n  };\n\n  SVGTextLottieElement.prototype.sourceRectAtTime = function () {\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\n    this.renderInnerContent();\n\n    if (this._sizeChanged) {\n      this._sizeChanged = false;\n      var textBox = this.layerElement.getBBox();\n      this.bbox = {\n        top: textBox.y,\n        left: textBox.x,\n        width: textBox.width,\n        height: textBox.height\n      };\n    }\n\n    return this.bbox;\n  };\n\n  SVGTextLottieElement.prototype.getValue = function () {\n    var i;\n    var len = this.textSpans.length;\n    var glyphElement;\n    this.renderedFrame = this.comp.renderedFrame;\n\n    for (i = 0; i < len; i += 1) {\n      glyphElement = this.textSpans[i].glyph;\n\n      if (glyphElement) {\n        glyphElement.prepareFrame(this.comp.renderedFrame - this.data.st);\n\n        if (glyphElement._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  SVGTextLottieElement.prototype.renderInnerContent = function () {\n    if (!this.data.singleShape || this._mdf) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n      if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\n        this._sizeChanged = true;\n        var i;\n        var len;\n        var renderedLetters = this.textAnimator.renderedLetters;\n        var letters = this.textProperty.currentData.l;\n        len = letters.length;\n        var renderedLetter;\n        var textSpan;\n        var glyphElement;\n\n        for (i = 0; i < len; i += 1) {\n          if (!letters[i].n) {\n            renderedLetter = renderedLetters[i];\n            textSpan = this.textSpans[i].span;\n            glyphElement = this.textSpans[i].glyph;\n\n            if (glyphElement) {\n              glyphElement.renderFrame();\n            }\n\n            if (renderedLetter._mdf.m) {\n              textSpan.setAttribute('transform', renderedLetter.m);\n            }\n\n            if (renderedLetter._mdf.o) {\n              textSpan.setAttribute('opacity', renderedLetter.o);\n            }\n\n            if (renderedLetter._mdf.sw) {\n              textSpan.setAttribute('stroke-width', renderedLetter.sw);\n            }\n\n            if (renderedLetter._mdf.sc) {\n              textSpan.setAttribute('stroke', renderedLetter.sc);\n            }\n\n            if (renderedLetter._mdf.fc) {\n              textSpan.setAttribute('fill', renderedLetter.fc);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function ISolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([IImageElement], ISolidElement);\n\n  ISolidElement.prototype.createContent = function () {\n    var rect = createNS('rect'); /// /rect.style.width = this.data.sw;\n    /// /rect.style.height = this.data.sh;\n    /// /rect.style.fill = this.data.sc;\n\n    rect.setAttribute('width', this.data.sw);\n    rect.setAttribute('height', this.data.sh);\n    rect.setAttribute('fill', this.data.sc);\n    this.layerElement.appendChild(rect);\n  };\n\n  function NullElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initFrame();\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n  }\n\n  NullElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  NullElement.prototype.renderFrame = function () {};\n\n  NullElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  NullElement.prototype.destroy = function () {};\n\n  NullElement.prototype.sourceRectAtTime = function () {};\n\n  NullElement.prototype.hide = function () {};\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\n\n  function SVGRendererBase() {}\n\n  extendPrototype([BaseRenderer], SVGRendererBase);\n\n  SVGRendererBase.prototype.createNull = function (data) {\n    return new NullElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createShape = function (data) {\n    return new SVGShapeElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createText = function (data) {\n    return new SVGTextLottieElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createImage = function (data) {\n    return new IImageElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createSolid = function (data) {\n    return new ISolidElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.configAnimation = function (animData) {\n    this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\n    if (this.renderConfig.viewBoxSize) {\n      this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\n    } else {\n      this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\n    }\n\n    if (!this.renderConfig.viewBoxOnly) {\n      this.svgElement.setAttribute('width', animData.w);\n      this.svgElement.setAttribute('height', animData.h);\n      this.svgElement.style.width = '100%';\n      this.svgElement.style.height = '100%';\n      this.svgElement.style.transform = 'translate3d(0,0,0)';\n      this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\n    }\n\n    if (this.renderConfig.className) {\n      this.svgElement.setAttribute('class', this.renderConfig.className);\n    }\n\n    if (this.renderConfig.id) {\n      this.svgElement.setAttribute('id', this.renderConfig.id);\n    }\n\n    if (this.renderConfig.focusable !== undefined) {\n      this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\n    }\n\n    this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio); // this.layerElement.style.transform = 'translate3d(0,0,0)';\n    // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\n\n    this.animationItem.wrapper.appendChild(this.svgElement); // Mask animation\n\n    var defs = this.globalData.defs;\n    this.setupGlobalData(animData, defs);\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.data = animData;\n    var maskElement = createNS('clipPath');\n    var rect = createNS('rect');\n    rect.setAttribute('width', animData.w);\n    rect.setAttribute('height', animData.h);\n    rect.setAttribute('x', 0);\n    rect.setAttribute('y', 0);\n    var maskId = createElementID();\n    maskElement.setAttribute('id', maskId);\n    maskElement.appendChild(rect);\n    this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + maskId + ')');\n    defs.appendChild(maskElement);\n    this.layers = animData.layers;\n    this.elements = createSizedArray(animData.layers.length);\n  };\n\n  SVGRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.layerElement = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  SVGRendererBase.prototype.updateContainerSize = function () {};\n\n  SVGRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    elements[pos] = true;\n    var element = this.createItem(this.layers[pos]);\n    elements[pos] = element;\n\n    if (getExpressionsPlugin()) {\n      if (this.layers[pos].ty === 0) {\n        this.globalData.projectInterface.registerComposition(element);\n      }\n\n      element.initExpressions();\n    }\n\n    this.appendElementInPos(element, pos);\n\n    if (this.layers[pos].tt) {\n      if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\n        this.buildItem(pos - 1);\n        this.addPendingElement(element);\n      } else {\n        element.setMatte(elements[pos - 1].layerId);\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n\n      if (element.data.tt) {\n        var i = 0;\n        var len = this.elements.length;\n\n        while (i < len) {\n          if (this.elements[i] === element) {\n            element.setMatte(this.elements[i - 1].layerId);\n            break;\n          }\n\n          i += 1;\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.renderFrame = function (num) {\n    if (this.renderedFrame === num || this.destroyed) {\n      return;\n    }\n\n    if (num === null) {\n      num = this.renderedFrame;\n    } else {\n      this.renderedFrame = num;\n    } // console.log('-------');\n    // console.log('FRAME ',num);\n\n\n    this.globalData.frameNum = num;\n    this.globalData.frameId += 1;\n    this.globalData.projectInterface.currentFrame = num;\n    this.globalData._mdf = false;\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      for (i = 0; i < len; i += 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newElement = element.getBaseElement();\n\n    if (!newElement) {\n      return;\n    }\n\n    var i = 0;\n    var nextElement;\n\n    while (i < pos) {\n      if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\n        nextElement = this.elements[i].getBaseElement();\n      }\n\n      i += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(newElement, nextElement);\n    } else {\n      this.layerElement.appendChild(newElement);\n    }\n  };\n\n  SVGRendererBase.prototype.hide = function () {\n    this.layerElement.style.display = 'none';\n  };\n\n  SVGRendererBase.prototype.show = function () {\n    this.layerElement.style.display = 'block';\n  };\n\n  function ICompElement() {}\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\n\n  ICompElement.prototype.initElement = function (data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initTransform(data, globalData, comp);\n    this.initRenderable();\n    this.initHierarchy();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n\n    if (this.data.xt || !globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n\n    this.hide();\n  };\n  /* ICompElement.prototype.hide = function(){\r\n      if(!this.hidden){\r\n          this.hideElement();\r\n          var i,len = this.elements.length;\r\n          for( i = 0; i < len; i+=1 ){\r\n              if(this.elements[i]){\r\n                  this.elements[i].hide();\r\n              }\r\n          }\r\n      }\r\n  }; */\n\n\n  ICompElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (!this.isInRange && !this.data.xt) {\n      return;\n    }\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n\n      if (timeRemapped === this.data.op) {\n        timeRemapped = this.data.op - 1;\n      }\n\n      this.renderedFrame = timeRemapped;\n    } else {\n      this.renderedFrame = num / this.data.sr;\n    }\n\n    var i;\n    var len = this.elements.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(this.renderedFrame);\n    } // This iteration needs to be backwards because of how expressions connect between each other\n\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\n\n        if (this.elements[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  ICompElement.prototype.renderInnerContent = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  ICompElement.prototype.setElements = function (elems) {\n    this.elements = elems;\n  };\n\n  ICompElement.prototype.getElements = function () {\n    return this.elements;\n  };\n\n  ICompElement.prototype.destroyElements = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n  };\n\n  ICompElement.prototype.destroy = function () {\n    this.destroyElements();\n    this.destroyBaseElement();\n  };\n\n  function SVGCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = true;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement);\n\n  SVGCompElement.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function SVGRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.svgElement = createNS('svg');\n    var ariaLabel = '';\n\n    if (config && config.title) {\n      var titleElement = createNS('title');\n      var titleId = createElementID();\n      titleElement.setAttribute('id', titleId);\n      titleElement.textContent = config.title;\n      this.svgElement.appendChild(titleElement);\n      ariaLabel += titleId;\n    }\n\n    if (config && config.description) {\n      var descElement = createNS('desc');\n      var descId = createElementID();\n      descElement.setAttribute('id', descId);\n      descElement.textContent = config.description;\n      this.svgElement.appendChild(descElement);\n      ariaLabel += ' ' + descId;\n    }\n\n    if (ariaLabel) {\n      this.svgElement.setAttribute('aria-labelledby', ariaLabel);\n    }\n\n    var defs = createNS('defs');\n    this.svgElement.appendChild(defs);\n    var maskElement = createNS('g');\n    this.svgElement.appendChild(maskElement);\n    this.layerElement = maskElement;\n    this.renderConfig = {\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      progressiveLoad: config && config.progressiveLoad || false,\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      viewBoxOnly: config && config.viewBoxOnly || false,\n      viewBoxSize: config && config.viewBoxSize || false,\n      className: config && config.className || '',\n      id: config && config.id || '',\n      focusable: config && config.focusable,\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '100%',\n        height: config && config.filterSize && config.filterSize.height || '100%',\n        x: config && config.filterSize && config.filterSize.x || '0%',\n        y: config && config.filterSize && config.filterSize.y || '0%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      defs: defs,\n      renderConfig: this.renderConfig\n    };\n    this.elements = [];\n    this.pendingElements = [];\n    this.destroyed = false;\n    this.rendererType = 'svg';\n  }\n\n  extendPrototype([SVGRendererBase], SVGRenderer);\n\n  SVGRenderer.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function CVContextData() {\n    this.saved = [];\n    this.cArrPos = 0;\n    this.cTr = new Matrix();\n    this.cO = 1;\n    var i;\n    var len = 15;\n    this.savedOp = createTypedArray('float32', len);\n\n    for (i = 0; i < len; i += 1) {\n      this.saved[i] = createTypedArray('float32', 16);\n    }\n\n    this._length = len;\n  }\n\n  CVContextData.prototype.duplicate = function () {\n    var newLength = this._length * 2;\n    var currentSavedOp = this.savedOp;\n    this.savedOp = createTypedArray('float32', newLength);\n    this.savedOp.set(currentSavedOp);\n    var i = 0;\n\n    for (i = this._length; i < newLength; i += 1) {\n      this.saved[i] = createTypedArray('float32', 16);\n    }\n\n    this._length = newLength;\n  };\n\n  CVContextData.prototype.reset = function () {\n    this.cArrPos = 0;\n    this.cTr.reset();\n    this.cO = 1;\n  };\n\n  function ShapeTransformManager() {\n    this.sequences = {};\n    this.sequenceList = [];\n    this.transform_key_count = 0;\n  }\n\n  ShapeTransformManager.prototype = {\n    addTransformSequence: function addTransformSequence(transforms) {\n      var i;\n      var len = transforms.length;\n      var key = '_';\n\n      for (i = 0; i < len; i += 1) {\n        key += transforms[i].transform.key + '_';\n      }\n\n      var sequence = this.sequences[key];\n\n      if (!sequence) {\n        sequence = {\n          transforms: [].concat(transforms),\n          finalTransform: new Matrix(),\n          _mdf: false\n        };\n        this.sequences[key] = sequence;\n        this.sequenceList.push(sequence);\n      }\n\n      return sequence;\n    },\n    processSequence: function processSequence(sequence, isFirstFrame) {\n      var i = 0;\n      var len = sequence.transforms.length;\n      var _mdf = isFirstFrame;\n\n      while (i < len && !isFirstFrame) {\n        if (sequence.transforms[i].transform.mProps._mdf) {\n          _mdf = true;\n          break;\n        }\n\n        i += 1;\n      }\n\n      if (_mdf) {\n        var props;\n        sequence.finalTransform.reset();\n\n        for (i = len - 1; i >= 0; i -= 1) {\n          props = sequence.transforms[i].transform.mProps.v.props;\n          sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n        }\n      }\n\n      sequence._mdf = _mdf;\n    },\n    processSequences: function processSequences(isFirstFrame) {\n      var i;\n      var len = this.sequenceList.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.processSequence(this.sequenceList[i], isFirstFrame);\n      }\n    },\n    getNewKey: function getNewKey() {\n      this.transform_key_count += 1;\n      return '_' + this.transform_key_count;\n    }\n  };\n\n  function CVEffects() {}\n\n  CVEffects.prototype.renderFrame = function () {};\n\n  function CVMaskElement(data, element) {\n    this.data = data;\n    this.element = element;\n    this.masksProperties = this.data.masksProperties || [];\n    this.viewData = createSizedArray(this.masksProperties.length);\n    var i;\n    var len = this.masksProperties.length;\n    var hasMasks = false;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        hasMasks = true;\n      }\n\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\n    }\n\n    this.hasMasks = hasMasks;\n\n    if (hasMasks) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  CVMaskElement.prototype.renderFrame = function () {\n    if (!this.hasMasks) {\n      return;\n    }\n\n    var transform = this.element.finalTransform.mat;\n    var ctx = this.element.canvasContext;\n    var i;\n    var len = this.masksProperties.length;\n    var pt;\n    var pts;\n    var data;\n    ctx.beginPath();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.masksProperties[i].inv) {\n          ctx.moveTo(0, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\n          ctx.lineTo(0, this.element.globalData.compSize.h);\n          ctx.lineTo(0, 0);\n        }\n\n        data = this.viewData[i].v;\n        pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\n        ctx.moveTo(pt[0], pt[1]);\n        var j;\n        var jLen = data._length;\n\n        for (j = 1; j < jLen; j += 1) {\n          pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\n          ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n        }\n\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n      }\n    }\n\n    this.element.globalData.renderer.save(true);\n    ctx.clip();\n  };\n\n  CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\n\n  CVMaskElement.prototype.destroy = function () {\n    this.element = null;\n  };\n\n  function CVBaseElement() {}\n\n  CVBaseElement.prototype = {\n    createElements: function createElements() {},\n    initRendererElement: function initRendererElement() {},\n    createContainerElements: function createContainerElements() {\n      this.canvasContext = this.globalData.canvasContext;\n      this.renderableEffectsManager = new CVEffects(this);\n    },\n    createContent: function createContent() {},\n    setBlendMode: function setBlendMode() {\n      var globalData = this.globalData;\n\n      if (globalData.blendMode !== this.data.bm) {\n        globalData.blendMode = this.data.bm;\n        var blendModeValue = getBlendMode(this.data.bm);\n        globalData.canvasContext.globalCompositeOperation = blendModeValue;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new CVMaskElement(this.data, this);\n    },\n    hideElement: function hideElement() {\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n        this.hidden = true;\n      }\n    },\n    showElement: function showElement() {\n      if (this.isInRange && !this.isTransparent) {\n        this.hidden = false;\n        this._isFirstFrame = true;\n        this.maskManager._isFirstFrame = true;\n      }\n    },\n    renderFrame: function renderFrame() {\n      if (this.hidden || this.data.hd) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.setBlendMode();\n      var forceRealStack = this.data.ty === 0;\n      this.globalData.renderer.save(forceRealStack);\n      this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\n      this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\n      this.renderInnerContent();\n      this.globalData.renderer.restore(forceRealStack);\n\n      if (this.maskManager.hasMasks) {\n        this.globalData.renderer.restore(true);\n      }\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.canvasContext = null;\n      this.data = null;\n      this.globalData = null;\n      this.maskManager.destroy();\n    },\n    mHelper: new Matrix()\n  };\n  CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\n  CVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\n\n  function CVShapeData(element, data, styles, transformsManager) {\n    this.styledShapes = [];\n    this.tr = [0, 0, 0, 0, 0, 0];\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\n    var i;\n    var len = styles.length;\n    var styledShape;\n\n    for (i = 0; i < len; i += 1) {\n      if (!styles[i].closed) {\n        styledShape = {\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\n          trNodes: []\n        };\n        this.styledShapes.push(styledShape);\n        styles[i].elements.push(styledShape);\n      }\n    }\n  }\n\n  CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\n\n  function CVShapeElement(data, globalData, comp) {\n    this.shapes = [];\n    this.shapesData = data.shapes;\n    this.stylesList = [];\n    this.itemsData = [];\n    this.prevViewData = [];\n    this.shapeModifiers = [];\n    this.processedElements = [];\n    this.transformsManager = new ShapeTransformManager();\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\n  CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\n  CVShapeElement.prototype.transformHelper = {\n    opacity: 1,\n    _opMdf: false\n  };\n  CVShapeElement.prototype.dashResetter = [];\n\n  CVShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n  };\n\n  CVShapeElement.prototype.createStyleElement = function (data, transforms) {\n    var styleElem = {\n      data: data,\n      type: data.ty,\n      preTransforms: this.transformsManager.addTransformSequence(transforms),\n      transforms: [],\n      elements: [],\n      closed: data.hd === true\n    };\n    var elementData = {};\n\n    if (data.ty === 'fl' || data.ty === 'st') {\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\n\n      if (!elementData.c.k) {\n        styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\n      }\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\n      elementData.h = PropertyFactory.getProp(this, data.h || {\n        k: 0\n      }, 0, 0.01, this);\n      elementData.a = PropertyFactory.getProp(this, data.a || {\n        k: 0\n      }, 0, degToRads, this);\n      elementData.g = new GradientProperty(this, data.g, this);\n    }\n\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      styleElem.lc = lineCapEnum[data.lc || 2];\n      styleElem.lj = lineJoinEnum[data.lj || 2];\n\n      if (data.lj == 1) {\n        // eslint-disable-line eqeqeq\n        styleElem.ml = data.ml;\n      }\n\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\n\n      if (!elementData.w.k) {\n        styleElem.wi = elementData.w.v;\n      }\n\n      if (data.d) {\n        var d = new DashProperty(this, data.d, 'canvas', this);\n        elementData.d = d;\n\n        if (!elementData.d.k) {\n          styleElem.da = elementData.d.dashArray;\n          styleElem[\"do\"] = elementData.d.dashoffset[0];\n        }\n      }\n    } else {\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\n    }\n\n    this.stylesList.push(styleElem);\n    elementData.style = styleElem;\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createGroupElement = function () {\n    var elementData = {\n      it: [],\n      prevViewData: []\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createTransformElement = function (data) {\n    var elementData = {\n      transform: {\n        opacity: 1,\n        _opMdf: false,\n        key: this.transformsManager.getNewKey(),\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\n        mProps: TransformPropertyFactory.getTransformProperty(this, data, this)\n      }\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createShapeElement = function (data) {\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    return elementData;\n  };\n\n  CVShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n  };\n\n  CVShapeElement.prototype.addTransformToStyleList = function (transform) {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.push(transform);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.removeTransformFromStyleList = function () {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.pop();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.closeStyles = function (styles) {\n    var i;\n    var len = styles.length;\n\n    for (i = 0; i < len; i += 1) {\n      styles[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var processedPos;\n    var modifier;\n    var currentTransform;\n    var ownTransforms = [].concat(transforms);\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._shouldRender = shouldRender;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          currentTransform = this.createTransformElement(arr[i]);\n          itemsData[i] = currentTransform;\n        }\n\n        ownTransforms.push(itemsData[i]);\n        this.addTransformToStyleList(itemsData[i]);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i]);\n        }\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          shouldRender = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    this.removeTransformFromStyleList();\n    this.closeStyles(ownStyles);\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.renderInnerContent = function () {\n    this.transformHelper.opacity = 1;\n    this.transformHelper._opMdf = false;\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n    this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\n  };\n\n  CVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\n      groupTransform.opacity = parentTransform.opacity;\n      groupTransform.opacity *= groupTransform.op.v;\n      groupTransform._opMdf = true;\n    }\n  };\n\n  CVShapeElement.prototype.drawLayer = function () {\n    var i;\n    var len = this.stylesList.length;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var elems;\n    var nodes;\n    var renderer = this.globalData.renderer;\n    var ctx = this.globalData.canvasContext;\n    var type;\n    var currentStyle;\n\n    for (i = 0; i < len; i += 1) {\n      currentStyle = this.stylesList[i];\n      type = currentStyle.type; // Skipping style when\n      // Stroke width equals 0\n      // style should not be rendered (extra unused repeaters)\n      // current opacity equals 0\n      // global opacity equals 0\n\n      if (!((type === 'st' || type === 'gs') && currentStyle.wi === 0 || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\n        renderer.save();\n        elems = currentStyle.elements;\n\n        if (type === 'st' || type === 'gs') {\n          ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\n          ctx.lineWidth = currentStyle.wi;\n          ctx.lineCap = currentStyle.lc;\n          ctx.lineJoin = currentStyle.lj;\n          ctx.miterLimit = currentStyle.ml || 0;\n        } else {\n          ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\n        }\n\n        renderer.ctxOpacity(currentStyle.coOp);\n\n        if (type !== 'st' && type !== 'gs') {\n          ctx.beginPath();\n        }\n\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\n        jLen = elems.length;\n\n        for (j = 0; j < jLen; j += 1) {\n          if (type === 'st' || type === 'gs') {\n            ctx.beginPath();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(currentStyle.da);\n              ctx.lineDashOffset = currentStyle[\"do\"];\n            }\n          }\n\n          nodes = elems[j].trNodes;\n          kLen = nodes.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            if (nodes[k].t === 'm') {\n              ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\n            } else if (nodes[k].t === 'c') {\n              ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\n            } else {\n              ctx.closePath();\n            }\n          }\n\n          if (type === 'st' || type === 'gs') {\n            ctx.stroke();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(this.dashResetter);\n            }\n          }\n        }\n\n        if (type !== 'st' && type !== 'gs') {\n          ctx.fill(currentStyle.r);\n        }\n\n        renderer.restore();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\n    var i;\n    var len = items.length - 1;\n    var groupTransform;\n    groupTransform = parentTransform;\n\n    for (i = len; i >= 0; i -= 1) {\n      if (items[i].ty === 'tr') {\n        groupTransform = data[i].transform;\n        this.renderShapeTransform(parentTransform, groupTransform);\n      } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\n        this.renderPath(items[i], data[i]);\n      } else if (items[i].ty === 'fl') {\n        this.renderFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'st') {\n        this.renderStroke(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\n        this.renderGradientFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gr') {\n        this.renderShape(groupTransform, items[i].it, data[i].it);\n      } else if (items[i].ty === 'tm') {//\n      }\n    }\n\n    if (isMain) {\n      this.drawLayer();\n    }\n  };\n\n  CVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\n      var shapeNodes = styledShape.trNodes;\n      var paths = shape.paths;\n      var i;\n      var len;\n      var j;\n      var jLen = paths._length;\n      shapeNodes.length = 0;\n      var groupTransformMat = styledShape.transforms.finalTransform;\n\n      for (j = 0; j < jLen; j += 1) {\n        var pathNodes = paths.shapes[j];\n\n        if (pathNodes && pathNodes.v) {\n          len = pathNodes._length;\n\n          for (i = 1; i < len; i += 1) {\n            if (i === 1) {\n              shapeNodes.push({\n                t: 'm',\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n              });\n            }\n\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\n            });\n          }\n\n          if (len === 1) {\n            shapeNodes.push({\n              t: 'm',\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n            });\n          }\n\n          if (pathNodes.c && len) {\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\n            });\n            shapeNodes.push({\n              t: 'z'\n            });\n          }\n        }\n      }\n\n      styledShape.trNodes = shapeNodes;\n    }\n  };\n\n  CVShapeElement.prototype.renderPath = function (pathData, itemData) {\n    if (pathData.hd !== true && pathData._shouldRender) {\n      var i;\n      var len = itemData.styledShapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n  };\n\n  CVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var grd;\n\n    if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf)) {\n      var ctx = this.globalData.canvasContext;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (styleData.t === 1) {\n        grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\n      } else {\n        var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n        var percent = itemData.h.v;\n\n        if (percent >= 1) {\n          percent = 0.99;\n        } else if (percent <= -1) {\n          percent = -0.99;\n        }\n\n        var dist = rad * percent;\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n        grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\n      }\n\n      var i;\n      var len = styleData.g.p;\n      var cValues = itemData.g.c;\n      var opacity = 1;\n\n      for (i = 0; i < len; i += 1) {\n        if (itemData.g._hasOpacity && itemData.g._collapsable) {\n          opacity = itemData.g.o[i * 2 + 1];\n        }\n\n        grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\n      }\n\n      styleElem.grd = grd;\n    }\n\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\n  };\n\n  CVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var d = itemData.d;\n\n    if (d && (d._mdf || this._isFirstFrame)) {\n      styleElem.da = d.dashArray;\n      styleElem[\"do\"] = d.dashoffset[0];\n    }\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n\n    if (itemData.w._mdf || this._isFirstFrame) {\n      styleElem.wi = itemData.w.v;\n    }\n  };\n\n  CVShapeElement.prototype.destroy = function () {\n    this.shapesData = null;\n    this.globalData = null;\n    this.canvasContext = null;\n    this.stylesList.length = 0;\n    this.itemsData.length = 0;\n  };\n\n  function CVTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.yOffset = 0;\n    this.fillColorAnim = false;\n    this.strokeColorAnim = false;\n    this.strokeWidthAnim = false;\n    this.stroke = false;\n    this.fill = false;\n    this.justifyOffset = 0;\n    this.currentRender = null;\n    this.renderType = 'canvas';\n    this.values = {\n      fill: 'rgba(0,0,0,0)',\n      stroke: 'rgba(0,0,0,0)',\n      sWidth: 0,\n      fValue: ''\n    };\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\n  CVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\n\n  CVTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var hasFill = false;\n\n    if (documentData.fc) {\n      hasFill = true;\n      this.values.fill = this.buildColor(documentData.fc);\n    } else {\n      this.values.fill = 'rgba(0,0,0,0)';\n    }\n\n    this.fill = hasFill;\n    var hasStroke = false;\n\n    if (documentData.sc) {\n      hasStroke = true;\n      this.values.stroke = this.buildColor(documentData.sc);\n      this.values.sWidth = documentData.sw;\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    var i;\n    var len;\n    var letters = documentData.l;\n    var matrixHelper = this.mHelper;\n    this.stroke = hasStroke;\n    this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\n    len = documentData.finalText.length; // this.tHelper.font = this.values.fValue;\n\n    var charData;\n    var shapeData;\n    var k;\n    var kLen;\n    var shapes;\n    var j;\n    var jLen;\n    var pathNodes;\n    var commands;\n    var pathArr;\n    var singleShape = this.data.singleShape;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n      shapeData = charData && charData.data || {};\n      matrixHelper.reset();\n\n      if (singleShape && letters[i].n) {\n        xPos = -trackingOffset;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        firstLine = false;\n      }\n\n      shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\n      jLen = shapes.length;\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n\n      if (singleShape) {\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n      }\n\n      commands = createSizedArray(jLen - 1);\n      var commandsCounter = 0;\n\n      for (j = 0; j < jLen; j += 1) {\n        if (shapes[j].ty === 'sh') {\n          kLen = shapes[j].ks.k.i.length;\n          pathNodes = shapes[j].ks.k;\n          pathArr = [];\n\n          for (k = 1; k < kLen; k += 1) {\n            if (k === 1) {\n              pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n            }\n\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\n          }\n\n          pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n          commands[commandsCounter] = pathArr;\n          commandsCounter += 1;\n        }\n      }\n\n      if (singleShape) {\n        xPos += letters[i].l;\n        xPos += trackingOffset;\n      }\n\n      if (this.textSpans[cnt]) {\n        this.textSpans[cnt].elem = commands;\n      } else {\n        this.textSpans[cnt] = {\n          elem: commands\n        };\n      }\n\n      cnt += 1;\n    }\n  };\n\n  CVTextElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.font = this.values.fValue;\n    ctx.lineCap = 'butt';\n    ctx.lineJoin = 'miter';\n    ctx.miterLimit = 4;\n\n    if (!this.data.singleShape) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n    }\n\n    var i;\n    var len;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var lastFill = null;\n    var lastStroke = null;\n    var lastStrokeW = null;\n    var commands;\n    var pathArr;\n\n    for (i = 0; i < len; i += 1) {\n      if (!letters[i].n) {\n        renderedLetter = renderedLetters[i];\n\n        if (renderedLetter) {\n          this.globalData.renderer.save();\n          this.globalData.renderer.ctxTransform(renderedLetter.p);\n          this.globalData.renderer.ctxOpacity(renderedLetter.o);\n        }\n\n        if (this.fill) {\n          if (renderedLetter && renderedLetter.fc) {\n            if (lastFill !== renderedLetter.fc) {\n              lastFill = renderedLetter.fc;\n              ctx.fillStyle = renderedLetter.fc;\n            }\n          } else if (lastFill !== this.values.fill) {\n            lastFill = this.values.fill;\n            ctx.fillStyle = this.values.fill;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          this.globalData.canvasContext.fill(); /// ctx.fillText(this.textSpans[i].val,0,0);\n        }\n\n        if (this.stroke) {\n          if (renderedLetter && renderedLetter.sw) {\n            if (lastStrokeW !== renderedLetter.sw) {\n              lastStrokeW = renderedLetter.sw;\n              ctx.lineWidth = renderedLetter.sw;\n            }\n          } else if (lastStrokeW !== this.values.sWidth) {\n            lastStrokeW = this.values.sWidth;\n            ctx.lineWidth = this.values.sWidth;\n          }\n\n          if (renderedLetter && renderedLetter.sc) {\n            if (lastStroke !== renderedLetter.sc) {\n              lastStroke = renderedLetter.sc;\n              ctx.strokeStyle = renderedLetter.sc;\n            }\n          } else if (lastStroke !== this.values.stroke) {\n            lastStroke = this.values.stroke;\n            ctx.strokeStyle = this.values.stroke;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          this.globalData.canvasContext.stroke(); /// ctx.strokeText(letters[i].val,0,0);\n        }\n\n        if (renderedLetter) {\n          this.globalData.renderer.restore();\n        }\n      }\n    }\n  };\n\n  function CVImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.img = globalData.imageLoader.getAsset(this.assetData);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\n  CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVImageElement.prototype.createContent = function () {\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\n      var canvas = createTag('canvas');\n      canvas.width = this.assetData.w;\n      canvas.height = this.assetData.h;\n      var ctx = canvas.getContext('2d');\n      var imgW = this.img.width;\n      var imgH = this.img.height;\n      var imgRel = imgW / imgH;\n      var canvasRel = this.assetData.w / this.assetData.h;\n      var widthCrop;\n      var heightCrop;\n      var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\n\n      if (imgRel > canvasRel && par === 'xMidYMid slice' || imgRel < canvasRel && par !== 'xMidYMid slice') {\n        heightCrop = imgH;\n        widthCrop = heightCrop * canvasRel;\n      } else {\n        widthCrop = imgW;\n        heightCrop = widthCrop / canvasRel;\n      }\n\n      ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\n      this.img = canvas;\n    }\n  };\n\n  CVImageElement.prototype.renderInnerContent = function () {\n    this.canvasContext.drawImage(this.img, 0, 0);\n  };\n\n  CVImageElement.prototype.destroy = function () {\n    this.img = null;\n  };\n\n  function CVSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\n  CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVSolidElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.fillStyle = this.data.sc;\n    ctx.fillRect(0, 0, this.data.sw, this.data.sh); //\n  };\n\n  function CanvasRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || ''\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n  }\n\n  extendPrototype([BaseRenderer], CanvasRendererBase);\n\n  CanvasRendererBase.prototype.createShape = function (data) {\n    return new CVShapeElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createText = function (data) {\n    return new CVTextElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createImage = function (data) {\n    return new CVImageElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createSolid = function (data) {\n    return new CVSolidElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  CanvasRendererBase.prototype.ctxTransform = function (props) {\n    if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\n      return;\n    }\n\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\n      return;\n    }\n\n    this.transformMat.cloneFromProps(props);\n    var cProps = this.contextData.cTr.props;\n    this.transformMat.transform(cProps[0], cProps[1], cProps[2], cProps[3], cProps[4], cProps[5], cProps[6], cProps[7], cProps[8], cProps[9], cProps[10], cProps[11], cProps[12], cProps[13], cProps[14], cProps[15]); // this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\n\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\n    var trProps = this.contextData.cTr.props;\n    this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\n  };\n\n  CanvasRendererBase.prototype.ctxOpacity = function (op) {\n    /* if(op === 1){\r\n          return;\r\n      } */\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\n      this.globalData.currentGlobalAlpha = this.contextData.cO;\n      return;\n    }\n\n    this.contextData.cO *= op < 0 ? 0 : op;\n\n    if (this.globalData.currentGlobalAlpha !== this.contextData.cO) {\n      this.canvasContext.globalAlpha = this.contextData.cO;\n      this.globalData.currentGlobalAlpha = this.contextData.cO;\n    }\n  };\n\n  CanvasRendererBase.prototype.reset = function () {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    this.contextData.reset();\n  };\n\n  CanvasRendererBase.prototype.save = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.save();\n      return;\n    }\n\n    if (actionFlag) {\n      this.canvasContext.save();\n    }\n\n    var props = this.contextData.cTr.props;\n\n    if (this.contextData._length <= this.contextData.cArrPos) {\n      this.contextData.duplicate();\n    }\n\n    var i;\n    var arr = this.contextData.saved[this.contextData.cArrPos];\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = props[i];\n    }\n\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\n    this.contextData.cArrPos += 1;\n  };\n\n  CanvasRendererBase.prototype.restore = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    if (actionFlag) {\n      this.canvasContext.restore();\n      this.globalData.blendMode = 'source-over';\n    }\n\n    this.contextData.cArrPos -= 1;\n    var popped = this.contextData.saved[this.contextData.cArrPos];\n    var i;\n    var arr = this.contextData.cTr.props;\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = popped[i];\n    }\n\n    this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\n    this.contextData.cO = popped;\n\n    if (this.globalData.currentGlobalAlpha !== popped) {\n      this.canvasContext.globalAlpha = popped;\n      this.globalData.currentGlobalAlpha = popped;\n    }\n  };\n\n  CanvasRendererBase.prototype.configAnimation = function (animData) {\n    if (this.animationItem.wrapper) {\n      this.animationItem.container = createTag('canvas');\n      var containerStyle = this.animationItem.container.style;\n      containerStyle.width = '100%';\n      containerStyle.height = '100%';\n      var origin = '0px 0px 0px';\n      containerStyle.transformOrigin = origin;\n      containerStyle.mozTransformOrigin = origin;\n      containerStyle.webkitTransformOrigin = origin;\n      containerStyle['-webkit-transform'] = origin;\n      containerStyle.contentVisibility = this.renderConfig.contentVisibility;\n      this.animationItem.wrapper.appendChild(this.animationItem.container);\n      this.canvasContext = this.animationItem.container.getContext('2d');\n\n      if (this.renderConfig.className) {\n        this.animationItem.container.setAttribute('class', this.renderConfig.className);\n      }\n\n      if (this.renderConfig.id) {\n        this.animationItem.container.setAttribute('id', this.renderConfig.id);\n      }\n    } else {\n      this.canvasContext = this.renderConfig.context;\n    }\n\n    this.data = animData;\n    this.layers = animData.layers;\n    this.transformCanvas = {\n      w: animData.w,\n      h: animData.h,\n      sx: 0,\n      sy: 0,\n      tx: 0,\n      ty: 0\n    };\n    this.setupGlobalData(animData, document.body);\n    this.globalData.canvasContext = this.canvasContext;\n    this.globalData.renderer = this;\n    this.globalData.isDashed = false;\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.globalData.transformCanvas = this.transformCanvas;\n    this.elements = createSizedArray(animData.layers.length);\n    this.updateContainerSize();\n  };\n\n  CanvasRendererBase.prototype.updateContainerSize = function () {\n    this.reset();\n    var elementWidth;\n    var elementHeight;\n\n    if (this.animationItem.wrapper && this.animationItem.container) {\n      elementWidth = this.animationItem.wrapper.offsetWidth;\n      elementHeight = this.animationItem.wrapper.offsetHeight;\n      this.animationItem.container.setAttribute('width', elementWidth * this.renderConfig.dpr);\n      this.animationItem.container.setAttribute('height', elementHeight * this.renderConfig.dpr);\n    } else {\n      elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\n      elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\n    }\n\n    var elementRel;\n    var animationRel;\n\n    if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\n      var par = this.renderConfig.preserveAspectRatio.split(' ');\n      var fillType = par[1] || 'meet';\n      var pos = par[0] || 'xMidYMid';\n      var xPos = pos.substr(0, 4);\n      var yPos = pos.substr(4);\n      elementRel = elementWidth / elementHeight;\n      animationRel = this.transformCanvas.w / this.transformCanvas.h;\n\n      if (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice') {\n        this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      } else {\n        this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      }\n\n      if (xPos === 'xMid' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;\n      } else if (xPos === 'xMax' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.tx = 0;\n      }\n\n      if (yPos === 'YMid' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;\n      } else if (yPos === 'YMax' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.ty = 0;\n      }\n    } else if (this.renderConfig.preserveAspectRatio === 'none') {\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    } else {\n      this.transformCanvas.sx = this.renderConfig.dpr;\n      this.transformCanvas.sy = this.renderConfig.dpr;\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    }\n\n    this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\n    /* var i, len = this.elements.length;\r\n      for(i=0;i<len;i+=1){\r\n          if(this.elements[i] && this.elements[i].data.ty === 0){\r\n              this.elements[i].resize(this.globalData.transformCanvas);\r\n          }\r\n      } */\n\n    this.ctxTransform(this.transformCanvas.props);\n    this.canvasContext.beginPath();\n    this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n    this.canvasContext.closePath();\n    this.canvasContext.clip();\n    this.renderFrame(this.renderedFrame, true);\n  };\n\n  CanvasRendererBase.prototype.destroy = function () {\n    if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.globalData.canvasContext = null;\n    this.animationItem.container = null;\n    this.destroyed = true;\n  };\n\n  CanvasRendererBase.prototype.renderFrame = function (num, forceRender) {\n    if (this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender || this.destroyed || num === -1) {\n      return;\n    }\n\n    this.renderedFrame = num;\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\n    this.globalData.frameId += 1;\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\n    this.globalData.projectInterface.currentFrame = num; // console.log('--------');\n    // console.log('NEW: ',num);\n\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      if (this.renderConfig.clearCanvas === true) {\n        this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n      } else {\n        this.save();\n      }\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n\n      if (this.renderConfig.clearCanvas !== true) {\n        this.restore();\n      }\n    }\n  };\n\n  CanvasRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    var element = this.createItem(this.layers[pos], this, this.globalData);\n    elements[pos] = element;\n    element.initExpressions();\n    /* if(this.layers[pos].ty === 0){\r\n          element.resize(this.globalData.transformCanvas);\r\n      } */\n  };\n\n  CanvasRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  CanvasRendererBase.prototype.hide = function () {\n    this.animationItem.container.style.display = 'none';\n  };\n\n  CanvasRendererBase.prototype.show = function () {\n    this.animationItem.container.style.display = 'block';\n  };\n\n  function CVCompElement(data, globalData, comp) {\n    this.completeLayers = false;\n    this.layers = data.layers;\n    this.pendingElements = [];\n    this.elements = createSizedArray(this.layers.length);\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement);\n\n  CVCompElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(this.data.w, 0);\n    ctx.lineTo(this.data.w, this.data.h);\n    ctx.lineTo(0, this.data.h);\n    ctx.lineTo(0, 0);\n    ctx.clip();\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  CVCompElement.prototype.destroy = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.layers = null;\n    this.elements = null;\n  };\n\n  CVCompElement.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function CanvasRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || ''\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n  }\n\n  extendPrototype([CanvasRendererBase], CanvasRenderer);\n\n  CanvasRenderer.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function HBaseElement() {}\n\n  HBaseElement.prototype = {\n    checkBlendMode: function checkBlendMode() {},\n    initRendererElement: function initRendererElement() {\n      this.baseElement = createTag(this.data.tg || 'div');\n\n      if (this.data.hasMask) {\n        this.svgElement = createNS('svg');\n        this.layerElement = createNS('g');\n        this.maskedElement = this.layerElement;\n        this.svgElement.appendChild(this.layerElement);\n        this.baseElement.appendChild(this.svgElement);\n      } else {\n        this.layerElement = this.baseElement;\n      }\n\n      styleDiv(this.baseElement);\n    },\n    createContainerElements: function createContainerElements() {\n      this.renderableEffectsManager = new CVEffects(this);\n      this.transformedElement = this.baseElement;\n      this.maskedElement = this.layerElement;\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\n\n      if (this.finalTransform._matMdf) {\n        var matrixValue = this.finalTransform.mat.toCSS();\n        transformedElementStyle.transform = matrixValue;\n        transformedElementStyle.webkitTransform = matrixValue;\n      }\n\n      if (this.finalTransform._opMdf) {\n        transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderFrame: function renderFrame() {\n      // If it is exported as hidden (data.hd === true) no need to render\n      // If it is not visible no need to render\n      if (this.data.hd || this.hidden) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderElement();\n      this.renderInnerContent();\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.layerElement = null;\n      this.transformedElement = null;\n\n      if (this.matteElement) {\n        this.matteElement = null;\n      }\n\n      if (this.maskManager) {\n        this.maskManager.destroy();\n        this.maskManager = null;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n    },\n    addEffects: function addEffects() {},\n    setMatte: function setMatte() {}\n  };\n  HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\n  HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\n  HBaseElement.prototype.buildElementParenting = BaseRenderer.prototype.buildElementParenting;\n\n  function HSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\n\n  HSolidElement.prototype.createContent = function () {\n    var rect;\n\n    if (this.data.hasMask) {\n      rect = createNS('rect');\n      rect.setAttribute('width', this.data.sw);\n      rect.setAttribute('height', this.data.sh);\n      rect.setAttribute('fill', this.data.sc);\n      this.svgElement.setAttribute('width', this.data.sw);\n      this.svgElement.setAttribute('height', this.data.sh);\n    } else {\n      rect = createTag('div');\n      rect.style.width = this.data.sw + 'px';\n      rect.style.height = this.data.sh + 'px';\n      rect.style.backgroundColor = this.data.sc;\n    }\n\n    this.layerElement.appendChild(rect);\n  };\n\n  function HShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.shapesContainer = createNS('g');\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\n  HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\n\n  HShapeElement.prototype.createContent = function () {\n    var cont;\n    this.baseElement.style.fontSize = 0;\n\n    if (this.data.hasMask) {\n      this.layerElement.appendChild(this.shapesContainer);\n      cont = this.svgElement;\n    } else {\n      cont = createNS('svg');\n      var size = this.comp.data ? this.comp.data : this.globalData.compSize;\n      cont.setAttribute('width', size.w);\n      cont.setAttribute('height', size.h);\n      cont.appendChild(this.shapesContainer);\n      this.layerElement.appendChild(cont);\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\n    this.filterUniqueShapes();\n    this.shapeCont = cont;\n  };\n\n  HShapeElement.prototype.getTransformedPoint = function (transformers, point) {\n    var i;\n    var len = transformers.length;\n\n    for (i = 0; i < len; i += 1) {\n      point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\n    }\n\n    return point;\n  };\n\n  HShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\n    var shape = item.sh.v;\n    var transformers = item.transformers;\n    var i;\n    var len = shape._length;\n    var vPoint;\n    var oPoint;\n    var nextIPoint;\n    var nextVPoint;\n\n    if (len <= 1) {\n      return;\n    }\n\n    for (i = 0; i < len - 1; i += 1) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n\n    if (shape.c) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n  };\n\n  HShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\n    var bounds = this.shapeBoundingBox;\n    boundingBox.x = bmMin(bounds.left, boundingBox.x);\n    boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\n    boundingBox.y = bmMin(bounds.top, boundingBox.y);\n    boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\n  };\n\n  HShapeElement.prototype.shapeBoundingBox = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  HShapeElement.prototype.tempBoundingBox = {\n    x: 0,\n    xMax: 0,\n    y: 0,\n    yMax: 0,\n    width: 0,\n    height: 0\n  };\n\n  HShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\n    var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\n\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\n      // eslint-disable-line no-plusplus\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n      c = 3 * p1[i] - 3 * p0[i];\n      b |= 0; // eslint-disable-line no-bitwise\n\n      a |= 0; // eslint-disable-line no-bitwise\n\n      c |= 0; // eslint-disable-line no-bitwise\n\n      if (a === 0 && b === 0) {//\n      } else if (a === 0) {\n        t = -c / b;\n\n        if (t > 0 && t < 1) {\n          bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\n        }\n      } else {\n        b2ac = b * b - 4 * c * a;\n\n        if (b2ac >= 0) {\n          t1 = (-b + bmSqrt(b2ac)) / (2 * a);\n          if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\n          t2 = (-b - bmSqrt(b2ac)) / (2 * a);\n          if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\n        }\n      }\n    }\n\n    this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\n    this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\n    this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\n    this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\n  };\n\n  HShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\n    return bmPow(1 - t, 3) * p0[i] + 3 * bmPow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * bmPow(t, 2) * p2[i] + bmPow(t, 3) * p3[i];\n  };\n\n  HShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\n    var i;\n    var len = itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (itemsData[i] && itemsData[i].sh) {\n        this.calculateShapeBoundingBox(itemsData[i], boundingBox);\n      } else if (itemsData[i] && itemsData[i].it) {\n        this.calculateBoundingBox(itemsData[i].it, boundingBox);\n      }\n    }\n  };\n\n  HShapeElement.prototype.currentBoxContains = function (box) {\n    return this.currentBBox.x <= box.x && this.currentBBox.y <= box.y && this.currentBBox.width + this.currentBBox.x >= box.x + box.width && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\n  };\n\n  HShapeElement.prototype.renderInnerContent = function () {\n    this._renderShapeFrame();\n\n    if (!this.hidden && (this._isFirstFrame || this._mdf)) {\n      var tempBoundingBox = this.tempBoundingBox;\n      var max = 999999;\n      tempBoundingBox.x = max;\n      tempBoundingBox.xMax = -max;\n      tempBoundingBox.y = max;\n      tempBoundingBox.yMax = -max;\n      this.calculateBoundingBox(this.itemsData, tempBoundingBox);\n      tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\n      tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y; // var tempBoundingBox = this.shapeCont.getBBox();\n\n      if (this.currentBoxContains(tempBoundingBox)) {\n        return;\n      }\n\n      var changed = false;\n\n      if (this.currentBBox.w !== tempBoundingBox.width) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.shapeCont.setAttribute('width', tempBoundingBox.width);\n        changed = true;\n      }\n\n      if (this.currentBBox.h !== tempBoundingBox.height) {\n        this.currentBBox.h = tempBoundingBox.height;\n        this.shapeCont.setAttribute('height', tempBoundingBox.height);\n        changed = true;\n      }\n\n      if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.currentBBox.h = tempBoundingBox.height;\n        this.currentBBox.x = tempBoundingBox.x;\n        this.currentBBox.y = tempBoundingBox.y;\n        this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        var shapeStyle = this.shapeCont.style;\n        var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        shapeStyle.transform = shapeTransform;\n        shapeStyle.webkitTransform = shapeTransform;\n      }\n    }\n  };\n\n  function HTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.textPaths = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n    this.renderType = 'svg';\n    this.isMasked = false;\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\n\n  HTextElement.prototype.createContent = function () {\n    this.isMasked = this.checkMasks();\n\n    if (this.isMasked) {\n      this.renderType = 'svg';\n      this.compW = this.comp.data.w;\n      this.compH = this.comp.data.h;\n      this.svgElement.setAttribute('width', this.compW);\n      this.svgElement.setAttribute('height', this.compH);\n      var g = createNS('g');\n      this.maskedElement.appendChild(g);\n      this.innerElem = g;\n    } else {\n      this.renderType = 'html';\n      this.innerElem = this.layerElement;\n    }\n\n    this.checkParenting();\n  };\n\n  HTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var innerElemStyle = this.innerElem.style;\n    var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\n    innerElemStyle.fill = textColor;\n    innerElemStyle.color = textColor;\n\n    if (documentData.sc) {\n      innerElemStyle.stroke = this.buildColor(documentData.sc);\n      innerElemStyle.strokeWidth = documentData.sw + 'px';\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (!this.globalData.fontManager.chars) {\n      innerElemStyle.fontSize = documentData.finalSize + 'px';\n      innerElemStyle.lineHeight = documentData.finalSize + 'px';\n\n      if (fontData.fClass) {\n        this.innerElem.className = fontData.fClass;\n      } else {\n        innerElemStyle.fontFamily = fontData.fFamily;\n        var fWeight = documentData.fWeight;\n        var fStyle = documentData.fStyle;\n        innerElemStyle.fontStyle = fStyle;\n        innerElemStyle.fontWeight = fWeight;\n      }\n    }\n\n    var i;\n    var len;\n    var letters = documentData.l;\n    len = letters.length;\n    var tSpan;\n    var tParent;\n    var tCont;\n    var matrixHelper = this.mHelper;\n    var shapes;\n    var shapeStr = '';\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.globalData.fontManager.chars) {\n        if (!this.textPaths[cnt]) {\n          tSpan = createNS('path');\n          tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\n          tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\n          tSpan.setAttribute('stroke-miterlimit', '4');\n        } else {\n          tSpan = this.textPaths[cnt];\n        }\n\n        if (!this.isMasked) {\n          if (this.textSpans[cnt]) {\n            tParent = this.textSpans[cnt];\n            tCont = tParent.children[0];\n          } else {\n            tParent = createTag('div');\n            tParent.style.lineHeight = 0;\n            tCont = createNS('svg');\n            tCont.appendChild(tSpan);\n            styleDiv(tParent);\n          }\n        }\n      } else if (!this.isMasked) {\n        if (this.textSpans[cnt]) {\n          tParent = this.textSpans[cnt];\n          tSpan = this.textPaths[cnt];\n        } else {\n          tParent = createTag('span');\n          styleDiv(tParent);\n          tSpan = createTag('span');\n          styleDiv(tSpan);\n          tParent.appendChild(tSpan);\n        }\n      } else {\n        tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\n      } // tSpan.setAttribute('visibility', 'hidden');\n\n\n      if (this.globalData.fontManager.chars) {\n        var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n        var shapeData;\n\n        if (charData) {\n          shapeData = charData.data;\n        } else {\n          shapeData = null;\n        }\n\n        matrixHelper.reset();\n\n        if (shapeData && shapeData.shapes && shapeData.shapes.length) {\n          shapes = shapeData.shapes[0].it;\n          matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n          shapeStr = this.createPathShape(matrixHelper, shapes);\n          tSpan.setAttribute('d', shapeStr);\n        }\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent);\n\n          if (shapeData && shapeData.shapes) {\n            // document.body.appendChild is needed to get exact measure of shape\n            document.body.appendChild(tCont);\n            var boundingBox = tCont.getBBox();\n            tCont.setAttribute('width', boundingBox.width + 2);\n            tCont.setAttribute('height', boundingBox.height + 2);\n            tCont.setAttribute('viewBox', boundingBox.x - 1 + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\n            var tContStyle = tCont.style;\n            var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\n            tContStyle.transform = tContTranslation;\n            tContStyle.webkitTransform = tContTranslation;\n            letters[i].yOffset = boundingBox.y - 1;\n          } else {\n            tCont.setAttribute('width', 1);\n            tCont.setAttribute('height', 1);\n          }\n\n          tParent.appendChild(tCont);\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } else {\n        tSpan.textContent = letters[i].val;\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent); //\n\n          var tStyle = tSpan.style;\n          var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\n          tStyle.transform = tSpanTranslation;\n          tStyle.webkitTransform = tSpanTranslation;\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } //\n\n\n      if (!this.isMasked) {\n        this.textSpans[cnt] = tParent;\n      } else {\n        this.textSpans[cnt] = tSpan;\n      }\n\n      this.textSpans[cnt].style.display = 'block';\n      this.textPaths[cnt] = tSpan;\n      cnt += 1;\n    }\n\n    while (cnt < this.textSpans.length) {\n      this.textSpans[cnt].style.display = 'none';\n      cnt += 1;\n    }\n  };\n\n  HTextElement.prototype.renderInnerContent = function () {\n    var svgStyle;\n\n    if (this.data.singleShape) {\n      if (!this._isFirstFrame && !this.lettersChangedFlag) {\n        return;\n      }\n\n      if (this.isMasked && this.finalTransform._matMdf) {\n        // Todo Benchmark if using this is better than getBBox\n        this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\n        svgStyle = this.svgElement.style;\n        var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\n        svgStyle.transform = translation;\n        svgStyle.webkitTransform = translation;\n      }\n    }\n\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n    if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\n      return;\n    }\n\n    var i;\n    var len;\n    var count = 0;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var textSpan;\n    var textPath;\n\n    for (i = 0; i < len; i += 1) {\n      if (letters[i].n) {\n        count += 1;\n      } else {\n        textSpan = this.textSpans[i];\n        textPath = this.textPaths[i];\n        renderedLetter = renderedLetters[count];\n        count += 1;\n\n        if (renderedLetter._mdf.m) {\n          if (!this.isMasked) {\n            textSpan.style.webkitTransform = renderedLetter.m;\n            textSpan.style.transform = renderedLetter.m;\n          } else {\n            textSpan.setAttribute('transform', renderedLetter.m);\n          }\n        } /// /textSpan.setAttribute('opacity',renderedLetter.o);\n\n\n        textSpan.style.opacity = renderedLetter.o;\n\n        if (renderedLetter.sw && renderedLetter._mdf.sw) {\n          textPath.setAttribute('stroke-width', renderedLetter.sw);\n        }\n\n        if (renderedLetter.sc && renderedLetter._mdf.sc) {\n          textPath.setAttribute('stroke', renderedLetter.sc);\n        }\n\n        if (renderedLetter.fc && renderedLetter._mdf.fc) {\n          textPath.setAttribute('fill', renderedLetter.fc);\n          textPath.style.color = renderedLetter.fc;\n        }\n      }\n    }\n\n    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\n      var boundingBox = this.innerElem.getBBox();\n\n      if (this.currentBBox.w !== boundingBox.width) {\n        this.currentBBox.w = boundingBox.width;\n        this.svgElement.setAttribute('width', boundingBox.width);\n      }\n\n      if (this.currentBBox.h !== boundingBox.height) {\n        this.currentBBox.h = boundingBox.height;\n        this.svgElement.setAttribute('height', boundingBox.height);\n      }\n\n      var margin = 1;\n\n      if (this.currentBBox.w !== boundingBox.width + margin * 2 || this.currentBBox.h !== boundingBox.height + margin * 2 || this.currentBBox.x !== boundingBox.x - margin || this.currentBBox.y !== boundingBox.y - margin) {\n        this.currentBBox.w = boundingBox.width + margin * 2;\n        this.currentBBox.h = boundingBox.height + margin * 2;\n        this.currentBBox.x = boundingBox.x - margin;\n        this.currentBBox.y = boundingBox.y - margin;\n        this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        svgStyle = this.svgElement.style;\n        var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        svgStyle.transform = svgTransform;\n        svgStyle.webkitTransform = svgTransform;\n      }\n    }\n  };\n\n  function HCameraElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initHierarchy();\n    var getProp = PropertyFactory.getProp;\n    this.pe = getProp(this, data.pe, 0, 0, this);\n\n    if (data.ks.p.s) {\n      this.px = getProp(this, data.ks.p.x, 1, 0, this);\n      this.py = getProp(this, data.ks.p.y, 1, 0, this);\n      this.pz = getProp(this, data.ks.p.z, 1, 0, this);\n    } else {\n      this.p = getProp(this, data.ks.p, 1, 0, this);\n    }\n\n    if (data.ks.a) {\n      this.a = getProp(this, data.ks.a, 1, 0, this);\n    }\n\n    if (data.ks.or.k.length && data.ks.or.k[0].to) {\n      var i;\n      var len = data.ks.or.k.length;\n\n      for (i = 0; i < len; i += 1) {\n        data.ks.or.k[i].to = null;\n        data.ks.or.k[i].ti = null;\n      }\n    }\n\n    this.or = getProp(this, data.ks.or, 1, degToRads, this);\n    this.or.sh = true;\n    this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\n    this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\n    this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\n    this.mat = new Matrix();\n    this._prevMat = new Matrix();\n    this._isFirstFrame = true; // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\n\n    this.finalTransform = {\n      mProp: this\n    };\n  }\n\n  extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\n\n  HCameraElement.prototype.setup = function () {\n    var i;\n    var len = this.comp.threeDElements.length;\n    var comp;\n    var perspectiveStyle;\n    var containerStyle;\n\n    for (i = 0; i < len; i += 1) {\n      // [perspectiveElem,container]\n      comp = this.comp.threeDElements[i];\n\n      if (comp.type === '3d') {\n        perspectiveStyle = comp.perspectiveElem.style;\n        containerStyle = comp.container.style;\n        var perspective = this.pe.v + 'px';\n        var origin = '0px 0px 0px';\n        var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n        perspectiveStyle.perspective = perspective;\n        perspectiveStyle.webkitPerspective = perspective;\n        containerStyle.transformOrigin = origin;\n        containerStyle.mozTransformOrigin = origin;\n        containerStyle.webkitTransformOrigin = origin;\n        perspectiveStyle.transform = matrix;\n        perspectiveStyle.webkitTransform = matrix;\n      }\n    }\n  };\n\n  HCameraElement.prototype.createElements = function () {};\n\n  HCameraElement.prototype.hide = function () {};\n\n  HCameraElement.prototype.renderFrame = function () {\n    var _mdf = this._isFirstFrame;\n    var i;\n    var len;\n\n    if (this.hierarchy) {\n      len = this.hierarchy.length;\n\n      for (i = 0; i < len; i += 1) {\n        _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\n      }\n    }\n\n    if (_mdf || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {\n      this.mat.reset();\n\n      if (this.hierarchy) {\n        len = this.hierarchy.length - 1;\n\n        for (i = len; i >= 0; i -= 1) {\n          var mTransf = this.hierarchy[i].finalTransform.mProp;\n          this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\n          this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\n          this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\n          this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\n          this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\n        }\n      }\n\n      if (this.p) {\n        this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\n      } else {\n        this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\n      }\n\n      if (this.a) {\n        var diffVector;\n\n        if (this.p) {\n          diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\n        } else {\n          diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\n        }\n\n        var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2)); // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\n\n        var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\n        var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\n        var mRotationX = Math.atan2(lookDir[1], lookLengthOnXZ);\n        var mRotationY = Math.atan2(lookDir[0], -lookDir[2]);\n        this.mat.rotateY(mRotationY).rotateX(-mRotationX);\n      }\n\n      this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\n      this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\n      this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\n      this.mat.translate(0, 0, this.pe.v);\n      var hasMatrixChanged = !this._prevMat.equals(this.mat);\n\n      if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\n        len = this.comp.threeDElements.length;\n        var comp;\n        var perspectiveStyle;\n        var containerStyle;\n\n        for (i = 0; i < len; i += 1) {\n          comp = this.comp.threeDElements[i];\n\n          if (comp.type === '3d') {\n            if (hasMatrixChanged) {\n              var matValue = this.mat.toCSS();\n              containerStyle = comp.container.style;\n              containerStyle.transform = matValue;\n              containerStyle.webkitTransform = matValue;\n            }\n\n            if (this.pe._mdf) {\n              perspectiveStyle = comp.perspectiveElem.style;\n              perspectiveStyle.perspective = this.pe.v + 'px';\n              perspectiveStyle.webkitPerspective = this.pe.v + 'px';\n            }\n          }\n        }\n\n        this.mat.clone(this._prevMat);\n      }\n    }\n\n    this._isFirstFrame = false;\n  };\n\n  HCameraElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  HCameraElement.prototype.destroy = function () {};\n\n  HCameraElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  function HImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\n\n  HImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    var img = new Image();\n\n    if (this.data.hasMask) {\n      this.imageElem = createNS('image');\n      this.imageElem.setAttribute('width', this.assetData.w + 'px');\n      this.imageElem.setAttribute('height', this.assetData.h + 'px');\n      this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n      this.layerElement.appendChild(this.imageElem);\n      this.baseElement.setAttribute('width', this.assetData.w);\n      this.baseElement.setAttribute('height', this.assetData.h);\n    } else {\n      this.layerElement.appendChild(img);\n    }\n\n    img.crossOrigin = 'anonymous';\n    img.src = assetPath;\n\n    if (this.data.ln) {\n      this.baseElement.setAttribute('id', this.data.ln);\n    }\n  };\n\n  function HybridRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([BaseRenderer], HybridRendererBase);\n  HybridRendererBase.prototype.buildItem = SVGRenderer.prototype.buildItem;\n\n  HybridRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  HybridRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newDOMElement = element.getBaseElement();\n\n    if (!newDOMElement) {\n      return;\n    }\n\n    var layer = this.layers[pos];\n\n    if (!layer.ddd || !this.supports3d) {\n      if (this.threeDElements) {\n        this.addTo3dContainer(newDOMElement, pos);\n      } else {\n        var i = 0;\n        var nextDOMElement;\n        var nextLayer;\n        var tmpDOMElement;\n\n        while (i < pos) {\n          if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\n            nextLayer = this.elements[i];\n            tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\n            nextDOMElement = tmpDOMElement || nextDOMElement;\n          }\n\n          i += 1;\n        }\n\n        if (nextDOMElement) {\n          if (!layer.ddd || !this.supports3d) {\n            this.layerElement.insertBefore(newDOMElement, nextDOMElement);\n          }\n        } else if (!layer.ddd || !this.supports3d) {\n          this.layerElement.appendChild(newDOMElement);\n        }\n      }\n    } else {\n      this.addTo3dContainer(newDOMElement, pos);\n    }\n  };\n\n  HybridRendererBase.prototype.createShape = function (data) {\n    if (!this.supports3d) {\n      return new SVGShapeElement(data, this.globalData, this);\n    }\n\n    return new HShapeElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createText = function (data) {\n    if (!this.supports3d) {\n      return new SVGTextLottieElement(data, this.globalData, this);\n    }\n\n    return new HTextElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createCamera = function (data) {\n    this.camera = new HCameraElement(data, this.globalData, this);\n    return this.camera;\n  };\n\n  HybridRendererBase.prototype.createImage = function (data) {\n    if (!this.supports3d) {\n      return new IImageElement(data, this.globalData, this);\n    }\n\n    return new HImageElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createSolid = function (data) {\n    if (!this.supports3d) {\n      return new ISolidElement(data, this.globalData, this);\n    }\n\n    return new HSolidElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  HybridRendererBase.prototype.getThreeDContainerByPos = function (pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\n        return this.threeDElements[i].perspectiveElem;\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  HybridRendererBase.prototype.createThreeDContainer = function (pos, type) {\n    var perspectiveElem = createTag('div');\n    var style;\n    var containerStyle;\n    styleDiv(perspectiveElem);\n    var container = createTag('div');\n    styleDiv(container);\n\n    if (type === '3d') {\n      style = perspectiveElem.style;\n      style.width = this.globalData.compSize.w + 'px';\n      style.height = this.globalData.compSize.h + 'px';\n      var center = '50% 50%';\n      style.webkitTransformOrigin = center;\n      style.mozTransformOrigin = center;\n      style.transformOrigin = center;\n      containerStyle = container.style;\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n      containerStyle.transform = matrix;\n      containerStyle.webkitTransform = matrix;\n    }\n\n    perspectiveElem.appendChild(container); // this.resizerElem.appendChild(perspectiveElem);\n\n    var threeDContainerData = {\n      container: container,\n      perspectiveElem: perspectiveElem,\n      startPos: pos,\n      endPos: pos,\n      type: type\n    };\n    this.threeDElements.push(threeDContainerData);\n    return threeDContainerData;\n  };\n\n  HybridRendererBase.prototype.build3dContainers = function () {\n    var i;\n    var len = this.layers.length;\n    var lastThreeDContainerData;\n    var currentContainer = '';\n\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ddd && this.layers[i].ty !== 3) {\n        if (currentContainer !== '3d') {\n          currentContainer = '3d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '3d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      } else {\n        if (currentContainer !== '2d') {\n          currentContainer = '2d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '2d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      }\n    }\n\n    len = this.threeDElements.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\n    }\n  };\n\n  HybridRendererBase.prototype.addTo3dContainer = function (elem, pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (pos <= this.threeDElements[i].endPos) {\n        var j = this.threeDElements[i].startPos;\n        var nextElement;\n\n        while (j < pos) {\n          if (this.elements[j] && this.elements[j].getBaseElement) {\n            nextElement = this.elements[j].getBaseElement();\n          }\n\n          j += 1;\n        }\n\n        if (nextElement) {\n          this.threeDElements[i].container.insertBefore(elem, nextElement);\n        } else {\n          this.threeDElements[i].container.appendChild(elem);\n        }\n\n        break;\n      }\n\n      i += 1;\n    }\n  };\n\n  HybridRendererBase.prototype.configAnimation = function (animData) {\n    var resizerElem = createTag('div');\n    var wrapper = this.animationItem.wrapper;\n    var style = resizerElem.style;\n    style.width = animData.w + 'px';\n    style.height = animData.h + 'px';\n    this.resizerElem = resizerElem;\n    styleDiv(resizerElem);\n    style.transformStyle = 'flat';\n    style.mozTransformStyle = 'flat';\n    style.webkitTransformStyle = 'flat';\n\n    if (this.renderConfig.className) {\n      resizerElem.setAttribute('class', this.renderConfig.className);\n    }\n\n    wrapper.appendChild(resizerElem);\n    style.overflow = 'hidden';\n    var svg = createNS('svg');\n    svg.setAttribute('width', '1');\n    svg.setAttribute('height', '1');\n    styleDiv(svg);\n    this.resizerElem.appendChild(svg);\n    var defs = createNS('defs');\n    svg.appendChild(defs);\n    this.data = animData; // Mask animation\n\n    this.setupGlobalData(animData, svg);\n    this.globalData.defs = defs;\n    this.layers = animData.layers;\n    this.layerElement = this.resizerElem;\n    this.build3dContainers();\n    this.updateContainerSize();\n  };\n\n  HybridRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.animationItem.container = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      this.elements[i].destroy();\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  HybridRendererBase.prototype.updateContainerSize = function () {\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\n    var elementRel = elementWidth / elementHeight;\n    var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\n    var sx;\n    var sy;\n    var tx;\n    var ty;\n\n    if (animationRel > elementRel) {\n      sx = elementWidth / this.globalData.compSize.w;\n      sy = elementWidth / this.globalData.compSize.w;\n      tx = 0;\n      ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;\n    } else {\n      sx = elementHeight / this.globalData.compSize.h;\n      sy = elementHeight / this.globalData.compSize.h;\n      tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\n      ty = 0;\n    }\n\n    var style = this.resizerElem.style;\n    style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\n    style.transform = style.webkitTransform;\n  };\n\n  HybridRendererBase.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\n\n  HybridRendererBase.prototype.hide = function () {\n    this.resizerElem.style.display = 'none';\n  };\n\n  HybridRendererBase.prototype.show = function () {\n    this.resizerElem.style.display = 'block';\n  };\n\n  HybridRendererBase.prototype.initItems = function () {\n    this.buildAllItems();\n\n    if (this.camera) {\n      this.camera.setup();\n    } else {\n      var cWidth = this.globalData.compSize.w;\n      var cHeight = this.globalData.compSize.h;\n      var i;\n      var len = this.threeDElements.length;\n\n      for (i = 0; i < len; i += 1) {\n        var style = this.threeDElements[i].perspectiveElem.style;\n        style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\n        style.perspective = style.webkitPerspective;\n      }\n    }\n  };\n\n  HybridRendererBase.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n    var floatingContainer = createTag('div');\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  function HCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = !data.hasMask;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([HybridRendererBase, ICompElement, HBaseElement], HCompElement);\n  HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\n\n  HCompElement.prototype.createContainerElements = function () {\n    this._createBaseContainerElements(); // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\n\n\n    if (this.data.hasMask) {\n      this.svgElement.setAttribute('width', this.data.w);\n      this.svgElement.setAttribute('height', this.data.h);\n      this.transformedElement = this.baseElement;\n    } else {\n      this.transformedElement = this.layerElement;\n    }\n  };\n\n  HCompElement.prototype.addTo3dContainer = function (elem, pos) {\n    var j = 0;\n    var nextElement;\n\n    while (j < pos) {\n      if (this.elements[j] && this.elements[j].getBaseElement) {\n        nextElement = this.elements[j].getBaseElement();\n      }\n\n      j += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(elem, nextElement);\n    } else {\n      this.layerElement.appendChild(elem);\n    }\n  };\n\n  HCompElement.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  function HybridRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([HybridRendererBase], HybridRenderer);\n\n  HybridRenderer.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  var Expressions = function () {\n    var ob = {};\n    ob.initExpressions = initExpressions;\n\n    function initExpressions(animation) {\n      var stackCount = 0;\n      var registers = [];\n\n      function pushExpression() {\n        stackCount += 1;\n      }\n\n      function popExpression() {\n        stackCount -= 1;\n\n        if (stackCount === 0) {\n          releaseInstances();\n        }\n      }\n\n      function registerExpressionProperty(expression) {\n        if (registers.indexOf(expression) === -1) {\n          registers.push(expression);\n        }\n      }\n\n      function releaseInstances() {\n        var i;\n        var len = registers.length;\n\n        for (i = 0; i < len; i += 1) {\n          registers[i].release();\n        }\n\n        registers.length = 0;\n      }\n\n      animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\n      animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\n      animation.renderer.globalData.pushExpression = pushExpression;\n      animation.renderer.globalData.popExpression = popExpression;\n      animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\n    }\n\n    return ob;\n  }();\n\n  function _typeof$1(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$1 = function _typeof(obj) { return typeof obj; }; } else { _typeof$1 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$1(obj); }\n\n  /* eslint-disable */\n\n  /*\r\n   Copyright 2014 David Bau.\r\n\r\n   Permission is hereby granted, free of charge, to any person obtaining\r\n   a copy of this software and associated documentation files (the\r\n   \"Software\"), to deal in the Software without restriction, including\r\n   without limitation the rights to use, copy, modify, merge, publish,\r\n   distribute, sublicense, and/or sell copies of the Software, and to\r\n   permit persons to whom the Software is furnished to do so, subject to\r\n   the following conditions:\r\n\r\n   The above copyright notice and this permission notice shall be\r\n   included in all copies or substantial portions of the Software.\r\n\r\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n   */\n  function seedRandom(pool, math) {\n    //\n    // The following constants are related to IEEE 754 limits.\n    //\n    var global = this,\n        width = 256,\n        // each RC4 output is 0 <= x < 256\n    chunks = 6,\n        // at least six RC4 outputs for each double\n    digits = 52,\n        // there are 52 significant digits in a double\n    rngname = 'random',\n        // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n        significance = math.pow(2, digits),\n        overflow = significance * 2,\n        mask = width - 1,\n        nodecrypto; // node.js crypto module, initialized at the bottom.\n    //\n    // seedrandom()\n    // This is the seedrandom function described above.\n    //\n\n    function seedrandom(seed, options, callback) {\n      var key = [];\n      options = options === true ? {\n        entropy: true\n      } : options || {}; // Flatten the seed string or build one from local entropy if needed.\n\n      var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed, 3), key); // Use the seed to initialize an ARC4 generator.\n\n      var arc4 = new ARC4(key); // This function returns a random double in [0, 1) that contains\n      // randomness in every bit of the mantissa of the IEEE 754 value.\n\n      var prng = function prng() {\n        var n = arc4.g(chunks),\n            // Start with a numerator n < 2 ^ 48\n        d = startdenom,\n            //   and denominator d = 2 ^ 48.\n        x = 0; //   and no 'extra last byte'.\n\n        while (n < significance) {\n          // Fill up all significant digits by\n          n = (n + x) * width; //   shifting numerator and\n\n          d *= width; //   denominator and generating a\n\n          x = arc4.g(1); //   new least-significant-byte.\n        }\n\n        while (n >= overflow) {\n          // To avoid rounding up, before adding\n          n /= 2; //   last byte, shift everything\n\n          d /= 2; //   right using integer math until\n\n          x >>>= 1; //   we have exactly the desired bits.\n        }\n\n        return (n + x) / d; // Form the number within [0, 1).\n      };\n\n      prng.int32 = function () {\n        return arc4.g(4) | 0;\n      };\n\n      prng.quick = function () {\n        return arc4.g(4) / 0x100000000;\n      };\n\n      prng[\"double\"] = prng; // Mix the randomness into accumulated entropy.\n\n      mixkey(tostring(arc4.S), pool); // Calling convention: what to return as a function of prng, seed, is_math.\n\n      return (options.pass || callback || function (prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) {\n            copy(state, arc4);\n          } // Only provide the .state method if requested via options.state.\n\n\n          prng.state = function () {\n            return copy(arc4, {});\n          };\n        } // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n\n\n        if (is_math_call) {\n          math[rngname] = prng;\n          return seed;\n        } // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(prng, shortseed, 'global' in options ? options.global : this == math, options.state);\n    }\n\n    math['seed' + rngname] = seedrandom; //\n    // ARC4\n    //\n    // An ARC4 implementation.  The constructor takes a key in the form of\n    // an array of at most (width) integers that should be 0 <= x < (width).\n    //\n    // The g(count) method returns a pseudorandom integer that concatenates\n    // the next (count) outputs from ARC4.  Its return value is a number x\n    // that is in the range 0 <= x < (width ^ count).\n    //\n\n    function ARC4(key) {\n      var t,\n          keylen = key.length,\n          me = this,\n          i = 0,\n          j = me.i = me.j = 0,\n          s = me.S = []; // The empty key [] is treated as [0].\n\n      if (!keylen) {\n        key = [keylen++];\n      } // Set up S using the standard key scheduling algorithm.\n\n\n      while (i < width) {\n        s[i] = i++;\n      }\n\n      for (i = 0; i < width; i++) {\n        s[i] = s[j = mask & j + key[i % keylen] + (t = s[i])];\n        s[j] = t;\n      } // The \"g\" method returns the next (count) outputs as one number.\n\n\n      me.g = function (count) {\n        // Using instance members instead of closure state nearly doubles speed.\n        var t,\n            r = 0,\n            i = me.i,\n            j = me.j,\n            s = me.S;\n\n        while (count--) {\n          t = s[i = mask & i + 1];\n          r = r * width + s[mask & (s[i] = s[j = mask & j + t]) + (s[j] = t)];\n        }\n\n        me.i = i;\n        me.j = j;\n        return r; // For robust unpredictability, the function call below automatically\n        // discards an initial batch of values.  This is called RC4-drop[256].\n        // See http://google.com/search?q=rsa+fluhrer+response&btnI\n      };\n    } //\n    // copy()\n    // Copies internal state of ARC4 to or from a plain object.\n    //\n\n\n    function copy(f, t) {\n      t.i = f.i;\n      t.j = f.j;\n      t.S = f.S.slice();\n      return t;\n    } //\n    // flatten()\n    // Converts an object tree to nested arrays of strings.\n    //\n\n\n    function flatten(obj, depth) {\n      var result = [],\n          typ = _typeof$1(obj),\n          prop;\n\n      if (depth && typ == 'object') {\n        for (prop in obj) {\n          try {\n            result.push(flatten(obj[prop], depth - 1));\n          } catch (e) {}\n        }\n      }\n\n      return result.length ? result : typ == 'string' ? obj : obj + '\\0';\n    } //\n    // mixkey()\n    // Mixes a string seed into a key that is an array of integers, and\n    // returns a shortened string seed that is equivalent to the result key.\n    //\n\n\n    function mixkey(seed, key) {\n      var stringseed = seed + '',\n          smear,\n          j = 0;\n\n      while (j < stringseed.length) {\n        key[mask & j] = mask & (smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++);\n      }\n\n      return tostring(key);\n    } //\n    // autoseed()\n    // Returns an object for autoseeding, using window.crypto and Node crypto\n    // module if available.\n    //\n\n\n    function autoseed() {\n      try {\n        if (nodecrypto) {\n          return tostring(nodecrypto.randomBytes(width));\n        }\n\n        var out = new Uint8Array(width);\n        (global.crypto || global.msCrypto).getRandomValues(out);\n        return tostring(out);\n      } catch (e) {\n        var browser = global.navigator,\n            plugins = browser && browser.plugins;\n        return [+new Date(), global, plugins, global.screen, tostring(pool)];\n      }\n    } //\n    // tostring()\n    // Converts an array of charcodes to a string\n    //\n\n\n    function tostring(a) {\n      return String.fromCharCode.apply(0, a);\n    } //\n    // When seedrandom.js is loaded, we immediately mix a few bits\n    // from the built-in RNG into the entropy pool.  Because we do\n    // not want to interfere with deterministic PRNG state later,\n    // seedrandom will not call math.random on its own again after\n    // initialization.\n    //\n\n\n    mixkey(math.random(), pool); //\n    // Nodejs and AMD support: export the implementation as a module using\n    // either convention.\n    //\n    // End anonymous scope, and pass initial values.\n  }\n\n  ;\n\n  function initialize$2(BMMath) {\n    seedRandom([], BMMath);\n  }\n\n  var propTypes = {\n    SHAPE: 'shape'\n  };\n\n  function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n  var ExpressionManager = function () {\n    'use strict';\n\n    var ob = {};\n    var Math = BMMath;\n    var window = null;\n    var document = null;\n    var XMLHttpRequest = null;\n    var fetch = null;\n    var frames = null;\n    initialize$2(BMMath);\n\n    function $bm_isInstanceOfArray(arr) {\n      return arr.constructor === Array || arr.constructor === Float32Array;\n    }\n\n    function isNumerable(tOfV, v) {\n      return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\n    }\n\n    function $bm_neg(a) {\n      var tOfA = _typeof(a);\n\n      if (tOfA === 'number' || tOfA === 'boolean' || a instanceof Number) {\n        return -a;\n      }\n\n      if ($bm_isInstanceOfArray(a)) {\n        var i;\n        var lenA = a.length;\n        var retArr = [];\n\n        for (i = 0; i < lenA; i += 1) {\n          retArr[i] = -a[i];\n        }\n\n        return retArr;\n      }\n\n      if (a.propType) {\n        return a.v;\n      }\n\n      return -a;\n    }\n\n    var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\n    var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\n    var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\n\n    function sum(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      if (tOfA === 'string' || tOfB === 'string') {\n        return a + b;\n      }\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a + b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] += b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a + b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] + b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    var add = sum;\n\n    function sub(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        if (tOfA === 'string') {\n          a = parseInt(a, 10);\n        }\n\n        if (tOfB === 'string') {\n          b = parseInt(b, 10);\n        }\n\n        return a - b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] -= b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a - b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] - b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    function mul(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a * b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] * b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a * b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function div(a, b) {\n      var tOfA = _typeof(a);\n\n      var tOfB = _typeof(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a / b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] / b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a / b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function mod(a, b) {\n      if (typeof a === 'string') {\n        a = parseInt(a, 10);\n      }\n\n      if (typeof b === 'string') {\n        b = parseInt(b, 10);\n      }\n\n      return a % b;\n    }\n\n    var $bm_sum = sum;\n    var $bm_sub = sub;\n    var $bm_mul = mul;\n    var $bm_div = div;\n    var $bm_mod = mod;\n\n    function clamp(num, min, max) {\n      if (min > max) {\n        var mm = max;\n        max = min;\n        min = mm;\n      }\n\n      return Math.min(Math.max(num, min), max);\n    }\n\n    function radiansToDegrees(val) {\n      return val / degToRads;\n    }\n\n    var radians_to_degrees = radiansToDegrees;\n\n    function degreesToRadians(val) {\n      return val * degToRads;\n    }\n\n    var degrees_to_radians = radiansToDegrees;\n    var helperLengthArray = [0, 0, 0, 0, 0, 0];\n\n    function length(arr1, arr2) {\n      if (typeof arr1 === 'number' || arr1 instanceof Number) {\n        arr2 = arr2 || 0;\n        return Math.abs(arr1 - arr2);\n      }\n\n      if (!arr2) {\n        arr2 = helperLengthArray;\n      }\n\n      var i;\n      var len = Math.min(arr1.length, arr2.length);\n      var addedLength = 0;\n\n      for (i = 0; i < len; i += 1) {\n        addedLength += Math.pow(arr2[i] - arr1[i], 2);\n      }\n\n      return Math.sqrt(addedLength);\n    }\n\n    function normalize(vec) {\n      return div(vec, length(vec));\n    }\n\n    function rgbToHsl(val) {\n      var r = val[0];\n      var g = val[1];\n      var b = val[2];\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var h;\n      var s;\n      var l = (max + min) / 2;\n\n      if (max === min) {\n        h = 0; // achromatic\n\n        s = 0; // achromatic\n      } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch (max) {\n          case r:\n            h = (g - b) / d + (g < b ? 6 : 0);\n            break;\n\n          case g:\n            h = (b - r) / d + 2;\n            break;\n\n          case b:\n            h = (r - g) / d + 4;\n            break;\n\n          default:\n            break;\n        }\n\n        h /= 6;\n      }\n\n      return [h, s, l, val[3]];\n    }\n\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n\n    function hslToRgb(val) {\n      var h = val[0];\n      var s = val[1];\n      var l = val[2];\n      var r;\n      var g;\n      var b;\n\n      if (s === 0) {\n        r = l; // achromatic\n\n        b = l; // achromatic\n\n        g = l; // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n      }\n\n      return [r, g, b, val[3]];\n    }\n\n    function linear(t, tMin, tMax, value1, value2) {\n      if (value1 === undefined || value2 === undefined) {\n        value1 = tMin;\n        value2 = tMax;\n        tMin = 0;\n        tMax = 1;\n      }\n\n      if (tMax < tMin) {\n        var _tMin = tMax;\n        tMax = tMin;\n        tMin = _tMin;\n      }\n\n      if (t <= tMin) {\n        return value1;\n      }\n\n      if (t >= tMax) {\n        return value2;\n      }\n\n      var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\n\n      if (!value1.length) {\n        return value1 + (value2 - value1) * perc;\n      }\n\n      var i;\n      var len = value1.length;\n      var arr = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\n      }\n\n      return arr;\n    }\n\n    function random(min, max) {\n      if (max === undefined) {\n        if (min === undefined) {\n          min = 0;\n          max = 1;\n        } else {\n          max = min;\n          min = undefined;\n        }\n      }\n\n      if (max.length) {\n        var i;\n        var len = max.length;\n\n        if (!min) {\n          min = createTypedArray('float32', len);\n        }\n\n        var arr = createTypedArray('float32', len);\n        var rnd = BMMath.random();\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = min[i] + rnd * (max[i] - min[i]);\n        }\n\n        return arr;\n      }\n\n      if (min === undefined) {\n        min = 0;\n      }\n\n      var rndm = BMMath.random();\n      return min + rndm * (max - min);\n    }\n\n    function createPath(points, inTangents, outTangents, closed) {\n      var i;\n      var len = points.length;\n      var path = shapePool.newElement();\n      path.setPathData(!!closed, len);\n      var arrPlaceholder = [0, 0];\n      var inVertexPoint;\n      var outVertexPoint;\n\n      for (i = 0; i < len; i += 1) {\n        inVertexPoint = inTangents && inTangents[i] ? inTangents[i] : arrPlaceholder;\n        outVertexPoint = outTangents && outTangents[i] ? outTangents[i] : arrPlaceholder;\n        path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\n      }\n\n      return path;\n    }\n\n    function initiateExpression(elem, data, property) {\n      var val = data.x;\n      var needsVelocity = /velocity(?![\\w\\d])/.test(val);\n\n      var _needsRandom = val.indexOf('random') !== -1;\n\n      var elemType = elem.data.ty;\n      var transform;\n      var $bm_transform;\n      var content;\n      var effect;\n      var thisProperty = property;\n      thisProperty.valueAtTime = thisProperty.getValueAtTime;\n      Object.defineProperty(thisProperty, 'value', {\n        get: function get() {\n          return thisProperty.v;\n        }\n      });\n      elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\n      elem.comp.displayStartTime = 0;\n      var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      var outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      var width = elem.data.sw ? elem.data.sw : 0;\n      var height = elem.data.sh ? elem.data.sh : 0;\n      var name = elem.data.nm;\n      var loopIn;\n      var loop_in;\n      var loopOut;\n      var loop_out;\n      var smooth;\n      var toWorld;\n      var fromWorld;\n      var fromComp;\n      var toComp;\n      var fromCompToSurface;\n      var position;\n      var rotation;\n      var anchorPoint;\n      var scale;\n      var thisLayer;\n      var thisComp;\n      var mask;\n      var valueAtTime;\n      var velocityAtTime;\n      var scoped_bm_rt; // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\n\n      var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\n\n      var numKeys = property.kf ? data.k.length : 0;\n      var active = !this.data || this.data.hd !== true;\n\n      var wiggle = function wiggle(freq, amp) {\n        var iWiggle;\n        var j;\n        var lenWiggle = this.pv.length ? this.pv.length : 1;\n        var addedAmps = createTypedArray('float32', lenWiggle);\n        freq = 5;\n        var iterations = Math.floor(time * freq);\n        iWiggle = 0;\n        j = 0;\n\n        while (iWiggle < iterations) {\n          // var rnd = BMMath.random();\n          for (j = 0; j < lenWiggle; j += 1) {\n            addedAmps[j] += -amp + amp * 2 * BMMath.random(); // addedAmps[j] += -amp + amp*2*rnd;\n          }\n\n          iWiggle += 1;\n        } // var rnd2 = BMMath.random();\n\n\n        var periods = time * freq;\n        var perc = periods - Math.floor(periods);\n        var arr = createTypedArray('float32', lenWiggle);\n\n        if (lenWiggle > 1) {\n          for (j = 0; j < lenWiggle; j += 1) {\n            arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc; // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n            // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n          }\n\n          return arr;\n        }\n\n        return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\n      }.bind(this);\n\n      if (thisProperty.loopIn) {\n        loopIn = thisProperty.loopIn.bind(thisProperty);\n        loop_in = loopIn;\n      }\n\n      if (thisProperty.loopOut) {\n        loopOut = thisProperty.loopOut.bind(thisProperty);\n        loop_out = loopOut;\n      }\n\n      if (thisProperty.smooth) {\n        smooth = thisProperty.smooth.bind(thisProperty);\n      }\n\n      function loopInDuration(type, duration) {\n        return loopIn(type, duration, true);\n      }\n\n      function loopOutDuration(type, duration) {\n        return loopOut(type, duration, true);\n      }\n\n      if (this.getValueAtTime) {\n        valueAtTime = this.getValueAtTime.bind(this);\n      }\n\n      if (this.getVelocityAtTime) {\n        velocityAtTime = this.getVelocityAtTime.bind(this);\n      }\n\n      var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\n\n      function lookAt(elem1, elem2) {\n        var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\n        var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\n        var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\n        return [yaw, pitch, 0];\n      }\n\n      function easeOut(t, tMin, tMax, val1, val2) {\n        return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function easeIn(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInBez, t, tMin, tMax, val1, val2);\n      }\n\n      function ease(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function applyEase(fn, t, tMin, tMax, val1, val2) {\n        if (val1 === undefined) {\n          val1 = tMin;\n          val2 = tMax;\n        } else {\n          t = (t - tMin) / (tMax - tMin);\n        }\n\n        if (t > 1) {\n          t = 1;\n        } else if (t < 0) {\n          t = 0;\n        }\n\n        var mult = fn(t);\n\n        if ($bm_isInstanceOfArray(val1)) {\n          var iKey;\n          var lenKey = val1.length;\n          var arr = createTypedArray('float32', lenKey);\n\n          for (iKey = 0; iKey < lenKey; iKey += 1) {\n            arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\n          }\n\n          return arr;\n        }\n\n        return (val2 - val1) * mult + val1;\n      }\n\n      function nearestKey(time) {\n        var iKey;\n        var lenKey = data.k.length;\n        var index;\n        var keyTime;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          index = 0;\n          keyTime = 0;\n        } else {\n          index = -1;\n          time *= elem.comp.globalData.frameRate;\n\n          if (time < data.k[0].t) {\n            index = 1;\n            keyTime = data.k[0].t;\n          } else {\n            for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\n              if (time === data.k[iKey].t) {\n                index = iKey + 1;\n                keyTime = data.k[iKey].t;\n                break;\n              } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\n                if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\n                  index = iKey + 2;\n                  keyTime = data.k[iKey + 1].t;\n                } else {\n                  index = iKey + 1;\n                  keyTime = data.k[iKey].t;\n                }\n\n                break;\n              }\n            }\n\n            if (index === -1) {\n              index = iKey + 1;\n              keyTime = data.k[iKey].t;\n            }\n          }\n        }\n\n        var obKey = {};\n        obKey.index = index;\n        obKey.time = keyTime / elem.comp.globalData.frameRate;\n        return obKey;\n      }\n\n      function key(ind) {\n        var obKey;\n        var iKey;\n        var lenKey;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          throw new Error('The property has no keyframe at index ' + ind);\n        }\n\n        ind -= 1;\n        obKey = {\n          time: data.k[ind].t / elem.comp.globalData.frameRate,\n          value: []\n        };\n        var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\n        lenKey = arr.length;\n\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\n          obKey[iKey] = arr[iKey];\n          obKey.value[iKey] = arr[iKey];\n        }\n\n        return obKey;\n      }\n\n      function framesToTime(fr, fps) {\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return fr / fps;\n      }\n\n      function timeToFrames(t, fps) {\n        if (!t && t !== 0) {\n          t = time;\n        }\n\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return t * fps;\n      }\n\n      function seedRandom(seed) {\n        BMMath.seedrandom(randSeed + seed);\n      }\n\n      function sourceRectAtTime() {\n        return elem.sourceRectAtTime();\n      }\n\n      function substring(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substring(init);\n          }\n\n          return value.substring(init, end);\n        }\n\n        return '';\n      }\n\n      function substr(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substr(init);\n          }\n\n          return value.substr(init, end);\n        }\n\n        return '';\n      }\n\n      function posterizeTime(framesPerSecond) {\n        time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\n        value = valueAtTime(time);\n      }\n\n      var time;\n      var velocity;\n      var value;\n      var text;\n      var textIndex;\n      var textTotal;\n      var selectorValue;\n      var index = elem.data.ind;\n      var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n      var parent;\n      var randSeed = Math.floor(Math.random() * 1000000);\n      var globalData = elem.globalData;\n\n      function executeExpression(_value) {\n        // globalData.pushExpression();\n        value = _value;\n\n        if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\n          return value;\n        }\n\n        if (this.propType === 'textSelector') {\n          textIndex = this.textIndex;\n          textTotal = this.textTotal;\n          selectorValue = this.selectorValue;\n        }\n\n        if (!thisLayer) {\n          text = elem.layerInterface.text;\n          thisLayer = elem.layerInterface;\n          thisComp = elem.comp.compInterface;\n          toWorld = thisLayer.toWorld.bind(thisLayer);\n          fromWorld = thisLayer.fromWorld.bind(thisLayer);\n          fromComp = thisLayer.fromComp.bind(thisLayer);\n          toComp = thisLayer.toComp.bind(thisLayer);\n          mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\n          fromCompToSurface = fromComp;\n        }\n\n        if (!transform) {\n          transform = elem.layerInterface('ADBE Transform Group');\n          $bm_transform = transform;\n\n          if (transform) {\n            anchorPoint = transform.anchorPoint;\n            /* position = transform.position;\r\n                      rotation = transform.rotation;\r\n                      scale = transform.scale; */\n          }\n        }\n\n        if (elemType === 4 && !content) {\n          content = thisLayer('ADBE Root Vectors Group');\n        }\n\n        if (!effect) {\n          effect = thisLayer(4);\n        }\n\n        hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n\n        if (hasParent && !parent) {\n          parent = elem.hierarchy[0].layerInterface;\n        }\n\n        time = this.comp.renderedFrame / this.comp.globalData.frameRate;\n\n        if (_needsRandom) {\n          seedRandom(randSeed + time);\n        }\n\n        if (needsVelocity) {\n          velocity = velocityAtTime(time);\n        }\n\n        expression_function();\n        this.frameExpressionId = elem.globalData.frameId; // TODO: Check if it's possible to return on ShapeInterface the .v value\n        // Changed this to a ternary operation because Rollup failed compiling it correctly\n\n        scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE ? scoped_bm_rt.v : scoped_bm_rt;\n        return scoped_bm_rt;\n      } // Bundlers will see these as dead code and unless we reference them\n\n\n      executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData];\n      return executeExpression;\n    }\n\n    ob.initiateExpression = initiateExpression;\n    ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath];\n    return ob;\n  }();\n\n  var expressionHelpers = function () {\n    function searchExpressions(elem, data, prop) {\n      if (data.x) {\n        prop.k = true;\n        prop.x = true;\n        prop.initiateExpression = ExpressionManager.initiateExpression;\n        prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\n      }\n    }\n\n    function getValueAtTime(frameNum) {\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastFrame) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\n        this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\n        this._cachingAtTime.lastFrame = frameNum;\n      }\n\n      return this._cachingAtTime.value;\n    }\n\n    function getSpeedAtTime(frameNum) {\n      var delta = -0.01;\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var speed = 0;\n\n      if (v1.length) {\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          speed += Math.pow(v2[i] - v1[i], 2);\n        }\n\n        speed = Math.sqrt(speed) * 100;\n      } else {\n        speed = 0;\n      }\n\n      return speed;\n    }\n\n    function getVelocityAtTime(frameNum) {\n      if (this.vel !== undefined) {\n        return this.vel;\n      }\n\n      var delta = -0.001; // frameNum += this.elem.data.st;\n\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var velocity;\n\n      if (v1.length) {\n        velocity = createTypedArray('float32', v1.length);\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          // removing frameRate\n          // if needed, don't add it here\n          // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\n          velocity[i] = (v2[i] - v1[i]) / delta;\n        }\n      } else {\n        velocity = (v2 - v1) / delta;\n      }\n\n      return velocity;\n    }\n\n    function getStaticValueAtTime() {\n      return this.pv;\n    }\n\n    function setGroupProperty(propertyGroup) {\n      this.propertyGroup = propertyGroup;\n    }\n\n    return {\n      searchExpressions: searchExpressions,\n      getSpeedAtTime: getSpeedAtTime,\n      getVelocityAtTime: getVelocityAtTime,\n      getValueAtTime: getValueAtTime,\n      getStaticValueAtTime: getStaticValueAtTime,\n      setGroupProperty: setGroupProperty\n    };\n  }();\n\n  function addPropertyDecorator() {\n    function loopOut(type, duration, durationFlag) {\n      if (!this.k || !this.keyframes) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var lastKeyFrame = keyframes[keyframes.length - 1].t;\n\n      if (currentFrame <= lastKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var firstKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\n        } else {\n          cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\n        }\n\n        firstKeyFrame = lastKeyFrame - cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (iterations % 2 !== 0) {\n          return this.getValueAtTime((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n\n        var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = (endV[i] - initV[i]) * repeats + current[i];\n          }\n\n          return ret;\n        }\n\n        return (endV - initV) * repeats + current;\n      } else if (type === 'continue') {\n        var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(lastValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\n          }\n\n          return ret;\n        }\n\n        return lastValue + (lastValue - nextLastValue) * ((currentFrame - lastKeyFrame) / 0.001);\n      }\n\n      return this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function loopIn(type, duration, durationFlag) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var firstKeyFrame = keyframes[0].t;\n\n      if (currentFrame >= firstKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var lastKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        lastKeyFrame = keyframes[duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\n        } else {\n          cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\n        }\n\n        lastKeyFrame = firstKeyFrame + cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\n\n        if (iterations % 2 === 0) {\n          return this.getValueAtTime(((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n        var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\n          }\n\n          return ret;\n        }\n\n        return current - (endV - initV) * repeats;\n      } else if (type === 'continue') {\n        var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(firstValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = firstValue[i] + (firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame) / 0.001;\n          }\n\n          return ret;\n        }\n\n        return firstValue + (firstValue - nextFirstValue) * (firstKeyFrame - currentFrame) / 0.001;\n      }\n\n      return this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function smooth(width, samples) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      width = (width || 0.4) * 0.5;\n      samples = Math.floor(samples || 5);\n\n      if (samples <= 1) {\n        return this.pv;\n      }\n\n      var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\n      var initFrame = currentTime - width;\n      var endFrame = currentTime + width;\n      var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\n      var i = 0;\n      var j = 0;\n      var value;\n\n      if (this.pv.length) {\n        value = createTypedArray('float32', this.pv.length);\n      } else {\n        value = 0;\n      }\n\n      var sampleValue;\n\n      while (i < samples) {\n        sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\n\n        if (this.pv.length) {\n          for (j = 0; j < this.pv.length; j += 1) {\n            value[j] += sampleValue[j];\n          }\n        } else {\n          value += sampleValue;\n        }\n\n        i += 1;\n      }\n\n      if (this.pv.length) {\n        for (j = 0; j < this.pv.length; j += 1) {\n          value[j] /= samples;\n        }\n      } else {\n        value /= samples;\n      }\n\n      return value;\n    }\n\n    function getTransformValueAtTime(time) {\n      if (!this._transformCachingAtTime) {\n        this._transformCachingAtTime = {\n          v: new Matrix()\n        };\n      } /// /\n\n\n      var matrix = this._transformCachingAtTime.v;\n      matrix.cloneFromProps(this.pre.props);\n\n      if (this.appliedTransformations < 1) {\n        var anchor = this.a.getValueAtTime(time);\n        matrix.translate(-anchor[0] * this.a.mult, -anchor[1] * this.a.mult, anchor[2] * this.a.mult);\n      }\n\n      if (this.appliedTransformations < 2) {\n        var scale = this.s.getValueAtTime(time);\n        matrix.scale(scale[0] * this.s.mult, scale[1] * this.s.mult, scale[2] * this.s.mult);\n      }\n\n      if (this.sk && this.appliedTransformations < 3) {\n        var skew = this.sk.getValueAtTime(time);\n        var skewAxis = this.sa.getValueAtTime(time);\n        matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\n      }\n\n      if (this.r && this.appliedTransformations < 4) {\n        var rotation = this.r.getValueAtTime(time);\n        matrix.rotate(-rotation * this.r.mult);\n      } else if (!this.r && this.appliedTransformations < 4) {\n        var rotationZ = this.rz.getValueAtTime(time);\n        var rotationY = this.ry.getValueAtTime(time);\n        var rotationX = this.rx.getValueAtTime(time);\n        var orientation = this.or.getValueAtTime(time);\n        matrix.rotateZ(-rotationZ * this.rz.mult).rotateY(rotationY * this.ry.mult).rotateX(rotationX * this.rx.mult).rotateZ(-orientation[2] * this.or.mult).rotateY(orientation[1] * this.or.mult).rotateX(orientation[0] * this.or.mult);\n      }\n\n      if (this.data.p && this.data.p.s) {\n        var positionX = this.px.getValueAtTime(time);\n        var positionY = this.py.getValueAtTime(time);\n\n        if (this.data.p.z) {\n          var positionZ = this.pz.getValueAtTime(time);\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, -positionZ * this.pz.mult);\n        } else {\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\n        }\n      } else {\n        var position = this.p.getValueAtTime(time);\n        matrix.translate(position[0] * this.p.mult, position[1] * this.p.mult, -position[2] * this.p.mult);\n      }\n\n      return matrix; /// /\n    }\n\n    function getTransformStaticValueAtTime() {\n      return this.v.clone(new Matrix());\n    }\n\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\n\n    TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\n      var prop = getTransformProperty(elem, data, container);\n\n      if (prop.dynamicProperties.length) {\n        prop.getValueAtTime = getTransformValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      return prop;\n    };\n\n    var propertyGetProp = PropertyFactory.getProp;\n\n    PropertyFactory.getProp = function (elem, data, type, mult, container) {\n      var prop = propertyGetProp(elem, data, type, mult, container); // prop.getVelocityAtTime = getVelocityAtTime;\n      // prop.loopOut = loopOut;\n      // prop.loopIn = loopIn;\n\n      if (prop.kf) {\n        prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      prop.loopOut = loopOut;\n      prop.loopIn = loopIn;\n      prop.smooth = smooth;\n      prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\n      prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\n      prop.numKeys = data.a === 1 ? data.k.length : 0;\n      prop.propertyIndex = data.ix;\n      var value = 0;\n\n      if (type !== 0) {\n        value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\n      }\n\n      prop._cachingAtTime = {\n        lastFrame: initialDefaultFrame,\n        lastIndex: 0,\n        value: value\n      };\n      expressionHelpers.searchExpressions(elem, data, prop);\n\n      if (prop.k) {\n        container.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n\n    function getShapeValueAtTime(frameNum) {\n      // For now this caching object is created only when needed instead of creating it when the shape is initialized.\n      if (!this._cachingAtTime) {\n        this._cachingAtTime = {\n          shapeValue: shapePool.clone(this.pv),\n          lastIndex: 0,\n          lastTime: initialDefaultFrame\n        };\n      }\n\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastTime) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\n        this._cachingAtTime.lastTime = frameNum;\n        this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\n      }\n\n      return this._cachingAtTime.shapeValue;\n    }\n\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\n\n    function ShapeExpressions() {}\n\n    ShapeExpressions.prototype = {\n      vertices: function vertices(prop, time) {\n        if (this.k) {\n          this.getValue();\n        }\n\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        var i;\n        var len = shapePath._length;\n        var vertices = shapePath[prop];\n        var points = shapePath.v;\n        var arr = createSizedArray(len);\n\n        for (i = 0; i < len; i += 1) {\n          if (prop === 'i' || prop === 'o') {\n            arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\n          } else {\n            arr[i] = [vertices[i][0], vertices[i][1]];\n          }\n        }\n\n        return arr;\n      },\n      points: function points(time) {\n        return this.vertices('v', time);\n      },\n      inTangents: function inTangents(time) {\n        return this.vertices('i', time);\n      },\n      outTangents: function outTangents(time) {\n        return this.vertices('o', time);\n      },\n      isClosed: function isClosed() {\n        return this.v.c;\n      },\n      pointOnPath: function pointOnPath(perc, time) {\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        if (!this._segmentsLength) {\n          this._segmentsLength = bez.getSegmentsLength(shapePath);\n        }\n\n        var segmentsLength = this._segmentsLength;\n        var lengths = segmentsLength.lengths;\n        var lengthPos = segmentsLength.totalLength * perc;\n        var i = 0;\n        var len = lengths.length;\n        var accumulatedLength = 0;\n        var pt;\n\n        while (i < len) {\n          if (accumulatedLength + lengths[i].addedLength > lengthPos) {\n            var initIndex = i;\n            var endIndex = shapePath.c && i === len - 1 ? 0 : i + 1;\n            var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\n            pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\n            break;\n          } else {\n            accumulatedLength += lengths[i].addedLength;\n          }\n\n          i += 1;\n        }\n\n        if (!pt) {\n          pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\n        }\n\n        return pt;\n      },\n      vectorOnPath: function vectorOnPath(perc, time, vectorType) {\n        // perc doesn't use triple equality because it can be a Number object as well as a primitive.\n        if (perc == 1) {\n          // eslint-disable-line eqeqeq\n          perc = this.v.c;\n        } else if (perc == 0) {\n          // eslint-disable-line eqeqeq\n          perc = 0.999;\n        }\n\n        var pt1 = this.pointOnPath(perc, time);\n        var pt2 = this.pointOnPath(perc + 0.001, time);\n        var xLength = pt2[0] - pt1[0];\n        var yLength = pt2[1] - pt1[1];\n        var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\n\n        if (magnitude === 0) {\n          return [0, 0];\n        }\n\n        var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\n        return unitVector;\n      },\n      tangentOnPath: function tangentOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'tangent');\n      },\n      normalOnPath: function normalOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'normal');\n      },\n      setGroupProperty: expressionHelpers.setGroupProperty,\n      getValueAtTime: expressionHelpers.getStaticValueAtTime\n    };\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\n\n    ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\n      var prop = propertyGetShapeProp(elem, data, type, arr, trims);\n      prop.propertyIndex = data.ix;\n      prop.lock = false;\n\n      if (type === 3) {\n        expressionHelpers.searchExpressions(elem, data.pt, prop);\n      } else if (type === 4) {\n        expressionHelpers.searchExpressions(elem, data.ks, prop);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n  }\n\n  function initialize$1() {\n    addPropertyDecorator();\n  }\n\n  function addDecorator() {\n    function searchExpressions() {\n      if (this.data.d.x) {\n        this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\n        this.addEffect(this.getExpressionValue.bind(this));\n        return true;\n      }\n\n      return null;\n    }\n\n    TextProperty.prototype.getExpressionValue = function (currentValue, text) {\n      var newValue = this.calculateExpression(text);\n\n      if (currentValue.t !== newValue) {\n        var newData = {};\n        this.copyData(newData, currentValue);\n        newData.t = newValue.toString();\n        newData.__complete = false;\n        return newData;\n      }\n\n      return currentValue;\n    };\n\n    TextProperty.prototype.searchProperty = function () {\n      var isKeyframed = this.searchKeyframes();\n      var hasExpressions = this.searchExpressions();\n      this.kf = isKeyframed || hasExpressions;\n      return this.kf;\n    };\n\n    TextProperty.prototype.searchExpressions = searchExpressions;\n  }\n\n  function initialize() {\n    addDecorator();\n  }\n\n  registerRenderer('canvas', CanvasRenderer);\n  registerRenderer('html', HybridRenderer);\n  registerRenderer('svg', SVGRenderer); // Registering shape modifiers\n\n  ShapeModifiers.registerModifier('tm', TrimModifier);\n  ShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\n  ShapeModifiers.registerModifier('rp', RepeaterModifier);\n  ShapeModifiers.registerModifier('rd', RoundCornersModifier); // Registering expression plugin\n\n  setExpressionsPlugin(Expressions);\n  initialize$1();\n  initialize(); // Registering svg effects\n\n  registerEffect(20, SVGTintFilter, true);\n  registerEffect(21, SVGFillFilter, true);\n  registerEffect(22, SVGStrokeEffect, false);\n  registerEffect(23, SVGTritoneFilter, true);\n  registerEffect(24, SVGProLevelsFilter, true);\n  registerEffect(25, SVGDropShadowEffect, true);\n  registerEffect(28, SVGMatte3Effect, false);\n  registerEffect(29, SVGGaussianBlurEffect, true);\n\n  return lottie;\n\n}));\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","\"use strict\";\n\nvar _bind = Function.prototype.bind;\nfunction toFactory(Class) {\n  var Factory = function Factory() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return new (_bind.apply(Class, [null].concat(args)))();\n  };\n  Factory.__proto__ = Class;\n  Factory.prototype = Class.prototype;\n  return Factory;\n}\n\nmodule.exports = toFactory;\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","__webpack_require__.amdO = {};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t522: 0,\n\t870: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [870], () => (__webpack_require__(3151)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [870], () => (__webpack_require__(2439)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["module","exports","AlgoliaSearchCore","errors","exitPromise","IndexCore","store","RESET_APP_DATA_TIMER","process","env","parseInt","applicationID","apiKey","opts","debug","clone","isArray","map","usage","_allowEmptyCredentials","AlgoliaSearchError","this","hosts","read","write","_timeouts","timeouts","connect","timeout","protocol","test","_checkAppIdData","defaultHosts","_shuffleResult","hostNumber","mainSuffix","dsn","concat","prepareHost","extraHeaders","cache","_cache","_ua","_useCache","undefined","_useRequestCache","_useFallback","useFallback","_setTimeout","host","toLowerCase","safeJSONStringify","obj","Array","prototype","toJSON","JSON","stringify","out","removeCredentials","headers","newHeaders","headerName","value","Object","hasOwnProperty","call","initIndex","indexName","setExtraHeader","name","getExtraHeader","unsetExtraHeader","addAlgoliaAgent","algoliaAgent","algoliaAgentWithDelimiter","indexOf","_jsonRequest","initialOpts","body","cacheID","requestDebug","url","additionalUA","client","tries","usingFallback","hasFallback","_request","fallback","length","params","requests","_computeRequestHeaders","withApiKey","debugData","isCacheValidWithCurrentID","useRequestCache","currentCache","currentCacheID","interopCallbackReturn","request","callback","catch","then","content","setTimeout","err","maybePromiseForCache","_promise","resolve","responseText","parse","doRequest","requester","reqOpts","startTime","Date","hostType","reject","method","jsonBody","_getTimeoutsForRequest","_setHostIndexByType","currentHost","_getHostByType","options","forceAuthHeaders","httpResponse","status","message","statusCode","httpResponseOk","Math","floor","endTime","push","contentLength","duration","retryRequest","unrecoverableError","stack","Unknown","UnparsableJSON","RequestTimeout","_incrementHostIndex","_incrementTimeoutMultipler","_getSearchParams","args","key","encodeURIComponent","toString","forEach","requestHeaders","userToken","securityTags","search","queries","Error","postObj","query","JSONPParams","requestId","join","strategy","searchForFacetValues","all","facetName","facetQuery","omit","filteredParams","keyName","searchParameters","setSecurityTags","tags","strTags","i","oredTags","j","setUserToken","clearCache","setRequestTimeout","milliseconds","setTimeouts","getTimeouts","_getAppIdData","data","get","_cacheAppIdData","_setAppIdData","lastChange","getTime","set","now","_resetInitialAppIdData","newData","hostIndexes","timeoutMultiplier","shuffleResult","array","temporaryValue","randomIndex","currentIndex","random","shuffle","_hostIndexes","_timeoutMultiplier","_partialAppIdDataUpdate","foreach","currentData","_getHostIndexByType","_getTimeoutMultiplier","hostIndex","newHostIndexes","max","complete","buildSearchMethod","deprecate","deprecatedMessage","algoliasearch","as","typeAheadArgs","typeAheadValueOption","similarSearch","browse","queryParameters","page","hitsPerPage","merge","indexObj","arguments","browseFrom","cursor","searchFacet","_search","getObject","objectID","attrs","getObjects","objectIDs","attributesToRetrieve","createAlgoliasearch","global","Promise","AlgoliaSearch","uaSuffix","inherits","inlineHeaders","jsonpRequest","places","cloneDeep","ua","AlgoliaSearchBrowser","version","initPlaces","__algolia","support","hasXMLHttpRequest","hasXDomainRequest","apply","cors","XMLHttpRequest","reqTimeout","timedOut","req","XDomainRequest","connected","onTimeout","onprogress","onConnect","onreadystatechange","readyState","onload","clearTimeout","getAllResponseHeaders","e","more","onerror","event","Network","open","setRequestHeader","send","abort","val","delay","ms","promises","encode","cb","cbCalled","JSONPCounter","head","document","getElementsByTagName","script","createElement","cbName","done","window","removeGlobals","clean","ontimeout","success","JSONPScriptFail","removeChild","JSONPScriptError","async","defer","src","appendChild","queryParam","fn","warned","console","warn","previousUsage","newUsage","githubAnchorLink","replace","extraProperties","error","captureStackTrace","constructor","createCustomError","AlgoliaSearchCustomError","slice","unshift","ValidUntilNotFound","ObjectNotFound","arr","newArr","item","itemIndex","destination","sources","source","keys","filtered","appID","index","reverse","encoded","qs3","localStorageNamespace","moduleStore","state","localStorageStore","namespace","g","localStorage","localStorageFailure","removeItem","_","cleanup","getOrSet","supportsLocalStorage","setItem","css","wrapper","position","display","hint","top","left","borderColor","boxShadow","opacity","input","verticalAlign","backgroundColor","inputWithNoHint","dropdown","zIndex","suggestions","suggestion","whiteSpace","suggestionChild","ltr","right","rtl","defaultClasses","root","prefix","noPrefix","dropdownMenu","dataset","empty","appendTo","isMsie","mixin","backgroundImage","marginTop","datasetKey","valueKey","datumKey","DOM","html","EventEmitter","Dataset","o","str","templates","_isEmpty","highlight","getUniqueId","displayFn","isFunction","getDisplayFn","displayKey","debounce","templatify","header","footer","suggestionTemplate","context","getTemplates","cssClasses","formattedPrefix","formatPrefix","clazz","className","$el","$menu","find","element","clearCachedSuggestions","extractDatasetName","el","extractValue","extractDatum","datum","_render","hasSuggestions","that","renderArgs","getEmptyHtml","prepend","getHeaderHtml","append","getFooterHtml","getSuggestionsHtml","TypeError","addClass","removeClass","trigger","isEmpty","$suggestions","nodes","self","suggestionsHtml","getSuggestionNode","suggestionHtml","attr","role","id","children","each","getRoot","update","handleSuggestions","canceled","extraArgs","cacheSuggestions","shouldFetchFromCache","cachedSuggestions","cachedRenderExtraArgs","execSource","bind","debounceTimeout","cachedQuery","cancel","clear","destroy","Dropdown","onSuggestionClick","onSuggestionMouseEnter","onSuggestionMouseLeave","menu","datasets","isObject","isOpen","minLength","_onSuggestionClick","_onSuggestionMouseEnter","_onSuggestionMouseLeave","cssClass","on","$container","$empty","hide","oDataset","initializeDataset","parent","onSync","_onRendered","resize","_redraw","$e","currentTarget","elt","hasClass","_removeCursor","_setCursor","relatedTarget","closest","every","_hide","show","_show","any","_getSuggestions","_getCursor","first","updateInput","removeAttr","_moveCursor","increment","$oldCursor","newCursorIndex","$newCursor","eq","_ensureVisible","elTop","elBottom","menuScrollTop","menuHeight","height","scrollTop","close","setLanguageDirection","dir","moveCursorUp","moveCursorDown","getDatumForSuggestion","raw","datasetName","getCurrentCursor","getDatumForCursor","getDatumForTopSuggestion","cursorTopSuggestion","isVisible","off","EventBus","type","Event","immediate","splitter","types","split","bindContext","_callbacks","shift","sync","getFlush","callbacks","cancelled","len","onAsync","syncFlush","asyncFlush","specialKeyCodeMap","Input","onBlur","onFocus","onKeydown","onInput","$input","_onBlur","_onFocus","_onKeydown","_onInput","$hint","setHint","getHint","clearHint","clearHintIfInvalid","noop","which","keyCode","$overflowHelper","visibility","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","wordSpacing","letterSpacing","textIndent","textRendering","textTransform","insertAfter","withModifier","altKey","ctrlKey","metaKey","shiftKey","normalizeQuery","resetInputValue","_managePreventDefault","_shouldTrigger","_checkInputValue","preventDefault","hintValue","inputValue","getInputValue","areEquivalent","hasDifferentWhitespace","a","b","focus","blur","getQuery","setQuery","setInputValue","silent","expand","collapse","setActiveDescendant","activedescendantId","removeActiveDescendant","valIsPrefixOfHint","hasOverflow","getLanguageDirection","constraint","width","text","isCursorAtEnd","valueLength","selectionStart","range","isNumber","selection","createRange","moveStart","attrsKey","Typeahead","isActivated","autoselect","autoselectOnBlur","openOnFocus","autoWidth","clearOnSelected","tabAutocomplete","listboxId","domElts","$wrapper","$dropdown","dropdownHtml","backgroundAttachment","backgroundClip","backgroundOrigin","backgroundPosition","backgroundRepeat","backgroundSize","getBackgroundStyles","prop","autocomplete","spellcheck","tabindex","removeData","style","ariaLabel","wrap","buildDom","$node","dropdownMenuContainer","active","activeElement","contains","stopImmediatePropagation","eventBus","_onSuggestionClicked","_onCursorMoved","_onCursorRemoved","_onOpened","_onClosed","_onShown","_onEmpty","_onRedrawn","_onDatasetRendered","_onFocused","_onBlurred","_onEnterKeyed","_onTabKeyed","_onEscKeyed","_onUpKeyed","_onDownKeyed","_onLeftKeyed","_onRightKeyed","_onQueryChanged","_onWhitespaceChanged","_bindKeyboardShortcuts","_setLanguageDirection","keyboardShortcuts","toUpperCase","charCodeAt","keydown","target","srcElement","tagName","isContentEditable","stopPropagation","_select","selectionMethod","currentCursorId","_updateHint","inputRect","getBoundingClientRect","wrapperRect","bottom","cursorDatum","topSuggestionDatum","_autocomplete","escapedQuery","match","escapeRegExChars","RegExp","exec","laxCursor","setVal","isDefaultPrevented","toStr","getVal","detach","remove","destroyDomStructure","getWrapper","agent","parsed","counter","escapeRegExp","agentString","navigator","userAgent","s","msg","result","found","$template","String","skipDot","escapeHighlightedString","highlightPreTag","highlightPostTag","pre","createTextNode","post","div","innerHTML","parseAlgoliaClientVersion","algoliaVersion","hits","popularIn","details","hit","detailsIndex","detailsParams","detailsAlgoliaVersion","error2","content2","includeAll","label","allTitle","facet","count","nbHits","facets","values","zepto","isPlainObject","proxy","collection","extend","typeaheadKey","selector","typeaheadObject","inputs","typeahead","getAttribute","methodArguments","wasAutocompleteSet","oldAutocomplete","noConflict","Zepto","$","classList","camelize","uniq","emptyArray","filter","elementDisplay","classCache","cssNumber","fragmentRE","singleTagRE","tagExpanderRE","rootNodeRE","capitalRE","methodAttributes","adjacencyOperators","table","tableRow","containers","readyRE","simpleSelectorRE","class2type","tempParent","propMap","object","isWindow","isDocument","nodeType","DOCUMENT_NODE","getPrototypeOf","likeArray","compact","flatten","dasherize","classRE","maybeAddPx","defaultDisplay","nodeName","getComputedStyle","getPropertyValue","parentNode","childNodes","node","Z","dom","deep","funcArg","arg","idx","payload","setAttribute","removeAttribute","klass","svg","baseVal","deserializeValue","parseJSON","traverseNode","fun","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","temp","qsa","chr","fragment","properties","container","$1","isZ","init","trim","ready","maybeID","maybeClass","nameOnly","isSimple","getElementById","getElementsByClassName","querySelectorAll","documentElement","isEmptyObject","isNumeric","num","Number","isNaN","isFinite","inArray","elem","camelCase","uuid","expr","elements","grep","reduce","sort","splice","toArray","addEventListener","size","not","add","is","excludes","has","last","$this","some","parents","ancestors","pluck","contents","contentDocument","siblings","child","property","replaceWith","newContent","before","structure","func","wrapAll","cloneNode","wrapInner","unwrap","toggle","setting","prev","next","originHtml","newText","textContent","attribute","removeProp","attrName","multiple","selected","offset","coordinates","coords","parentOffset","offsetParent","props","pageXOffset","pageYOffset","round","computedStyle","removeProperty","cssText","cls","toggleClass","when","hasScrollTop","scrollTo","scrollX","scrollLeft","hasScrollLeft","scrollY","parseFloat","dimension","dimensionProperty","m","operator","operatorIndex","inside","argType","copyByClone","nextSibling","firstChild","parentInDocument","insertBefore","ownerDocument","defaultView","_zid","isString","handlers","specialEvents","focusinSupported","hover","mouseenter","mouseleave","zid","findHandlers","ns","matcher","matcherFor","handler","sel","parts","eventCapture","captureSetting","del","realEvent","events","delegator","capture","related","compatible","isImmediatePropagationStopped","dataPropDescriptor","getOwnPropertyDescriptor","writable","_args","removeEventListener","click","mousedown","mouseup","mousemove","proxyFn","unbind","one","returnTrue","returnFalse","ignoreProperties","eventMethods","predicate","sourceMethod","timeStamp","defaultPrevented","returnValue","getPreventDefault","createProxy","originalEvent","delegate","undelegate","live","die","autoRemove","evt","liveFired","dispatchEvent","triggerHandler","createEvent","bubbles","initEvent","dataAttr","exp","expando","getData","setData","camelName","attributeData","attributes","hasData","names","methodName","origFn","factory","docsearch","require","bodymovin","animation","lottie","loadAnimation","animType","loop","path","load","r","storage","DEBUG","log","Function","formatArgs","useColors","humanize","diff","c","color","lastC","save","namespaces","WebkitAppearance","firebug","exception","chrome","local","localstorage","colors","formatters","v","enable","prevTime","createDebug","enabled","curr","coerce","format","formatter","logFn","hash","abs","selectColor","disable","skips","substr","_main","_main2","__esModule","default","defineProperty","_extends","assign","_createClass","defineProperties","descriptor","enumerable","configurable","Constructor","protoProps","staticProps","_hogan2","_interopRequireDefault","_lite2","_autocomplete2","_templates2","_utils2","_version2","_zepto2","DocSearch","_ref","inputSelector","_ref$appId","appId","_ref$debug","_ref$algoliaOptions","algoliaOptions","_ref$queryDataCallbac","queryDataCallback","_ref$autocompleteOpti","autocompleteOptions","_ref$transformData","transformData","_ref$queryHook","queryHook","_ref$handleSelected","handleSelected","_ref$enhancedSearchIn","enhancedSearchInput","_ref$layout","layout","instance","_classCallCheck","checkArguments","getInputFromSelector","autocompleteOptionsDebug","inputAriaLabel","isSimpleLayout","injectSearchBox","getAutocompleteSource","getSuggestionTemplate","getEmptyTemplate","customHandleSelected","handleShown","bindSearchBoxEvent","_this","results","formatHits","datasetNumber","location","middleOfInput","middleOfWindow","alignClass","otherAlignClass","autocompleteWrapper","searchBox","newInput","searchbox","querySelector","reset","receivedHits","deepClone","_highlightResult","mergeKeyWithParent","groupedHits","groupBy","level","groupedHitsByLvl1","flattenedHits","flattenAndFlagFirst","formatURL","category","getHighlightedValue","subcategory","displayTitle","getSnippetedValue","isTextOrSubcategoryNonEmpty","isLvl2","isLvl1","isLvl0","isLvl1EmptyOrDuplicate","isCategoryHeader","isSubCategoryHeader","title","anchor","compile","render","stringTemplate","suggestionSimple","template","_toFactory2","_DocSearch2","suggestionPrefix","footerPrefix","_typeof","Symbol","iterator","_zepto","utils","newObject","newCollection","subvalue","flag","hierarchy_camel","matchLevel","_snippetResult","snippet","objectOrFunction","x","vertxNext","customSchedulerFn","asap","queue","flush","scheduleFlush","setScheduler","scheduleFn","setAsap","asapFn","browserWindow","browserGlobal","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","isNode","isWorker","Uint8ClampedArray","importScripts","MessageChannel","useNextTick","nextTick","useVertxTimer","useSetTimeout","useMutationObserver","iterations","observer","observe","characterData","useMessageChannel","channel","port1","onmessage","port2","postMessage","globalSetTimeout","attemptVertx","vertx","runOnLoop","runOnContext","onFulfillment","onRejection","PROMISE_ID","makePromise","_state","invokeCallback","_result","subscribe","resolve$1","promise","substring","PENDING","FULFILLED","REJECTED","selfFulfillment","cannotReturnOwn","tryThen","then$$1","fulfillmentHandler","rejectionHandler","handleForeignThenable","thenable","sealed","fulfill","reason","_label","handleOwnThenable","handleMaybeThenable","maybeThenable","publishRejection","_onerror","publish","_subscribers","subscribers","settled","detail","hasCallback","succeeded","initializePromise","resolver","nextId","validationError","Enumerator","_instanceConstructor","_remaining","_enumerate","_eachEntry","entry","resolve$$1","_then","didError","_settledAt","Promise$1","_willSettleAt","enumerator","entries","race","reject$1","needsResolver","needsNew","finally","polyfill","P","promiseToString","cast","_setScheduler","_setAsap","_asap","hasOwn","ctx","l","k","win","Hogan","rIsWhitespace","rQuot","rNewline","rCr","rSlash","rLineSep","rParagraphSep","cleanTripleStache","token","n","tagChange","tag","charAt","scan","delimiters","tagType","buf","tokens","seenTag","lineStart","otag","ctag","addBuf","filterLine","haveSeenTag","noNewLine","isAllWhitespace","lineIsWhitespace","indent","changeDelimiters","closeIndex","allowedInSuper","buildTree","kind","customTags","tail","instructions","opener","isOpener","pop","isCloser","end","stringifyPartials","codeObj","partials","esc","items","stringifySubstitutions","subs","wrapMain","code","serialNo","chooseMethod","createPartial","sym","tripleStache","generate","tree","walk","asString","makeTemplate","Template","makePartials","codegen","inPartial","nodelist","sectionTags","cacheKey","disableLambda","modelGet","findInScope","scope","doModelGet","compiler","coerceToString","hChars","rAmp","rLt","rGt","rApos","t","ri","ep","symbol","partial","base","stackText","activeSub","stackSubs","stackPartials","PartialTemplate","Substitutions","subsText","createSpecializedPartial","rp","rs","section","inverted","start","pass","d","returnFound","f","cx","mv","ls","oldTags","ct","fl","textSource","sub","draining","currentQueue","scheduleDrain","queueIndex","scheduled","cleanUpNextTick","run","install","Item","task","setImmediate","Mutation","handle","called","queueMicrotask","scriptEl","create","ctor","superCtor","super_","TempCtor","svgNS","locationHref","_useWebWorker","initialDefaultFrame","setWebWorker","getWebWorker","setLocationHref","getLocationHref","createTag","extendPrototype","sourcePrototype","getDescriptor","createProxyFunction","ProxyFunction","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","pause","resume","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","createTypedArray","createRegularArray","Float32Array","Int16Array","createSizedArray","_typeof$6","subframeEnabled","expressionsPlugin","idPrefix","isSafari","_shouldRoundValues","bmPow","pow","bmSqrt","sqrt","bmFloor","bmMax","bmMin","min","BMMath","ProjectInterface$1","propertyNames","absArr","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","bmRnd","styleDiv","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","h","p","q","RGBtoHSV","addSaturationToRGB","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","setSubframeEnabled","getSubframeEnabled","setExpressionsPlugin","getExpressionsPlugin","setDefaultCurveSegments","getDefaultCurveSegments","setIdPrefix","getIdPrefix","createNS","createElementNS","_typeof$5","dataManager","workerFn","workerInstance","_counterId","processes","workerProxy","_workerSelf","setupWorker","Worker","Blob","blob","URL","createObjectURL","createWorker","completeLayers","layers","comps","layerData","jLen","kLen","completed","tt","td","hasMask","maskProps","masksProperties","pt","convertPathsToAbsoluteValues","ty","findCompLayers","refId","completeShapes","shapes","completeText","comp","findComp","__used","ks","it","checkVersion","minimum","animVersionString","animVersion","minimumVersion","checkText","iterateLayers","textLayer","documentData","animationData","assets","checkChars","chars","charData","ip","op","st","sr","sk","sa","checkPathProperties","pathData","checkColors","iterateShapes","checkShapes","completeClosingShapes","closed","cl","moduleOb","__complete","completeChars","dataFunctionManager","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","response","fullPath","errorCallback","completeData","onComplete","onError","createProcess","processId","origin","pathname","loadData","completeAnimation","anim","ImagePreloader","proxyImage","canvas","getContext","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","img","intervalId","setInterval","getBBox","_imageLoaded","clearInterval","createFootageData","ob","footageData","_footageLoaded","ImagePreloaderFactory","images","loadAssets","_createImageData","setAssetsPath","setPath","loadedImages","loadedFootages","getAsset","createImgData","crossOrigin","createImageData","setAttributeNS","_elementHelper","setCacheType","elementHelper","BaseEvent","triggerEvent","eventName","_cbs","markerParser","parsePayloadLines","line","lines","keysCount","_markers","markers","_marker","markerData","time","tm","dr","cm","__","ProjectInterface","registerComposition","compositions","_thisProjectFunction","nm","prepareFrame","xt","currentFrame","compInterface","renderers","registerRenderer","getRenderer","_typeof$4","AnimationItem","isLoaded","currentRawFrame","frameRate","frameMult","playSpeed","playDirection","playCount","isPaused","autoplay","renderer","animationID","timeCompleted","segmentPos","isSubframeEnabled","segments","_idle","_completedLoop","projectInterface","imagePreloader","audioController","configAnimation","onSetupError","onSegmentComplete","setParams","RendererClass","rendererSettings","globalData","defs","setProjectInterface","autoloadSegments","initialSegment","setupAnimation","lastIndexOf","fileName","wrapperAttributes","getNamedItem","prerender","includeLayers","newLayers","fonts","fontManager","addChars","addFonts","initExpressions","loadNextSegment","segment","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","animData","fr","searchExtraCompositions","updaFrameModifier","waitForFontsLoaded","triggerConfigError","rendererType","initItems","gotoFrame","updateContainerSize","setSubframe","renderFrame","triggerRenderFrameError","togglePause","stop","setCurrentRawFrameValue","getMarkerData","markerName","marker","goToAndStop","isFrame","numValue","frameModifier","goToAndPlay","playSegments","advanceTime","nextValue","_isComplete","checkSegments","adjustSegment","setSpeed","setDirection","setSegment","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","getPath","getAssetData","getDuration","animationManager","registeredAnimations","initTime","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","subtractPlayingCount","registerAnimation","addPlayingCount","activate","nowTime","elapsedTime","requestAnimationFrame","searchAnimations","standalone","animElements","lenAnims","innerText","freeze","unfreeze","getRegisteredAnimations","animations","BezierFactory","beziers","bezEasing","BezierEasing","kSampleStepSize","float32ArraySupported","A","aA1","aA2","B","C","calcBezier","aT","getSlope","points","_p","_mSampleValues","_precomputed","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","pooling","poolFactory","initialLength","_create","_release","_length","_maxLength","pool","newElement","release","bezierLengthPool","addedLength","percents","lengths","segmentsLengthPool","totalLength","bezFunction","math","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt1","pt2","pt3","pt4","ptCoord","perc","ptDistance","curveSegments","point","lastPoint","lengthData","BezierData","segmentLength","PointData","partialLength","storedData","buildBezierData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","bezierSegmentPoints","getSegmentsLength","shapeData","segmentsLength","pathV","pathO","pathI","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","bez","PropertyFactory","initFrame","mathAbs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","keyframeMetadata","fnc","iterationIndex","lastIndex","keyframes","keyframesMetadata","endValue","quat","qx","qy","qz","qw","heading","attitude","bank","nextKeyTime","keyTime","to","ti","ind","__fnct","getBezierEasing","y","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quatStart","createQuaternion","quatEnd","omega","cosom","sinom","scale0","scale1","ax","ay","az","aw","bx","by","bz","bw","acos","sin","slerp","atan2","asin","c1","cos","c2","c3","s1","s2","s3","getValueAtCurrentTime","renderedFrame","_caching","renderResult","setVValue","multipliedValue","mult","_mdf","processEffectsSequence","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","addDynamicProperty","ValueProperty","vel","getValue","MultiDimensionalProperty","KeyframedValueProperty","KeyframedMultidimensionalProperty","arrLen","getProp","DynamicPropertyContainer","dynamicProperties","_isAnimated","iterateDynamicProperties","initDynamicPropertyContainer","pointPool","ShapePath","setPathData","setLength","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","newPath","vertices","outPoints","inPoints","cnt","shapePool","shapePath","shape","cloned","ShapeCollection","addShape","releaseShapes","shapeCollectionPool","newShapeCollection","shapeCollection","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","paths","localShapeCollection","shape1","shape2","shapesEqual","ShapeProperty","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","p0","p1","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","sy","ir","convertToPath","convertStarToPath","convertPolygonToPath","or","os","rad","roundness","perimSegment","numPts","angle","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","v1","Matrix","_cos","_sin","_tan","tan","_rnd","rotate","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","skew","skewFromAxis","scale","sz","setTransform","translate","tx","tz","transform","a2","b2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_identityCalculated","a1","b1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","_typeof$3","queryString","setLocation","href","setSubframeRendering","setPrefix","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","pair","decodeURIComponent","useWebWorker","setIDPrefix","__getFactory","scripts","myScript","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","PuckerAndBloatModifier","initModifierProperties","addShapeToModifier","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","addPaths","newPaths","addSegment","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","amount","processPath","centerPoint","pathLength","clonedPath","TransformPropertyFactory","defaultVector","TransformProperty","appliedTransformations","px","py","pz","rx","ry","rz","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","autoOriented","v2","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","RepeaterModifier","RoundCornersModifier","getFontProperties","fontData","styles","fStyle","fWeight","weight","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","resetElements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","itemsTransform","cont","hasReloaded","copies","ceil","group","ix","reloadShapes","elems","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","rd","currentV","currentI","currentO","closerV","distance","newPosPerc","FontManager","emptyChar","w","combinedCharacters","surrogateModifiers","zeroWidthJoiner","setUpNode","font","family","offsetWidth","familyArray","enabledFamilies","trimFontOptions","createHelper","def","tHelper","fontProps","fFamily","fClass","Font","typekitLoaded","_warned","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","isCombinedCharacter","_char3","fontPrototype","ch","list","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","rel","sc","helper","getCharData","_char","getFontByName","fName","measureText","_char2","fontName","doubleSize","getComputedTextLength","singleSize","loadedCount","RenderableElement","initRenderable","isInRange","hidden","isTransparent","renderableComponents","addRenderableComponent","component","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","finalTransform","mProp","renderConfig","hideOnTransparent","renderRenderable","sourceRectAtTime","getLayerSize","textData","MaskManagerInterface","MaskInterface","mask","_mask","_data","maskManager","_masksInterfaces","viewData","ExpressionPropertyInterface","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","getVelocityAtTime","numKeys","valueProp","valueAtTime","speedAtTime","getSpeedAtTime","velocityAtTime","propertyGroup","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","TransformExpressionInterface","_thisFunction","rotation","xRotation","yRotation","xPosition","yPosition","zPosition","anchorPoint","_px","_py","_pz","_transformFactory","LayerExpressionInterface","getMatrix","toWorldMat","_elem","toWorldVec","applyPoint","toWorld","fromWorldVec","invertPoint","fromWorld","hierarchy","fromComp","sampleImage","transformInterface","_thisLayerFunction","shapeInterface","effect","textInterface","toComp","anchorPointDescriptor","hasParent","layerInterface","anchor_point","inPoint","outPoint","_name","registerMaskInterface","registerEffectsInterface","effects","propertyGroupFactory","interfaceFunction","parentPropertyGroup","PropertyInterface","propertyName","EffectsExpressionInterface","createGroupInterface","groupInterface","ef","mn","effectElements","_propertyGroup","createValueInterface","numProperties","np","en","expressionProperty","setGroupProperty","createEffectsInterface","effectsManager","effectsData","CompExpressionInterface","layer","pixelAspect","compSize","frameDuration","displayStartTime","numLayers","ShapePathInterface","view","propertyIndex","ShapeExpressionInterface","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","interfaces","transformInterfaceFactory","cix","contentsInterfaceFactory","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dataProps","strokeWidth","dash","skewAxis","outerRadius","outerRoundness","innerRoundness","innerRadius","radius","_interfaceFunction","TextExpressionInterface","_prevValue","_sourceText","sourceText","textProperty","stringValue","getBlendMode","blendModeEnums","mode","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","EffectsManager","effectItem","GroupEffect","BaseElement","FrameElement","_typeof$2","eff","checkMasks","effectsInterface","shapesData","itemsData","setBlendMode","blendModeValue","bm","baseElement","layerElement","initBaseData","layerId","getType","prepareProperties","_isParent","FootageInterface","dataInterfaceFactory","outlineInterface","currentPropertyName","currentProperty","getFootageData","searchProperty","propertyNameIndex","outlineInterfaceFactory","dataInterface","FootageElement","imageLoader","AudioElement","_isPlaying","_canPlay","_currentTime","_placeholder","BaseRenderer","TransformElement","MaskElement","maskElement","solidPath","rect","expansor","feMorph","currentMasks","maskType","maskRef","getShapeProp","lastPath","filterID","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","getBaseElement","timeRemapped","volumeValue","checkLayers","buildItem","checkPendingElements","createItem","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","buildAllItems","pInterface","progressiveLoad","buildElementParenting","parentName","setAsParent","setHierarchy","addPendingElement","pendingElements","setupGlobalData","fontsContainer","animationItem","initTransform","_matMdf","_opMdf","ao","renderTransform","finalMat","globalToLocal","transforms","ptNew","mHelper","getMaskProperty","isFirstFrame","getMaskelement","pathNodes","pathString","pathShapeValue","filtersFactory","filId","skipCoordinates","fil","feColorMatrix","featureSupport","SVGTintFilter","filterManager","matrixFilter","feMergeNode","feMerge","SVGFillFilter","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","filterSize","feGaussianBlur","feOffset","feFlood","feComposite","originalNodeAdded","colorBlack","colorWhite","initialize","groupPath","elemChildren","masker","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","feFunc","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","matteElement","transformedElement","SVGGaussianBlurEffect","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","hd","setMatte","sigma","dimensions","sigmaX","sigmaY","edgeMode","registeredEffects","SVGEffects","createFilter","filters","Effect","countsAsEffect","registerEffect","SVGBaseElement","HierarchyElement","RenderableDOMElement","IImageElement","initElement","sourceRect","ProcessedElement","IShapeElement","initRendererElement","createContainerElements","_sizeChanged","gg","layerElementParent","createAlphaToLuminanceFilter","maskGroup","maskGrouper","feCTr","alphaRect","ln","cp","clipId","cpGroup","renderElement","destroyBaseElement","createRenderableComponents","renderableEffectsManager","initHierarchy","checkParenting","createContent","renderInnerContent","innerElem","pr","imagePreserveAspectRatio","addShapeToModifiers","shapeModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","processedElements","addProcessedElement","lineCapEnum","lineJoinEnum","SVGShapeData","transformers","caches","lStr","lvl","SVGStyleData","pElem","msElem","DashProperty","dashStr","dashArray","dashoffset","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGNoStyleData","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","SVGTransformData","comparePoints","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","maskId","opFill","lc","lj","ml","of","ost","buildShapeString","_o","_i","shapeString","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderNoop","renderPath","pathStringTransformed","redraw","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","dist","createRenderFunction","SVGShapeElement","stylesList","animatedContents","LetterProps","sw","fc","TextProperty","_frameId","keysIndex","canResize","minimumFontSize","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","completeTextData","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","textKeys","buildFinalText","charCode","charactersArray","shouldCombine","newLineFlag","letters","anchorGrouping","currentSize","currentPos","currentLine","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","an","anIndexes","animatorJustifyOffset","extra","animatorData","letterData","based","animators","indexes","fh","fs","fb","rn","totalChars","newInd","currentInd","updateDocumentData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorProp","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","sm","getMult","easer","tot","smoothness","threshold","newCharsFlag","divisor","getTextSelectorProp","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","TextAnimatorProperty","renderType","_hasMaskedPath","_textData","_renderType","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","ITextElement","searchProperties","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","matrixHelper","renderedLettersCount","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","letterM","letterP","defaultPropsArray","animatorFirstCharOffset","justifyOffsetMult","isNewLine","animatorOffset","rot","atan","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","emptyShapeData","SVGTextLottieElement","textSpans","ISolidElement","NullElement","SVGRendererBase","ICompElement","SVGCompElement","supports3d","SVGRenderer","config","svgElement","titleElement","titleId","description","descElement","descId","preserveAspectRatio","contentVisibility","viewBoxOnly","viewBoxSize","focusable","destroyed","CVContextData","saved","cArrPos","cTr","cO","savedOp","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVEffects","CVMaskElement","hasMasks","CVBaseElement","CVShapeData","transformsManager","styledShapes","styledShape","addTransformSequence","trNodes","CVShapeElement","CVTextElement","stroke","fill","currentRender","sWidth","fValue","CVImageElement","CVSolidElement","CanvasRendererBase","clearCanvas","dpr","devicePixelRatio","currentGlobalAlpha","contextData","transformMat","CVCompElement","CanvasRenderer","HBaseElement","HSolidElement","HShapeElement","shapesContainer","currentBBox","HTextElement","textPaths","isMasked","HCameraElement","pe","_prevMat","HImageElement","HybridRendererBase","threeDElements","camera","HCompElement","HybridRenderer","singleShape","textContainer","buildTextContents","textArray","textContents","currentTextContent","fromCharCode","tSpan","usesGlyphs","cachedSpansLength","span","childSpan","glyph","glyphElement","_debug","tElement","justify","textBox","bbox","renderedLetter","textSpan","appendElementInPos","nextElement","setElements","getElements","destroyElements","duplicate","newLength","currentSavedOp","sequence","processSequence","processSequences","getNewKey","canvasContext","beginPath","moveTo","lineTo","bezierCurveTo","clip","createElements","blendMode","globalCompositeOperation","hideElement","showElement","forceRealStack","ctxTransform","ctxOpacity","restore","transformHelper","dashResetter","preTransforms","co","wi","da","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","closePath","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","commandsCounter","lastFill","lastStroke","lastStrokeW","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","par","drawImage","cProps","trProps","globalAlpha","actionFlag","popped","containerStyle","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","elementRel","animationRel","offsetHeight","fillType","clearRect","checkBlendMode","tg","transformedElementStyle","matrixValue","webkitTransform","addEffects","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","bounds","shapeBoundingBox","xMax","yMax","tempBoundingBox","p3","b2ac","t2","calculateF","calculateBoundingBox","currentBoxContains","box","changed","shapeStyle","shapeTransform","compW","compH","innerElemStyle","textColor","lineHeight","tParent","tCont","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","translation","textPath","margin","svgTransform","setup","perspectiveStyle","perspectiveElem","perspective","webkitPerspective","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","Image","imageElem","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","startPos","endPos","createThreeDContainer","center","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","overflow","cWidth","cHeight","floatingContainer","_createBaseContainerElements","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","_typeof$1","seedRandom","startdenom","significance","ARC4","keylen","me","S","copy","depth","typ","mixkey","seed","smear","stringseed","tostring","shortseed","entropy","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","autoseed","arc4","prng","int32","quick","is_math_call","initialize$2","propTypes","SHAPE","ExpressionManager","fetch","frames","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","needsVelocity","_needsRandom","elemType","$bm_transform","thisProperty","loopIn","loop_in","loopOut","loop_out","smooth","fromCompToSurface","thisLayer","thisComp","scoped_bm_rt","expression_function","eval","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","val1","val2","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","fps","timeToFrames","seedrandom","randSeed","posterizeTime","framesPerSecond","executeExpression","_value","frameExpressionId","__preventDeadCodeRemoval","expressionHelpers","searchExpressions","speed","delta","_cachingAtTime","getStaticValueAtTime","addPropertyDecorator","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","lastTime","propertyGetShapeProp","trims","initialize$1","addDecorator","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","plural","long","fmtShort","keysShim","isArgs","isEnumerable","propertyIsEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","isArguments","theKeys","skipProto","skipConstructor","equalsConstructorPrototypeIfNotBuggy","origKeys","originalKeys","shim","keysWorksWithArguments","callee","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","drainQueue","runClearTimeout","argv","versions","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","qs","sep","regexp","maxKeys","kstr","vstr","xs","stringifyPrimitive","objectKeys","res","decode","_bind","Class","Factory","_len","_key","__proto__","__webpack_module_cache__","deferred","__webpack_require__","moduleId","cachedModule","__webpack_modules__","amdO","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","globalThis","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}